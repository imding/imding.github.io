12##STEP_1####INST_1##Introduction%0A%0AIn%20this%20extension%20project%20to%20the%202D%20mini%20game,%20we%20will%20be%20adding%20two%20more%20game-play%20mechanics%20to%20the%20game:%20platform%20and%20double-jump.%0A%0ABefore%20we%20begin,%20try%20out%20the%20game%20with%20the%20new%20features.%0A%0A(***)%0A%0A(!)Play%20the%20game%20and%20reach%20the%20finish%20sign%20with%20all%207%20coins%20collected.##INST_1E####CODE_1####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch1%20id=%22scoreboard%22%3EScore:%20%3Cspan%20id=%22score%22%3E0%3C/span%3E/%3Cspan%20id=%22totalCoins%22%3E?%3C/span%3E%3C/h1%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22scene%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22terrainContainer%22%3E%3C/div%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22player%22%20class=%22jump%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#game%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%20768px;%0D%0A%7D%0D%0A%0D%0A#scoreboard%20%7B%0D%0A%20%20%20%20margin-top:%200;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%7D%0D%0A%0D%0A#scene%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20768px;%0D%0A%20%20%20%20height:%20600px;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/game_bg.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#player%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20top:%20-100%25;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%7D%0D%0A%0D%0A.run%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_run.gif%22);%0D%0A%7D%0D%0A%0D%0A.jump%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_jump.png%22);%0D%0A%7D%0D%0A%0D%0A.crash%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_crash.png%22);%0D%0A%7D%0D%0A%0D%0A#terrainContainer%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20height:%20100%25;%0D%0A%7D%0D%0A%0D%0A.block%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/floor.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.top%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/top_floor.png%22);%0D%0A%7D%0D%0A%0D%0A.platform%20%7B%0D%0A%20%20%20%20height:%2032px;%0D%0A%7D%0D%0A%0D%0A.coin%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/spin_coin.gif%22);%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20width:%2030px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#finishSign%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/finishSign.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.collected%20%7B%0D%0A%20%20%20%20display:%20none;%0D%0A%7D##CSS_E####JS##var%20maxFPS%20=%2030;%0D%0Avar%20timePrevFrame%20=%20Date.now();%0D%0A%0D%0Avar%20gravity%20=%202;%0D%0Avar%20jumpPower%20=%2024;%0D%0Avar%20pixelPerFrame%20=%200;%0D%0Avar%20maxPixelPerFrame%20=%2012;%0D%0A%0D%0Avar%20score%20=%20document.querySelector(%22#score%22);%0D%0A%0D%0Avar%20player%20=%20document.querySelector(%22#player%22);%0D%0Avar%20playerStartTop%20=%20300;%0D%0Avar%20playerTop%20=%20playerStartTop;%0D%0Avar%20playerLeft%20=%20200;%0D%0Avar%20playerWidth%20=%2035;%0D%0Avar%20playerHeight%20=%2064;%0D%0Avar%20playerInAir%20=%20true;%0D%0Avar%20playerActive%20=%20true;%0D%0Avar%20secondJump%20=%20false;%0D%0A%0D%0Avar%20terrainContainer%20=%20document.querySelector(%22#terrainContainer%22);%0D%0Avar%20blockSize%20=%2064;%0D%0Avar%20terrainLeft%20=%200;%0D%0Avar%20terrainScroll%20=%203;%0D%0Avar%20terrain%20=%20%20%5B2,%201,%200,%200,%200,%200,%200,%201,%203,%203,%206,%205,%203,%202,%202,%202,%204,%204%5D;%0D%0Avar%20platform%20=%20%5B0,%200,%200,%205,%203,%203%5D;%0D%0Avar%20coins%20=%20%20%20%20%5B0,%200,%200,%205,%206,%205,%202,%202,%200,%203,%200,%200,%200,%208%5D;%0D%0A%0D%0Aplayer.style.left%20=%20playerLeft%20+%20%22px%22;%0D%0AgenerateTerrain();%0D%0AgameLoop();%0D%0A%0D%0Awindow.onkeydown%20=%20function()%20%7B%0D%0A%20%20%20%20if%20(event.code%20===%20%22Space%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(playerInAir%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20pixelPerFrame%20-=%20jumpPower;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(secondJump%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20secondJump%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20pixelPerFrame%20=%20-jumpPower;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D;%0D%0A%0D%0Afunction%20gameLoop()%20%7B%0D%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0D%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(elapsed%20%3E%20(1000%20/%20maxFPS))%20%7B%0D%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%20(1000%20/%20maxFPS));%0D%0A%20%20%20%20%20%20%20%20requestAnimationFrame(actionPerFrame);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20requestAnimationFrame(gameLoop);%0D%0A%7D%0D%0A%0D%0Afunction%20actionPerFrame()%20%7B%0D%0A%20%20%20%20animateFreefall();%0D%0A%0D%0A%20%20%20%20if%20(playerActive)%20%7B%0D%0A%20%20%20%20%20%20%20%20animateTerrain();%0D%0A%20%20%20%20%20%20%20%20detectCoinCollision();%0D%0A%20%20%20%20%20%20%20%20detectGroundCollision();%0D%0A%20%20%20%20%20%20%20%20detectFinishSign();%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20detectOutOfFrame();%0D%0A%7D%0D%0A%0D%0Afunction%20animateFreefall()%20%7B%0D%0A%20%20%20%20if%20(playerInAir%20===%20true%20&&%20pixelPerFrame%20%3C%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20pixelPerFrame%20+=%20gravity;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20playerTop%20+=%20pixelPerFrame;%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectGroundCollision()%20%7B%0D%0A%20%20%20%20var%20noCollision%20=%20true;%0D%0A%20%20%20%20var%20blocks%20=%20document.querySelectorAll(%22.block%22);%0D%0A%0D%0A%20%20%20%20blocks.forEach(block%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20blockLeft%20=%20block.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20var%20blockNearPlayer%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20blockLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20blockLeft%20+%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(blockNearPlayer%20===%20true%20&&%20playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20blockTop%20=%20block.offsetTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20topCollision%20=%20playerTop%20+%20playerHeight%20%3E=%20blockTop;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(topCollision%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20adjustTop%20=%20blockTop%20-%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(playerTop%20-%20adjustTop%20%3E%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(block.classList.contains(%22platform%22)%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(pixelPerFrame%20%3E=%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20=%20adjustTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20player.className%20=%20%22run%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20noCollision%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20secondJump%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20noCollision;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectCoinCollision()%20%7B%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(coin.className%20===%20%22coin%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20coinLeft%20=%20coin.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20collected%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20coinLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20coinLeft%20+%20coin.offsetWidth%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20+%20playerHeight%20%3E%20coin.offsetTop%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20%3C%20coin.offsetTop%20+%20coin.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(collected)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20currentScore%20=%20parseInt(score.textContent);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20score.textContent%20=%20currentScore%20+%201;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20coin.classList.add(%22collected%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20detectFinishSign()%20%7B%0D%0A%20%20%20%20var%20signLeft%20=%20finishSign.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20var%20finished%20=%20playerInAir%20===%20false%20&&%20playerLeft%20%3E=%20signLeft;%0D%0A%0D%0A%20%20%20%20if%20(finished)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerActive%20=%20false;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(confirm(%22You%20finished%20this%20level,%20play%20again?%22))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20detectOutOfFrame()%20%7B%0D%0A%20%20%20%20var%20sceneHeight%20=%20document.querySelector(%22#scene%22).offsetHeight;%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20&&%20playerTop%20+%20playerHeight%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(playerTop%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playerCrash()%20%7B%0D%0A%20%20%20%20pixelPerFrame%20=%20-maxPixelPerFrame;%0D%0A%20%20%20%20player.className%20=%20%22crash%22;%0D%0A%20%20%20%20playerActive%20=%20false;%0D%0A%7D%0D%0A%0D%0Afunction%20generateTerrain()%20%7B%0D%0A%20%20%20%20terrain.forEach((column,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20newBlocks%20=%20new%20Array(column).fill();%0D%0A%20%20%20%20%20%20%20%20var%20columnLeft%20=%20nthColumn%20*%20blockSize%20+%20playerLeft;%0D%0A%20%20%20%20%20%20%20%20var%20finalColumn%20=%20nthColumn%20===%20terrain.length%20-%201;%0D%0A%0D%0A%20%20%20%20%20%20%20%20newBlocks.forEach((newBlock,%20nthBlock)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newBlock);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.left%20=%20columnLeft%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.bottom%20=%20(column%20-%20nthBlock%20-%201)%20*%20blockSize%20+%20%22px%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthBlock%20===%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%20top%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(finalColumn%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20finishSign%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.id%20=%20%22finishSign%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(finishSign);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.left%20=%20newBlock.style.left;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.bottom%20=%20parseFloat(newBlock.style.bottom)%20+%20blockSize%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(platform%5BnthColumn%5D%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newPlatform%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.className%20=%20%22block%20top%20platform%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newPlatform);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.style.left%20=%20columnLeft%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.style.bottom%20=%20platform%5BnthColumn%5D%20*%20blockSize%20-%2032%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(coins%5BnthColumn%5D%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newCoin%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.className%20=%20%22coin%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newCoin);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20widthDiff%20=%20(blockSize%20-%20newCoin.offsetWidth)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20heightDiff%20=%20(blockSize%20-%20newCoin.offsetHeight)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20floatHeight%20=%20coins%5BnthColumn%5D%20*%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.left%20=%20columnLeft%20+%20widthDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.bottom%20=%20floatHeight%20+%20heightDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20coins%20=%20document.querySelectorAll(%22.coin%22);%0D%0A%20%20%20%20totalCoins.textContent%20=%20coins.length;%0D%0A%7D%0D%0A%0D%0Afunction%20animateTerrain()%20%7B%0D%0A%20%20%20%20terrainLeft%20-=%20terrainScroll;%0D%0A%20%20%20%20terrainContainer.style.left%20=%20terrainLeft%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20resetGame()%20%7B%0D%0A%20%20%20%20playerTop%20=%20playerStartTop;%0D%0A%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20playerActive%20=%20true;%0D%0A%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20terrainLeft%20=%200;%0D%0A%0D%0A%20%20%20%20score.textContent%20=%200;%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20coin.classList.remove(%22collected%22);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Awindow.onload%20=%20window.onresize%20=%20resizeGame;%0D%0A%0D%0Afunction%20resizeGame()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%20%20%20%20%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.transform%20=%20%60scale($%7BgameRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20game.offsetWidth%20:%20window.innerHeight%20/%20game.offsetHeight%7D)%60;%0D%0A%7D%0D%0A##JS_E####CODE_1E####LOGIC_1####HTML####HTML_E####CSS####CSS_E####JS##pass.on('detectFinishSign').var('finished%20&&%20score.textContent%20==%20%227%22');##JS_E####LOGIC_1E####STEP_1E####STEP_2####INST_2##Platform%20array%0A%0AWhy%20do%20it?%0A%0AHow%20to%20do%20it?%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#array%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20coins#-1,%20create%20a%20variable%20called%20*platform*%20to%20store%20the%20array%20%60%5B0,%200,%200,%205,%203,%203%5D%60.%0A%0A(!)On%20+js#var%20newCoin#-3,%20create%20an%20%60if%60%20statement%20to%20check%20whether%20each%20item%20in%20the%20*platform*%20array%20is%20greater%20than%20*0*.%0A(*)*Tip*:%20use%20%60nthColumn%60%20index.##INST_2E####CODE_2####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Ch1%20id=%22scoreboard%22%3EScore:%20%3Cspan%20id=%22score%22%3E0%3C/span%3E/%3Cspan%20id=%22totalCoins%22%3E?%3C/span%3E%3C/h1%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cdiv%20id=%22scene%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22terrainContainer%22%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22player%22%20class=%22jump%22%3E%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#scoreboard%20%7B%0D%0A%20%20%20%20text-align:%20center;%0D%0A%7D%0D%0A%0D%0A#scene%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20768px;%0D%0A%20%20%20%20height:%20600px;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/game_bg.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#player%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20top:%20-100px;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%7D%0D%0A%0D%0A.run%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_run.gif%22);%0D%0A%7D%0D%0A%0D%0A.jump%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_jump.png%22);%0D%0A%7D%0D%0A%0D%0A.crash%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_crash.png%22);%0D%0A%7D%0D%0A%0D%0A#terrainContainer%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20height:%20100%25;%0D%0A%7D%0D%0A%0D%0A.block%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/floor.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.top%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/top_floor.png%22);%0D%0A%7D%0D%0A%0D%0A.coin%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/spin_coin.gif%22);%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20width:%2030px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#finishSign%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/finishSign.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.collected%20%7B%0D%0A%20%20%20%20display:%20none;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20maxFPS%20=%2030;%0D%0Avar%20timePrevFrame%20=%20Date.now();%0D%0A%0D%0Avar%20gravity%20=%202;%0D%0Avar%20jumpPower%20=%2024;%0D%0Avar%20pixelPerFrame%20=%200;%0D%0Avar%20maxPixelPerFrame%20=%2012;%0D%0A%0D%0Avar%20score%20=%20document.querySelector(%22#score%22);%0D%0A%0D%0Avar%20player%20=%20document.querySelector(%22#player%22);%0D%0Avar%20playerStartTop%20=%20300;%0D%0Avar%20playerTop%20=%20playerStartTop;%0D%0Avar%20playerLeft%20=%20200;%0D%0Avar%20playerWidth%20=%2035;%0D%0Avar%20playerHeight%20=%2064;%0D%0Avar%20playerInAir%20=%20true;%0D%0Avar%20playerActive%20=%20true;%0D%0A%0D%0Avar%20terrainContainer%20=%20document.querySelector(%22#terrainContainer%22);%0D%0Avar%20blockSize%20=%2064;%0D%0Avar%20terrainLeft%20=%200;%0D%0Avar%20terrainScroll%20=%203;%0D%0Avar%20terrain%20=%20%20%5B2,%202,%202,%200,%200,%200,%200,%201,%203,%203,%205,%205,%203,%202,%202,%204,%204%5D;%0D%0A#BEGIN_EDITABLE#var%20platform%20=%20%5B0,%200,%200,%205,%203,%203%5D;#END_EDITABLE#%0D%0Avar%20coins%20=%20%20%20%20%5B0,%200,%200,%205,%206,%205,%202,%202,%200,%203,%200,%200,%200,%208%5D;%0D%0A%0D%0Aplayer.style.left%20=%20playerLeft%20+%20%22px%22;%0D%0AgenerateTerrain();%0D%0AgameLoop();%0D%0A%0D%0Awindow.onkeydown%20=%20function()%20%7B%0D%0A%20%20%20%20if%20(event.code%20===%20%22Space%22%20&&%20playerInAir%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20pixelPerFrame%20-=%20jumpPower;%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20%7D%0D%0A%7D;%0D%0A%0D%0Afunction%20gameLoop()%20%7B%0D%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0D%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(elapsed%20%3E%20(1000%20/%20maxFPS))%20%7B%0D%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%20(1000%20/%20maxFPS));%0D%0A%20%20%20%20%20%20%20%20requestAnimationFrame(actionPerFrame);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20requestAnimationFrame(gameLoop);%0D%0A%7D%0D%0A%0D%0Afunction%20actionPerFrame()%20%7B%0D%0A%20%20%20%20animateFreefall();%0D%0A%0D%0A%20%20%20%20if%20(playerActive)%20%7B%0D%0A%20%20%20%20%20%20%20%20animateTerrain();%0D%0A%20%20%20%20%20%20%20%20detectCoinCollision();%0D%0A%20%20%20%20%20%20%20%20detectGroundCollision();%0D%0A%20%20%20%20%20%20%20%20detectFinishSign();%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20detectOutOfFrame();%0D%0A%7D%0D%0A%0D%0Afunction%20animateFreefall()%20%7B%0D%0A%20%20%20%20if%20(playerInAir%20===%20true%20&&%20pixelPerFrame%20%3C%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20pixelPerFrame%20+=%20gravity;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20playerTop%20+=%20pixelPerFrame;%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectGroundCollision()%20%7B%0D%0A%20%20%20%20var%20noCollision%20=%20true;%0D%0A%20%20%20%20var%20blocks%20=%20document.querySelectorAll(%22.block%22);%0D%0A%0D%0A%20%20%20%20blocks.forEach(block%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20blockLeft%20=%20block.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20var%20blockNearPlayer%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20blockLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20blockLeft%20+%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(blockNearPlayer%20===%20true%20&&%20playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20blockTop%20=%20block.offsetTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20topCollision%20=%20playerTop%20+%20playerHeight%20%3E=%20blockTop;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(topCollision%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20adjustTop%20=%20blockTop%20-%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(playerTop%20-%20adjustTop%20%3E%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(block.classList.contains(%22platform%22)%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(pixelPerFrame%20%3E=%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20=%20adjustTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20player.className%20=%20%22run%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20noCollision%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20secondJump%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20noCollision;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectCoinCollision()%20%7B%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(coin.className%20===%20%22coin%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20coinLeft%20=%20coin.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20collected%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20coinLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20coinLeft%20+%20coin.offsetWidth%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20+%20playerHeight%20%3E%20coin.offsetTop%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20%3C%20coin.offsetTop%20+%20coin.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(collected)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20currentScore%20=%20parseInt(score.textContent);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20score.textContent%20=%20currentScore%20+%201;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20coin.classList.add(%22collected%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20detectFinishSign()%20%7B%0D%0A%20%20%20%20var%20signLeft%20=%20finishSign.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20var%20finished%20=%20playerInAir%20===%20false%20&&%20playerLeft%20%3E=%20signLeft;%0D%0A%0D%0A%20%20%20%20if%20(finished)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerActive%20=%20false;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(confirm(%22You%20finished%20this%20level,%20play%20again?%22))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20detectOutOfFrame()%20%7B%0D%0A%20%20%20%20var%20sceneHeight%20=%20document.querySelector(%22#scene%22).offsetHeight;%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20&&%20playerTop%20+%20playerHeight%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(playerTop%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playerCrash()%20%7B%0D%0A%20%20%20%20pixelPerFrame%20=%20-maxPixelPerFrame;%0D%0A%20%20%20%20player.className%20=%20%22crash%22;%0D%0A%20%20%20%20playerActive%20=%20false;%0D%0A%7D%0D%0A%0D%0Afunction%20generateTerrain()%20%7B%0D%0A%20%20%20%20terrain.forEach((column,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20newBlocks%20=%20new%20Array(column).fill();%0D%0A%20%20%20%20%20%20%20%20var%20columnLeft%20=%20nthColumn%20*%20blockSize%20+%20playerLeft;%0D%0A%20%20%20%20%20%20%20%20var%20finalColumn%20=%20nthColumn%20===%20terrain.length%20-%201;%0D%0A%0D%0A%20%20%20%20%20%20%20%20newBlocks.forEach((newBlock,%20nthBlock)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newBlock);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.left%20=%20columnLeft%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.bottom%20=%20(column%20-%20nthBlock%20-%201)%20*%20blockSize%20+%20%22px%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthBlock%20===%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%20top%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(finalColumn%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20finishSign%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.id%20=%20%22finishSign%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(finishSign);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.left%20=%20newBlock.style.left;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.bottom%20=%20parseFloat(newBlock.style.bottom)%20+%20blockSize%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#if%20(platform%5BnthColumn%5D%20%3E%200)%20%7B%7D#END_EDITABLE#%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(coins%5BnthColumn%5D%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newCoin%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.className%20=%20%22coin%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newCoin);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20widthDiff%20=%20(blockSize%20-%20newCoin.offsetWidth)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20heightDiff%20=%20(blockSize%20-%20newCoin.offsetHeight)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20floatHeight%20=%20coins%5BnthColumn%5D%20*%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.left%20=%20columnLeft%20+%20widthDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.bottom%20=%20floatHeight%20+%20heightDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20coins%20=%20document.querySelectorAll(%22.coin%22);%0D%0A%20%20%20%20totalCoins.textContent%20=%20coins.length;%0D%0A%7D%0D%0A%0D%0Afunction%20animateTerrain()%20%7B%0D%0A%20%20%20%20terrainLeft%20-=%20terrainScroll;%0D%0A%20%20%20%20terrainContainer.style.left%20=%20terrainLeft%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20resetGame()%20%7B%0D%0A%20%20%20%20playerTop%20=%20playerStartTop;%0D%0A%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20playerActive%20=%20true;%0D%0A%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20terrainLeft%20=%200;%0D%0A%0D%0A%20%20%20%20score.textContent%20=%200;%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20coin.classList.remove(%22collected%22);%0D%0A%20%20%20%20%7D);%0D%0A%7D##JS_E####CODE_2E####LOGIC_2####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20platform%20=%20%5B0,%200,%200,%205,%203,%203%5D;%60);%0Apass.if.js.editable(1).equivalent(%60if%20(platform%5BnthColumn%5D%20%3E%200)%20%7B%7D%60);##JS_E####LOGIC_2E####STEP_2E####STEP_3####INST_3##New%20platform%20element%0A%0AStep%20context.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#createElement%5D%0A%09(*)%5B#js#appendChild%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20newCoin#-6,%20create%20a%20variable%20called%20*newPlatform*%20to%20store%20a%20new%20%60%3Cdiv%3E%60%20element.%0A%0A(!)On%20+js#var%20newCoin#-4,%20append%20the%20*newPlatform*%20element%20to%20the%20*terrainContainer*%20element.%0A##INST_3E####CODE_3####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Ch1%20id=%22scoreboard%22%3EScore:%20%3Cspan%20id=%22score%22%3E0%3C/span%3E/%3Cspan%20id=%22totalCoins%22%3E?%3C/span%3E%3C/h1%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cdiv%20id=%22scene%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22terrainContainer%22%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22player%22%20class=%22jump%22%3E%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#scoreboard%20%7B%0D%0A%20%20%20%20text-align:%20center;%0D%0A%7D%0D%0A%0D%0A#scene%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20768px;%0D%0A%20%20%20%20height:%20600px;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/game_bg.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#player%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20top:%20-100px;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%7D%0D%0A%0D%0A.run%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_run.gif%22);%0D%0A%7D%0D%0A%0D%0A.jump%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_jump.png%22);%0D%0A%7D%0D%0A%0D%0A.crash%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_crash.png%22);%0D%0A%7D%0D%0A%0D%0A#terrainContainer%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20height:%20100%25;%0D%0A%7D%0D%0A%0D%0A.block%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/floor.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.top%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/top_floor.png%22);%0D%0A%7D%0D%0A%0D%0A.coin%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/spin_coin.gif%22);%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20width:%2030px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#finishSign%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/finishSign.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.collected%20%7B%0D%0A%20%20%20%20display:%20none;%0D%0A%7D##CSS_E####JS##var%20maxFPS%20=%2030;%0D%0Avar%20timePrevFrame%20=%20Date.now();%0D%0A%0D%0Avar%20gravity%20=%202;%0D%0Avar%20jumpPower%20=%2024;%0D%0Avar%20pixelPerFrame%20=%200;%0D%0Avar%20maxPixelPerFrame%20=%2012;%0D%0A%0D%0Avar%20score%20=%20document.querySelector(%22#score%22);%0D%0A%0D%0Avar%20player%20=%20document.querySelector(%22#player%22);%0D%0Avar%20playerStartTop%20=%20300;%0D%0Avar%20playerTop%20=%20playerStartTop;%0D%0Avar%20playerLeft%20=%20200;%0D%0Avar%20playerWidth%20=%2035;%0D%0Avar%20playerHeight%20=%2064;%0D%0Avar%20playerInAir%20=%20true;%0D%0Avar%20playerActive%20=%20true;%0D%0A%0D%0Avar%20terrainContainer%20=%20document.querySelector(%22#terrainContainer%22);%0D%0Avar%20blockSize%20=%2064;%0D%0Avar%20terrainLeft%20=%200;%0D%0Avar%20terrainScroll%20=%203;%0D%0Avar%20terrain%20=%20%20%5B2,%202,%202,%200,%200,%200,%200,%201,%203,%203,%205,%205,%203,%202,%202,%204,%204%5D;%0D%0Avar%20platform%20=%20%5B0,%200,%200,%205,%203,%203%5D;%0D%0Avar%20coins%20=%20%20%20%20%5B0,%200,%200,%205,%206,%205,%202,%202,%200,%203,%200,%200,%200,%208%5D;%0D%0A%0D%0Aplayer.style.left%20=%20playerLeft%20+%20%22px%22;%0D%0AgenerateTerrain();%0D%0AgameLoop();%0D%0A%0D%0Awindow.onkeydown%20=%20function()%20%7B%0D%0A%20%20%20%20if%20(event.code%20===%20%22Space%22%20&&%20playerInAir%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20pixelPerFrame%20-=%20jumpPower;%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20%7D%0D%0A%7D;%0D%0A%0D%0Afunction%20gameLoop()%20%7B%0D%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0D%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(elapsed%20%3E%20(1000%20/%20maxFPS))%20%7B%0D%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%20(1000%20/%20maxFPS));%0D%0A%20%20%20%20%20%20%20%20requestAnimationFrame(actionPerFrame);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20requestAnimationFrame(gameLoop);%0D%0A%7D%0D%0A%0D%0Afunction%20actionPerFrame()%20%7B%0D%0A%20%20%20%20animateFreefall();%0D%0A%0D%0A%20%20%20%20if%20(playerActive)%20%7B%0D%0A%20%20%20%20%20%20%20%20animateTerrain();%0D%0A%20%20%20%20%20%20%20%20detectCoinCollision();%0D%0A%20%20%20%20%20%20%20%20detectGroundCollision();%0D%0A%20%20%20%20%20%20%20%20detectFinishSign();%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20detectOutOfFrame();%0D%0A%7D%0D%0A%0D%0Afunction%20animateFreefall()%20%7B%0D%0A%20%20%20%20if%20(playerInAir%20===%20true%20&&%20pixelPerFrame%20%3C%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20pixelPerFrame%20+=%20gravity;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20playerTop%20+=%20pixelPerFrame;%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectGroundCollision()%20%7B%0D%0A%20%20%20%20var%20noCollision%20=%20true;%0D%0A%20%20%20%20var%20blocks%20=%20document.querySelectorAll(%22.block%22);%0D%0A%0D%0A%20%20%20%20blocks.forEach(block%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20blockLeft%20=%20block.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20var%20blockNearPlayer%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20blockLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20blockLeft%20+%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(blockNearPlayer%20===%20true%20&&%20playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20blockTop%20=%20block.offsetTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20topCollision%20=%20playerTop%20+%20playerHeight%20%3E=%20blockTop;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(topCollision%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20adjustTop%20=%20blockTop%20-%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(playerTop%20-%20adjustTop%20%3E%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(block.classList.contains(%22platform%22)%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(pixelPerFrame%20%3E=%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20=%20adjustTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20player.className%20=%20%22run%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20noCollision%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20secondJump%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20noCollision;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectCoinCollision()%20%7B%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(coin.className%20===%20%22coin%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20coinLeft%20=%20coin.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20collected%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20coinLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20coinLeft%20+%20coin.offsetWidth%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20+%20playerHeight%20%3E%20coin.offsetTop%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20%3C%20coin.offsetTop%20+%20coin.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(collected)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20currentScore%20=%20parseInt(score.textContent);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20score.textContent%20=%20currentScore%20+%201;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20coin.classList.add(%22collected%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20detectFinishSign()%20%7B%0D%0A%20%20%20%20var%20signLeft%20=%20finishSign.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20var%20finished%20=%20playerInAir%20===%20false%20&&%20playerLeft%20%3E=%20signLeft;%0D%0A%0D%0A%20%20%20%20if%20(finished)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerActive%20=%20false;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(confirm(%22You%20finished%20this%20level,%20play%20again?%22))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20detectOutOfFrame()%20%7B%0D%0A%20%20%20%20var%20sceneHeight%20=%20document.querySelector(%22#scene%22).offsetHeight;%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20&&%20playerTop%20+%20playerHeight%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(playerTop%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playerCrash()%20%7B%0D%0A%20%20%20%20pixelPerFrame%20=%20-maxPixelPerFrame;%0D%0A%20%20%20%20player.className%20=%20%22crash%22;%0D%0A%20%20%20%20playerActive%20=%20false;%0D%0A%7D%0D%0A%0D%0Afunction%20generateTerrain()%20%7B%0D%0A%20%20%20%20terrain.forEach((column,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20newBlocks%20=%20new%20Array(column).fill();%0D%0A%20%20%20%20%20%20%20%20var%20columnLeft%20=%20nthColumn%20*%20blockSize%20+%20playerLeft;%0D%0A%20%20%20%20%20%20%20%20var%20finalColumn%20=%20nthColumn%20===%20terrain.length%20-%201;%0D%0A%0D%0A%20%20%20%20%20%20%20%20newBlocks.forEach((newBlock,%20nthBlock)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newBlock);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.left%20=%20columnLeft%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.bottom%20=%20(column%20-%20nthBlock%20-%201)%20*%20blockSize%20+%20%22px%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthBlock%20===%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%20top%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(finalColumn%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20finishSign%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.id%20=%20%22finishSign%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(finishSign);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.left%20=%20newBlock.style.left;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.bottom%20=%20parseFloat(newBlock.style.bottom)%20+%20blockSize%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(platform%5BnthColumn%5D%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#var%20newPlatform%20=%20document.createElement(%22div%22);#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#terrainContainer.appendChild(newPlatform);#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(coins%5BnthColumn%5D%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newCoin%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.className%20=%20%22coin%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newCoin);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20widthDiff%20=%20(blockSize%20-%20newCoin.offsetWidth)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20heightDiff%20=%20(blockSize%20-%20newCoin.offsetHeight)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20floatHeight%20=%20coins%5BnthColumn%5D%20*%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.left%20=%20columnLeft%20+%20widthDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.bottom%20=%20floatHeight%20+%20heightDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20coins%20=%20document.querySelectorAll(%22.coin%22);%0D%0A%20%20%20%20totalCoins.textContent%20=%20coins.length;%0D%0A%7D%0D%0A%0D%0Afunction%20animateTerrain()%20%7B%0D%0A%20%20%20%20terrainLeft%20-=%20terrainScroll;%0D%0A%20%20%20%20terrainContainer.style.left%20=%20terrainLeft%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20resetGame()%20%7B%0D%0A%20%20%20%20playerTop%20=%20playerStartTop;%0D%0A%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20playerActive%20=%20true;%0D%0A%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20terrainLeft%20=%200;%0D%0A%0D%0A%20%20%20%20score.textContent%20=%200;%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20coin.classList.remove(%22collected%22);%0D%0A%20%20%20%20%7D);%0D%0A%7D##JS_E####CODE_3E####LOGIC_3####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20newPlatform%20=%20document.createElement(%22div%22);%60);%0Apass.if.js.editable(1).equivalent(%60terrainContainer.appendChild(newPlatform);%60);##JS_E####LOGIC_3E####STEP_3E####STEP_4####INST_4##Platform%20class%20names%20and%20horizontal%20positions%0A%0AStep%20context.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#className%5D%0A%09(*)%5B#js#style%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20newCoin#-7,%20assign%20class%20names%20*block*%20and%20*top*%20to%20the%20*newPlatform*%20element.%0A%0A(!)On%20+js#var%20newCoin#-5,%20move%20the%20*newPlatform*%20elements%20to%20align%20with%20each%20block%20column.##INST_4E####CODE_4####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Ch1%20id=%22scoreboard%22%3EScore:%20%3Cspan%20id=%22score%22%3E0%3C/span%3E/%3Cspan%20id=%22totalCoins%22%3E?%3C/span%3E%3C/h1%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cdiv%20id=%22scene%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22terrainContainer%22%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22player%22%20class=%22jump%22%3E%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#scoreboard%20%7B%0D%0A%20%20%20%20text-align:%20center;%0D%0A%7D%0D%0A%0D%0A#scene%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20768px;%0D%0A%20%20%20%20height:%20600px;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/game_bg.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#player%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20top:%20-100px;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%7D%0D%0A%0D%0A.run%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_run.gif%22);%0D%0A%7D%0D%0A%0D%0A.jump%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_jump.png%22);%0D%0A%7D%0D%0A%0D%0A.crash%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_crash.png%22);%0D%0A%7D%0D%0A%0D%0A#terrainContainer%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20height:%20100%25;%0D%0A%7D%0D%0A%0D%0A.block%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/floor.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.top%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/top_floor.png%22);%0D%0A%7D%0D%0A%0D%0A.coin%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/spin_coin.gif%22);%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20width:%2030px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#finishSign%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/finishSign.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.collected%20%7B%0D%0A%20%20%20%20display:%20none;%0D%0A%7D##CSS_E####JS##var%20maxFPS%20=%2030;%0D%0Avar%20timePrevFrame%20=%20Date.now();%0D%0A%0D%0Avar%20gravity%20=%202;%0D%0Avar%20jumpPower%20=%2024;%0D%0Avar%20pixelPerFrame%20=%200;%0D%0Avar%20maxPixelPerFrame%20=%2012;%0D%0A%0D%0Avar%20score%20=%20document.querySelector(%22#score%22);%0D%0A%0D%0Avar%20player%20=%20document.querySelector(%22#player%22);%0D%0Avar%20playerStartTop%20=%20300;%0D%0Avar%20playerTop%20=%20playerStartTop;%0D%0Avar%20playerLeft%20=%20200;%0D%0Avar%20playerWidth%20=%2035;%0D%0Avar%20playerHeight%20=%2064;%0D%0Avar%20playerInAir%20=%20true;%0D%0Avar%20playerActive%20=%20true;%0D%0A%0D%0Avar%20terrainContainer%20=%20document.querySelector(%22#terrainContainer%22);%0D%0Avar%20blockSize%20=%2064;%0D%0Avar%20terrainLeft%20=%200;%0D%0Avar%20terrainScroll%20=%203;%0D%0Avar%20terrain%20=%20%20%5B2,%202,%202,%200,%200,%200,%200,%201,%203,%203,%205,%205,%203,%202,%202,%204,%204%5D;%0D%0Avar%20platform%20=%20%5B0,%200,%200,%205,%203,%203%5D;%0D%0Avar%20coins%20=%20%20%20%20%5B0,%200,%200,%205,%206,%205,%202,%202,%200,%203,%200,%200,%200,%208%5D;%0D%0A%0D%0Aplayer.style.left%20=%20playerLeft%20+%20%22px%22;%0D%0AgenerateTerrain();%0D%0AgameLoop();%0D%0A%0D%0Awindow.onkeydown%20=%20function()%20%7B%0D%0A%20%20%20%20if%20(event.code%20===%20%22Space%22%20&&%20playerInAir%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20pixelPerFrame%20-=%20jumpPower;%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20%7D%0D%0A%7D;%0D%0A%0D%0Afunction%20gameLoop()%20%7B%0D%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0D%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(elapsed%20%3E%20(1000%20/%20maxFPS))%20%7B%0D%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%20(1000%20/%20maxFPS));%0D%0A%20%20%20%20%20%20%20%20requestAnimationFrame(actionPerFrame);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20requestAnimationFrame(gameLoop);%0D%0A%7D%0D%0A%0D%0Afunction%20actionPerFrame()%20%7B%0D%0A%20%20%20%20animateFreefall();%0D%0A%0D%0A%20%20%20%20if%20(playerActive)%20%7B%0D%0A%20%20%20%20%20%20%20%20animateTerrain();%0D%0A%20%20%20%20%20%20%20%20detectCoinCollision();%0D%0A%20%20%20%20%20%20%20%20detectGroundCollision();%0D%0A%20%20%20%20%20%20%20%20detectFinishSign();%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20detectOutOfFrame();%0D%0A%7D%0D%0A%0D%0Afunction%20animateFreefall()%20%7B%0D%0A%20%20%20%20if%20(playerInAir%20===%20true%20&&%20pixelPerFrame%20%3C%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20pixelPerFrame%20+=%20gravity;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20playerTop%20+=%20pixelPerFrame;%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectGroundCollision()%20%7B%0D%0A%20%20%20%20var%20noCollision%20=%20true;%0D%0A%20%20%20%20var%20blocks%20=%20document.querySelectorAll(%22.block%22);%0D%0A%0D%0A%20%20%20%20blocks.forEach(block%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20blockLeft%20=%20block.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20var%20blockNearPlayer%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20blockLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20blockLeft%20+%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(blockNearPlayer%20===%20true%20&&%20playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20blockTop%20=%20block.offsetTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20topCollision%20=%20playerTop%20+%20playerHeight%20%3E=%20blockTop;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(topCollision%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20adjustTop%20=%20blockTop%20-%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(playerTop%20-%20adjustTop%20%3E%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(block.classList.contains(%22platform%22)%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(pixelPerFrame%20%3E=%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20=%20adjustTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20player.className%20=%20%22run%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20noCollision%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20secondJump%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20noCollision;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectCoinCollision()%20%7B%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(coin.className%20===%20%22coin%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20coinLeft%20=%20coin.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20collected%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20coinLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20coinLeft%20+%20coin.offsetWidth%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20+%20playerHeight%20%3E%20coin.offsetTop%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20%3C%20coin.offsetTop%20+%20coin.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(collected)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20currentScore%20=%20parseInt(score.textContent);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20score.textContent%20=%20currentScore%20+%201;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20coin.classList.add(%22collected%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20detectFinishSign()%20%7B%0D%0A%20%20%20%20var%20signLeft%20=%20finishSign.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20var%20finished%20=%20playerInAir%20===%20false%20&&%20playerLeft%20%3E=%20signLeft;%0D%0A%0D%0A%20%20%20%20if%20(finished)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerActive%20=%20false;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(confirm(%22You%20finished%20this%20level,%20play%20again?%22))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20detectOutOfFrame()%20%7B%0D%0A%20%20%20%20var%20sceneHeight%20=%20document.querySelector(%22#scene%22).offsetHeight;%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20&&%20playerTop%20+%20playerHeight%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(playerTop%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playerCrash()%20%7B%0D%0A%20%20%20%20pixelPerFrame%20=%20-maxPixelPerFrame;%0D%0A%20%20%20%20player.className%20=%20%22crash%22;%0D%0A%20%20%20%20playerActive%20=%20false;%0D%0A%7D%0D%0A%0D%0Afunction%20generateTerrain()%20%7B%0D%0A%20%20%20%20terrain.forEach((column,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20newBlocks%20=%20new%20Array(column).fill();%0D%0A%20%20%20%20%20%20%20%20var%20columnLeft%20=%20nthColumn%20*%20blockSize%20+%20playerLeft;%0D%0A%20%20%20%20%20%20%20%20var%20finalColumn%20=%20nthColumn%20===%20terrain.length%20-%201;%0D%0A%0D%0A%20%20%20%20%20%20%20%20newBlocks.forEach((newBlock,%20nthBlock)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newBlock);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.left%20=%20columnLeft%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.bottom%20=%20(column%20-%20nthBlock%20-%201)%20*%20blockSize%20+%20%22px%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthBlock%20===%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%20top%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(finalColumn%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20finishSign%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.id%20=%20%22finishSign%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(finishSign);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.left%20=%20newBlock.style.left;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.bottom%20=%20parseFloat(newBlock.style.bottom)%20+%20blockSize%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(platform%5BnthColumn%5D%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newPlatform%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newPlatform);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#newPlatform.className%20=%20%22block%20top%22;#END_EDITABLE#%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#newPlatform.style.left%20=%20columnLeft%20+%20%22px%22;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(coins%5BnthColumn%5D%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newCoin%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.className%20=%20%22coin%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newCoin);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20widthDiff%20=%20(blockSize%20-%20newCoin.offsetWidth)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20heightDiff%20=%20(blockSize%20-%20newCoin.offsetHeight)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20floatHeight%20=%20coins%5BnthColumn%5D%20*%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.left%20=%20columnLeft%20+%20widthDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.bottom%20=%20floatHeight%20+%20heightDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20coins%20=%20document.querySelectorAll(%22.coin%22);%0D%0A%20%20%20%20totalCoins.textContent%20=%20coins.length;%0D%0A%7D%0D%0A%0D%0Afunction%20animateTerrain()%20%7B%0D%0A%20%20%20%20terrainLeft%20-=%20terrainScroll;%0D%0A%20%20%20%20terrainContainer.style.left%20=%20terrainLeft%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20resetGame()%20%7B%0D%0A%20%20%20%20playerTop%20=%20playerStartTop;%0D%0A%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20playerActive%20=%20true;%0D%0A%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20terrainLeft%20=%200;%0D%0A%0D%0A%20%20%20%20score.textContent%20=%200;%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20coin.classList.remove(%22collected%22);%0D%0A%20%20%20%20%7D);%0D%0A%7D##JS_E####CODE_4E####LOGIC_4####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60newPlatform.className%20=%20%22block%20top%22;%60).or(%60newPlatform.className%20=%20%22top%20block%22;%60);%0Apass.if.js.editable(1).equivalent(%60newPlatform.style.left%20=%20columnLeft%20+%20%22px%22;%60);##JS_E####LOGIC_4E####STEP_4E####STEP_5####INST_5##Platform%20vertical%20positions%0A%0AStep%20context.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#style%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20newCoin#-4,%20move%20the%20*newPlatform*%20elements%20to%20the%20correct%20vertical%20positions.##INST_5E####CODE_5####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Ch1%20id=%22scoreboard%22%3EScore:%20%3Cspan%20id=%22score%22%3E0%3C/span%3E/%3Cspan%20id=%22totalCoins%22%3E?%3C/span%3E%3C/h1%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cdiv%20id=%22scene%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22terrainContainer%22%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22player%22%20class=%22jump%22%3E%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#scoreboard%20%7B%0D%0A%20%20%20%20text-align:%20center;%0D%0A%7D%0D%0A%0D%0A#scene%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20768px;%0D%0A%20%20%20%20height:%20600px;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/game_bg.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#player%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20top:%20-100px;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%7D%0D%0A%0D%0A.run%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_run.gif%22);%0D%0A%7D%0D%0A%0D%0A.jump%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_jump.png%22);%0D%0A%7D%0D%0A%0D%0A.crash%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_crash.png%22);%0D%0A%7D%0D%0A%0D%0A#terrainContainer%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20height:%20100%25;%0D%0A%7D%0D%0A%0D%0A.block%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/floor.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.top%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/top_floor.png%22);%0D%0A%7D%0D%0A%0D%0A.coin%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/spin_coin.gif%22);%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20width:%2030px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#finishSign%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/finishSign.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.collected%20%7B%0D%0A%20%20%20%20display:%20none;%0D%0A%7D##CSS_E####JS##var%20maxFPS%20=%2030;%0D%0Avar%20timePrevFrame%20=%20Date.now();%0D%0A%0D%0Avar%20gravity%20=%202;%0D%0Avar%20jumpPower%20=%2024;%0D%0Avar%20pixelPerFrame%20=%200;%0D%0Avar%20maxPixelPerFrame%20=%2012;%0D%0A%0D%0Avar%20score%20=%20document.querySelector(%22#score%22);%0D%0A%0D%0Avar%20player%20=%20document.querySelector(%22#player%22);%0D%0Avar%20playerStartTop%20=%20300;%0D%0Avar%20playerTop%20=%20playerStartTop;%0D%0Avar%20playerLeft%20=%20200;%0D%0Avar%20playerWidth%20=%2035;%0D%0Avar%20playerHeight%20=%2064;%0D%0Avar%20playerInAir%20=%20true;%0D%0Avar%20playerActive%20=%20true;%0D%0A%0D%0Avar%20terrainContainer%20=%20document.querySelector(%22#terrainContainer%22);%0D%0Avar%20blockSize%20=%2064;%0D%0Avar%20terrainLeft%20=%200;%0D%0Avar%20terrainScroll%20=%203;%0D%0Avar%20terrain%20=%20%20%5B2,%202,%202,%200,%200,%200,%200,%201,%203,%203,%205,%205,%203,%202,%202,%204,%204%5D;%0D%0Avar%20platform%20=%20%5B0,%200,%200,%205,%203,%203%5D;%0D%0Avar%20coins%20=%20%20%20%20%5B0,%200,%200,%205,%206,%205,%202,%202,%200,%203,%200,%200,%200,%208%5D;%0D%0A%0D%0Aplayer.style.left%20=%20playerLeft%20+%20%22px%22;%0D%0AgenerateTerrain();%0D%0AgameLoop();%0D%0A%0D%0Awindow.onkeydown%20=%20function()%20%7B%0D%0A%20%20%20%20if%20(event.code%20===%20%22Space%22%20&&%20playerInAir%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20pixelPerFrame%20-=%20jumpPower;%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20%7D%0D%0A%7D;%0D%0A%0D%0Afunction%20gameLoop()%20%7B%0D%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0D%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(elapsed%20%3E%20(1000%20/%20maxFPS))%20%7B%0D%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%20(1000%20/%20maxFPS));%0D%0A%20%20%20%20%20%20%20%20requestAnimationFrame(actionPerFrame);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20requestAnimationFrame(gameLoop);%0D%0A%7D%0D%0A%0D%0Afunction%20actionPerFrame()%20%7B%0D%0A%20%20%20%20animateFreefall();%0D%0A%0D%0A%20%20%20%20if%20(playerActive)%20%7B%0D%0A%20%20%20%20%20%20%20%20animateTerrain();%0D%0A%20%20%20%20%20%20%20%20detectCoinCollision();%0D%0A%20%20%20%20%20%20%20%20detectGroundCollision();%0D%0A%20%20%20%20%20%20%20%20detectFinishSign();%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20detectOutOfFrame();%0D%0A%7D%0D%0A%0D%0Afunction%20animateFreefall()%20%7B%0D%0A%20%20%20%20if%20(playerInAir%20===%20true%20&&%20pixelPerFrame%20%3C%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20pixelPerFrame%20+=%20gravity;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20playerTop%20+=%20pixelPerFrame;%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectGroundCollision()%20%7B%0D%0A%20%20%20%20var%20noCollision%20=%20true;%0D%0A%20%20%20%20var%20blocks%20=%20document.querySelectorAll(%22.block%22);%0D%0A%0D%0A%20%20%20%20blocks.forEach(block%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20blockLeft%20=%20block.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20var%20blockNearPlayer%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20blockLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20blockLeft%20+%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(blockNearPlayer%20===%20true%20&&%20playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20blockTop%20=%20block.offsetTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20topCollision%20=%20playerTop%20+%20playerHeight%20%3E=%20blockTop;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(topCollision%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20adjustTop%20=%20blockTop%20-%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(playerTop%20-%20adjustTop%20%3E%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(block.classList.contains(%22platform%22)%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(pixelPerFrame%20%3E=%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20=%20adjustTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20player.className%20=%20%22run%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20noCollision%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20secondJump%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20noCollision;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectCoinCollision()%20%7B%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(coin.className%20===%20%22coin%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20coinLeft%20=%20coin.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20collected%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20coinLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20coinLeft%20+%20coin.offsetWidth%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20+%20playerHeight%20%3E%20coin.offsetTop%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20%3C%20coin.offsetTop%20+%20coin.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(collected)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20currentScore%20=%20parseInt(score.textContent);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20score.textContent%20=%20currentScore%20+%201;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20coin.classList.add(%22collected%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20detectFinishSign()%20%7B%0D%0A%20%20%20%20var%20signLeft%20=%20finishSign.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20var%20finished%20=%20playerInAir%20===%20false%20&&%20playerLeft%20%3E=%20signLeft;%0D%0A%0D%0A%20%20%20%20if%20(finished)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerActive%20=%20false;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(confirm(%22You%20finished%20this%20level,%20play%20again?%22))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20detectOutOfFrame()%20%7B%0D%0A%20%20%20%20var%20sceneHeight%20=%20document.querySelector(%22#scene%22).offsetHeight;%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20&&%20playerTop%20+%20playerHeight%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(playerTop%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playerCrash()%20%7B%0D%0A%20%20%20%20pixelPerFrame%20=%20-maxPixelPerFrame;%0D%0A%20%20%20%20player.className%20=%20%22crash%22;%0D%0A%20%20%20%20playerActive%20=%20false;%0D%0A%7D%0D%0A%0D%0Afunction%20generateTerrain()%20%7B%0D%0A%20%20%20%20terrain.forEach((column,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20newBlocks%20=%20new%20Array(column).fill();%0D%0A%20%20%20%20%20%20%20%20var%20columnLeft%20=%20nthColumn%20*%20blockSize%20+%20playerLeft;%0D%0A%20%20%20%20%20%20%20%20var%20finalColumn%20=%20nthColumn%20===%20terrain.length%20-%201;%0D%0A%0D%0A%20%20%20%20%20%20%20%20newBlocks.forEach((newBlock,%20nthBlock)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newBlock);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.left%20=%20columnLeft%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.bottom%20=%20(column%20-%20nthBlock%20-%201)%20*%20blockSize%20+%20%22px%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthBlock%20===%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%20top%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(finalColumn%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20finishSign%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.id%20=%20%22finishSign%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(finishSign);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.left%20=%20newBlock.style.left;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.bottom%20=%20parseFloat(newBlock.style.bottom)%20+%20blockSize%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(platform%5BnthColumn%5D%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newPlatform%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newPlatform);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.className%20=%20%22block%20top%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.style.left%20=%20columnLeft%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#newPlatform.style.bottom%20=%20platform%5BnthColumn%5D%20*%20blockSize%20-%2032%20+%20%22px%22;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(coins%5BnthColumn%5D%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newCoin%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.className%20=%20%22coin%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newCoin);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20widthDiff%20=%20(blockSize%20-%20newCoin.offsetWidth)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20heightDiff%20=%20(blockSize%20-%20newCoin.offsetHeight)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20floatHeight%20=%20coins%5BnthColumn%5D%20*%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.left%20=%20columnLeft%20+%20widthDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.bottom%20=%20floatHeight%20+%20heightDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20coins%20=%20document.querySelectorAll(%22.coin%22);%0D%0A%20%20%20%20totalCoins.textContent%20=%20coins.length;%0D%0A%7D%0D%0A%0D%0Afunction%20animateTerrain()%20%7B%0D%0A%20%20%20%20terrainLeft%20-=%20terrainScroll;%0D%0A%20%20%20%20terrainContainer.style.left%20=%20terrainLeft%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20resetGame()%20%7B%0D%0A%20%20%20%20playerTop%20=%20playerStartTop;%0D%0A%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20playerActive%20=%20true;%0D%0A%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20terrainLeft%20=%200;%0D%0A%0D%0A%20%20%20%20score.textContent%20=%200;%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20coin.classList.remove(%22collected%22);%0D%0A%20%20%20%20%7D);%0D%0A%7D##JS_E####CODE_5E####LOGIC_5####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(2).equivalent(%60newPlatform.style.bottom%20=%20platform%5BnthColumn%5D%20*%20blockSize%20-%2032%20+%20%22px%22;%60).or(%60newPlatform.style.bottom%20=%20blockSize%20*%20platform%5BnthColumn%5D%20-%2032%20+%20%22px%22;%60);##JS_E####LOGIC_5E####STEP_5E####STEP_6####INST_6##Additional%20class%20name%0A%0AStep%20context.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#className%5D%0A%09(*)%5B#css#rule%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#newPlatform.className#,%20add%20*platform*%20to%20the%20list%20of%20class%20names%20for%20the%20*newPlatform*%20elements.%0A%0A(%3E%3Estyle.css)%0A%0A(!)On%20+css#.coin#-2,%20create%20an%20empty%20rule%20for%20*.platform*.##INST_6E####CODE_6####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Ch1%20id=%22scoreboard%22%3EScore:%20%3Cspan%20id=%22score%22%3E0%3C/span%3E/%3Cspan%20id=%22totalCoins%22%3E?%3C/span%3E%3C/h1%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cdiv%20id=%22scene%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22terrainContainer%22%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22player%22%20class=%22jump%22%3E%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#scoreboard%20%7B%0D%0A%20%20%20%20text-align:%20center;%0D%0A%7D%0D%0A%0D%0A#scene%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20768px;%0D%0A%20%20%20%20height:%20600px;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/game_bg.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#player%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20top:%20-100px;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%7D%0D%0A%0D%0A.run%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_run.gif%22);%0D%0A%7D%0D%0A%0D%0A.jump%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_jump.png%22);%0D%0A%7D%0D%0A%0D%0A.crash%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_crash.png%22);%0D%0A%7D%0D%0A%0D%0A#terrainContainer%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20height:%20100%25;%0D%0A%7D%0D%0A%0D%0A.block%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/floor.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.top%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/top_floor.png%22);%0D%0A%7D%0D%0A%0D%0A#BEGIN_EDITABLE#.platform%20%7B%7D#END_EDITABLE#%0D%0A/*%20%20%20%20height:%2032px;*/%0D%0A/*%7D*/%0D%0A%0D%0A.coin%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/spin_coin.gif%22);%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20width:%2030px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#finishSign%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/finishSign.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.collected%20%7B%0D%0A%20%20%20%20display:%20none;%0D%0A%7D##CSS_E####JS##var%20maxFPS%20=%2030;%0D%0Avar%20timePrevFrame%20=%20Date.now();%0D%0A%0D%0Avar%20gravity%20=%202;%0D%0Avar%20jumpPower%20=%2024;%0D%0Avar%20pixelPerFrame%20=%200;%0D%0Avar%20maxPixelPerFrame%20=%2012;%0D%0A%0D%0Avar%20score%20=%20document.querySelector(%22#score%22);%0D%0A%0D%0Avar%20player%20=%20document.querySelector(%22#player%22);%0D%0Avar%20playerStartTop%20=%20300;%0D%0Avar%20playerTop%20=%20playerStartTop;%0D%0Avar%20playerLeft%20=%20200;%0D%0Avar%20playerWidth%20=%2035;%0D%0Avar%20playerHeight%20=%2064;%0D%0Avar%20playerInAir%20=%20true;%0D%0Avar%20playerActive%20=%20true;%0D%0A%0D%0Avar%20terrainContainer%20=%20document.querySelector(%22#terrainContainer%22);%0D%0Avar%20blockSize%20=%2064;%0D%0Avar%20terrainLeft%20=%200;%0D%0Avar%20terrainScroll%20=%203;%0D%0Avar%20terrain%20=%20%20%5B2,%202,%202,%200,%200,%200,%200,%201,%203,%203,%205,%205,%203,%202,%202,%204,%204%5D;%0D%0Avar%20platform%20=%20%5B0,%200,%200,%205,%203,%203%5D;%0D%0Avar%20coins%20=%20%20%20%20%5B0,%200,%200,%205,%206,%205,%202,%202,%200,%203,%200,%200,%200,%208%5D;%0D%0A%0D%0Aplayer.style.left%20=%20playerLeft%20+%20%22px%22;%0D%0AgenerateTerrain();%0D%0AgameLoop();%0D%0A%0D%0Awindow.onkeydown%20=%20function()%20%7B%0D%0A%20%20%20%20if%20(event.code%20===%20%22Space%22%20&&%20playerInAir%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20pixelPerFrame%20-=%20jumpPower;%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20%7D%0D%0A%7D;%0D%0A%0D%0Afunction%20gameLoop()%20%7B%0D%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0D%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(elapsed%20%3E%20(1000%20/%20maxFPS))%20%7B%0D%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%20(1000%20/%20maxFPS));%0D%0A%20%20%20%20%20%20%20%20requestAnimationFrame(actionPerFrame);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20requestAnimationFrame(gameLoop);%0D%0A%7D%0D%0A%0D%0Afunction%20actionPerFrame()%20%7B%0D%0A%20%20%20%20animateFreefall();%0D%0A%0D%0A%20%20%20%20if%20(playerActive)%20%7B%0D%0A%20%20%20%20%20%20%20%20animateTerrain();%0D%0A%20%20%20%20%20%20%20%20detectCoinCollision();%0D%0A%20%20%20%20%20%20%20%20detectGroundCollision();%0D%0A%20%20%20%20%20%20%20%20detectFinishSign();%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20detectOutOfFrame();%0D%0A%7D%0D%0A%0D%0Afunction%20animateFreefall()%20%7B%0D%0A%20%20%20%20if%20(playerInAir%20===%20true%20&&%20pixelPerFrame%20%3C%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20pixelPerFrame%20+=%20gravity;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20playerTop%20+=%20pixelPerFrame;%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectGroundCollision()%20%7B%0D%0A%20%20%20%20var%20noCollision%20=%20true;%0D%0A%20%20%20%20var%20blocks%20=%20document.querySelectorAll(%22.block%22);%0D%0A%0D%0A%20%20%20%20blocks.forEach(block%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20blockLeft%20=%20block.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20var%20blockNearPlayer%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20blockLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20blockLeft%20+%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(blockNearPlayer%20===%20true%20&&%20playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20blockTop%20=%20block.offsetTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20topCollision%20=%20playerTop%20+%20playerHeight%20%3E=%20blockTop;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(topCollision%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20adjustTop%20=%20blockTop%20-%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(playerTop%20-%20adjustTop%20%3E%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(block.classList.contains(%22platform%22)%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(pixelPerFrame%20%3E=%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20=%20adjustTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20player.className%20=%20%22run%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20noCollision%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20secondJump%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20noCollision;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectCoinCollision()%20%7B%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(coin.className%20===%20%22coin%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20coinLeft%20=%20coin.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20collected%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20coinLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20coinLeft%20+%20coin.offsetWidth%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20+%20playerHeight%20%3E%20coin.offsetTop%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20%3C%20coin.offsetTop%20+%20coin.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(collected)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20currentScore%20=%20parseInt(score.textContent);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20score.textContent%20=%20currentScore%20+%201;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20coin.classList.add(%22collected%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20detectFinishSign()%20%7B%0D%0A%20%20%20%20var%20signLeft%20=%20finishSign.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20var%20finished%20=%20playerInAir%20===%20false%20&&%20playerLeft%20%3E=%20signLeft;%0D%0A%0D%0A%20%20%20%20if%20(finished)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerActive%20=%20false;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(confirm(%22You%20finished%20this%20level,%20play%20again?%22))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20detectOutOfFrame()%20%7B%0D%0A%20%20%20%20var%20sceneHeight%20=%20document.querySelector(%22#scene%22).offsetHeight;%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20&&%20playerTop%20+%20playerHeight%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(playerTop%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playerCrash()%20%7B%0D%0A%20%20%20%20pixelPerFrame%20=%20-maxPixelPerFrame;%0D%0A%20%20%20%20player.className%20=%20%22crash%22;%0D%0A%20%20%20%20playerActive%20=%20false;%0D%0A%7D%0D%0A%0D%0Afunction%20generateTerrain()%20%7B%0D%0A%20%20%20%20terrain.forEach((column,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20newBlocks%20=%20new%20Array(column).fill();%0D%0A%20%20%20%20%20%20%20%20var%20columnLeft%20=%20nthColumn%20*%20blockSize%20+%20playerLeft;%0D%0A%20%20%20%20%20%20%20%20var%20finalColumn%20=%20nthColumn%20===%20terrain.length%20-%201;%0D%0A%0D%0A%20%20%20%20%20%20%20%20newBlocks.forEach((newBlock,%20nthBlock)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newBlock);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.left%20=%20columnLeft%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.bottom%20=%20(column%20-%20nthBlock%20-%201)%20*%20blockSize%20+%20%22px%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthBlock%20===%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%20top%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(finalColumn%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20finishSign%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.id%20=%20%22finishSign%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(finishSign);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.left%20=%20newBlock.style.left;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.bottom%20=%20parseFloat(newBlock.style.bottom)%20+%20blockSize%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(platform%5BnthColumn%5D%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newPlatform%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newPlatform);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.className%20=%20#BEGIN_EDITABLE#%22block%20top%22#END_EDITABLE#;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.style.left%20=%20columnLeft%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.style.bottom%20=%20platform%5BnthColumn%5D%20*%20blockSize%20-%2032%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(coins%5BnthColumn%5D%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newCoin%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.className%20=%20%22coin%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newCoin);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20widthDiff%20=%20(blockSize%20-%20newCoin.offsetWidth)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20heightDiff%20=%20(blockSize%20-%20newCoin.offsetHeight)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20floatHeight%20=%20coins%5BnthColumn%5D%20*%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.left%20=%20columnLeft%20+%20widthDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.bottom%20=%20floatHeight%20+%20heightDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20coins%20=%20document.querySelectorAll(%22.coin%22);%0D%0A%20%20%20%20totalCoins.textContent%20=%20coins.length;%0D%0A%7D%0D%0A%0D%0Afunction%20animateTerrain()%20%7B%0D%0A%20%20%20%20terrainLeft%20-=%20terrainScroll;%0D%0A%20%20%20%20terrainContainer.style.left%20=%20terrainLeft%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20resetGame()%20%7B%0D%0A%20%20%20%20playerTop%20=%20playerStartTop;%0D%0A%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20playerActive%20=%20true;%0D%0A%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20terrainLeft%20=%200;%0D%0A%0D%0A%20%20%20%20score.textContent%20=%200;%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20coin.classList.remove(%22collected%22);%0D%0A%20%20%20%20%7D);%0D%0A%7D##JS_E####CODE_6E####LOGIC_6####HTML####HTML_E####CSS##//%20Expectation:%0Apass.if.css.editable(0).equivalent(%60.platform%20%7B%7D%60);##CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60%22block%20top%20platform%22%60).or(%60%22block%20platform%20top%22%60).or(%60%22platform%20block%20top%22%60).or(%60%22platform%20top%20block%22%60).or(%60%22top%20platform%20block%22%60).or(%60%22top%20block%20platform%22%60);##JS_E####LOGIC_6E####STEP_6E####STEP_7####INST_7##Platform%20block%20height%0A%0AStep%20context.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#css#height%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+css#.platform#+1,%20change%20the%20height%20of%20the%20platform%20blocks%20to%20*32%20pixels*.##INST_7E####CODE_7####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Ch1%20id=%22scoreboard%22%3EScore:%20%3Cspan%20id=%22score%22%3E0%3C/span%3E/%3Cspan%20id=%22totalCoins%22%3E?%3C/span%3E%3C/h1%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cdiv%20id=%22scene%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22terrainContainer%22%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22player%22%20class=%22jump%22%3E%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#scoreboard%20%7B%0D%0A%20%20%20%20text-align:%20center;%0D%0A%7D%0D%0A%0D%0A#scene%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20768px;%0D%0A%20%20%20%20height:%20600px;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/game_bg.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#player%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20top:%20-100px;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%7D%0D%0A%0D%0A.run%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_run.gif%22);%0D%0A%7D%0D%0A%0D%0A.jump%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_jump.png%22);%0D%0A%7D%0D%0A%0D%0A.crash%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_crash.png%22);%0D%0A%7D%0D%0A%0D%0A#terrainContainer%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20height:%20100%25;%0D%0A%7D%0D%0A%0D%0A.block%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/floor.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.top%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/top_floor.png%22);%0D%0A%7D%0D%0A%0D%0A.platform%20%7B%0D%0A%20%20%20%20#BEGIN_EDITABLE#height:%2032px;#END_EDITABLE#%0D%0A%7D%0D%0A%0D%0A.coin%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/spin_coin.gif%22);%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20width:%2030px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#finishSign%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/finishSign.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.collected%20%7B%0D%0A%20%20%20%20display:%20none;%0D%0A%7D##CSS_E####JS##var%20maxFPS%20=%2030;%0D%0Avar%20timePrevFrame%20=%20Date.now();%0D%0A%0D%0Avar%20gravity%20=%202;%0D%0Avar%20jumpPower%20=%2024;%0D%0Avar%20pixelPerFrame%20=%200;%0D%0Avar%20maxPixelPerFrame%20=%2012;%0D%0A%0D%0Avar%20score%20=%20document.querySelector(%22#score%22);%0D%0A%0D%0Avar%20player%20=%20document.querySelector(%22#player%22);%0D%0Avar%20playerStartTop%20=%20300;%0D%0Avar%20playerTop%20=%20playerStartTop;%0D%0Avar%20playerLeft%20=%20200;%0D%0Avar%20playerWidth%20=%2035;%0D%0Avar%20playerHeight%20=%2064;%0D%0Avar%20playerInAir%20=%20true;%0D%0Avar%20playerActive%20=%20true;%0D%0A%0D%0Avar%20terrainContainer%20=%20document.querySelector(%22#terrainContainer%22);%0D%0Avar%20blockSize%20=%2064;%0D%0Avar%20terrainLeft%20=%200;%0D%0Avar%20terrainScroll%20=%203;%0D%0Avar%20terrain%20=%20%20%5B2,%202,%202,%200,%200,%200,%200,%201,%203,%203,%205,%205,%203,%202,%202,%204,%204%5D;%0D%0Avar%20platform%20=%20%5B0,%200,%200,%205,%203,%203%5D;%0D%0Avar%20coins%20=%20%20%20%20%5B0,%200,%200,%205,%206,%205,%202,%202,%200,%203,%200,%200,%200,%208%5D;%0D%0A%0D%0Aplayer.style.left%20=%20playerLeft%20+%20%22px%22;%0D%0AgenerateTerrain();%0D%0AgameLoop();%0D%0A%0D%0Awindow.onkeydown%20=%20function()%20%7B%0D%0A%20%20%20%20if%20(event.code%20===%20%22Space%22%20&&%20playerInAir%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20pixelPerFrame%20-=%20jumpPower;%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20%7D%0D%0A%7D;%0D%0A%0D%0Afunction%20gameLoop()%20%7B%0D%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0D%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(elapsed%20%3E%20(1000%20/%20maxFPS))%20%7B%0D%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%20(1000%20/%20maxFPS));%0D%0A%20%20%20%20%20%20%20%20requestAnimationFrame(actionPerFrame);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20requestAnimationFrame(gameLoop);%0D%0A%7D%0D%0A%0D%0Afunction%20actionPerFrame()%20%7B%0D%0A%20%20%20%20animateFreefall();%0D%0A%0D%0A%20%20%20%20if%20(playerActive)%20%7B%0D%0A%20%20%20%20%20%20%20%20animateTerrain();%0D%0A%20%20%20%20%20%20%20%20detectCoinCollision();%0D%0A%20%20%20%20%20%20%20%20detectGroundCollision();%0D%0A%20%20%20%20%20%20%20%20detectFinishSign();%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20detectOutOfFrame();%0D%0A%7D%0D%0A%0D%0Afunction%20animateFreefall()%20%7B%0D%0A%20%20%20%20if%20(playerInAir%20===%20true%20&&%20pixelPerFrame%20%3C%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20pixelPerFrame%20+=%20gravity;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20playerTop%20+=%20pixelPerFrame;%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectGroundCollision()%20%7B%0D%0A%20%20%20%20var%20noCollision%20=%20true;%0D%0A%20%20%20%20var%20blocks%20=%20document.querySelectorAll(%22.block%22);%0D%0A%0D%0A%20%20%20%20blocks.forEach(block%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20blockLeft%20=%20block.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20var%20blockNearPlayer%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20blockLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20blockLeft%20+%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(blockNearPlayer%20===%20true%20&&%20playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20blockTop%20=%20block.offsetTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20topCollision%20=%20playerTop%20+%20playerHeight%20%3E=%20blockTop;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(topCollision%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20adjustTop%20=%20blockTop%20-%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(playerTop%20-%20adjustTop%20%3E%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(block.classList.contains(%22platform%22)%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(pixelPerFrame%20%3E=%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20=%20adjustTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20player.className%20=%20%22run%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20noCollision%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20secondJump%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20noCollision;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectCoinCollision()%20%7B%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(coin.className%20===%20%22coin%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20coinLeft%20=%20coin.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20collected%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20coinLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20coinLeft%20+%20coin.offsetWidth%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20+%20playerHeight%20%3E%20coin.offsetTop%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20%3C%20coin.offsetTop%20+%20coin.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(collected)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20currentScore%20=%20parseInt(score.textContent);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20score.textContent%20=%20currentScore%20+%201;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20coin.classList.add(%22collected%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20detectFinishSign()%20%7B%0D%0A%20%20%20%20var%20signLeft%20=%20finishSign.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20var%20finished%20=%20playerInAir%20===%20false%20&&%20playerLeft%20%3E=%20signLeft;%0D%0A%0D%0A%20%20%20%20if%20(finished)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerActive%20=%20false;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(confirm(%22You%20finished%20this%20level,%20play%20again?%22))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20detectOutOfFrame()%20%7B%0D%0A%20%20%20%20var%20sceneHeight%20=%20document.querySelector(%22#scene%22).offsetHeight;%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20&&%20playerTop%20+%20playerHeight%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(playerTop%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playerCrash()%20%7B%0D%0A%20%20%20%20pixelPerFrame%20=%20-maxPixelPerFrame;%0D%0A%20%20%20%20player.className%20=%20%22crash%22;%0D%0A%20%20%20%20playerActive%20=%20false;%0D%0A%7D%0D%0A%0D%0Afunction%20generateTerrain()%20%7B%0D%0A%20%20%20%20terrain.forEach((column,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20newBlocks%20=%20new%20Array(column).fill();%0D%0A%20%20%20%20%20%20%20%20var%20columnLeft%20=%20nthColumn%20*%20blockSize%20+%20playerLeft;%0D%0A%20%20%20%20%20%20%20%20var%20finalColumn%20=%20nthColumn%20===%20terrain.length%20-%201;%0D%0A%0D%0A%20%20%20%20%20%20%20%20newBlocks.forEach((newBlock,%20nthBlock)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newBlock);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.left%20=%20columnLeft%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.bottom%20=%20(column%20-%20nthBlock%20-%201)%20*%20blockSize%20+%20%22px%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthBlock%20===%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%20top%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(finalColumn%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20finishSign%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.id%20=%20%22finishSign%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(finishSign);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.left%20=%20newBlock.style.left;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.bottom%20=%20parseFloat(newBlock.style.bottom)%20+%20blockSize%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(platform%5BnthColumn%5D%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newPlatform%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newPlatform);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.className%20=%20%22block%20top%20platform%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.style.left%20=%20columnLeft%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.style.bottom%20=%20platform%5BnthColumn%5D%20*%20blockSize%20-%2032%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(coins%5BnthColumn%5D%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newCoin%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.className%20=%20%22coin%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newCoin);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20widthDiff%20=%20(blockSize%20-%20newCoin.offsetWidth)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20heightDiff%20=%20(blockSize%20-%20newCoin.offsetHeight)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20floatHeight%20=%20coins%5BnthColumn%5D%20*%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.left%20=%20columnLeft%20+%20widthDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.bottom%20=%20floatHeight%20+%20heightDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20coins%20=%20document.querySelectorAll(%22.coin%22);%0D%0A%20%20%20%20totalCoins.textContent%20=%20coins.length;%0D%0A%7D%0D%0A%0D%0Afunction%20animateTerrain()%20%7B%0D%0A%20%20%20%20terrainLeft%20-=%20terrainScroll;%0D%0A%20%20%20%20terrainContainer.style.left%20=%20terrainLeft%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20resetGame()%20%7B%0D%0A%20%20%20%20playerTop%20=%20playerStartTop;%0D%0A%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20playerActive%20=%20true;%0D%0A%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20terrainLeft%20=%200;%0D%0A%0D%0A%20%20%20%20score.textContent%20=%200;%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20coin.classList.remove(%22collected%22);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_7E####LOGIC_7####HTML####HTML_E####CSS##//%20Expectation:%0Apass.if.css.editable(0).equivalent(%60height:%2032px;%60);##CSS_E####JS####JS_E####LOGIC_7E####STEP_7E####STEP_8####INST_8##Jump%20condition%20modification%20-%201/2%0A%0AWhy%20do%20it?%0A%0AHow%20to%20do%20it?%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#event%5D%0A%09(*)%5B#js#relational%20operators%5D%0A%09(*)%5B#js#if%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#onkeydown#+1,%20move%20move%20the%20second%20condition%20from%20the%20%60if%60%20statement.%0A%0A(!)On%20+js#onkeydown#+2,%20create%20an%20%60if%60%20statement%20to%20check%20whether%20*playerInAir*%20is%20equal%20to%20*false*.##INST_8E####CODE_8####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Ch1%20id=%22scoreboard%22%3EScore:%20%3Cspan%20id=%22score%22%3E0%3C/span%3E/%3Cspan%20id=%22totalCoins%22%3E?%3C/span%3E%3C/h1%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cdiv%20id=%22scene%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22terrainContainer%22%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22player%22%20class=%22jump%22%3E%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#scoreboard%20%7B%0D%0A%20%20%20%20text-align:%20center;%0D%0A%7D%0D%0A%0D%0A#scene%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20768px;%0D%0A%20%20%20%20height:%20600px;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/game_bg.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#player%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%7D%0D%0A%0D%0A.run%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_run.gif%22);%0D%0A%7D%0D%0A%0D%0A.jump%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_jump.png%22);%0D%0A%7D%0D%0A%0D%0A.crash%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_crash.png%22);%0D%0A%7D%0D%0A%0D%0A#terrainContainer%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20height:%20100%25;%0D%0A%7D%0D%0A%0D%0A.block%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/floor.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.top%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/top_floor.png%22);%0D%0A%7D%0D%0A%0D%0A.platform%20%7B%0D%0A%20%20%20%20height:%2032px;%0D%0A%7D%0D%0A%0D%0A.coin%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/spin_coin.gif%22);%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20width:%2030px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#finishSign%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/finishSign.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.collected%20%7B%0D%0A%20%20%20%20display:%20none;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20maxFPS%20=%2030;%0D%0Avar%20timePrevFrame%20=%20Date.now();%0D%0A%0D%0Avar%20gravity%20=%202;%0D%0Avar%20jumpPower%20=%2024;%0D%0Avar%20pixelPerFrame%20=%200;%0D%0Avar%20maxPixelPerFrame%20=%2012;%0D%0A%0D%0Avar%20score%20=%20document.querySelector(%22#score%22);%0D%0A%0D%0Avar%20player%20=%20document.querySelector(%22#player%22);%0D%0Avar%20playerStartTop%20=%20300;%0D%0Avar%20playerTop%20=%20playerStartTop;%0D%0Avar%20playerLeft%20=%20200;%0D%0Avar%20playerWidth%20=%2035;%0D%0Avar%20playerHeight%20=%2064;%0D%0Avar%20playerInAir%20=%20true;%0D%0Avar%20playerActive%20=%20true;%0D%0A%0D%0Avar%20terrainContainer%20=%20document.querySelector(%22#terrainContainer%22);%0D%0Avar%20blockSize%20=%2064;%0D%0Avar%20terrainLeft%20=%200;%0D%0Avar%20terrainScroll%20=%203;%0D%0Avar%20terrain%20=%20%20%5B2,%201,%200,%200,%200,%200,%200,%201,%203,%203,%206,%205,%203,%202,%202,%202,%204,%204%5D;%0D%0Avar%20platform%20=%20%5B0,%200,%200,%204,%203,%203%5D;%0D%0Avar%20coins%20=%20%20%20%20%5B0,%200,%200,%205,%206,%205,%202,%202,%200,%203,%200,%200,%200,%208%5D;%0D%0A%0D%0Aplayer.style.left%20=%20playerLeft%20+%20%22px%22;%0D%0AgenerateTerrain();%0D%0AgameLoop();%0D%0A%0D%0Awindow.onkeydown%20=%20function()%20%7B%0D%0A%20%20%20%20if%20(#BEGIN_EDITABLE#event.code%20===%20%22Space%22%20&&%20playerInAir%20===%20false#END_EDITABLE#)%20%7B%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#if%20(playerInAir%20===%20false)%20%7B%7D#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20pixelPerFrame%20-=%20jumpPower;%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20if%20(event.code%20===%20%22Space%22)%20%7B%0D%0A%20%20%20%20//%20%20%20%20%20if%20(playerInAir%20===%20false)%20%7B%0D%0A%20%20%20%20//%20%20%20%20%20%20%20%20%20pixelPerFrame%20-=%20jumpPower;%0D%0A%20%20%20%20//%20%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20//%20%20%20%20%20%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20//%20%20%20%20%20%7D%0D%0A%20%20%20%20//%20%20%20%20%20else%20if%20(secondJump%20===%20false)%20%7B%0D%0A%20%20%20%20//%20%20%20%20%20%20%20%20%20secondJump%20=%20true;%0D%0A%20%20%20%20//%20%20%20%20%20%20%20%20%20pixelPerFrame%20=%20-jumpPower;%0D%0A%20%20%20%20//%20%20%20%20%20%7D%0D%0A%20%20%20%20//%20%7D%0D%0A%7D;%0D%0A%0D%0Afunction%20gameLoop()%20%7B%0D%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0D%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(elapsed%20%3E%20(1000%20/%20maxFPS))%20%7B%0D%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%20(1000%20/%20maxFPS));%0D%0A%20%20%20%20%20%20%20%20requestAnimationFrame(actionPerFrame);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20requestAnimationFrame(gameLoop);%0D%0A%7D%0D%0A%0D%0Afunction%20actionPerFrame()%20%7B%0D%0A%20%20%20%20animateFreefall();%0D%0A%0D%0A%20%20%20%20if%20(playerActive)%20%7B%0D%0A%20%20%20%20%20%20%20%20animateTerrain();%0D%0A%20%20%20%20%20%20%20%20detectCoinCollision();%0D%0A%20%20%20%20%20%20%20%20detectGroundCollision();%0D%0A%20%20%20%20%20%20%20%20detectFinishSign();%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20detectOutOfFrame();%0D%0A%7D%0D%0A%0D%0Afunction%20animateFreefall()%20%7B%0D%0A%20%20%20%20if%20(playerInAir%20===%20true%20&&%20pixelPerFrame%20%3C%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20pixelPerFrame%20+=%20gravity;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20playerTop%20+=%20pixelPerFrame;%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectGroundCollision()%20%7B%0D%0A%20%20%20%20var%20noCollision%20=%20true;%0D%0A%20%20%20%20var%20blocks%20=%20document.querySelectorAll(%22.block%22);%0D%0A%0D%0A%20%20%20%20blocks.forEach(block%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20blockLeft%20=%20block.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20var%20blockNearPlayer%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20blockLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20blockLeft%20+%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(blockNearPlayer%20===%20true%20&&%20playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20blockTop%20=%20block.offsetTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20topCollision%20=%20playerTop%20+%20playerHeight%20%3E=%20blockTop;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(topCollision%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20adjustTop%20=%20blockTop%20-%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(playerTop%20-%20adjustTop%20%3E%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(block.classList.contains(%22platform%22)%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(pixelPerFrame%20%3E=%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20=%20adjustTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20player.className%20=%20%22run%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20noCollision%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20secondJump%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20noCollision;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectCoinCollision()%20%7B%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(coin.className%20===%20%22coin%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20coinLeft%20=%20coin.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20collected%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20coinLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20coinLeft%20+%20coin.offsetWidth%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20+%20playerHeight%20%3E%20coin.offsetTop%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20%3C%20coin.offsetTop%20+%20coin.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(collected)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20currentScore%20=%20parseInt(score.textContent);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20score.textContent%20=%20currentScore%20+%201;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20coin.classList.add(%22collected%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20detectFinishSign()%20%7B%0D%0A%20%20%20%20var%20signLeft%20=%20finishSign.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20var%20finished%20=%20playerInAir%20===%20false%20&&%20playerLeft%20%3E=%20signLeft;%0D%0A%0D%0A%20%20%20%20if%20(finished)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerActive%20=%20false;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(confirm(%22You%20finished%20this%20level,%20play%20again?%22))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20detectOutOfFrame()%20%7B%0D%0A%20%20%20%20var%20sceneHeight%20=%20document.querySelector(%22#scene%22).offsetHeight;%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20&&%20playerTop%20+%20playerHeight%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(playerTop%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playerCrash()%20%7B%0D%0A%20%20%20%20pixelPerFrame%20=%20-maxPixelPerFrame;%0D%0A%20%20%20%20player.className%20=%20%22crash%22;%0D%0A%20%20%20%20playerActive%20=%20false;%0D%0A%7D%0D%0A%0D%0Afunction%20generateTerrain()%20%7B%0D%0A%20%20%20%20terrain.forEach((column,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20newBlocks%20=%20new%20Array(column).fill();%0D%0A%20%20%20%20%20%20%20%20var%20columnLeft%20=%20nthColumn%20*%20blockSize%20+%20playerLeft;%0D%0A%20%20%20%20%20%20%20%20var%20finalColumn%20=%20nthColumn%20===%20terrain.length%20-%201;%0D%0A%0D%0A%20%20%20%20%20%20%20%20newBlocks.forEach((newBlock,%20nthBlock)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newBlock);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.left%20=%20columnLeft%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.bottom%20=%20(column%20-%20nthBlock%20-%201)%20*%20blockSize%20+%20%22px%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthBlock%20===%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%20top%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(finalColumn%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20finishSign%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.id%20=%20%22finishSign%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(finishSign);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.left%20=%20newBlock.style.left;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.bottom%20=%20parseFloat(newBlock.style.bottom)%20+%20blockSize%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(platform%5BnthColumn%5D%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newPlatform%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.className%20=%20%22block%20top%20platform%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newPlatform);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.style.left%20=%20columnLeft%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.style.bottom%20=%20platform%5BnthColumn%5D%20*%20blockSize%20-%2032%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(coins%5BnthColumn%5D%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newCoin%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.className%20=%20%22coin%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newCoin);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20widthDiff%20=%20(blockSize%20-%20newCoin.offsetWidth)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20heightDiff%20=%20(blockSize%20-%20newCoin.offsetHeight)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20floatHeight%20=%20coins%5BnthColumn%5D%20*%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.left%20=%20columnLeft%20+%20widthDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.bottom%20=%20floatHeight%20+%20heightDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20coins%20=%20document.querySelectorAll(%22.coin%22);%0D%0A%20%20%20%20totalCoins.textContent%20=%20coins.length;%0D%0A%7D%0D%0A%0D%0Afunction%20animateTerrain()%20%7B%0D%0A%20%20%20%20terrainLeft%20-=%20terrainScroll;%0D%0A%20%20%20%20terrainContainer.style.left%20=%20terrainLeft%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20resetGame()%20%7B%0D%0A%20%20%20%20playerTop%20=%20playerStartTop;%0D%0A%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20playerActive%20=%20true;%0D%0A%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20terrainLeft%20=%200;%0D%0A%0D%0A%20%20%20%20score.textContent%20=%200;%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20coin.classList.remove(%22collected%22);%0D%0A%20%20%20%20%7D);%0D%0A%7D##JS_E####CODE_8E####LOGIC_8####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60event.code%20===%20%22Space%22%60).or(%60event.code%20==%20%22Space%22%60).or(%60%22Space%22%20===%20event.code%60).or(%60%22Space%22%20==%20event.code%60);%0Apass.if.js.editable(2).equivalent(%60if%20(playerInAir%20===%20false)%20%7B%7D%60).or(%60if%20(false%20===%20playerInAir)%20%7B%7D%60).or(%60if%20(playerInAir%20==%20false)%20%7B%7D%60).or(%60if%20(false%20==%20playerInAir)%20%7B%7D%60).or(%60if%20(!playerInAir)%20%7B%7D%60);##JS_E####LOGIC_8E####STEP_8E####STEP_9####INST_9##Jump%20condition%20modification%20-%202/2%0A%0AStep%20context.%0A%0A(***)%0A%0A(!)On%20+js#onkeydown#+8,%20move%20the%20code%20to%20*line*%20js#onkeydown#+3.%0A%0A(!)On%20+js#onkeydown#+9,%20move%20the%20code%20to%20*line*%20js#onkeydown#+4.%0A%0A(!)On%20+js#onkeydown#+10,%20move%20the%20code%20to%20*line*%20js#onkeydown#+5.##INST_9E####CODE_9####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Ch1%20id=%22scoreboard%22%3EScore:%20%3Cspan%20id=%22score%22%3E0%3C/span%3E/%3Cspan%20id=%22totalCoins%22%3E?%3C/span%3E%3C/h1%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cdiv%20id=%22scene%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22terrainContainer%22%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22player%22%20class=%22jump%22%3E%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#scoreboard%20%7B%0D%0A%20%20%20%20text-align:%20center;%0D%0A%7D%0D%0A%0D%0A#scene%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20768px;%0D%0A%20%20%20%20height:%20600px;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/game_bg.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#player%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%7D%0D%0A%0D%0A.run%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_run.gif%22);%0D%0A%7D%0D%0A%0D%0A.jump%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_jump.png%22);%0D%0A%7D%0D%0A%0D%0A.crash%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_crash.png%22);%0D%0A%7D%0D%0A%0D%0A#terrainContainer%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20height:%20100%25;%0D%0A%7D%0D%0A%0D%0A.block%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/floor.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.top%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/top_floor.png%22);%0D%0A%7D%0D%0A%0D%0A.platform%20%7B%0D%0A%20%20%20%20height:%2032px;%0D%0A%7D%0D%0A%0D%0A.coin%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/spin_coin.gif%22);%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20width:%2030px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#finishSign%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/finishSign.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.collected%20%7B%0D%0A%20%20%20%20display:%20none;%0D%0A%7D%0D%0A##CSS_E####JS##var%20maxFPS%20=%2030;%0D%0Avar%20timePrevFrame%20=%20Date.now();%0D%0A%0D%0Avar%20gravity%20=%202;%0D%0Avar%20jumpPower%20=%2024;%0D%0Avar%20pixelPerFrame%20=%200;%0D%0Avar%20maxPixelPerFrame%20=%2012;%0D%0A%0D%0Avar%20score%20=%20document.querySelector(%22#score%22);%0D%0A%0D%0Avar%20player%20=%20document.querySelector(%22#player%22);%0D%0Avar%20playerStartTop%20=%20300;%0D%0Avar%20playerTop%20=%20playerStartTop;%0D%0Avar%20playerLeft%20=%20200;%0D%0Avar%20playerWidth%20=%2035;%0D%0Avar%20playerHeight%20=%2064;%0D%0Avar%20playerInAir%20=%20true;%0D%0Avar%20playerActive%20=%20true%0D%0A%0D%0Avar%20terrainContainer%20=%20document.querySelector(%22#terrainContainer%22);%0D%0Avar%20blockSize%20=%2064;%0D%0Avar%20terrainLeft%20=%200;%0D%0Avar%20terrainScroll%20=%203;%0D%0Avar%20terrain%20=%20%20%5B2,%201,%200,%200,%200,%200,%200,%201,%203,%203,%206,%205,%203,%202,%202,%202,%204,%204%5D;%0D%0Avar%20platform%20=%20%5B0,%200,%200,%204,%203,%203%5D;%0D%0Avar%20coins%20=%20%20%20%20%5B0,%200,%200,%205,%206,%205,%202,%202,%200,%203,%200,%200,%200,%208%5D;%0D%0A%0D%0Aplayer.style.left%20=%20playerLeft%20+%20%22px%22;%0D%0AgenerateTerrain();%0D%0AgameLoop();%0D%0A%0D%0Awindow.onkeydown%20=%20function()%20%7B%0D%0A%20%20%20%20if%20(event.code%20===%20%22Space%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(playerInAir%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#%20%20%20%20#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#%20%20%20%20#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#%20%20%20%20#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#pixelPerFrame%20-=%20jumpPower;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#playerInAir%20=%20true;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#player.className%20=%20%22jump%22;#END_EDITABLE#%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20if%20(event.code%20===%20%22Space%22)%20%7B%0D%0A%20%20%20%20//%20%20%20%20%20if%20(playerInAir%20===%20false)%20%7B%0D%0A%20%20%20%20//%20%20%20%20%20%20%20%20%20pixelPerFrame%20-=%20jumpPower;%0D%0A%20%20%20%20//%20%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20//%20%20%20%20%20%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20//%20%20%20%20%20%7D%0D%0A%20%20%20%20//%20%20%20%20%20else%20if%20(secondJump%20===%20false)%20%7B%0D%0A%20%20%20%20//%20%20%20%20%20%20%20%20%20secondJump%20=%20true;%0D%0A%20%20%20%20//%20%20%20%20%20%20%20%20%20pixelPerFrame%20=%20-jumpPower;%0D%0A%20%20%20%20//%20%20%20%20%20%7D%0D%0A%20%20%20%20//%20%7D%0D%0A%7D;%0D%0A%0D%0Afunction%20gameLoop()%20%7B%0D%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0D%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(elapsed%20%3E%20(1000%20/%20maxFPS))%20%7B%0D%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%20(1000%20/%20maxFPS));%0D%0A%20%20%20%20%20%20%20%20requestAnimationFrame(actionPerFrame);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20requestAnimationFrame(gameLoop);%0D%0A%7D%0D%0A%0D%0Afunction%20actionPerFrame()%20%7B%0D%0A%20%20%20%20animateFreefall();%0D%0A%0D%0A%20%20%20%20if%20(playerActive)%20%7B%0D%0A%20%20%20%20%20%20%20%20animateTerrain();%0D%0A%20%20%20%20%20%20%20%20detectCoinCollision();%0D%0A%20%20%20%20%20%20%20%20detectGroundCollision();%0D%0A%20%20%20%20%20%20%20%20detectFinishSign();%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20detectOutOfFrame();%0D%0A%7D%0D%0A%0D%0Afunction%20animateFreefall()%20%7B%0D%0A%20%20%20%20if%20(playerInAir%20===%20true%20&&%20pixelPerFrame%20%3C%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20pixelPerFrame%20+=%20gravity;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20playerTop%20+=%20pixelPerFrame;%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectGroundCollision()%20%7B%0D%0A%20%20%20%20var%20noCollision%20=%20true;%0D%0A%20%20%20%20var%20blocks%20=%20document.querySelectorAll(%22.block%22);%0D%0A%0D%0A%20%20%20%20blocks.forEach(block%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20blockLeft%20=%20block.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20var%20blockNearPlayer%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20blockLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20blockLeft%20+%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(blockNearPlayer%20===%20true%20&&%20playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20blockTop%20=%20block.offsetTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20topCollision%20=%20playerTop%20+%20playerHeight%20%3E=%20blockTop;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(topCollision%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20adjustTop%20=%20blockTop%20-%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(playerTop%20-%20adjustTop%20%3E%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(block.classList.contains(%22platform%22)%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(pixelPerFrame%20%3E=%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20=%20adjustTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20player.className%20=%20%22run%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20noCollision%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20secondJump%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20noCollision;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectCoinCollision()%20%7B%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(coin.className%20===%20%22coin%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20coinLeft%20=%20coin.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20collected%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20coinLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20coinLeft%20+%20coin.offsetWidth%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20+%20playerHeight%20%3E%20coin.offsetTop%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20%3C%20coin.offsetTop%20+%20coin.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(collected)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20currentScore%20=%20parseInt(score.textContent);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20score.textContent%20=%20currentScore%20+%201;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20coin.classList.add(%22collected%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20detectFinishSign()%20%7B%0D%0A%20%20%20%20var%20signLeft%20=%20finishSign.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20var%20finished%20=%20playerInAir%20===%20false%20&&%20playerLeft%20%3E=%20signLeft;%0D%0A%0D%0A%20%20%20%20if%20(finished)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerActive%20=%20false;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(confirm(%22You%20finished%20this%20level,%20play%20again?%22))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20detectOutOfFrame()%20%7B%0D%0A%20%20%20%20var%20sceneHeight%20=%20document.querySelector(%22#scene%22).offsetHeight;%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20&&%20playerTop%20+%20playerHeight%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(playerTop%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playerCrash()%20%7B%0D%0A%20%20%20%20pixelPerFrame%20=%20-maxPixelPerFrame;%0D%0A%20%20%20%20player.className%20=%20%22crash%22;%0D%0A%20%20%20%20playerActive%20=%20false;%0D%0A%7D%0D%0A%0D%0Afunction%20generateTerrain()%20%7B%0D%0A%20%20%20%20terrain.forEach((column,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20newBlocks%20=%20new%20Array(column).fill();%0D%0A%20%20%20%20%20%20%20%20var%20columnLeft%20=%20nthColumn%20*%20blockSize%20+%20playerLeft;%0D%0A%20%20%20%20%20%20%20%20var%20finalColumn%20=%20nthColumn%20===%20terrain.length%20-%201;%0D%0A%0D%0A%20%20%20%20%20%20%20%20newBlocks.forEach((newBlock,%20nthBlock)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newBlock);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.left%20=%20columnLeft%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.bottom%20=%20(column%20-%20nthBlock%20-%201)%20*%20blockSize%20+%20%22px%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthBlock%20===%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%20top%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(finalColumn%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20finishSign%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.id%20=%20%22finishSign%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(finishSign);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.left%20=%20newBlock.style.left;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.bottom%20=%20parseFloat(newBlock.style.bottom)%20+%20blockSize%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(platform%5BnthColumn%5D%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newPlatform%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.className%20=%20%22block%20top%20platform%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newPlatform);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.style.left%20=%20columnLeft%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.style.bottom%20=%20platform%5BnthColumn%5D%20*%20blockSize%20-%2032%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(coins%5BnthColumn%5D%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newCoin%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.className%20=%20%22coin%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newCoin);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20widthDiff%20=%20(blockSize%20-%20newCoin.offsetWidth)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20heightDiff%20=%20(blockSize%20-%20newCoin.offsetHeight)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20floatHeight%20=%20coins%5BnthColumn%5D%20*%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.left%20=%20columnLeft%20+%20widthDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.bottom%20=%20floatHeight%20+%20heightDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20coins%20=%20document.querySelectorAll(%22.coin%22);%0D%0A%20%20%20%20totalCoins.textContent%20=%20coins.length;%0D%0A%7D%0D%0A%0D%0Afunction%20animateTerrain()%20%7B%0D%0A%20%20%20%20terrainLeft%20-=%20terrainScroll;%0D%0A%20%20%20%20terrainContainer.style.left%20=%20terrainLeft%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20resetGame()%20%7B%0D%0A%20%20%20%20playerTop%20=%20playerStartTop;%0D%0A%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20playerActive%20=%20true;%0D%0A%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20terrainLeft%20=%200;%0D%0A%0D%0A%20%20%20%20score.textContent%20=%200;%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20coin.classList.remove(%22collected%22);%0D%0A%20%20%20%20%7D);%0D%0A%7D##JS_E####CODE_9E####LOGIC_9####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60pixelPerFrame%20-=%20jumpPower;%60);%0Apass.if.js.editable(1).equivalent(%60playerInAir%20=%20true;%60);%0Apass.if.js.editable(2).equivalent(%60player.className%20=%20%22jump%22;%60);%0Apass.if.js.editable(3).equivalent(%60%60);%0Apass.if.js.editable(4).equivalent(%60%60);%0Apass.if.js.editable(5).equivalent(%60%60);##JS_E####LOGIC_9E####STEP_9E####STEP_10####INST_10##Condition%20for%202nd%20jump%0A%0AStep%20context.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#else%20if%5D%0A%09(*)%5B#js#relational%20operators%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20playerActive#+1,%20create%20a%20variable%20called%20*secondJump*%20to%20store%20the%20Boolean%20*false*.%0A%0A(!)On%20+js#onkeydown#+7,%20create%20an%20%60else%20if%60%20statement%20to%20check%20whether%20*secondJump*%20is%20equal%20to%20*false*.##INST_10E####CODE_10####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Ch1%20id=%22scoreboard%22%3EScore:%20%3Cspan%20id=%22score%22%3E0%3C/span%3E/%3Cspan%20id=%22totalCoins%22%3E?%3C/span%3E%3C/h1%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cdiv%20id=%22scene%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22terrainContainer%22%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22player%22%20class=%22jump%22%3E%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#scoreboard%20%7B%0D%0A%20%20%20%20text-align:%20center;%0D%0A%7D%0D%0A%0D%0A#scene%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20768px;%0D%0A%20%20%20%20height:%20600px;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/game_bg.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#player%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%7D%0D%0A%0D%0A.run%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_run.gif%22);%0D%0A%7D%0D%0A%0D%0A.jump%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_jump.png%22);%0D%0A%7D%0D%0A%0D%0A.crash%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_crash.png%22);%0D%0A%7D%0D%0A%0D%0A#terrainContainer%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20height:%20100%25;%0D%0A%7D%0D%0A%0D%0A.block%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/floor.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.top%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/top_floor.png%22);%0D%0A%7D%0D%0A%0D%0A.platform%20%7B%0D%0A%20%20%20%20height:%2032px;%0D%0A%7D%0D%0A%0D%0A.coin%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/spin_coin.gif%22);%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20width:%2030px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#finishSign%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/finishSign.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.collected%20%7B%0D%0A%20%20%20%20display:%20none;%0D%0A%7D%0D%0A##CSS_E####JS##var%20maxFPS%20=%2030;%0D%0Avar%20timePrevFrame%20=%20Date.now();%0D%0A%0D%0Avar%20gravity%20=%202;%0D%0Avar%20jumpPower%20=%2024;%0D%0Avar%20pixelPerFrame%20=%200;%0D%0Avar%20maxPixelPerFrame%20=%2012;%0D%0A%0D%0Avar%20score%20=%20document.querySelector(%22#score%22);%0D%0A%0D%0Avar%20player%20=%20document.querySelector(%22#player%22);%0D%0Avar%20playerStartTop%20=%20300;%0D%0Avar%20playerTop%20=%20playerStartTop;%0D%0Avar%20playerLeft%20=%20200;%0D%0Avar%20playerWidth%20=%2035;%0D%0Avar%20playerHeight%20=%2064;%0D%0Avar%20playerInAir%20=%20true;%0D%0Avar%20playerActive%20=%20true;%0D%0A#BEGIN_EDITABLE#var%20secondJump%20=%20false;#END_EDITABLE#%0D%0A%0D%0Avar%20terrainContainer%20=%20document.querySelector(%22#terrainContainer%22);%0D%0Avar%20blockSize%20=%2064;%0D%0Avar%20terrainLeft%20=%200;%0D%0Avar%20terrainScroll%20=%203;%0D%0Avar%20terrain%20=%20%20%5B2,%201,%200,%200,%200,%200,%200,%201,%203,%203,%206,%205,%203,%202,%202,%202,%204,%204%5D;%0D%0Avar%20platform%20=%20%5B0,%200,%200,%204,%203,%203%5D;%0D%0Avar%20coins%20=%20%20%20%20%5B0,%200,%200,%205,%206,%205,%202,%202,%200,%203,%200,%200,%200,%208%5D;%0D%0A%0D%0Aplayer.style.left%20=%20playerLeft%20+%20%22px%22;%0D%0AgenerateTerrain();%0D%0AgameLoop();%0D%0A%0D%0Awindow.onkeydown%20=%20function()%20%7B%0D%0A%20%20%20%20if%20(event.code%20===%20%22Space%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(playerInAir%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20pixelPerFrame%20-=%20jumpPower;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#else%20if%20(secondJump%20===%20false)%20%7B%7D#END_EDITABLE#%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20if%20(event.code%20===%20%22Space%22)%20%7B%0D%0A%20%20%20%20//%20%20%20%20%20if%20(playerInAir%20===%20false)%20%7B%0D%0A%20%20%20%20//%20%20%20%20%20%20%20%20%20pixelPerFrame%20-=%20jumpPower;%0D%0A%20%20%20%20//%20%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20//%20%20%20%20%20%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20//%20%20%20%20%20%7D%0D%0A%20%20%20%20//%20%20%20%20%20else%20if%20(secondJump%20===%20false)%20%7B%0D%0A%20%20%20%20//%20%20%20%20%20%20%20%20%20secondJump%20=%20true;%0D%0A%20%20%20%20//%20%20%20%20%20%20%20%20%20pixelPerFrame%20=%20-jumpPower;%0D%0A%20%20%20%20//%20%20%20%20%20%7D%0D%0A%20%20%20%20//%20%7D%0D%0A%7D;%0D%0A%0D%0Afunction%20gameLoop()%20%7B%0D%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0D%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(elapsed%20%3E%20(1000%20/%20maxFPS))%20%7B%0D%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%20(1000%20/%20maxFPS));%0D%0A%20%20%20%20%20%20%20%20requestAnimationFrame(actionPerFrame);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20requestAnimationFrame(gameLoop);%0D%0A%7D%0D%0A%0D%0Afunction%20actionPerFrame()%20%7B%0D%0A%20%20%20%20animateFreefall();%0D%0A%0D%0A%20%20%20%20if%20(playerActive)%20%7B%0D%0A%20%20%20%20%20%20%20%20animateTerrain();%0D%0A%20%20%20%20%20%20%20%20detectCoinCollision();%0D%0A%20%20%20%20%20%20%20%20detectGroundCollision();%0D%0A%20%20%20%20%20%20%20%20detectFinishSign();%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20detectOutOfFrame();%0D%0A%7D%0D%0A%0D%0Afunction%20animateFreefall()%20%7B%0D%0A%20%20%20%20if%20(playerInAir%20===%20true%20&&%20pixelPerFrame%20%3C%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20pixelPerFrame%20+=%20gravity;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20playerTop%20+=%20pixelPerFrame;%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectGroundCollision()%20%7B%0D%0A%20%20%20%20var%20noCollision%20=%20true;%0D%0A%20%20%20%20var%20blocks%20=%20document.querySelectorAll(%22.block%22);%0D%0A%0D%0A%20%20%20%20blocks.forEach(block%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20blockLeft%20=%20block.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20var%20blockNearPlayer%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20blockLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20blockLeft%20+%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(blockNearPlayer%20===%20true%20&&%20playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20blockTop%20=%20block.offsetTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20topCollision%20=%20playerTop%20+%20playerHeight%20%3E=%20blockTop;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(topCollision%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20adjustTop%20=%20blockTop%20-%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(playerTop%20-%20adjustTop%20%3E%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(block.classList.contains(%22platform%22)%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(pixelPerFrame%20%3E=%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20=%20adjustTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20player.className%20=%20%22run%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20noCollision%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20secondJump%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20noCollision;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectCoinCollision()%20%7B%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(coin.className%20===%20%22coin%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20coinLeft%20=%20coin.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20collected%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20coinLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20coinLeft%20+%20coin.offsetWidth%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20+%20playerHeight%20%3E%20coin.offsetTop%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20%3C%20coin.offsetTop%20+%20coin.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(collected)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20currentScore%20=%20parseInt(score.textContent);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20score.textContent%20=%20currentScore%20+%201;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20coin.classList.add(%22collected%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20detectFinishSign()%20%7B%0D%0A%20%20%20%20var%20signLeft%20=%20finishSign.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20var%20finished%20=%20playerInAir%20===%20false%20&&%20playerLeft%20%3E=%20signLeft;%0D%0A%0D%0A%20%20%20%20if%20(finished)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerActive%20=%20false;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(confirm(%22You%20finished%20this%20level,%20play%20again?%22))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20detectOutOfFrame()%20%7B%0D%0A%20%20%20%20var%20sceneHeight%20=%20document.querySelector(%22#scene%22).offsetHeight;%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20&&%20playerTop%20+%20playerHeight%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(playerTop%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playerCrash()%20%7B%0D%0A%20%20%20%20pixelPerFrame%20=%20-maxPixelPerFrame;%0D%0A%20%20%20%20player.className%20=%20%22crash%22;%0D%0A%20%20%20%20playerActive%20=%20false;%0D%0A%7D%0D%0A%0D%0Afunction%20generateTerrain()%20%7B%0D%0A%20%20%20%20terrain.forEach((column,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20newBlocks%20=%20new%20Array(column).fill();%0D%0A%20%20%20%20%20%20%20%20var%20columnLeft%20=%20nthColumn%20*%20blockSize%20+%20playerLeft;%0D%0A%20%20%20%20%20%20%20%20var%20finalColumn%20=%20nthColumn%20===%20terrain.length%20-%201;%0D%0A%0D%0A%20%20%20%20%20%20%20%20newBlocks.forEach((newBlock,%20nthBlock)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newBlock);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.left%20=%20columnLeft%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.bottom%20=%20(column%20-%20nthBlock%20-%201)%20*%20blockSize%20+%20%22px%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthBlock%20===%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%20top%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(finalColumn%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20finishSign%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.id%20=%20%22finishSign%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(finishSign);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.left%20=%20newBlock.style.left;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.bottom%20=%20parseFloat(newBlock.style.bottom)%20+%20blockSize%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(platform%5BnthColumn%5D%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newPlatform%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.className%20=%20%22block%20top%20platform%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newPlatform);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.style.left%20=%20columnLeft%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.style.bottom%20=%20platform%5BnthColumn%5D%20*%20blockSize%20-%2032%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(coins%5BnthColumn%5D%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newCoin%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.className%20=%20%22coin%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newCoin);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20widthDiff%20=%20(blockSize%20-%20newCoin.offsetWidth)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20heightDiff%20=%20(blockSize%20-%20newCoin.offsetHeight)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20floatHeight%20=%20coins%5BnthColumn%5D%20*%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.left%20=%20columnLeft%20+%20widthDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.bottom%20=%20floatHeight%20+%20heightDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20coins%20=%20document.querySelectorAll(%22.coin%22);%0D%0A%20%20%20%20totalCoins.textContent%20=%20coins.length;%0D%0A%7D%0D%0A%0D%0Afunction%20animateTerrain()%20%7B%0D%0A%20%20%20%20terrainLeft%20-=%20terrainScroll;%0D%0A%20%20%20%20terrainContainer.style.left%20=%20terrainLeft%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20resetGame()%20%7B%0D%0A%20%20%20%20playerTop%20=%20playerStartTop;%0D%0A%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20playerActive%20=%20true;%0D%0A%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20terrainLeft%20=%200;%0D%0A%0D%0A%20%20%20%20score.textContent%20=%200;%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20coin.classList.remove(%22collected%22);%0D%0A%20%20%20%20%7D);%0D%0A%7D##JS_E####CODE_10E####LOGIC_10####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20secondJump%20=%20false;%60);%0Apass.if.js.editable(1).equivalent(%60else%20if%20(secondJump%20===%20false)%20%7B%7D%60).or(%60else%20if%20(secondJump%20==%20false)%20%7B%7D%60).or(%60else%20if%20(false%20===%20secondJump)%20%7B%7D%60).or(%60else%20if%20(false%20==%20secondJump)%20%7B%7D%60).or(%60else%20if%20(!secondJump)%20%7B%7D%60);##JS_E####LOGIC_10E####STEP_10E####STEP_11####INST_11##The%20second%20jump%0A%0AStep%20context.%0A%0A(***)%0A%0A(!)On%20+js#secondJump%20==#+1,%20assign%20*true*%20to%20the%20variable%20*secondJump*.%0A%0A(!)On%20+js#secondJump%20==#+2,%20assign%20the%20negative%20value%20of%20*jumpPower*%20to%20the%20variable%20*pixelPerFrame*.##INST_11E####CODE_11####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Ch1%20id=%22scoreboard%22%3EScore:%20%3Cspan%20id=%22score%22%3E0%3C/span%3E/%3Cspan%20id=%22totalCoins%22%3E?%3C/span%3E%3C/h1%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cdiv%20id=%22scene%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22terrainContainer%22%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22player%22%20class=%22jump%22%3E%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#scoreboard%20%7B%0D%0A%20%20%20%20text-align:%20center;%0D%0A%7D%0D%0A%0D%0A#scene%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20768px;%0D%0A%20%20%20%20height:%20600px;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/game_bg.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#player%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%7D%0D%0A%0D%0A.run%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_run.gif%22);%0D%0A%7D%0D%0A%0D%0A.jump%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_jump.png%22);%0D%0A%7D%0D%0A%0D%0A.crash%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_crash.png%22);%0D%0A%7D%0D%0A%0D%0A#terrainContainer%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20height:%20100%25;%0D%0A%7D%0D%0A%0D%0A.block%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/floor.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.top%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/top_floor.png%22);%0D%0A%7D%0D%0A%0D%0A.platform%20%7B%0D%0A%20%20%20%20height:%2032px;%0D%0A%7D%0D%0A%0D%0A.coin%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/spin_coin.gif%22);%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20width:%2030px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#finishSign%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/finishSign.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.collected%20%7B%0D%0A%20%20%20%20display:%20none;%0D%0A%7D%0D%0A##CSS_E####JS##var%20maxFPS%20=%2030;%0D%0Avar%20timePrevFrame%20=%20Date.now();%0D%0A%0D%0Avar%20gravity%20=%202;%0D%0Avar%20jumpPower%20=%2024;%0D%0Avar%20pixelPerFrame%20=%200;%0D%0Avar%20maxPixelPerFrame%20=%2012;%0D%0A%0D%0Avar%20score%20=%20document.querySelector(%22#score%22);%0D%0A%0D%0Avar%20player%20=%20document.querySelector(%22#player%22);%0D%0Avar%20playerStartTop%20=%20300;%0D%0Avar%20playerTop%20=%20playerStartTop;%0D%0Avar%20playerLeft%20=%20200;%0D%0Avar%20playerWidth%20=%2035;%0D%0Avar%20playerHeight%20=%2064;%0D%0Avar%20playerInAir%20=%20true;%0D%0Avar%20playerActive%20=%20true;%0D%0Avar%20secondJump%20=%20false;%0D%0A%0D%0Avar%20terrainContainer%20=%20document.querySelector(%22#terrainContainer%22);%0D%0Avar%20blockSize%20=%2064;%0D%0Avar%20terrainLeft%20=%200;%0D%0Avar%20terrainScroll%20=%203;%0D%0Avar%20terrain%20=%20%20%5B2,%201,%200,%200,%200,%200,%200,%201,%203,%203,%206,%205,%203,%202,%202,%202,%204,%204%5D;%0D%0Avar%20platform%20=%20%5B0,%200,%200,%204,%203,%203%5D;%0D%0Avar%20coins%20=%20%20%20%20%5B0,%200,%200,%205,%206,%205,%202,%202,%200,%203,%200,%200,%200,%208%5D;%0D%0A%0D%0Aplayer.style.left%20=%20playerLeft%20+%20%22px%22;%0D%0AgenerateTerrain();%0D%0AgameLoop();%0D%0A%0D%0Awindow.onkeydown%20=%20function()%20%7B%0D%0A%20%20%20%20if%20(event.code%20===%20%22Space%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(playerInAir%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20pixelPerFrame%20-=%20jumpPower;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(secondJump%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#secondJump%20=%20true;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#pixelPerFrame%20=%20-jumpPower;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D;%0D%0A%0D%0Afunction%20gameLoop()%20%7B%0D%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0D%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(elapsed%20%3E%20(1000%20/%20maxFPS))%20%7B%0D%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%20(1000%20/%20maxFPS));%0D%0A%20%20%20%20%20%20%20%20requestAnimationFrame(actionPerFrame);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20requestAnimationFrame(gameLoop);%0D%0A%7D%0D%0A%0D%0Afunction%20actionPerFrame()%20%7B%0D%0A%20%20%20%20animateFreefall();%0D%0A%0D%0A%20%20%20%20if%20(playerActive)%20%7B%0D%0A%20%20%20%20%20%20%20%20animateTerrain();%0D%0A%20%20%20%20%20%20%20%20detectCoinCollision();%0D%0A%20%20%20%20%20%20%20%20detectGroundCollision();%0D%0A%20%20%20%20%20%20%20%20detectFinishSign();%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20detectOutOfFrame();%0D%0A%7D%0D%0A%0D%0Afunction%20animateFreefall()%20%7B%0D%0A%20%20%20%20if%20(playerInAir%20===%20true%20&&%20pixelPerFrame%20%3C%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20pixelPerFrame%20+=%20gravity;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20playerTop%20+=%20pixelPerFrame;%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectGroundCollision()%20%7B%0D%0A%20%20%20%20var%20noCollision%20=%20true;%0D%0A%20%20%20%20var%20blocks%20=%20document.querySelectorAll(%22.block%22);%0D%0A%0D%0A%20%20%20%20blocks.forEach(block%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20blockLeft%20=%20block.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20var%20blockNearPlayer%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20blockLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20blockLeft%20+%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(blockNearPlayer%20===%20true%20&&%20playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20blockTop%20=%20block.offsetTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20topCollision%20=%20playerTop%20+%20playerHeight%20%3E=%20blockTop;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(topCollision%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20adjustTop%20=%20blockTop%20-%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(playerTop%20-%20adjustTop%20%3E%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(block.classList.contains(%22platform%22)%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(pixelPerFrame%20%3E=%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20=%20adjustTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20player.className%20=%20%22run%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20noCollision%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20secondJump%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20noCollision;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectCoinCollision()%20%7B%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(coin.className%20===%20%22coin%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20coinLeft%20=%20coin.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20collected%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20coinLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20coinLeft%20+%20coin.offsetWidth%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20+%20playerHeight%20%3E%20coin.offsetTop%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20%3C%20coin.offsetTop%20+%20coin.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(collected)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20currentScore%20=%20parseInt(score.textContent);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20score.textContent%20=%20currentScore%20+%201;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20coin.classList.add(%22collected%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20detectFinishSign()%20%7B%0D%0A%20%20%20%20var%20signLeft%20=%20finishSign.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20var%20finished%20=%20playerInAir%20===%20false%20&&%20playerLeft%20%3E=%20signLeft;%0D%0A%0D%0A%20%20%20%20if%20(finished)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerActive%20=%20false;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(confirm(%22You%20finished%20this%20level,%20play%20again?%22))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20detectOutOfFrame()%20%7B%0D%0A%20%20%20%20var%20sceneHeight%20=%20document.querySelector(%22#scene%22).offsetHeight;%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20&&%20playerTop%20+%20playerHeight%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(playerTop%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playerCrash()%20%7B%0D%0A%20%20%20%20pixelPerFrame%20=%20-maxPixelPerFrame;%0D%0A%20%20%20%20player.className%20=%20%22crash%22;%0D%0A%20%20%20%20playerActive%20=%20false;%0D%0A%7D%0D%0A%0D%0Afunction%20generateTerrain()%20%7B%0D%0A%20%20%20%20terrain.forEach((column,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20newBlocks%20=%20new%20Array(column).fill();%0D%0A%20%20%20%20%20%20%20%20var%20columnLeft%20=%20nthColumn%20*%20blockSize%20+%20playerLeft;%0D%0A%20%20%20%20%20%20%20%20var%20finalColumn%20=%20nthColumn%20===%20terrain.length%20-%201;%0D%0A%0D%0A%20%20%20%20%20%20%20%20newBlocks.forEach((newBlock,%20nthBlock)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newBlock);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.left%20=%20columnLeft%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.bottom%20=%20(column%20-%20nthBlock%20-%201)%20*%20blockSize%20+%20%22px%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthBlock%20===%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%20top%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(finalColumn%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20finishSign%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.id%20=%20%22finishSign%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(finishSign);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.left%20=%20newBlock.style.left;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.bottom%20=%20parseFloat(newBlock.style.bottom)%20+%20blockSize%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(platform%5BnthColumn%5D%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newPlatform%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.className%20=%20%22block%20top%20platform%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newPlatform);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.style.left%20=%20columnLeft%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.style.bottom%20=%20platform%5BnthColumn%5D%20*%20blockSize%20-%2032%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(coins%5BnthColumn%5D%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newCoin%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.className%20=%20%22coin%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newCoin);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20widthDiff%20=%20(blockSize%20-%20newCoin.offsetWidth)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20heightDiff%20=%20(blockSize%20-%20newCoin.offsetHeight)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20floatHeight%20=%20coins%5BnthColumn%5D%20*%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.left%20=%20columnLeft%20+%20widthDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.bottom%20=%20floatHeight%20+%20heightDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20coins%20=%20document.querySelectorAll(%22.coin%22);%0D%0A%20%20%20%20totalCoins.textContent%20=%20coins.length;%0D%0A%7D%0D%0A%0D%0Afunction%20animateTerrain()%20%7B%0D%0A%20%20%20%20terrainLeft%20-=%20terrainScroll;%0D%0A%20%20%20%20terrainContainer.style.left%20=%20terrainLeft%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20resetGame()%20%7B%0D%0A%20%20%20%20playerTop%20=%20playerStartTop;%0D%0A%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20playerActive%20=%20true;%0D%0A%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20terrainLeft%20=%200;%0D%0A%0D%0A%20%20%20%20score.textContent%20=%200;%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20coin.classList.remove(%22collected%22);%0D%0A%20%20%20%20%7D);%0D%0A%7D##JS_E####CODE_11E####LOGIC_11####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60secondJump%20=%20true;%60);%0Apass.if.js.editable(1).equivalent(%60pixelPerFrame%20=%20-jumpPower;%60);##JS_E####LOGIC_11E####STEP_11E####STEP_12####INST_12##Summary%0A%0AGreat%20job!%0A%0AYou%20have%20completed%20this%20project,%20here%20is%20a%20recap:%0A%0A%5B-%0A%09(*)item%201%0A%09(*)item%202%0A-%5D##INST_12E####CODE_12####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Ch1%20id=%22scoreboard%22%3EScore:%20%3Cspan%20id=%22score%22%3E0%3C/span%3E/%3Cspan%20id=%22totalCoins%22%3E?%3C/span%3E%3C/h1%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cdiv%20id=%22scene%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22terrainContainer%22%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22player%22%20class=%22jump%22%3E%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#scoreboard%20%7B%0D%0A%20%20%20%20text-align:%20center;%0D%0A%7D%0D%0A%0D%0A#scene%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20768px;%0D%0A%20%20%20%20height:%20600px;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/game_bg.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#player%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%7D%0D%0A%0D%0A.run%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_run.gif%22);%0D%0A%7D%0D%0A%0D%0A.jump%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_jump.png%22);%0D%0A%7D%0D%0A%0D%0A.crash%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/mario_crash.png%22);%0D%0A%7D%0D%0A%0D%0A#terrainContainer%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20height:%20100%25;%0D%0A%7D%0D%0A%0D%0A.block%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/floor.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.top%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/top_floor.png%22);%0D%0A%7D%0D%0A%0D%0A.platform%20%7B%0D%0A%20%20%20%20height:%2032px;%0D%0A%7D%0D%0A%0D%0A.coin%20%7B%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/spin_coin.gif%22);%0D%0A%20%20%20%20background-size:%20contain;%0D%0A%20%20%20%20width:%2030px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#finishSign%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%2064px;%0D%0A%20%20%20%20height:%2064px;%0D%0A%20%20%20%20background-image:%20url(%22https://app.bsd.education/resources/finishSign.png%22);%0D%0A%20%20%20%20background-size:%20cover;%0D%0A%7D%0D%0A%0D%0A.collected%20%7B%0D%0A%20%20%20%20display:%20none;%0D%0A%7D##CSS_E####JS##var%20maxFPS%20=%2030;%0D%0Avar%20timePrevFrame%20=%20Date.now();%0D%0A%0D%0Avar%20gravity%20=%202;%0D%0Avar%20jumpPower%20=%2024;%0D%0Avar%20pixelPerFrame%20=%200;%0D%0Avar%20maxPixelPerFrame%20=%2012;%0D%0A%0D%0Avar%20score%20=%20document.querySelector(%22#score%22);%0D%0A%0D%0Avar%20player%20=%20document.querySelector(%22#player%22);%0D%0Avar%20playerStartTop%20=%20300;%0D%0Avar%20playerTop%20=%20playerStartTop;%0D%0Avar%20playerLeft%20=%20200;%0D%0Avar%20playerWidth%20=%2035;%0D%0Avar%20playerHeight%20=%2064;%0D%0Avar%20playerInAir%20=%20true;%0D%0Avar%20playerActive%20=%20true;%0D%0Avar%20secondJump%20=%20false;%0D%0A%0D%0Avar%20terrainContainer%20=%20document.querySelector(%22#terrainContainer%22);%0D%0Avar%20blockSize%20=%2064;%0D%0Avar%20terrainLeft%20=%200;%0D%0Avar%20terrainScroll%20=%203;%0D%0Avar%20terrain%20=%20%20%5B2,%201,%201,%201,%201,%201,%201,%201,%203,%203,%205,%205,%203,%202,%202,%204,%204%5D;%0D%0Avar%20platform%20=%20%5B0,%200,%200,%204,%203,%203%5D;%0D%0Avar%20coins%20=%20%20%20%20%5B0,%200,%200,%204,%205,%204,%202,%202,%200,%203,%200,%207%5D;%0D%0A%0D%0Aplayer.style.left%20=%20playerLeft%20+%20%22px%22;%0D%0AgenerateTerrain();%0D%0AgameLoop();%0D%0A%0D%0Awindow.onkeydown%20=%20function()%20%7B%0D%0A%20%20%20%20if%20(event.code%20===%20%22Space%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(playerInAir%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20pixelPerFrame%20-=%20jumpPower;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(secondJump%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20secondJump%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20pixelPerFrame%20=%20-jumpPower;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D;%0D%0A%0D%0Afunction%20gameLoop()%20%7B%0D%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0D%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(elapsed%20%3E%20(1000%20/%20maxFPS))%20%7B%0D%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%20(1000%20/%20maxFPS));%0D%0A%20%20%20%20%20%20%20%20requestAnimationFrame(actionPerFrame);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20requestAnimationFrame(gameLoop);%0D%0A%7D%0D%0A%0D%0Afunction%20actionPerFrame()%20%7B%0D%0A%20%20%20%20animateFreefall();%0D%0A%0D%0A%20%20%20%20if%20(playerActive)%20%7B%0D%0A%20%20%20%20%20%20%20%20animateTerrain();%0D%0A%20%20%20%20%20%20%20%20detectCoinCollision();%0D%0A%20%20%20%20%20%20%20%20detectGroundCollision();%0D%0A%20%20%20%20%20%20%20%20detectFinishSign();%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20detectOutOfFrame();%0D%0A%7D%0D%0A%0D%0Afunction%20animateFreefall()%20%7B%0D%0A%20%20%20%20if%20(playerInAir%20===%20true%20&&%20pixelPerFrame%20%3C%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20pixelPerFrame%20+=%20gravity;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20playerTop%20+=%20pixelPerFrame;%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectGroundCollision()%20%7B%0D%0A%20%20%20%20var%20noCollision%20=%20true;%0D%0A%20%20%20%20var%20blocks%20=%20document.querySelectorAll(%22.block%22);%0D%0A%0D%0A%20%20%20%20blocks.forEach(block%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20blockLeft%20=%20block.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20var%20blockNearPlayer%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20blockLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20blockLeft%20+%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(blockNearPlayer%20===%20true%20&&%20playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20blockTop%20=%20block.offsetTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20topCollision%20=%20playerTop%20+%20playerHeight%20%3E=%20blockTop;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(topCollision%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20adjustTop%20=%20blockTop%20-%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(playerTop%20-%20adjustTop%20%3E%20maxPixelPerFrame)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(block.classList.contains(%22platform%22)%20===%20false)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(pixelPerFrame%20%3E=%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20=%20adjustTop;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20player.className%20=%20%22run%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20noCollision%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20secondJump%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20noCollision;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20player.style.top%20=%20playerTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20detectCoinCollision()%20%7B%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(coin.className%20===%20%22coin%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20coinLeft%20=%20coin.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20collected%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20+%20playerWidth%20%3E%20coinLeft%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerLeft%20%3C%20coinLeft%20+%20coin.offsetWidth%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20+%20playerHeight%20%3E%20coin.offsetTop%20&&%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playerTop%20%3C%20coin.offsetTop%20+%20coin.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(collected)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20currentScore%20=%20parseInt(score.textContent);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20score.textContent%20=%20currentScore%20+%201;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20coin.classList.add(%22collected%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20detectFinishSign()%20%7B%0D%0A%20%20%20%20var%20signLeft%20=%20finishSign.offsetLeft%20+%20terrainContainer.offsetLeft;%0D%0A%20%20%20%20var%20finished%20=%20playerInAir%20===%20false%20&&%20playerLeft%20%3E=%20signLeft;%0D%0A%0D%0A%20%20%20%20if%20(finished)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerActive%20=%20false;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(confirm(%22You%20finished%20this%20level,%20play%20again?%22))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20detectOutOfFrame()%20%7B%0D%0A%20%20%20%20var%20sceneHeight%20=%20document.querySelector(%22#scene%22).offsetHeight;%0D%0A%0D%0A%20%20%20%20if%20(playerActive%20&&%20playerTop%20+%20playerHeight%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20playerCrash();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(playerTop%20%3E%20sceneHeight)%20%7B%0D%0A%20%20%20%20%20%20%20%20resetGame();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playerCrash()%20%7B%0D%0A%20%20%20%20pixelPerFrame%20=%20-maxPixelPerFrame;%0D%0A%20%20%20%20player.className%20=%20%22crash%22;%0D%0A%20%20%20%20playerActive%20=%20false;%0D%0A%7D%0D%0A%0D%0Afunction%20generateTerrain()%20%7B%0D%0A%20%20%20%20terrain.forEach((column,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20newBlocks%20=%20new%20Array(column).fill();%0D%0A%20%20%20%20%20%20%20%20var%20columnLeft%20=%20nthColumn%20*%20blockSize%20+%20playerLeft;%0D%0A%20%20%20%20%20%20%20%20var%20finalColumn%20=%20nthColumn%20===%20terrain.length%20-%201;%0D%0A%0D%0A%20%20%20%20%20%20%20%20newBlocks.forEach((newBlock,%20nthBlock)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newBlock);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.left%20=%20columnLeft%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newBlock.style.bottom%20=%20(column%20-%20nthBlock%20-%201)%20*%20blockSize%20+%20%22px%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthBlock%20===%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%20top%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(finalColumn%20===%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20finishSign%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.id%20=%20%22finishSign%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(finishSign);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.left%20=%20newBlock.style.left;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20finishSign.style.bottom%20=%20parseFloat(newBlock.style.bottom)%20+%20blockSize%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newBlock.className%20=%20%22block%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(platform%5BnthColumn%5D%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newPlatform%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.className%20=%20%22block%20top%20platform%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newPlatform);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.style.left%20=%20columnLeft%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newPlatform.style.bottom%20=%20platform%5BnthColumn%5D%20*%20blockSize%20-%2032%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(coins%5BnthColumn%5D%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newCoin%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.className%20=%20%22coin%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20terrainContainer.appendChild(newCoin);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20widthDiff%20=%20(blockSize%20-%20newCoin.offsetWidth)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20heightDiff%20=%20(blockSize%20-%20newCoin.offsetHeight)%20/%202;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20floatHeight%20=%20coins%5BnthColumn%5D%20*%20blockSize;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.left%20=%20columnLeft%20+%20widthDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newCoin.style.bottom%20=%20floatHeight%20+%20heightDiff%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20coins%20=%20document.querySelectorAll(%22.coin%22);%0D%0A%20%20%20%20totalCoins.textContent%20=%20coins.length;%0D%0A%7D%0D%0A%0D%0Afunction%20animateTerrain()%20%7B%0D%0A%20%20%20%20terrainLeft%20-=%20terrainScroll;%0D%0A%20%20%20%20terrainContainer.style.left%20=%20terrainLeft%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20resetGame()%20%7B%0D%0A%20%20%20%20playerTop%20=%20playerStartTop;%0D%0A%20%20%20%20player.className%20=%20%22jump%22;%0D%0A%20%20%20%20playerInAir%20=%20true;%0D%0A%20%20%20%20playerActive%20=%20true;%0D%0A%20%20%20%20pixelPerFrame%20=%200;%0D%0A%20%20%20%20terrainLeft%20=%200;%0D%0A%0D%0A%20%20%20%20score.textContent%20=%200;%0D%0A%20%20%20%20coins.forEach(coin%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20coin.classList.remove(%22collected%22);%0D%0A%20%20%20%20%7D);%0D%0A%7D##JS_E####CODE_12E####LOGIC_12####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_12E####STEP_12E##