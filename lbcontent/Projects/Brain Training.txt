1##STEP_1####INST_1##Brain%20Training%20Game##INST_1E####CODE_1####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0A%09%3Cscript%20type=%22text/javascript%22%20src=%22script.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%09%3Cdiv%20id=%22gameWindow%22%3E%0A%20%20%20%20%09%3Cdiv%20id=%22stackContainer%22%3E%0A%20%20%20%20%09%09%3Cdiv%20id=%22stackBase%22%3E%3C/div%3E%0A%20%20%20%20%09%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%09%3Cdiv%20id=%22notification%22%20class=%22font%22%3E%0A%20%20%20%20%09%09%3Cp%20id=%22gameInfo%22%3E%3C/p%3E%0A%20%20%20%20%09%09%3Cdiv%20id=%22theButton%22%3EBUTTON%3C/div%3E%0A%20%20%20%20%09%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%09%3Cdiv%20id=%22ctrlInfoFrame%22%3E%0A%20%20%20%20%09%09%3Cdiv%20id=%22keyOne%22%20class=%22keyGuides%20font%22%3E1%3C/div%3E%0A%20%20%20%20%09%09%3Cdiv%20id=%22keyTwo%22%20class=%22keyGuides%20font%22%3E2%3C/div%3E%0A%20%20%20%20%09%09%3Cdiv%20id=%22keyThree%22%20class=%22keyGuides%20font%22%3E3%3C/div%3E%0A%20%20%20%20%09%09%3Cdiv%20id=%22keyFour%22%20class=%22keyGuides%20font%22%3E4%3C/div%3E%0A%20%20%20%20%09%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cp%20id=%22debug1%22%20class=%22debug%20font%20hidden%22%3EDEBUG%3C/p%3E%0A%20%20%20%20%3Cp%20id=%22debug2%22%20class=%22debug%20font%20hidden%22%3EDEBUG%3C/p%3E%0A%20%20%20%20%3Cp%20id=%22debug3%22%20class=%22debug%20font%22%3EDEBUG%3C/p%3E%0A%20%20%20%20%3Cp%20id=%22debug4%22%20class=%22debug%20font%22%3EDEBUG%3C/p%3E%0A%3C/body%3E%0A%3C/html%3E##HTML_E####CSS##@import%20url('https://fonts.googleapis.com/css?family=Chelsea+Market');%0D%0A%0D%0A.font%20%7B%0D%0A%20%20%20%20font-family:%20'Chelsea%20Market',%20cursive;%0D%0A%7D%0D%0A%0D%0A#gameWindow%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%20%20%20%20width:%201024px;%0D%0A%20%20%20%20height:%20576px;%0D%0A%20%20%20%20background-color:%20slategrey;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#notification%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%201024px;%0D%0A%20%20%20%20margin:%2020px%20auto;%0D%0A%20%20%20%20color:%20darkslategrey;%0D%0A%20%20%20%20font-size:%2025px;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background:%20rgba(255,%20255,%20255,%200.3);%0D%0A%20%20%20%20user-select:%20none;%0D%0A%20%20%20%20cursor:%20default;%0D%0A%7D%0D%0A%0D%0A#gameInfo%20%7B%0D%0A%20%20%20%20width:%201024px;%0D%0A%20%20%20%20color:%20darkslategrey;%0D%0A%20%20%20%20font-size:%2025px;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%7D%0D%0A%0D%0A#theButton%20%7B%0D%0A%20%20%20%20margin:%20auto%20auto%2020px;%0D%0A%20%20%20%20width:%20300px;%0D%0A%20%20%20%20height:%2050px;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2035px;%0D%0A%20%20%20%20background:%20rgba(0,%200,%200,%200.6);%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0A.debug%20%7B%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20cursor:%20default;%0D%0A%7D%0D%0A%0D%0A.true%20%7B%0D%0A%20%20%20%20color:%20deepskyblue;%0D%0A%7D%0D%0A%0D%0A.false%20%7B%0D%0A%20%20%20%20color:%20darkred;%0D%0A%7D%0D%0A%0D%0A.hidden%20%7B%0D%0A%20%20%20%20color:%20white;%20%20%20%20%0D%0A%7D%0D%0A%0D%0A%0D%0A#ctrlInfoFrame%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%201024px;%0D%0A%20%20%20%20height:%2050px;%0D%0A%20%20%20%20bottom:%20-50px;%20%20%20%20%0D%0A%7D%0D%0A%0D%0A#keyOne%20%7B%0D%0A%20%20%20%20color:%20#5a2d0c;%0D%0A%20%20%20%20background:%20rgba(139,%2069,%2019,%200.8);%0D%0A%7D%0D%0A%0D%0A#keyTwo%20%7B%0D%0A%20%20%20%20left:%20256px;%0D%0A%20%20%20%20color:%20#194d30;%0D%0A%20%20%20%20background:%20rgba(46,%20139,%2087,%200.8);%0D%0A%7D%0D%0A%0D%0A#keyThree%20%7B%0D%0A%20%20%20%20left:%20512px;%0D%0A%20%20%20%20color:%20#665700;%0D%0A%20%20%20%20background:%20rgba(255,%20215,%200,%200.8);%0D%0A%7D%0D%0A%0D%0A#keyFour%20%7B%0D%0A%20%20%20%20left:%20768px;%0D%0A%20%20%20%20color:%20#665c00;%0D%0A%20%20%20%20background:%20rgba(255,%20250,%20205,%200.8);%0D%0A%7D%0D%0A%0D%0A.keyGuides%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%20256px;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-size:%2041px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0A.guidesAnim%20%7B%0D%0A%20%20%20%20animation:%20guidesIn%200.5s%20ease-out%20forwards;%0D%0A%7D%0D%0A%0D%0A%0D%0A@keyframes%20guidesIn%20%7B%0D%0A%20%20%20%20from%20%7B%0D%0A%20%20%20%20%20%20%20%20opacity:%200;%0D%0A%20%20%20%20%20%20%20%20bottom:%20-50px;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20to%20%7B%0D%0A%20%20%20%20%20%20%20%20opacity:%201;%0D%0A%20%20%20%20%20%20%20%20bottom:%200px;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A%0D%0A#stackContainer%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%201024px;%0D%0A%20%20%20%20height:%20576px;%20%20%20%0D%0A%7D%0D%0A%0D%0A#stackBase%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%20200px;%0D%0A%20%20%20%20height:%2035px;%0D%0A%20%20%20%20border-radius:%2015px%2015px%2012px%2012px;%0D%0A%20%20%20%20border:%202px%20solid%20#604706;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%20%20%20%20background:%20darkgoldenrod;%0D%0A%7D%0D%0A%0D%0A.stackCap%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%20200px;%0D%0A%20%20%20%20height:%2045px;%0D%0A%20%20%20%20border-radius:%2035px%2035px%2012px%2012px;%0D%0A%20%20%20%20border:%202px%20solid%20#604706;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%20%20%20%20background:%20darkgoldenrod;%0D%0A%7D%0D%0A%0D%0A.beef%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%20195px;%0D%0A%20%20%20%20height:%2020px;%0D%0A%20%20%20%20left:%2067px;%0D%0A%20%20%20%20bottom:%200px;%0D%0A%20%20%20%20border-radius:%208px;%0D%0A%20%20%20%20border:%202px%20solid%20#5a2d0c;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%20%20%20%20background:%20saddlebrown;%0D%0A%7D%0D%0A%0D%0A.lettuce%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%20210px;%0D%0A%20%20%20%20height:%2024px;%0D%0A%20%20%20%20left:%20302px;%0D%0A%20%20%20%20bottom:%200px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20border:%202px%20solid%20#194d30;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%20%20%20%20background:%20seagreen;%0D%0A%7D%0D%0A%0D%0A.cheese%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%20180px;%0D%0A%20%20%20%20height:%2012px;%0D%0A%20%20%20%20left:%20552px;%0D%0A%20%20%20%20bottom:%200px;%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20border:%202px%20solid%20#665700;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%20%20%20%20background:%20gold;%0D%0A%7D%0D%0A%0D%0A.onion%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width:%20175px;%0D%0A%20%20%20%20height:%2016px;%0D%0A%20%20%20%20left:%20777px;%0D%0A%20%20%20%20bottom:%200px;%0D%0A%20%20%20%20border-radius:%2012px;%0D%0A%20%20%20%20border:%202px%20solid%20#665c00;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%20%20%20%20background:%20lemonchiffon;%0D%0A%7D%0D%0A%0D%0A.baseAnim%20%7B%0D%0A%20%20%20%20animation:%20demoIn%200.5s%20ease-out%20forwards;%0D%0A%7D%0D%0A%0D%0A.stackAnim%20%7B%0D%0A%20%20%20%20animation:%20fadeOut%200.5s%20ease%20forwards;%0D%0A%7D%0D%0A%0D%0A@keyframes%20demoIn%20%7B%0D%0A%20%20%20%20from%20%7B%0D%0A%20%20%20%20%20%20%20%20opacity:%200;%0D%0A%20%20%20%20%20%20%20%20bottom:%20-35px;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20to%20%7B%0D%0A%20%20%20%20%20%20%20%20opacity:%201;%0D%0A%20%20%20%20%20%20%20%20bottom:%2080px;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A@keyframes%20fadeOut%20%7B%0D%0A%20%20%20%20from%20%7B%0D%0A%20%20%20%20%20%20%20%20opacity:%201;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20to%20%7B%0D%0A%20%20%20%20%20%20%20%20opacity:%200;%0D%0A%20%20%20%20%7D%0D%0A%7D##CSS_E####JS##//===================================================////===================================================//%0D%0A//==================%20INITIALIZATION%20=================////===================================================//%0D%0A//===================================================////===================================================//%0D%0A%0D%0A//----------%20HTML%20ELEMENTS%20----------//%0D%0Avar%20gameWindow%20=%20document.getElementById(%22gameWindow%22);%0D%0Avar%20ctrlInfo%20=%20document.getElementById(%22ctrlInfoFrame%22);%0D%0Avar%20stackContainer%20=%20document.getElementById(%22stackContainer%22);%0D%0Avar%20stackBase%20=%20document.getElementById(%22stackBase%22);%0D%0Avar%20gameInfo%20=%20document.getElementById(%22gameInfo%22);%0D%0Avar%20theButton%20=%20document.getElementById(%22theButton%22);%0D%0Avar%20debug1%20=%20document.getElementById(%22debug1%22);%0D%0Avar%20debug2%20=%20document.getElementById(%22debug2%22);%0D%0Avar%20debug3%20=%20document.getElementById(%22debug3%22);%0D%0Avar%20debug4%20=%20document.getElementById(%22debug4%22);%0D%0A%0D%0Avar%20gameWidth%20=%20parseInt(window.getComputedStyle(gameWindow,%20null).getPropertyValue(%22width%22));%0D%0Avar%20gameHeight%20=%20parseInt(window.getComputedStyle(gameWindow,%20null).getPropertyValue(%22height%22));%0D%0Avar%20baseWidth%20=%20parseInt(window.getComputedStyle(stackBase,%20null).getPropertyValue(%22width%22));%0D%0Avar%20baseHeight%20=%20parseInt(window.getComputedStyle(stackBase,%20null).getPropertyValue(%22height%22));%0D%0A%0D%0A//----------%20ARRAYS%20----------//%0D%0Avar%20demoSeq%20=%20%5B%5D;%09%09//----------%20Randomly%20generated%0D%0Avar%20playerSeq%20=%20%5B%5D;%09%09//----------%20Sequence%20of%20player%20input%0D%0Avar%20demoStack%20=%20%5B%5D;%09%09//----------%20Array%20to%20hold%20the%20visible%20stack%20----------/%0D%0Avar%20playerStack%20=%20%5B%5D;%09//----------//----------//----------//----------//----/%0D%0Avar%20gap%20=%20%5B1%5D;%09%09//----------%20Distance%20to%20where%20it%20will%20land%20for%20every%20slice%0D%0A%0D%0A//----------%20TOGGLES%20----------//%0D%0Avar%20idle%20=%20true;%0D%0Avar%20gameOver%20=%20false;%0D%0Avar%20levelClear%20=%20false;%0D%0Avar%20inputAllowed%20=%20false;%0D%0A%0D%0A//----------%20GAME%20SETTINGS%20----------//%0D%0Avar%20fallSpeed%20=%2010;%0D%0Avar%20stackSize%20=%203;%09%09%09//----------%20Number%20of%20slice%20in%20the%20initial%20stack%0D%0Avar%20timePerSlice%20=%20350;%09%09//----------%20Milliseconds%20per%20slice%20before%20demo%20stack%20disappears%0D%0A%0D%0A//===================================================////===================================================//%0D%0A//==================%20EVENT%20HANDLERS%20=================////===================================================//%0D%0A//===================================================////===================================================//%0D%0A%0D%0Awindow.addEventListener('keyup',%20function(evt)%0D%0A%7B%0D%0A%09if%20(inputAllowed)%09%09//----------%20This%20is%20to%20prevent%20rapid%20keypress%20causing%20slices%20to%20spawn%20too%20close%20to%20one%20another%20(ref:%20261,%20321,%20326,%20359)%0D%0A%09%7B%0D%0A%09%09inputAllowed%20=%20false;%0D%0A%0D%0A%09%09switch%20(evt.keyCode)%0D%0A%09%09%7B%0D%0A%09%09%09case%2049:%0D%0A%09%09%09%09spawnSlice(1);%0D%0A%09%09%09%09break;%0D%0A%0D%0A%09%09%09case%2050:%0D%0A%09%09%09%09spawnSlice(2);%0D%0A%09%09%09%09break;%0D%0A%0D%0A%09%09%09case%2051:%0D%0A%09%09%09%09spawnSlice(3);%0D%0A%09%09%09%09break;%0D%0A%0D%0A%09%09%09case%2052:%0D%0A%09%09%09%09spawnSlice(4);%0D%0A%09%09%09%09break;%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%7D);%0D%0A%0D%0A//===================================================////===================================================//%0D%0A//====================%20FUNCTIONS%20====================////===================================================//%0D%0A//===================================================////===================================================//%0D%0A%0D%0Afunction%20sliceClass(id)%09%09%09//----------%20This%20function%20has%20a%20return%20value%0D%0A%7B%0D%0A%09switch%20(id)%0D%0A%09%7B%0D%0A%09%09case%201:%09return%20%22beef%22;%0D%0A%0D%0A%09%09case%202:%09return%20%22lettuce%22;%0D%0A%0D%0A%09%09case%203:%09return%20%22cheese%22;%0D%0A%0D%0A%09%09case%204:%09return%20%22onion%22;%0D%0A%09%7D%0D%0A%7D%0D%0A%0D%0Afunction%20fallAnim(elemIndex,%20elemID,%20prevElemID)%0D%0A%7B%0D%0A%09var%20elem%20=%20document.getElementById(elemID);%09%09//----------%20Target%20slice%20to%20move%0D%0A%09var%20elemTop%20=%20parseInt(window.getComputedStyle(elem,%20null).getPropertyValue(%22top%22));%0D%0A%09var%20elemHeight%20=%20parseInt(window.getComputedStyle(elem,%20null).getPropertyValue(%22height%22));%0D%0A%0D%0A%09var%20prevElem%20=%20document.getElementById(prevElemID);%09%09//----------%20Landing%20reference%0D%0A%09var%20prevElemTop%20=%20parseInt(window.getComputedStyle(prevElem,%20null).getPropertyValue(%22top%22));%0D%0A%09var%20prevElemHeight%20=%20parseInt(window.getComputedStyle(prevElem,%20null).getPropertyValue(%22height%22));%0D%0A%0D%0A%09gap%5BelemIndex%5D%20=%20prevElemTop%20-%20elemTop%20-%20elemHeight;%0D%0A%0D%0A%09if%20(gap%5BelemIndex%5D%20%3E%20fallSpeed)%09%09//----------//----------%20%5BDistance%20to%20Landing%5D%20%3E%20%5BDistance%20to%20Move%5D%0D%0A%09%7B%0D%0A%09%09elem.style.top%20=%20elemTop%20+%20fallSpeed%20+%20%22px%22;%09//----------%20Move%0D%0A%09%7D%0D%0A%09else%20%7B%0D%0A%09%09elem.style.top%20=%20prevElemTop%20-%20elemHeight%20+%20%22px%22;%09//----------%20Snap%20to%20projected%20landing%20position%0D%0A%09%7D%0D%0A%7D%0D%0A%0D%0Afunction%20allLanded()%0D%0A%7B%0D%0A%09return%20gap%5Bgap.length%20-%201%5D%20===%200;%0D%0A%7D%0D%0A%0D%0Afunction%20clearContent()%0D%0A%7B%0D%0A%09for%20(i%20=%201;%20i%20%3C%20demoStack.length;%20i++)%0D%0A%09%7B%0D%0A%09%09stackContainer.removeChild(demoStack%5Bi%5D);%0D%0A%09%7D%0D%0A%0D%0A%09for%20(i%20=%201;%20i%20%3C%20playerStack.length;%20i++)%0D%0A%09%7B%0D%0A%09%09stackContainer.removeChild(playerStack%5Bi%5D);%0D%0A%09%7D%0D%0A%09%0D%0A%09gap%20=%20%5B1%5D;%09%09%09%09%09%09//----------%20A%20non-zero%20value%20at%20the%20end%20of%20gap%5B%5D%20tells%20other%20functions%20there%20are%20more%20slices%20to%20be%20added%20to%20the%20stack%20(usage:%20120)%0D%0A%09demoStack%20=%20%5BstackBase%5D;%09%09//----------%20Putting%20the%20base%20in%20demoStack%5B%5D%20and%20playerStack%5B%5D%20helps%20to%20calculate%20the%20landing%20distance%20of%20the%20first%20slice%20(usage:%2099~115)%0D%0A%09playerStack%20=%20%5BstackBase%5D;%0D%0A%0D%0A%09gameOver%20=%20false;%0D%0A%09levelClear%20=%20false;%0D%0A%7D%0D%0A%0D%0A//===================================================////===================================================//%0D%0A//====================%20GAME%20FLOW%20====================////===================================================//%0D%0A//===================================================////===================================================//%0D%0A%0D%0Afunction%20startDemo()%0D%0A%7B%0D%0A%09theButton.style.display%20=%20%22none%22;%0D%0A%09ctrlInfo.style.bottom%20=%20%22-50px%22;%0D%0A%09gameInfo.innerHTML%20=%20%22Watch%20closely...%22;%0D%0A%0D%0A%09demoSeq%20=%20%5B%5D;%0D%0A%0D%0A%09clearContent();%0D%0A%0D%0A%09stackBase.style.left%20=%20(gameWidth%20-%20baseWidth)%20/%202%20+%20%22px%22;%0D%0A%09stackBase.style.bottom%20=%20-baseHeight%20+%20%22px%22;%0D%0A%0D%0A%09stackBase.classList.add(%22baseAnim%22);%0D%0A%09stackBase.addEventListener(%22animationend%22,%20function(evt)%09%09//----------%20The%20'animationend'%20event%20fires%20once%20per%20animated%20CSS%20property%0D%0A%09%7B%0D%0A%09%09if%20(demoStack.length%20%3C%20stackSize)%09%09//----------//----------%20Execute%20code%20once%20only%0D%0A%09%09%7B%0D%0A%09%09%09stackBase.style.bottom%20=%20window.getComputedStyle(stackBase,%20null).getPropertyValue(%22bottom%22);%0D%0A%09%09%09stackBase.classList.remove(%22baseAnim%22);%09%09%0D%0A%09%09%09%0D%0A%09%09%09for%20(i%20=%200;%20i%20%3C=%20stackSize;%20i++)%0D%0A%09%09%09%7B%0D%0A%09%09%09%09var%20sliceInstance%20=%20document.createElement(%22div%22);%0D%0A%0D%0A%09%09%09%09if%20(i%20%3C%20stackSize)%09%09//----------//----------%20Create%20number%20of%20slices%20equal%20to%20value%20of%20stackSize%0D%0A%09%09%09%09%7B%0D%0A%09%09%09%09%09var%20dice%20=%20Math.round(Math.random()%20*%204)%20+%201;%0D%0A%09%09%09%09%09if(dice%20==%205)%0D%0A%09%09%09%09%09%7B%0D%0A%09%09%09%09%09%09dice%20=%201;%0D%0A%09%09%09%09%09%7D%0D%0A%09%09%09%09%09demoSeq.push(dice);%0D%0A%0D%0A%09%09%09%09%09sliceInstance.classList.add(sliceClass(demoSeq%5Bi%5D));%0D%0A%09%09%09%09%09sliceInstance.id%20=%20%22d%22%20+%20(i%20+%201)%20+%20%22_%22%20+%20sliceInstance.classList;%0D%0A%09%09%09%09%7D%20else%09%09%09//----------//----------//----------//----------//----------%20Create%20the%20cap%0D%0A%09%09%09%09%7B%0D%0A%09%09%09%09%09sliceInstance.id%20=%20%22demoCap%22;%0D%0A%09%09%09%09%09sliceInstance.classList.add(%22stackCap%22);%0D%0A%09%09%09%09%7D%0D%0A%0D%0A%09%09%09%09stackContainer.appendChild(sliceInstance);%09%09%09//----------%20Make%20it%20visible%20in%20window%0D%0A%09%09%09%09demoStack.push(sliceInstance);%09%09%09//----------//----------%20Add%20it%20to%20the%20demoStack%20array%0D%0A%0D%0A%09%09%09%09sliceInstance.style.left%20=%20(gameWidth%20-%20parseInt(window.getComputedStyle(sliceInstance,%20null).getPropertyValue(%22width%22)))%20/%202%20+%20%22px%22;%0D%0A%09%09%09%09sliceInstance.style.top%20=%20-250%20*%20i%20-%2025%20+%20%22px%22;%09%09%09%09//----------%20Position%20slices%20in%20vertical%20stack%20with%20spacing%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09if%20(idle)%09%09//----------%20Call%20updateDemo()%20when%20nothing%20is%20being%20animated%20(ref:%20227,%20309,%20332)%0D%0A%09%09%09%7B%0D%0A%09%09%09%09idle%20=%20false;%0D%0A%09%09%09%09updateDemo();%0D%0A%09%09%09%7D%0D%0A%09%09%7D%09%09%09%09%0D%0A%09%7D);%0D%0A%7D%0D%0A%0D%0A//===================================================////===================================================//%0D%0A//===================================================////===================================================//%0D%0A//===================================================////===================================================//%0D%0A%0D%0Afunction%20updateDemo()%0D%0A%7B%0D%0A%09var%20demoLoop%20=%20setTimeout(updateDemo,%2016);%09%09//----------%20Run%20this%20function%20again%20in%2016%20milliseconds%0D%0A%0D%0A%09for%20(i%20=%201;%20i%20%3C%20demoStack.length;%20i++)%09%09%09//----------%20Animate%20every%20item%20in%20demoStack%5B%5D%20(ref:%20197)%0D%0A%09%7B%0D%0A%09%09fallAnim(i,%20demoStack%5Bi%5D.id,%20demoStack%5Bi%20-%201%5D.id);%0D%0A%09%7D%0D%0A%0D%0A%09if%20(allLanded()%20&&%20demoStack.length%20==%20(demoSeq.length%20+%202))%09//----------%20Nothing%20is%20moving%20AND%20all%20slices%20have%20spawned%0D%0A%09%7B%0D%0A%09%09idle%20=%20true;%0D%0A%09%09clearTimeout(demoLoop);%09%09%0D%0A%09%09setTimeout(exitDemo,%20demoSeq.length%20*%20timePerSlice);%09%09//----------%20Hide%20demo%20stack%20after%20some%20time%0D%0A%0D%0A%09%09function%20exitDemo()%0D%0A%09%09%7B%0D%0A%09%09%09for%20(i%20=%201;%20i%20%3C%20demoStack.length;%20i++)%0D%0A%09%09%09%7B%0D%0A%09%09%09%09demoStack%5Bi%5D.classList.add(%22stackAnim%22);%09%09%09//----------%20Apply%20CSS%20animation%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09demoStack%5BdemoStack.length%20-%201%5D.addEventListener(%22animationend%22,%20function()%0D%0A%09%09%09%7B%0D%0A%09%09%09%09startPlay();%0D%0A%09%09%09%09gameInfo.innerHTML%20=%20%22Now%20use%20the%201%20~%204%20keys%20on%20your%20keyboard%20to%20recreate%20the%20burger,%20good%20luck!%22%0D%0A%09%09%09%7D);%0D%0A%09%09%7D%09%09%0D%0A%09%7D%09%0D%0A%7D%0D%0A%0D%0A//===================================================////===================================================//%0D%0A//===================================================////===================================================//%0D%0A//===================================================////===================================================//%0D%0A%0D%0Afunction%20startPlay()%0D%0A%7B%0D%0A%09playerSeq%20=%20%5B%5D;%0D%0A%09clearContent();%0D%0A%0D%0A%09ctrlInfo.classList.add(%22guidesAnim%22);%09%09//----------%20Apply%20CSS%20animation%0D%0A%09ctrlInfo.addEventListener(%22animationend%22,%20function()%0D%0A%09%7B%0D%0A%09%09ctrlInfo.style.bottom%20=%20window.getComputedStyle(ctrlInfo,%20null).getPropertyValue(%22bottom%22);%0D%0A%09%09ctrlInfo.classList.remove(%22guidesAnim%22);%0D%0A%09%09inputAllowed%20=%20true;%09%09%09%09%09//----------%20Enable%20user%20input%0D%0A%09%7D);%0D%0A%7D%0D%0A%0D%0A//===================================================////===================================================//%0D%0A//===================================================////===================================================//%0D%0A//===================================================////===================================================//%0D%0A%0D%0Afunction%20spawnSlice(id)%0D%0A%7B%0D%0A%09var%20sliceInstance%20=%20document.createElement(%22div%22);%09%09//----------%20Create%20element%0D%0A%0D%0A%09stackContainer.appendChild(sliceInstance);%09%09//----------//----------%20Make%20it%20visible%0D%0A%09playerStack.push(sliceInstance);%09%09//----------//----------%20Update%20playerStack%20array%0D%0A%0D%0A%09if%20(id%20%3C%205)%0D%0A%09%7B%09%09%0D%0A%09%09sliceInstance.classList.add(sliceClass(id));%09%09%09%09%09//----------//----------%20Assign%20class%20for%20CSS%20rule%20to%20take%20effect%0D%0A%09%09sliceInstance.id%20=%20%22p%22%20+%20(playerSeq.length%20+%201)%20+%20%22_%22%20+%20sliceInstance.classList;%09//----------%20ID%20name%20is%20used%20in%20movement%20calculation%20(ref:%2099~105)%0D%0A%09%09playerSeq.push(id);%09%09%09%09//----------//----------//----------//----------//----------%20Update%20playerSeq%20array%0D%0A%09%7D%20else%0D%0A%09%7B%0D%0A%09%09sliceInstance.id%20=%20%22playCap%22;%09%09//----------//----------%20Create%20cap%20---------/%0D%0A%09%09sliceInstance.classList.add(%22stackCap%22);%09//----------//----------//----------/%0D%0A%09%7D%0D%0A%09%0D%0A%09sliceInstance.style.left%20=%20(gameWidth%20-%20parseInt(window.getComputedStyle(sliceInstance,%20null).getPropertyValue(%22width%22)))%20/%202%20+%20%22px%22;%0D%0A%09sliceInstance.style.top%20=%20%22-%22%20+%20window.getComputedStyle(sliceInstance,%20null).getPropertyValue(%22height%22);%09%0D%0A%0D%0A%09idle%20?%20updateGame()%20:%20null;%0D%0A%7D%0D%0A%0D%0A//===================================================////===================================================//%0D%0A//===================================================////===================================================//%0D%0A//===================================================////===================================================//%0D%0A%0D%0Afunction%20updateGame()%0D%0A%7B%0D%0A%09var%20gameLoop%20=%20setTimeout(updateGame,%2016);%09%09//----------%20Run%20this%20function%20again%20in%2016%20milliseconds%0D%0A%0D%0A%09var%20lastPlayerInput%09%09%09=%09playerSeq%5BplayerSeq.length%20-%201%5D;%09%09//----------//----------//----------//----------//-------/%0D%0A%09var%20correspondingDemoValue%09=%09demoSeq%5BplayerSeq.length%20-%201%5D;%09%09%09//----------%20Gather%20information%20for%20later%20use%20----------/%0D%0A%09var%20seqComplete%09%09%09%09=%09playerSeq.length%20==%20demoSeq.length;%09%09%09%09%09%09%09%09%09%09%09%09%09//---------/%0D%0A%09var%20capSpawned%09%09%09%09=%09playerStack%5BplayerStack.length%20-%201%5D.id%20==%20%22playCap%22;%09//----------//----------//------------/%0D%0A%0D%0A%09idle%20=%20false;%0D%0A%0D%0A%09for%20(i%20=%201;%20i%20%3C%20playerStack.length;%20i++)%09%09//----------//----------%20Animate%20spawned%20slices%0D%0A%09%7B%0D%0A%09%09fallAnim(i,%20playerStack%5Bi%5D.id,%20playerStack%5Bi%20-%201%5D.id);%0D%0A%09%7D%0D%0A%0D%0A%09var%20lastSliceVisible%20=%20parseInt(playerStack%5BplayerStack.length%20-%201%5D.style.top)%20%3E%200;%09%09//----------%20Shorten%20code%20later%20on%0D%0A%0D%0A%09if%20(lastPlayerInput%20!=%20correspondingDemoValue)%09%09//----------%20Player%20enters%20the%20wrong%20sequence%0D%0A%09%7B%0D%0A%09%09gameOver%20=%20true;%0D%0A%09%09inputAllowed%20=%20false;%0D%0A%09%7D%09%0D%0A%09%0D%0A%09if%20(lastSliceVisible%20&&%20!gameOver%20&&%20!seqComplete)%09%09//----------%20No%20slice%20spawned%20by%20hidden%20AND%20no%20mistake%20by%20player%20AND%20sequence%20not%20completed%0D%0A%09%7B%0D%0A%09%09inputAllowed%20=%20true;%0D%0A%09%7D%09%09%09%0D%0A%0D%0A%09if%20(allLanded())%09%09//----------//----------//----------%20Nothing%20is%20being%20animated%0D%0A%09%7B%0D%0A%09%09clearTimeout(gameLoop);%0D%0A%09%09idle%20=%20true;%0D%0A%0D%0A%09%09if%20(gameOver)%09%09//----------//----------//----------%20Show%20game%20over%20screen%0D%0A%09%09%7B%0D%0A%09%09%09clearTimeout(gameLoop);%09%09//----------//----------%20Cancel%20the%20re-run%20of%20updateGame%20function%0D%0A%0D%0A%09%09%09theButton.innerHTML%20=%20%22Try%20Again%22;%0D%0A%09%09%09theButton.style.display%20=%20%22inherit%22;%0D%0A%09%09%09theButton.style.background%20=%20%22rgba(128,%200,%200,%200.6)%22;%0D%0A%09%09%09theButton.onclick%20=%20function()%0D%0A%09%09%09%7B%0D%0A%09%09%09%09startDemo();%0D%0A%09%09%09%7D;%0D%0A%0D%0A%09%09%09gameInfo.innerHTML%20=%20%22=====%20GAME%20OVER%20=====%3Cbr/%3E%3Cbr/%3EYou%20got%20it%20wrong!%3Cbr/%3EThe%20correct%20sequence%20is:%20%3Cbr/%3E%3C%20%22;%0D%0A%09%09%09%0D%0A%09%09%09for%20(i%20=%200;%20i%20%3C%20demoSeq.length%20-%201;%20i++)%0D%0A%09%09%09%7B%0D%0A%09%09%09%20%09gameInfo.innerHTML%20+=%20demoSeq%5Bi%5D%20+%20%22%20.%20%22;%0D%0A%09%09%09%7D%0D%0A%0D%0A%09%09%09gameInfo.innerHTML%20+=%20demoSeq%5BdemoSeq.length%20-%201%5D%20+%20%22%20%3E%22;%0D%0A%09%09%7D%09%09%0D%0A%0D%0A%09%09if%20(!gameOver%20&&%20seqComplete%20&&%20!capSpawned)%09%09//----------//----------%20Sequence%20entered%20correctly%20AND%20in%20full%20AND%20cap%20not%20spawned%0D%0A%09%09%7B%0D%0A%09%09%09spawnSlice(5);%0D%0A%09%09%09inputAllowed%20=%20false;%0D%0A%09%09%7D%0D%0A%0D%0A%09%09if%20(capSpawned)%09%09%09//----------//----------%20Cap%20is%20spawned%0D%0A%09%09%7B%0D%0A%09%09%09clearTimeout(gameLoop);%0D%0A%0D%0A%09%09%09theButton.innerHTML%20=%20%22Next%20Level%22;%0D%0A%09%09%09theButton.style.display%20=%20%22inherit%22;%0D%0A%09%09%09theButton.style.background%20=%20%22rgba(34,%20139,%2034,%200.6)%22;%0D%0A%09%09%09theButton.onclick%20=%20function()%0D%0A%09%09%09%7B%0D%0A%09%09%09%09if%20(stackSize%20%3C%2012%20&&%20timePerSlice%20%3E%20150)%09%09//----------%20Current%20stack%20less%20than%2012%20AND%20time%20per%20slice%20more%20than%20150%20milliseconds%0D%0A%09%09%09%09%7B%0D%0A%09%09%09%09%09stackSize++;%0D%0A%09%09%09%09%7D%20else%0D%0A%09%09%09%09%7B%0D%0A%09%09%09%09%09timePerSlice%20-=%2050;%0D%0A%09%09%09%09%7D%0D%0A%09%09%09%09%0D%0A%09%09%09%09startDemo();%0D%0A%09%09%09%7D;%0D%0A%0D%0A%09%09%09if%20(stackSize%20%3C%2010)%09%09//----------//----------%20Customize%20level-cleared%20screen%0D%0A%09%09%09%7B%0D%0A%09%09%09%09gameInfo.innerHTML%20=%20%22=====%20Level%20Cleared%20=====%3Cbr/%3E%3Cbr/%3EAwesome,%20but%20can%20you%20beat%20the%20next%20Level?%22;%0D%0A%09%09%09%7D%0D%0A%09%09%09else%20%7B%0D%0A%09%09%09%09gameInfo.innerHTML%20=%20%22=====%20Level%20Cleared%20=====%3Cbr/%3E%3Cbr/%3ENice%20brain%20you%20have%20there,%20how%20much%20further%20can%20you%20go?%22;%0D%0A%09%09%09%7D%09%09%09%0D%0A%09%09%7D%0D%0A%09%7D%0D%0A%7D%0D%0A%0D%0AstartDemo();%0D%0AdebugLoop();%0D%0A%0D%0A//===================================================////===================================================//%0D%0A//===================================================////===================================================//%0D%0A//===================================================////===================================================//%0D%0A%0D%0A%0D%0A//===================================================////===================================================//%0D%0A//===================================================////===================================================//%0D%0A//===================================================////===================================================//%0D%0A%0D%0A%0D%0A//===================================================////===================================================//%0D%0A//===================================================////===================================================//%0D%0A//===================================================////===================================================//%0D%0A%0D%0Afunction%20debugLoop()%0D%0A%7B%0D%0A%09setTimeout(debugLoop,%20200);%0D%0A%0D%0A%09if%20(demoStack%5B1%5D%20!=%20undefined)%0D%0A%09%7B%0D%0A%09%09debug1.innerHTML%20=%20%22Demo:%20%22;%0D%0A%09%09for%20(i=0;%20i%3CdemoStack.length-1;%20i++)%0D%0A%09%09%7B%09%09%09%0D%0A%09%09%09debug1.innerHTML%20+=%20demoStack%5Bi%5D.id%20+%20%22%20.%20%22;%0D%0A%09%09%7D%0D%0A%09%09debug1.innerHTML%20+=%20demoStack%5BdemoStack.length-1%5D.id;%0D%0A%09%7D%0D%0A%0D%0A%09if%20(playerStack%5B1%5D%20!=%20undefined)%0D%0A%09%7B%0D%0A%09%09debug2.innerHTML%20=%20%22Player:%20%22;%0D%0A%09%09for%20(i=0;%20i%3CplayerStack.length-1;%20i++)%0D%0A%09%09%7B%09%09%09%0D%0A%09%09%09debug2.innerHTML%20+=%20playerStack%5Bi%5D.id%20+%20%22%20.%20%22;%0D%0A%09%09%7D%0D%0A%09%09debug2.innerHTML%20+=%20playerStack%5BplayerStack.length-1%5D.id;%0D%0A%09%7D%0D%0A%0D%0A%09debug3.innerHTML%20=%20%22User%20input%20allowed:%20%22%20+%20%22%3Cspan%20class='%22%20+%20inputAllowed%20+%20%22'%3E%22%20+%20inputAllowed.toString().toUpperCase()%20+%20%22%3C/span%3E%22;%0D%0A%09debug4.innerHTML%20=%20%22Game%20is%20idle:%20%22%20+%20%22%3Cspan%20class='%22%20+%20idle%20+%20%22'%3E%22%20+%20idle.toString().toUpperCase()%20+%20%22%3C/span%3E%22;%0D%0A%7D##JS_E####CODE_1E####LOGIC_1####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_1E####STEP_1E##