12##STEP_1####INST_1##Intermission%0A%0AGreat,%20we've%20made%20quite%20some%20progress%20from%20a%20blank%20page.%0A%0AFeel%20free%20to%20tinker%20with%20the%20code%20however%20you%20like,%20maybe%20you'll%20discover%20something%20new!%0A%0AIn%20the%20next%20step,%20we'll%20continue%20building%20our%20simulator%20so%20we%20can%20actually%20play%20it!##INST_1E####CODE_1####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0A%09%3Cscript%20type=%22text/javascript%22%20src=%22script.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch4%3EMALVERN%20CODING%20CHALLENGE%3C/h4%3E%0A%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20LEDDER?%3C/h6%3E%0A%20%20%20%20%0A%20%20%20%20%3Cdiv%20id=%22world%22%3E%0A%20%20%20%20%20%20%20%20%3Cimg%20src=%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/ground.png%22%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cbutton%3EGo!%3C/button%3E%0A%20%20%20%20%3Cbutton%3EJog%3C/button%3E%0A%20%20%20%20%3Cbutton%3ERun%3C/button%3E%0A%20%20%20%20%3Cbutton%3ESprint%3C/button%3E%0A%3C/body%3E%0A%3C/html%3E#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##body%20%7B%0A%20%20%20%20font-family:%20sans-serif;%0A%20%20%20%20text-align:%20center;%0A%20%20%20%20background:%20#ffbf00;%0A%7D%0A%0Ah4,%20h6%20%7B%0A%20%20%20%20color:%20#333333;%0A%20%20%20%20letter-spacing:%202px;%0A%7D%0A%0Ah6%20%7B%0A%20%20%20%20margin:%205px%200%200%200;%0A%7D%0A%0Aimg%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20left:%200;%0A%20%20%20%20bottom:%200;%0A%7D%0A%0Abutton%20%7B%0A%20%20%20%20width:%2060px;%0A%20%20%20%20height:%2060px;%0A%20%20%20%20margin:%200%2010px;%0A%20%20%20%20border-style:%20solid;%0A%20%20%20%20border-width:%205px;%0A%20%20%20%20border-color:%20gray;%0A%20%20%20%20border-radius:%2050%25;%0A%20%20%20%20outline:%20none;%0A%20%20%20%20cursor:%20pointer;%0A%7D%0A%0Abutton:active%20%7B%0A%20%20%20%20background:%20darkgray;%0A%7D%0A%0A#world%20%7B%0A%20%20%20%20position:%20relative;%0A%20%20%20%20left:%2050%25;%0A%20%20%20%20width:%20500px;%0A%20%20%20%20height:%20240px;%0A%20%20%20%20margin:%2020px%200;%0A%20%20%20%20background:%20skyblue;%0A%20%20%20%20transform:%20translateX(-50%25);%0A%20%20%20%20overflow:%20hidden;%0A%7D#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20mode%20=%200;%0Avar%20link%20=%20%5B%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/runner_ready.gif%22%5D;%0A%0Awindow.onload%20=%20()%20=%3E%20%7B%0A%20%20%20%20iniWorld();%0A%7D;%0A%0Afunction%20iniWorld()%20%7B%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0A%20%20%20%20runner.src%20=%20link%5Bmode%5D;%0A%20%20%20%20runner.style.height%20=%20%2280px%22;%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0A%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0A%20%20%20%20world.appendChild(runner);%0A%7D##JS_E####CODE_1E####LOGIC_1####HTML####HTML_E####CSS##//##CSS_E####JS####JS_E####LOGIC_1E####STEP_1E####STEP_2####INST_2##Variables%201/2%0A%0AJavaScript%20uses%20*variables*,%20which%20is%20used%20to%20store%20info%20that%20can%20be%20used%20later.%C2%A0%0A%0AOn%20+js#var%20speed#,%20there%20is%20a%20variable%20called%20*speed*,%20which%20is%20used%20to%20control%20your%20runner's%20speed.%C2%A0%0A%0AYou%20can%20change%20the%20value%20of%20a%20variable%20by%20using%20the%20following%20syntax:%0A%0A(js)variable_name%20=%20new_value;(#)%0A%0A(***)%0A%0A(!)On%20+js#1:#+2,%20js#2:#+2,%20js#3:#+2%20&%20js#4:#+2,%20can%20you%20figure%20out%20how%20to%20make%20the%20variable%20*speed*%20equal%20to%20*0.06*%20when%20the%20runner%20*starts%20jogging*?##INST_2E####CODE_2####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0A%09%3Cscript%20type=%22text/javascript%22%20src=%22script.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch4%3EMALVERN%20CODING%20CHALLENGE%3C/h4%3E%0A%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20LEDDER?%3C/h6%3E%0A%20%20%20%20%0A%20%20%20%20%3Ch4%20id=%22stopwatch%22%3E00:00:00%3C/h4%3E%0A%20%20%20%20%0A%20%20%20%20%3Cdiv%20id=%22world%22%3E%0A%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0A%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0A%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0A%20%20%20%20%20%20%20%20%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%0A%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/ground.png%22%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cbutton%20id=%22start%22%20disabled=%22%22%3EGo!%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22jog%22%20onclick=%22setMode(1)%22%3EJog%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22run%22%20onclick=%22setMode(2)%22%3ERun%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22sprint%22%20onclick=%22setMode(3)%22%3ESprint%3C/button%3E%0A%3C/body%3E%0A%3C/html%3E#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##body%20%7B%0A%20%20%20%20font-family:%20sans-serif;%0A%20%20%20%20text-align:%20center;%0A%20%20%20%20background:%20#ffbf00;%0A%7D%0A%0Ah4,%20h6%20%7B%0A%20%20%20%20color:%20#333333;%0A%20%20%20%20letter-spacing:%202px;%0A%7D%0A%0Ah6%20%7B%0A%20%20%20%20margin:%205px%200%200%200;%0A%7D%0A%0Aimg,%20#energy%20%7B%0A%20%20%20%20position:%20absolute;%0A%7D%0A%0Abutton%20%7B%0A%20%20%20%20width:%2060px;%0A%20%20%20%20height:%2060px;%0A%20%20%20%20margin:%200%2010px;%0A%20%20%20%20border:%20gray%205px%20solid;%0A%20%20%20%20border-radius:%2050%25;%0A%20%20%20%20outline:%20none;%0A%20%20%20%20cursor:%20pointer%0A%7D%0A%0Abutton:active%20%7B%0A%20%20%20%20background:%20darkgray;%0A%7D%0A%0A#world%20%7B%0A%20%20%20%20position:%20relative;%0A%20%20%20%20left:%2050%25;%0A%20%20%20%20width:%20500px;%0A%20%20%20%20height:%20240px;%0A%20%20%20%20margin:%2020px%200;%0A%20%20%20%20background:%20skyblue;%0A%20%20%20%20transform:%20translateX(-50%25);%0A%20%20%20%20overflow:%20hidden;%0A%7D%0A%0A#cloud%20%7B%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0A%7D%0A%0A#energy%20%7B%0A%20%20%20%20width:%2060px;%0A%20%20%20%20height:%2010px;%0A%20%20%20%20margin:%200;%0A%7D%0A%0A#progress%20%7B%0A%20%20%20%20width:%2080%25;%0A%20%20%20%20height:%2015px;%0A%7D%0A%0A#ground%20%7B%0A%20%20%20%20left:%200;%0A%20%20%20%20bottom:%200;%0A%7D#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20start,%20world,%20ground,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0Avar%20mode%20=%200;%20%20%20%20%20%20%20//%20starting%20mode:%200%20is%20idle,%201%20is%20jog,%202%20is%20run,%203%20is%20sprint%0D%0Avar%20paused%20=%20true;%0D%0Avar%20exhausted%20=%20false;%0D%0Avar%20clouds%20=%20%5B%5D;%0D%0Avar%20link%20=%20%5B%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/runner_ready.gif%22%5D;%0D%0A%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_jog%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_run%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_sprint%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_exhausted%22));%0D%0Alink.push(link%5B4%5D);%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20stopwatch%20=%20document.getElementById(%22stopwatch%22);%0D%0A%20%20%20%20progress%20=%20document.getElementById(%22progress%22);%0D%0A%20%20%20%20energy%20=%20document.getElementById(%22energy%22);%0D%0A%20%20%20%20info%20=%20document.getElementById(%22info%22);%0D%0A%20%20%20%20world%20=%20document.getElementById(%22world%22);%0D%0A%20%20%20%20start%20=%20document.getElementById(%22start%22);%0D%0A%20%20%20%20ground%20=%20document.getElementById(%22ground%22);%0D%0A%20%20%20%20%0D%0A%20%20%20%20start.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20%20%20%20%20energy.max%20=%20100;%0D%0A%20%20%20%20%20%20%20%20timer%20=%20Date.now();%0D%0A%20%20%20%20%20%20%20%20paused%20=%20false;%0D%0A%20%20%20%20%20%20%20%20setMode(1);%0D%0A%20%20%20%20%20%20%20%20this.disabled%20=%20true;%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%201000;%0D%0A%20%20%20%20%0D%0A%20%20%20%20loadAnimation();%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link%5B0%5D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20world.appendChild(runner);%0D%0A%20%20%20%20%0D%0A%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%20%20%20%20createCloud();%0D%0A%7D%0D%0A%0D%0Afunction%20loadAnimation(n%20=%200)%20%7B%0D%0A%20%20%20%20let%20img%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20img.src%20=%20link%5Bn%5D;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Loading:%20%3Cspan%20style='color:green'%3E%22%20+%20link%5Bn%5D.match(/%5Cw+%5C.gif/i)%5B0%5D%20+%20%22%3Cspan%3E%22;%0D%0A%20%20%20%20img.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(n%20%3C%20link.length%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20loadAnimation(n%20+%201);%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20iniWorld();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20updateWorld(timestamp)%20%7B%0D%0A%20%20%20%20if%20(!lastUpdate)%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20delta%20=%20timestamp%20-%20lastUpdate;%0D%0A%20%20%20%20updateClouds();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(progress.value%20==%20progress.max%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(5);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20finisher();%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateStopWatch();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updatePerformance();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateRunnerPos();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D%0D%0A%0D%0Afunction%20updatePerformance()%20%7B%0D%0A%20%20%20%20if%20(energy.value%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted%20&&%20energy.value%20%3E%2060)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20exhausted%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(1);%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20progress.value%20+=%20delta%20*%20speed;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(4);%20%20%20%20%20//%20become%20exhausted%0D%0A%20%20%20%20%20%20%20%20exhausted%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateRunnerPos()%20%7B%0D%0A%20%20%20%20if%20(runner.offsetLeft%20!=%20world.clientWidth%20*%20runnerPos%20&&%20!exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20offset%20=%20(runner.offsetLeft%20-%20world.clientWidth%20*%20runnerPos)%20*%20delta%20/%201000;%0D%0A%20%20%20%20%20%20%20%20move(runner,%20offset);%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateStopWatch()%20%7B%0D%0A%20%20%20%20var%20elapsed%20=%20Date.now()%20-%20timer,%0D%0A%20%20%20%20%20%20%20%20m%20=%20Math.floor(elapsed%20/%2060000%20%25%2060),%0D%0A%20%20%20%20%20%20%20%20s%20=%20Math.floor(elapsed%20/%201000%20%25%2060),%0D%0A%20%20%20%20%20%20%20%20ms%20=%20Math.floor(elapsed%20/%2010%20%25%20100);%0D%0A%20%20%20%20stopwatch.innerHTML%20=%20pad(m)%20+%20%22:%22%20+%20pad(s)%20+%20%22:%22%20+%20pad(ms);%0D%0A%7D%0D%0A%0D%0Afunction%20createCloud()%20%7B%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20cloud%20=%20document.createElement(%22img%22),%20d%20=%20range(-15,%2080);%0D%0A%20%20%20%20%20%20%20%20cloud.src%20=%20%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/cloud.png%22;%0D%0A%20%20%20%20%20%20%20%20cloud.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.top%20=%20d%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.left%20=%20world.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.width%20=%20remap(d,%20-15,%2080,%2080,%2040)%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.appendChild(cloud);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.unshift(cloud);%0D%0A%20%20%20%20%20%20%20%20%7D;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20setTimeout(createCloud,%20cloudSeed()%20*%201000);%0D%0A%7D%0D%0A%0D%0Afunction%20cloudSeed()%20%7B%0D%0A%20%20%20%20return%20range(3,%2010)%20/%20remap(speed,%200,%200.15,%201,%204);%0D%0A%7D%0D%0A%0D%0Afunction%20updateClouds()%20%7B%0D%0A%20%20%20%20clouds.forEach(function(c,%20i)%20%7B%0D%0A%20%20%20%20%20%20%20%20move(c,%20Math.max(delta%20*%20speed,%200.5)%20*%20c.offsetWidth%20/%2080);%0D%0A%20%20%20%20%20%20%20%20if%20(c.offsetLeft%20%3C=%20-c.offsetWidth)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.removeChild(c);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.splice(i,%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20setMode(n)%20%7B%0D%0A%20%20%20%20if%20(!exhausted%20&&%20!paused%20&&%20mode%20!=%20n)%20%7B%0D%0A%20%20%20%20%20%20%20%20mode%20=%20n;%0D%0A%20%20%20%20%20%20%20%20runner.src%20=%20link%5Bmode%5D;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20switch%20(mode)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%201:%20%20%20%20%20//%20start%20jogging%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.3;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#speed%20=%200.04;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.04;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3EJOGGING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%202:%20%20%20%20%20//%20start%20running%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.4;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#speed%20=%200.1;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.08;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ERUNNING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%203:%20%20%20%20%20//%20start%20sprinting%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.55;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#speed%20=%200.15;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.2;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ESPRINTING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%204:%20%20%20%20%20//%20become%20exhausted%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#speed%20=%200;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:firebrick'%3EEXHAUSHTED%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%205:%20%20%20%20%20//%20finisher%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20paused%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EFINISHER!%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22You're%20exhausted,%20wait%20until%20your%20energy%20recovers%20to%2060%25.%22);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20!=%20n)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('Click%20%22Go!%22%20to%20start%20the%20race.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20pos(e,%20p)%20%7B%0D%0A%20%20%20%20return%20parseFloat(window.getComputedStyle(e).getPropertyValue(p));%0D%0A%7D%0D%0A%0D%0Afunction%20move(e,%20d)%20%7B%0D%0A%20%20%20%20e.style.left%20=%20pos(e,%20%22left%22)%20-%20d%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20clamp(v,%20min,%20max)%20%7B%0D%0A%20%20%20%20return%20Math.max(min,%20Math.min(v,%20max));%0D%0A%7D%0D%0A%0D%0Afunction%20range(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20var%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Afunction%20remap(v,%20iMin,%20iMax,%20oMin,%20oMax)%20%7B%0D%0A%20%20%20%20return%20oMin%20+%20(v%20-%20iMin)%20*%20(oMax%20-%20oMin)%20/%20(iMax%20-%20iMin);%0D%0A%7D%0D%0A%0D%0Afunction%20pad(n)%20%7B%0D%0A%20%20%20%20return%20n.toString().length%20==%202%20?%20n%20:%20'0'%20+%20n.toString();%0D%0A%7D##JS_E####CODE_2E####LOGIC_2####HTML##//##HTML_E####CSS##//##CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60speed%20=%200.06;%60);%0Apass.if.js.editable(1).equivalent(%60speed%20=%200.1;%60);%0Apass.if.js.editable(2).equivalent(%60speed%20=%200.15;%60);%0Apass.if.js.editable(3).equivalent(%60speed%20=%200;%60);##JS_E####LOGIC_2E####STEP_2E####STEP_3####INST_3##Variables%202/2%0A%0AGreat%20work!%0A%0AWhat%20we%20did%20in%20the%20last%20step%20was%20*giving%20value*%20to%20a%20variable,%20now%20we%20will%20make%20use%20of%20that%20new%20value.%0A%0AFirst,%20a%20few%20tips:%0A%5B-%0A%09(*)%60energy.value%60%20affects%20how%20full%20your%20energy%20bar%20is,%20increasing%20it%20will%20fill%20up%20your%20energy%20bar%0A%09(*)the%20variable%20*energyGain*%20affects%20how%20quickly%20your%20avatar%20recovers%20energy%0A%09(*)In%20the%20last%20step,%20you%20used%20the%20equal%20sign%20to%20make%20*speed*%20equal%20to%20*0.06*,%20i.e%20%60speed%20=%200.06;%60%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#nce()%20%7B#+1,%20make%20*energy.value*%20equal%20to%20*itself%20plus%20energyGain*##INST_3E####CODE_3####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0A%09%3Cscript%20type=%22text/javascript%22%20src=%22script.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch4%3EMALVERN%20CODING%20CHALLENGE%3C/h4%3E%0A%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20LEDDER?%3C/h6%3E%0A%20%20%20%20%0A%20%20%20%20%3Ch4%20id=%22stopwatch%22%3E00:00:00%3C/h4%3E%0A%20%20%20%20%0A%20%20%20%20%3Cdiv%20id=%22world%22%3E%0A%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0A%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0A%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0A%20%20%20%20%20%20%20%20%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%0A%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/ground.png%22%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cbutton%20id=%22start%22%3EGo!%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22jog%22%20onclick=%22setMode(1)%22%3EJog%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22run%22%20onclick=%22setMode(2)%22%3ERun%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22sprint%22%20onclick=%22setMode(3)%22%3ESprint%3C/button%3E%0A%3C/body%3E%0A%3C/html%3E#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##body%20%7B%0A%20%20%20%20font-family:%20sans-serif;%0A%20%20%20%20text-align:%20center;%0A%20%20%20%20background:%20#ffbf00;%0A%7D%0A%0Ah4,%20h6%20%7B%0A%20%20%20%20color:%20#333333;%0A%20%20%20%20letter-spacing:%202px;%0A%7D%0A%0Ah6%20%7B%0A%20%20%20%20margin:%205px%200%200%200;%0A%7D%0A%0Aimg,%20#energy%20%7B%0A%20%20%20%20position:%20absolute;%0A%7D%0A%0Abutton%20%7B%0A%20%20%20%20width:%2060px;%0A%20%20%20%20height:%2060px;%0A%20%20%20%20margin:%200%2010px;%0A%20%20%20%20border:%20gray%205px%20solid;%0A%20%20%20%20border-radius:%2050%25;%0A%20%20%20%20outline:%20none;%0A%20%20%20%20cursor:%20pointer%0A%7D%0A%0Abutton:active%20%7B%0A%20%20%20%20background:%20darkgray;%0A%7D%0A%0A#world%20%7B%0A%20%20%20%20position:%20relative;%0A%20%20%20%20left:%2050%25;%0A%20%20%20%20width:%20500px;%0A%20%20%20%20height:%20240px;%0A%20%20%20%20margin:%2020px%200;%0A%20%20%20%20background:%20skyblue;%0A%20%20%20%20transform:%20translateX(-50%25);%0A%20%20%20%20overflow:%20hidden;%0A%7D%0A%0A#cloud%20%7B%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0A%7D%0A%0A#energy%20%7B%0A%20%20%20%20width:%2060px;%0A%20%20%20%20height:%2010px;%0A%20%20%20%20margin:%200;%0A%7D%0A%0A#progress%20%7B%0A%20%20%20%20width:%2080%25;%0A%20%20%20%20height:%2015px;%0A%7D%0A%0A#ground%20%7B%0A%20%20%20%20left:%200;%0A%20%20%20%20bottom:%200;%0A%7D#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20start,%20world,%20ground,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0Avar%20mode%20=%200;%0D%0Avar%20paused%20=%20true;%0D%0Avar%20exhausted%20=%20false;%0D%0Avar%20clouds%20=%20%5B%5D;%0D%0Avar%20link%20=%20%5B%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/runner_ready.gif%22%5D;%0D%0A%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_jog%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_run%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_sprint%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_exhausted%22));%0D%0Alink.push(link%5B4%5D);%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20stopwatch%20=%20document.getElementById(%22stopwatch%22);%0D%0A%20%20%20%20progress%20=%20document.getElementById(%22progress%22);%0D%0A%20%20%20%20energy%20=%20document.getElementById(%22energy%22);%0D%0A%20%20%20%20info%20=%20document.getElementById(%22info%22);%0D%0A%20%20%20%20world%20=%20document.getElementById(%22world%22);%0D%0A%20%20%20%20start%20=%20document.getElementById(%22start%22);%0D%0A%20%20%20%20ground%20=%20document.getElementById(%22ground%22);%0D%0A%20%20%20%20%0D%0A%20%20%20%20start.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20%20%20%20%20energy.max%20=%20100;%0D%0A%20%20%20%20%20%20%20%20timer%20=%20Date.now();%0D%0A%20%20%20%20%20%20%20%20paused%20=%20false;%0D%0A%20%20%20%20%20%20%20%20setMode(1);%0D%0A%20%20%20%20%20%20%20%20this.disabled%20=%20true;%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%201000;%0D%0A%20%20%20%20%0D%0A%20%20%20%20loadAnimation();%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link%5B0%5D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20world.appendChild(runner);%0D%0A%20%20%20%20%0D%0A%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%20%20%20%20createCloud();%0D%0A%7D%0D%0A%0D%0Afunction%20loadAnimation(n%20=%200)%20%7B%0D%0A%20%20%20%20let%20img%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20img.src%20=%20link%5Bn%5D;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Loading:%20%3Cspan%20style='color:green'%3E%22%20+%20link%5Bn%5D.match(/%5Cw+%5C.gif/i)%5B0%5D%20+%20%22%3Cspan%3E%22;%0D%0A%20%20%20%20img.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(n%20%3C%20link.length%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20loadAnimation(n%20+%201);%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20iniWorld();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20updateWorld(timestamp)%20%7B%0D%0A%20%20%20%20if%20(!lastUpdate)%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20delta%20=%20timestamp%20-%20lastUpdate;%0D%0A%20%20%20%20updateClouds();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(progress.value%20==%20progress.max%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(5);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20finisher();%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateStopWatch();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updatePerformance();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateRunnerPos();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D%0D%0A%0D%0Afunction%20updatePerformance()%20%7B%0D%0A%20%20%20%20#BEGIN_EDITABLE#energy.value%20+=%20energyGain;#END_EDITABLE#%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(energy.value%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted%20&&%20energy.value%20%3E%2060)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20exhausted%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(1);%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20progress.value%20+=%20delta%20*%20speed;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(4);%0D%0A%20%20%20%20%20%20%20%20exhausted%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateRunnerPos()%20%7B%0D%0A%20%20%20%20if%20(runner.offsetLeft%20!=%20world.clientWidth%20*%20runnerPos%20&&%20!exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20offset%20=%20(runner.offsetLeft%20-%20world.clientWidth%20*%20runnerPos)%20*%20delta%20/%201000;%0D%0A%20%20%20%20%20%20%20%20move(runner,%20offset);%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateStopWatch()%20%7B%0D%0A%20%20%20%20var%20elapsed%20=%20Date.now()%20-%20timer,%0D%0A%20%20%20%20%20%20%20%20m%20=%20Math.floor(elapsed%20/%2060000%20%25%2060),%0D%0A%20%20%20%20%20%20%20%20s%20=%20Math.floor(elapsed%20/%201000%20%25%2060),%0D%0A%20%20%20%20%20%20%20%20ms%20=%20Math.floor(elapsed%20/%2010%20%25%20100);%0D%0A%20%20%20%20stopwatch.innerHTML%20=%20pad(m)%20+%20%22:%22%20+%20pad(s)%20+%20%22:%22%20+%20pad(ms);%0D%0A%7D%0D%0A%0D%0Afunction%20createCloud()%20%7B%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20cloud%20=%20document.createElement(%22img%22),%20d%20=%20range(-15,%2080);%0D%0A%20%20%20%20%20%20%20%20cloud.src%20=%20%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/cloud.png%22;%0D%0A%20%20%20%20%20%20%20%20cloud.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.top%20=%20d%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.left%20=%20world.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.width%20=%20remap(d,%20-15,%2080,%2080,%2040)%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.appendChild(cloud);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.unshift(cloud);%0D%0A%20%20%20%20%20%20%20%20%7D;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20setTimeout(createCloud,%20cloudSeed()%20*%201000);%0D%0A%7D%0D%0A%0D%0Afunction%20cloudSeed()%20%7B%0D%0A%20%20%20%20return%20range(3,%2010)%20/%20remap(speed,%200,%200.15,%201,%204);%0D%0A%7D%0D%0A%0D%0Afunction%20updateClouds()%20%7B%0D%0A%20%20%20%20clouds.forEach(function(c,%20i)%20%7B%0D%0A%20%20%20%20%20%20%20%20move(c,%20Math.max(delta%20*%20speed,%200.5)%20*%20c.offsetWidth%20/%2080);%0D%0A%20%20%20%20%20%20%20%20if%20(c.offsetLeft%20%3C=%20-c.offsetWidth)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.removeChild(c);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.splice(i,%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20setMode(n)%20%7B%0D%0A%20%20%20%20if%20(!exhausted%20&&%20!paused%20&&%20mode%20!=%20n)%20%7B%0D%0A%20%20%20%20%20%20%20%20mode%20=%20n;%0D%0A%20%20%20%20%20%20%20%20runner.src%20=%20link%5Bmode%5D;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20switch%20(mode)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%201:%20%20%20%20%20//%20start%20jogging%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.3;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.04;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.06;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3EJOGGING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%202:%20%20%20%20%20//%20start%20running%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.4;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.1;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.08;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ERUNNING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%203:%20%20%20%20%20//%20start%20sprinting%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.55;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.15;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.2;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ESPRINTING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%204:%20%20%20%20%20//%20become%20exhausted%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:firebrick'%3EEXHAUSHTED%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%205:%20%20%20%20%20//%20finisher%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20paused%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EFINISHER!%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22You're%20exhausted,%20wait%20until%20your%20energy%20recovers%20to%2060%25.%22);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20!=%20n)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('Click%20%22Go!%22%20to%20start%20the%20race.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20pos(e,%20p)%20%7B%0D%0A%20%20%20%20return%20parseFloat(window.getComputedStyle(e).getPropertyValue(p));%0D%0A%7D%0D%0A%0D%0Afunction%20move(e,%20d)%20%7B%0D%0A%20%20%20%20e.style.left%20=%20pos(e,%20%22left%22)%20-%20d%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20clamp(v,%20min,%20max)%20%7B%0D%0A%20%20%20%20return%20Math.max(min,%20Math.min(v,%20max));%0D%0A%7D%0D%0A%0D%0Afunction%20range(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20var%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Afunction%20remap(v,%20iMin,%20iMax,%20oMin,%20oMax)%20%7B%0D%0A%20%20%20%20return%20oMin%20+%20(v%20-%20iMin)%20*%20(oMax%20-%20oMin)%20/%20(iMax%20-%20iMin);%0D%0A%7D%0D%0A%0D%0Afunction%20pad(n)%20%7B%0D%0A%20%20%20%20return%20n.toString().length%20==%202%20?%20n%20:%20'0'%20+%20n.toString();%0D%0A%7D##JS_E####CODE_3E####LOGIC_3####HTML####HTML_E####CSS####CSS_E####JS##let%20output%20=%20codeWithoutMarkup.replace(/;%5Cs*%5C/%5C/.*/g,';');%0A//%20output%20=%20insertLine(output,%20'key',%20%7Bline:%20'',%20offset:%200%7D);%0Areturn%20output;%0A%0A//%20Expectation:##JS_E####LOGIC_3E####STEP_3E####STEP_4####INST_4##Conditionals%0A%0A%0A%0AParagraph%0A%0A(***)%0A%0A(!)On%20+type#key#,%20objective##INST_4E####CODE_4####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0A%09%3Cscript%20type=%22text/javascript%22%20src=%22script.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch4%3EMALVERN%20CODING%20CHALLENGE%3C/h4%3E%0A%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20LEDDER?%3C/h6%3E%0A%20%20%20%20%0A%20%20%20%20%3Ch4%20id=%22stopwatch%22%3E00:00:00%3C/h4%3E%0A%20%20%20%20%0A%20%20%20%20%3Cdiv%20id=%22world%22%3E%0A%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0A%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0A%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0A%20%20%20%20%20%20%20%20%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%0A%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/ground.png%22%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cbutton%20id=%22start%22%3EGo!%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22jog%22%20onclick=%22setMode(1)%22%3EJog%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22run%22%20onclick=%22setMode(2)%22%3ERun%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22sprint%22%20onclick=%22setMode(3)%22%3ESprint%3C/button%3E%0A%3C/body%3E%0A%3C/html%3E#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##body%20%7B%0A%20%20%20%20font-family:%20sans-serif;%0A%20%20%20%20text-align:%20center;%0A%20%20%20%20background:%20#ffbf00;%0A%7D%0A%0Ah4,%20h6%20%7B%0A%20%20%20%20color:%20#333333;%0A%20%20%20%20letter-spacing:%202px;%0A%7D%0A%0Ah6%20%7B%0A%20%20%20%20margin:%205px%200%200%200;%0A%7D%0A%0Aimg,%20#energy%20%7B%0A%20%20%20%20position:%20absolute;%0A%7D%0A%0Abutton%20%7B%0A%20%20%20%20width:%2060px;%0A%20%20%20%20height:%2060px;%0A%20%20%20%20margin:%200%2010px;%0A%20%20%20%20border:%20gray%205px%20solid;%0A%20%20%20%20border-radius:%2050%25;%0A%20%20%20%20outline:%20none;%0A%20%20%20%20cursor:%20pointer%0A%7D%0A%0Abutton:active%20%7B%0A%20%20%20%20background:%20darkgray;%0A%7D%0A%0A#world%20%7B%0A%20%20%20%20position:%20relative;%0A%20%20%20%20left:%2050%25;%0A%20%20%20%20width:%20500px;%0A%20%20%20%20height:%20240px;%0A%20%20%20%20margin:%2020px%200;%0A%20%20%20%20background:%20skyblue;%0A%20%20%20%20transform:%20translateX(-50%25);%0A%20%20%20%20overflow:%20hidden;%0A%7D%0A%0A#cloud%20%7B%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0A%7D%0A%0A#energy%20%7B%0A%20%20%20%20width:%2060px;%0A%20%20%20%20height:%2010px;%0A%20%20%20%20margin:%200;%0A%7D%0A%0A#progress%20%7B%0A%20%20%20%20width:%2080%25;%0A%20%20%20%20height:%2015px;%0A%7D%0A%0A#ground%20%7B%0A%20%20%20%20left:%200;%0A%20%20%20%20bottom:%200;%0A%7D#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20start,%20world,%20ground,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0Avar%20mode%20=%200;%0D%0Avar%20paused%20=%20true;%0D%0Avar%20exhausted%20=%20false;%0D%0Avar%20clouds%20=%20%5B%5D;%0D%0Avar%20link%20=%20%5B%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/runner_ready.gif%22%5D;%0D%0A%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_jog%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_run%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_sprint%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_exhausted%22));%0D%0Alink.push(link%5B4%5D);%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20stopwatch%20=%20document.getElementById(%22stopwatch%22);%0D%0A%20%20%20%20progress%20=%20document.getElementById(%22progress%22);%0D%0A%20%20%20%20energy%20=%20document.getElementById(%22energy%22);%0D%0A%20%20%20%20info%20=%20document.getElementById(%22info%22);%0D%0A%20%20%20%20world%20=%20document.getElementById(%22world%22);%0D%0A%20%20%20%20start%20=%20document.getElementById(%22start%22);%0D%0A%20%20%20%20ground%20=%20document.getElementById(%22ground%22);%0D%0A%20%20%20%20%0D%0A%20%20%20%20start.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20%20%20%20%20energy.max%20=%20100;%0D%0A%20%20%20%20%20%20%20%20timer%20=%20Date.now();%0D%0A%20%20%20%20%20%20%20%20paused%20=%20false;%0D%0A%20%20%20%20%20%20%20%20setMode(1);%0D%0A%20%20%20%20%20%20%20%20this.disabled%20=%20true;%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%201000;%0D%0A%20%20%20%20%0D%0A%20%20%20%20loadAnimation();%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link%5B0%5D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20world.appendChild(runner);%0D%0A%20%20%20%20%0D%0A%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%20%20%20%20createCloud();%0D%0A%7D%0D%0A%0D%0Afunction%20loadAnimation(n%20=%200)%20%7B%0D%0A%20%20%20%20let%20img%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20img.src%20=%20link%5Bn%5D;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Loading:%20%3Cspan%20style='color:green'%3E%22%20+%20link%5Bn%5D.match(/%5Cw+%5C.gif/i)%5B0%5D%20+%20%22%3Cspan%3E%22;%0D%0A%20%20%20%20img.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(n%20%3C%20link.length%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20loadAnimation(n%20+%201);%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20iniWorld();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20updateWorld(timestamp)%20%7B%0D%0A%20%20%20%20if%20(!lastUpdate)%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20delta%20=%20timestamp%20-%20lastUpdate;%0D%0A%20%20%20%20updateClouds();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(progress.value%20==%20progress.max%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(5);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20finisher();%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateStopWatch();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updatePerformance();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateRunnerPos();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D%0D%0A%0D%0Afunction%20updatePerformance()%20%7B%0D%0A%20%20%20%20energy.value%20+=%20energyGain;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(energy.value%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted%20&&%20energy.value%20%3E%2060)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20exhausted%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(1);%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20progress.value%20+=%20delta%20*%20speed;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(4);%0D%0A%20%20%20%20%20%20%20%20exhausted%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateRunnerPos()%20%7B%0D%0A%20%20%20%20if%20(runner.offsetLeft%20!=%20world.clientWidth%20*%20runnerPos%20&&%20!exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20offset%20=%20(runner.offsetLeft%20-%20world.clientWidth%20*%20runnerPos)%20*%20delta%20/%201000;%0D%0A%20%20%20%20%20%20%20%20move(runner,%20offset);%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateStopWatch()%20%7B%0D%0A%20%20%20%20var%20elapsed%20=%20Date.now()%20-%20timer,%0D%0A%20%20%20%20%20%20%20%20m%20=%20Math.floor(elapsed%20/%2060000%20%25%2060),%0D%0A%20%20%20%20%20%20%20%20s%20=%20Math.floor(elapsed%20/%201000%20%25%2060),%0D%0A%20%20%20%20%20%20%20%20ms%20=%20Math.floor(elapsed%20/%2010%20%25%20100);%0D%0A%20%20%20%20stopwatch.innerHTML%20=%20pad(m)%20+%20%22:%22%20+%20pad(s)%20+%20%22:%22%20+%20pad(ms);%0D%0A%7D%0D%0A%0D%0Afunction%20createCloud()%20%7B%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20cloud%20=%20document.createElement(%22img%22),%20d%20=%20range(-15,%2080);%0D%0A%20%20%20%20%20%20%20%20cloud.src%20=%20%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/cloud.png%22;%0D%0A%20%20%20%20%20%20%20%20cloud.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.top%20=%20d%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.left%20=%20world.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.width%20=%20remap(d,%20-15,%2080,%2080,%2040)%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.appendChild(cloud);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.unshift(cloud);%0D%0A%20%20%20%20%20%20%20%20%7D;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20setTimeout(createCloud,%20cloudSeed()%20*%201000);%0D%0A%7D%0D%0A%0D%0Afunction%20cloudSeed()%20%7B%0D%0A%20%20%20%20return%20range(3,%2010)%20/%20remap(speed,%200,%200.15,%201,%204);%0D%0A%7D%0D%0A%0D%0Afunction%20updateClouds()%20%7B%0D%0A%20%20%20%20clouds.forEach(function(c,%20i)%20%7B%0D%0A%20%20%20%20%20%20%20%20move(c,%20Math.max(delta%20*%20speed,%200.5)%20*%20c.offsetWidth%20/%2080);%0D%0A%20%20%20%20%20%20%20%20if%20(c.offsetLeft%20%3C=%20-c.offsetWidth)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.removeChild(c);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.splice(i,%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20setMode(n)%20%7B%0D%0A%20%20%20%20if%20(!exhausted%20&&%20!paused%20&&%20mode%20!=%20n)%20%7B%0D%0A%20%20%20%20%20%20%20%20mode%20=%20n;%0D%0A%20%20%20%20%20%20%20%20runner.src%20=%20link%5Bmode%5D;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20switch%20(mode)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%201:%20%20%20%20%20//%20start%20jogging%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.3;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.04;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.06;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3EJOGGING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%202:%20%20%20%20%20//%20start%20running%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.4;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.1;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.08;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ERUNNING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%203:%20%20%20%20%20//%20start%20sprinting%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.55;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.15;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.2;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ESPRINTING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%204:%20%20%20%20%20//%20become%20exhausted%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:firebrick'%3EEXHAUSHTED%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%205:%20%20%20%20%20//%20finisher%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20paused%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EFINISHER!%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22You're%20exhausted,%20wait%20until%20your%20energy%20recovers%20to%2060%25.%22);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20!=%20n)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('Click%20%22Go!%22%20to%20start%20the%20race.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20pos(e,%20p)%20%7B%0D%0A%20%20%20%20return%20parseFloat(window.getComputedStyle(e).getPropertyValue(p));%0D%0A%7D%0D%0A%0D%0Afunction%20move(e,%20d)%20%7B%0D%0A%20%20%20%20e.style.left%20=%20pos(e,%20%22left%22)%20-%20d%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20clamp(v,%20min,%20max)%20%7B%0D%0A%20%20%20%20return%20Math.max(min,%20Math.min(v,%20max));%0D%0A%7D%0D%0A%0D%0Afunction%20range(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20var%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Afunction%20remap(v,%20iMin,%20iMax,%20oMin,%20oMax)%20%7B%0D%0A%20%20%20%20return%20oMin%20+%20(v%20-%20iMin)%20*%20(oMax%20-%20oMin)%20/%20(iMax%20-%20iMin);%0D%0A%7D%0D%0A%0D%0Afunction%20pad(n)%20%7B%0D%0A%20%20%20%20return%20n.toString().length%20==%202%20?%20n%20:%20'0'%20+%20n.toString();%0D%0A%7D##JS_E####CODE_4E####LOGIC_4####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_4E####STEP_4E####STEP_5####INST_5##Functions%0A%0ARight%20now,%20our%20simulator%20can%20only%20run%20once.%20After%20finishing,%20we%20want%20to%20have%20it%20play%20again%20when%20we%20click%20*Go!*.%0A%0A(*)A%20function%20is%20a%20block%20of%20code%20that%20runs%20a%20task.%20We%20can%20call%20the%20function%20to%20perform%20the%20same%20task%20again%20and%20again!%0A%0AHere%20is%20what%20a%20function%20looks%20like%20and%20how%20to%20call%20it:%0A%0A(js)function%20myFunction()%20%7B%7D%0A%0A//%20Call%20a%20function%0AmyFunction();(#)%0A%5B-%0A%09(*)the%20keyword%20%60function%60%20means%20a%20new%20function%20is%20being%20created%20and%20%60f%60%20is%20the%20name%20of%20that%20function%0A%09(*)everything%20inside%20the%20%60%7B%7D%60%20is%20the%20content%20of%20that%20function%20(%20the%20task%20it%20performs%20)%0A%09(*)%60f()%60%20calls%20the%20function%20called%20%60f%60%20to%20perform%20its%20task%0A-%5D%0A%0A(***)%0A%0A(!)Find%20the%20function%20at%20+js#reset()%20%7B#%20-%20js#e,%20p#-2%20and%20remember%20its%20name%0A(!)On%20+js#resetButton.onclick#+1,%20call%20that%20function##INST_5E####CODE_5####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0A%09%3Cscript%20type=%22text/javascript%22%20src=%22script.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch4%3EMALVERN%20CODING%20CHALLENGE%3C/h4%3E%0A%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20LEDDER?%3C/h6%3E%0A%20%20%20%20%0A%20%20%20%20%3Ch4%20id=%22stopwatch%22%3E00:00:00%3C/h4%3E%0A%20%20%20%20%0A%20%20%20%20%3Cdiv%20id=%22world%22%3E%0A%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0A%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0A%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0A%20%20%20%20%20%20%20%20%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%0A%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/ground.png%22%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cbutton%20id=%22start%22%3EGo!%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22jog%22%20onclick=%22setMode(1)%22%3EJog%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22run%22%20onclick=%22setMode(2)%22%3ERun%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22sprint%22%20onclick=%22setMode(3)%22%3ESprint%3C/button%3E%0A%3C/body%3E%0A%3C/html%3E#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##body%20%7B%0A%20%20%20%20font-family:%20sans-serif;%0A%20%20%20%20text-align:%20center;%0A%20%20%20%20background:%20#ffbf00;%0A%7D%0A%0Ah4,%20h6%20%7B%0A%20%20%20%20color:%20#333333;%0A%20%20%20%20letter-spacing:%202px;%0A%7D%0A%0Ah6%20%7B%0A%20%20%20%20margin:%205px%200%200%200;%0A%7D%0A%0Aimg,%20#energy%20%7B%0A%20%20%20%20position:%20absolute;%0A%7D%0A%0Abutton%20%7B%0A%20%20%20%20width:%2060px;%0A%20%20%20%20height:%2060px;%0A%20%20%20%20margin:%200%2010px;%0A%20%20%20%20border:%20gray%205px%20solid;%0A%20%20%20%20border-radius:%2050%25;%0A%20%20%20%20outline:%20none;%0A%20%20%20%20cursor:%20pointer%0A%7D%0A%0Abutton:active%20%7B%0A%20%20%20%20background:%20darkgray;%0A%7D%0A%0A#world%20%7B%0A%20%20%20%20position:%20relative;%0A%20%20%20%20left:%2050%25;%0A%20%20%20%20width:%20500px;%0A%20%20%20%20height:%20240px;%0A%20%20%20%20margin:%2020px%200;%0A%20%20%20%20background:%20skyblue;%0A%20%20%20%20transform:%20translateX(-50%25);%0A%20%20%20%20overflow:%20hidden;%0A%7D%0A%0A#cloud%20%7B%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0A%7D%0A%0A#energy%20%7B%0A%20%20%20%20width:%2060px;%0A%20%20%20%20height:%2010px;%0A%20%20%20%20margin:%200;%0A%7D%0A%0A#progress%20%7B%0A%20%20%20%20width:%2080%25;%0A%20%20%20%20height:%2015px;%0A%7D%0A%0A#ground%20%7B%0A%20%20%20%20left:%200;%0A%20%20%20%20bottom:%200;%0A%7D#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20start,%20world,%20ground,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0Avar%20mode%20=%200;%20%20%20%20%20%20%20//%20starting%20mode:%200%20is%20idle,%201%20is%20jog,%202%20is%20run,%203%20is%20sprint%0D%0Avar%20paused%20=%20true;%0D%0Avar%20exhausted%20=%20false;%0D%0Avar%20clouds%20=%20%5B%5D;%0D%0Avar%20link%20=%20%5B%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/runner_ready.gif%22%5D;%0D%0A%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_jog%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_run%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_sprint%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_exhausted%22));%0D%0Alink.push(link%5B4%5D);%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20stopwatch%20=%20document.getElementById(%22stopwatch%22);%0D%0A%20%20%20%20progress%20=%20document.getElementById(%22progress%22);%0D%0A%20%20%20%20energy%20=%20document.getElementById(%22energy%22);%0D%0A%20%20%20%20info%20=%20document.getElementById(%22info%22);%0D%0A%20%20%20%20world%20=%20document.getElementById(%22world%22);%0D%0A%20%20%20%20start%20=%20document.getElementById(%22start%22);%0D%0A%20%20%20%20ground%20=%20document.getElementById(%22ground%22);%0D%0A%20%20%20%20%0D%0A%20%20%20%20start.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20timer%20=%20Date.now();%0D%0A%20%20%20%20%20%20%20%20paused%20=%20false;%0D%0A%20%20%20%20%20%20%20%20setMode(1);%0D%0A%20%20%20%20%20%20%20%20this.disabled%20=%20true;%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%2010000;%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.max%20=%20100;%0D%0A%20%20%20%20%0D%0A%20%20%20%20iniWorld();%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link%5B0%5D;%0D%0A%20%20%20%20runner.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20%20%20%20%20world.appendChild(runner);%0D%0A%20%20%20%20%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20createCloud();%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20updateWorld(timestamp)%20%7B%0D%0A%20%20%20%20if%20(!lastUpdate)%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20delta%20=%20timestamp%20-%20lastUpdate;%0D%0A%20%20%20%20updateClouds();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(progress.value%20==%20progress.max%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(5);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20finisher();%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateStopWatch();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updatePerformance();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateRunnerPos();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D%0D%0A%0D%0Afunction%20updatePerformance()%20%7B%0D%0A%20%20%20%20energy.value%20+=%20energyGain;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(energy.value%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted%20&&%20energy.value%20%3E%2060)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20exhausted%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(1);%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20progress.value%20+=%20delta%20*%20speed;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(4);%20%20%20%20%20//%20become%20exhausted%0D%0A%20%20%20%20%20%20%20%20exhausted%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateRunnerPos()%20%7B%0D%0A%20%20%20%20if%20(runner.offsetLeft%20!=%20world.clientWidth%20*%20runnerPos%20&&%20!exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20offset%20=%20(runner.offsetLeft%20-%20world.clientWidth%20*%20runnerPos)%20*%20delta%20/%201000;%0D%0A%20%20%20%20%20%20%20%20move(runner,%20offset);%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateStopWatch()%20%7B%0D%0A%20%20%20%20var%20elapsed%20=%20Date.now()%20-%20timer,%0D%0A%20%20%20%20%20%20%20%20m%20=%20Math.floor(elapsed%20/%2060000%20%25%2060),%0D%0A%20%20%20%20%20%20%20%20s%20=%20Math.floor(elapsed%20/%201000%20%25%2060),%0D%0A%20%20%20%20%20%20%20%20ms%20=%20Math.floor(elapsed%20/%2010%20%25%20100);%0D%0A%20%20%20%20stopwatch.innerHTML%20=%20pad(m)%20+%20%22:%22%20+%20pad(s)%20+%20%22:%22%20+%20pad(ms);%0D%0A%7D%0D%0A%0D%0Afunction%20createCloud()%20%7B%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20cloud%20=%20document.createElement(%22img%22),%20d%20=%20range(-15,%2080);%0D%0A%20%20%20%20%20%20%20%20cloud.src%20=%20%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/cloud.png%22;%0D%0A%20%20%20%20%20%20%20%20cloud.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.top%20=%20d%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.left%20=%20world.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.width%20=%20remap(d,%20-15,%2080,%2080,%2040)%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.appendChild(cloud);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.unshift(cloud);%0D%0A%20%20%20%20%20%20%20%20%7D;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20setTimeout(createCloud,%20cloudSeed()%20*%201000);%0D%0A%7D%0D%0A%0D%0Afunction%20cloudSeed()%20%7B%0D%0A%20%20%20%20return%20range(3,%2010)%20/%20remap(speed,%200,%200.15,%201,%204);%0D%0A%7D%0D%0A%0D%0Afunction%20updateClouds()%20%7B%0D%0A%20%20%20%20clouds.forEach(function(c,%20i)%20%7B%0D%0A%20%20%20%20%20%20%20%20move(c,%20Math.max(delta%20*%20speed,%200.5)%20*%20c.offsetWidth%20/%2080);%0D%0A%20%20%20%20%20%20%20%20if%20(c.offsetLeft%20%3C=%20-c.offsetWidth)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.removeChild(c);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.splice(i,%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20setMode(n)%20%7B%0D%0A%20%20%20%20if%20(!exhausted%20&&%20!paused%20&&%20mode%20!=%20n)%20%7B%0D%0A%20%20%20%20%20%20%20%20mode%20=%20n;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20switch%20(mode)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%201:%20%20%20%20%20//%20start%20jogging%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.3;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.06;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3EJOGGING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%202:%20%20%20%20%20//%20start%20running%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.4;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.1;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.08;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ERUNNING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%203:%20%20%20%20%20//%20start%20sprinting%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.55;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.15;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.2;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ESPRINTING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%204:%20%20%20%20%20//%20become%20exhausted%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:firebrick'%3EEXHAUSHTED%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%205:%20%20%20%20%20//%20finisher%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20paused%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EFINISHER!%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22You're%20exhausted,%20wait%20until%20your%20energy%20recovers%20to%2060%25.%22);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20!=%20n)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('Click%20%22Go!%22%20to%20start%20the%20race.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20finisher()%20%7B%0D%0A%20%20%20%20var%20popup%20=%20document.createElement(%22div%22),%0D%0A%20%20%20%20%20%20%20%20resetButton%20=%20document.createElement(%22button%22);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20popup.id%20=%20%22popup%22;%0D%0A%20%20%20%20popup.innerHTML%20=%20%22%3Cp%3ECongratulations!%20You%20have%20finished%20the%20race.%3C/p%3E%22;%0D%0A%20%20%20%20resetButton.id%20=%20%22reset%22;%0D%0A%20%20%20%20resetButton.innerHTML%20=%20%22REPLAY%22;%0D%0A%20%20%20%20resetButton.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#reset();#END_EDITABLE#%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20world.appendChild(popup);%0D%0A%20%20%20%20popup.appendChild(resetButton);%0D%0A%7D%0D%0A%0D%0Afunction%20reset()%20%7B%0D%0A%20%20%20%20world.removeChild(popup);%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%09stopwatch.innerHTML%20=%20%2200:00:00%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%7D%0D%0A%0D%0Afunction%20pos(e,%20p)%20%7B%0D%0A%20%20%20%20return%20parseFloat(window.getComputedStyle(e).getPropertyValue(p));%0D%0A%7D%0D%0A%0D%0Afunction%20move(e,%20d)%20%7B%0D%0A%20%20%20%20e.style.left%20=%20pos(e,%20%22left%22)%20-%20d%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20clamp(v,%20min,%20max)%20%7B%0D%0A%20%20%20%20return%20Math.max(min,%20Math.min(v,%20max));%0D%0A%7D%0D%0A%0D%0Afunction%20range(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20var%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Afunction%20remap(v,%20iMin,%20iMax,%20oMin,%20oMax)%20%7B%0D%0A%20%20%20%20return%20oMin%20+%20(v%20-%20iMin)%20*%20(oMax%20-%20oMin)%20/%20(iMax%20-%20iMin);%0D%0A%7D%0D%0A%0D%0Afunction%20pad(n)%20%7B%0D%0A%20%20%20%20return%20n.toString().length%20==%202%20?%20n%20:%20'0'%20+%20n.toString();%0D%0A%7D##JS_E####CODE_5E####LOGIC_5####HTML####HTML_E####CSS####CSS_E####JS##let%20output%20=%20codeWithoutMarkup.replace(/;%5Cs*%5C/%5C/.*/g,';');%0A//%20output%20=%20insertLine(output,%20'key',%20%7Bline:%20'',%20offset:%200%7D);%0Areturn%20output;%0A%0A//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60reset();%60);##JS_E####LOGIC_5E####STEP_5E####STEP_6####INST_6##Loops%0A%0ASometimes%20we%20need%20to%20do%20things%20over%20and%20over%20again%20many%20times,%20for%20example,%20updating%20the%20energy%20bar%20of%20the%20runner.%0A%0AThere%20are%20many%20methods%20to%20do%20this%20but%20we%20will%20use%20the%20%60requestAnimationFrame%60%20method.%0A%0A(***)%0A%0A(!)On%20+js#function%20updatePerformance#-3,%20use%20the%20%60window.requestAnimationFrame()%60%20method%20to%20repeatedly%20call%20the%20*updateWorld*%20function##INST_6E####CODE_6####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0A%09%3Cscript%20type=%22text/javascript%22%20src=%22script.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch4%3EMALVERN%20CODING%20CHALLENGE%3C/h4%3E%0A%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20LEDDER?%3C/h6%3E%0A%20%20%20%20%0A%20%20%20%20%3Ch4%20id=%22stopwatch%22%3E00:00:00%3C/h4%3E%0A%20%20%20%20%0A%20%20%20%20%3Cdiv%20id=%22world%22%3E%0A%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0A%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0A%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0A%20%20%20%20%20%20%20%20%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%0A%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/ground.png%22%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cbutton%20id=%22start%22%3EGo!%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22jog%22%20onclick=%22setMode(1)%22%3EJog%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22run%22%20onclick=%22setMode(2)%22%3ERun%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22sprint%22%20onclick=%22setMode(3)%22%3ESprint%3C/button%3E%0A%3C/body%3E%0A%3C/html%3E#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##body%20%7B%0A%20%20%20%20font-family:%20sans-serif;%0A%20%20%20%20text-align:%20center;%0A%20%20%20%20background:%20#ffbf00;%0A%7D%0A%0Ah4,%20h6%20%7B%0A%20%20%20%20color:%20#333333;%0A%20%20%20%20letter-spacing:%202px;%0A%7D%0A%0Ah6%20%7B%0A%20%20%20%20margin:%205px%200%200%200;%0A%7D%0A%0Aimg,%20#energy%20%7B%0A%20%20%20%20position:%20absolute;%0A%7D%0A%0Abutton%20%7B%0A%20%20%20%20width:%2060px;%0A%20%20%20%20height:%2060px;%0A%20%20%20%20margin:%200%2010px;%0A%20%20%20%20border:%20gray%205px%20solid;%0A%20%20%20%20border-radius:%2050%25;%0A%20%20%20%20outline:%20none;%0A%20%20%20%20cursor:%20pointer%0A%7D%0A%0Abutton:active%20%7B%0A%20%20%20%20background:%20darkgray;%0A%7D%0A%0A#world%20%7B%0A%20%20%20%20position:%20relative;%0A%20%20%20%20left:%2050%25;%0A%20%20%20%20width:%20500px;%0A%20%20%20%20height:%20240px;%0A%20%20%20%20margin:%2020px%200;%0A%20%20%20%20background:%20skyblue;%0A%20%20%20%20transform:%20translateX(-50%25);%0A%20%20%20%20overflow:%20hidden;%0A%7D%0A%0A#cloud%20%7B%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0A%7D%0A%0A#energy%20%7B%0A%20%20%20%20width:%2060px;%0A%20%20%20%20height:%2010px;%0A%20%20%20%20margin:%200;%0A%7D%0A%0A#progress%20%7B%0A%20%20%20%20width:%2080%25;%0A%20%20%20%20height:%2015px;%0A%7D%0A%0A#ground%20%7B%0A%20%20%20%20left:%200;%0A%20%20%20%20bottom:%200;%0A%7D#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20start,%20world,%20ground,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0Avar%20mode%20=%200;%20%20%20%20%20%20%20//%20starting%20mode:%200%20is%20idle,%201%20is%20jog,%202%20is%20run,%203%20is%20sprint%0D%0Avar%20paused%20=%20true;%0D%0Avar%20exhausted%20=%20false;%0D%0Avar%20clouds%20=%20%5B%5D;%0D%0Avar%20link%20=%20%5B%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/runner_ready.gif%22%5D;%0D%0A%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_jog%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_run%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_sprint%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_exhausted%22));%0D%0Alink.push(link%5B4%5D);%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20stopwatch%20=%20document.getElementById(%22stopwatch%22);%0D%0A%20%20%20%20progress%20=%20document.getElementById(%22progress%22);%0D%0A%20%20%20%20energy%20=%20document.getElementById(%22energy%22);%0D%0A%20%20%20%20info%20=%20document.getElementById(%22info%22);%0D%0A%20%20%20%20world%20=%20document.getElementById(%22world%22);%0D%0A%20%20%20%20start%20=%20document.getElementById(%22start%22);%0D%0A%20%20%20%20ground%20=%20document.getElementById(%22ground%22);%0D%0A%20%20%20%20%0D%0A%20%20%20%20start.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20timer%20=%20Date.now();%0D%0A%20%20%20%20%20%20%20%20paused%20=%20false;%0D%0A%20%20%20%20%20%20%20%20setMode(1);%0D%0A%20%20%20%20%20%20%20%20this.disabled%20=%20true;%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%2010000;%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.max%20=%20100;%0D%0A%20%20%20%20%0D%0A%20%20%20%20iniWorld();%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link%5B0%5D;%0D%0A%20%20%20%20runner.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20%20%20%20%20world.appendChild(runner);%0D%0A%20%20%20%20%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20createCloud();%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20updateWorld(timestamp)%20%7B%0D%0A%20%20%20%20if%20(!lastUpdate)%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20delta%20=%20timestamp%20-%20lastUpdate;%0D%0A%20%20%20%20updateClouds();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(progress.value%20==%20progress.max%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(5);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20finisher();%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateStopWatch();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updatePerformance();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateRunnerPos();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20#BEGIN_EDITABLE#window.requestAnimationFrame(updateWorld);#END_EDITABLE#%0D%0A%7D%0D%0A%0D%0Afunction%20updatePerformance()%20%7B%0D%0A%20%20%20%20energy.value%20+=%20energyGain;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(energy.value%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted%20&&%20energy.value%20%3E%2060)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20exhausted%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(1);%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20progress.value%20+=%20delta%20*%20speed;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(4);%20%20%20%20%20//%20become%20exhausted%0D%0A%20%20%20%20%20%20%20%20exhausted%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateRunnerPos()%20%7B%0D%0A%20%20%20%20if%20(runner.offsetLeft%20!=%20world.clientWidth%20*%20runnerPos%20&&%20!exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20offset%20=%20(runner.offsetLeft%20-%20world.clientWidth%20*%20runnerPos)%20*%20delta%20/%201000;%0D%0A%20%20%20%20%20%20%20%20move(runner,%20offset);%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateStopWatch()%20%7B%0D%0A%20%20%20%20var%20elapsed%20=%20Date.now()%20-%20timer,%0D%0A%20%20%20%20%20%20%20%20m%20=%20Math.floor(elapsed%20/%2060000%20%25%2060),%0D%0A%20%20%20%20%20%20%20%20s%20=%20Math.floor(elapsed%20/%201000%20%25%2060),%0D%0A%20%20%20%20%20%20%20%20ms%20=%20Math.floor(elapsed%20/%2010%20%25%20100);%0D%0A%20%20%20%20stopwatch.innerHTML%20=%20pad(m)%20+%20%22:%22%20+%20pad(s)%20+%20%22:%22%20+%20pad(ms);%0D%0A%7D%0D%0A%0D%0Afunction%20createCloud()%20%7B%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20cloud%20=%20document.createElement(%22img%22),%20d%20=%20range(-15,%2080);%0D%0A%20%20%20%20%20%20%20%20cloud.src%20=%20%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/cloud.png%22;%0D%0A%20%20%20%20%20%20%20%20cloud.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.top%20=%20d%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.left%20=%20world.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.width%20=%20remap(d,%20-15,%2080,%2080,%2040)%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.appendChild(cloud);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.unshift(cloud);%0D%0A%20%20%20%20%20%20%20%20%7D;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20setTimeout(createCloud,%20cloudSeed()%20*%201000);%0D%0A%7D%0D%0A%0D%0Afunction%20cloudSeed()%20%7B%0D%0A%20%20%20%20return%20range(3,%2010)%20/%20remap(speed,%200,%200.15,%201,%204);%0D%0A%7D%0D%0A%0D%0Afunction%20updateClouds()%20%7B%0D%0A%20%20%20%20clouds.forEach(function(c,%20i)%20%7B%0D%0A%20%20%20%20%20%20%20%20move(c,%20Math.max(delta%20*%20speed,%200.5)%20*%20c.offsetWidth%20/%2080);%0D%0A%20%20%20%20%20%20%20%20if%20(c.offsetLeft%20%3C=%20-c.offsetWidth)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.removeChild(c);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.splice(i,%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20setMode(n)%20%7B%0D%0A%20%20%20%20if%20(!exhausted%20&&%20!paused%20&&%20mode%20!=%20n)%20%7B%0D%0A%20%20%20%20%20%20%20%20mode%20=%20n;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20switch%20(mode)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%201:%20%20%20%20%20//%20start%20jogging%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.3;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.06;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3EJOGGING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%202:%20%20%20%20%20//%20start%20running%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.4;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.1;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.08;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ERUNNING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%203:%20%20%20%20%20//%20start%20sprinting%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.55;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.15;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.2;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ESPRINTING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%204:%20%20%20%20%20//%20become%20exhausted%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:firebrick'%3EEXHAUSHTED%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%205:%20%20%20%20%20//%20finisher%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20paused%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EFINISHER!%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22You're%20exhausted,%20wait%20until%20your%20energy%20recovers%20to%2060%25.%22);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20!=%20n)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('Click%20%22Go!%22%20to%20start%20the%20race.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20finisher()%20%7B%0D%0A%20%20%20%20var%20popup%20=%20document.createElement(%22div%22),%0D%0A%20%20%20%20%20%20%20%20resetButton%20=%20document.createElement(%22button%22);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20popup.id%20=%20%22popup%22;%0D%0A%20%20%20%20popup.innerHTML%20=%20%22%3Cp%3ECongratulations!%20You%20have%20finished%20the%20race.%3C/p%3E%22;%0D%0A%20%20%20%20resetButton.id%20=%20%22reset%22;%0D%0A%20%20%20%20resetButton.innerHTML%20=%20%22REPLAY%22;%0D%0A%20%20%20%20resetButton.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20reset();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20world.appendChild(popup);%0D%0A%20%20%20%20popup.appendChild(resetButton);%0D%0A%7D%0D%0A%0D%0Afunction%20reset()%20%7B%0D%0A%20%20%20%20world.removeChild(popup);%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%09stopwatch.innerHTML%20=%20%2200:00:00%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%7D%0D%0A%0D%0Afunction%20pos(e,%20p)%20%7B%0D%0A%20%20%20%20return%20parseFloat(window.getComputedStyle(e).getPropertyValue(p));%0D%0A%7D%0D%0A%0D%0Afunction%20move(e,%20d)%20%7B%0D%0A%20%20%20%20e.style.left%20=%20pos(e,%20%22left%22)%20-%20d%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20clamp(v,%20min,%20max)%20%7B%0D%0A%20%20%20%20return%20Math.max(min,%20Math.min(v,%20max));%0D%0A%7D%0D%0A%0D%0Afunction%20range(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20var%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Afunction%20remap(v,%20iMin,%20iMax,%20oMin,%20oMax)%20%7B%0D%0A%20%20%20%20return%20oMin%20+%20(v%20-%20iMin)%20*%20(oMax%20-%20oMin)%20/%20(iMax%20-%20iMin);%0D%0A%7D%0D%0A%0D%0Afunction%20pad(n)%20%7B%0D%0A%20%20%20%20return%20n.toString().length%20==%202%20?%20n%20:%20'0'%20+%20n.toString();%0D%0A%7D##JS_E####CODE_6E####LOGIC_6####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60window.requestAnimationFrame(updateWorld);%60);##JS_E####LOGIC_6E####STEP_6E####STEP_7####INST_7##Stopwatch%20-%20start%20time%0A%0AMaths%20time!%20Let's%20add%20a%20stopwatch%20to%20the%20simulator%20so%20we%20can%20keep%20the%20time.%0A%0AFirst%20we%20need%20to%20capture%20the%20start%20time%20when%20the%20start%20button%20is%20clicked.%0A%0A(***)%0A%0A(!)On%20+js#start.onclick#+1,%20store%20the%20time%20when%20the%20start%20button%20is%20clicked%20using%20the%20%60Date.now()%60%20method##INST_7E####CODE_7####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0A%09%3Cscript%20type=%22text/javascript%22%20src=%22script.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch4%3EMALVERN%20CODING%20CHALLENGE%3C/h4%3E%0A%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20LEDDER?%3C/h6%3E%0A%20%20%20%20%0A%20%20%20%20%3Ch4%20id=%22stopwatch%22%3E00:00:00%3C/h4%3E%0A%20%20%20%20%0A%20%20%20%20%3Cdiv%20id=%22world%22%3E%0A%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0A%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0A%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0A%20%20%20%20%20%20%20%20%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%0A%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/ground.png%22%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cbutton%20id=%22start%22%3EGo!%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22jog%22%20onclick=%22setMode(1)%22%3EJog%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22run%22%20onclick=%22setMode(2)%22%3ERun%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22sprint%22%20onclick=%22setMode(3)%22%3ESprint%3C/button%3E%0A%3C/body%3E%0A%3C/html%3E#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##body%20%7B%0A%20%20%20%20font-family:%20sans-serif;%0A%20%20%20%20text-align:%20center;%0A%20%20%20%20background:%20#ffbf00;%0A%7D%0A%0Ah4,%20h6%20%7B%0A%20%20%20%20color:%20#333333;%0A%20%20%20%20letter-spacing:%202px;%0A%7D%0A%0Ah6%20%7B%0A%20%20%20%20margin:%205px%200%200%200;%0A%7D%0A%0Aimg,%20#energy%20%7B%0A%20%20%20%20position:%20absolute;%0A%7D%0A%0Abutton%20%7B%0A%20%20%20%20width:%2060px;%0A%20%20%20%20height:%2060px;%0A%20%20%20%20margin:%200%2010px;%0A%20%20%20%20border:%20gray%205px%20solid;%0A%20%20%20%20border-radius:%2050%25;%0A%20%20%20%20outline:%20none;%0A%20%20%20%20cursor:%20pointer%0A%7D%0A%0Abutton:active%20%7B%0A%20%20%20%20background:%20darkgray;%0A%7D%0A%0A#world%20%7B%0A%20%20%20%20position:%20relative;%0A%20%20%20%20left:%2050%25;%0A%20%20%20%20width:%20500px;%0A%20%20%20%20height:%20240px;%0A%20%20%20%20margin:%2020px%200;%0A%20%20%20%20background:%20skyblue;%0A%20%20%20%20transform:%20translateX(-50%25);%0A%20%20%20%20overflow:%20hidden;%0A%7D%0A%0A#cloud%20%7B%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0A%7D%0A%0A#energy%20%7B%0A%20%20%20%20width:%2060px;%0A%20%20%20%20height:%2010px;%0A%20%20%20%20margin:%200;%0A%7D%0A%0A#progress%20%7B%0A%20%20%20%20width:%2080%25;%0A%20%20%20%20height:%2015px;%0A%7D%0A%0A#ground%20%7B%0A%20%20%20%20left:%200;%0A%20%20%20%20bottom:%200;%0A%7D#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20start,%20world,%20ground,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0Avar%20mode%20=%200;%20%20%20%20%20%20%20//%20starting%20mode:%200%20is%20idle,%201%20is%20jog,%202%20is%20run,%203%20is%20sprint%0D%0Avar%20paused%20=%20true;%0D%0Avar%20exhausted%20=%20false;%0D%0Avar%20clouds%20=%20%5B%5D;%0D%0Avar%20link%20=%20%5B%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/runner_ready.gif%22%5D;%0D%0A%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_jog%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_run%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_sprint%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_exhausted%22));%0D%0Alink.push(link%5B4%5D);%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20stopwatch%20=%20document.getElementById(%22stopwatch%22);%0D%0A%20%20%20%20progress%20=%20document.getElementById(%22progress%22);%0D%0A%20%20%20%20energy%20=%20document.getElementById(%22energy%22);%0D%0A%20%20%20%20info%20=%20document.getElementById(%22info%22);%0D%0A%20%20%20%20world%20=%20document.getElementById(%22world%22);%0D%0A%20%20%20%20start%20=%20document.getElementById(%22start%22);%0D%0A%20%20%20%20ground%20=%20document.getElementById(%22ground%22);%0D%0A%20%20%20%20%0D%0A%20%20%20%20start.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#timer%20=%20Date.now();#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20paused%20=%20false;%0D%0A%20%20%20%20%20%20%20%20setMode(1);%0D%0A%20%20%20%20%20%20%20%20this.disabled%20=%20true;%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%2010000;%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.max%20=%20100;%0D%0A%20%20%20%20%0D%0A%20%20%20%20iniWorld();%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link%5B0%5D;%0D%0A%20%20%20%20runner.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20%20%20%20%20world.appendChild(runner);%0D%0A%20%20%20%20%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20createCloud();%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20updateWorld(timestamp)%20%7B%0D%0A%20%20%20%20if%20(!lastUpdate)%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20delta%20=%20timestamp%20-%20lastUpdate;%0D%0A%20%20%20%20updateClouds();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(progress.value%20==%20progress.max%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(5);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20finisher();%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateStopWatch();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updatePerformance();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateRunnerPos();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%20%20%20%20%0D%0A%7D%0D%0A%0D%0Afunction%20updatePerformance()%20%7B%0D%0A%20%20%20%20energy.value%20+=%20energyGain;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(energy.value%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted%20&&%20energy.value%20%3E%2060)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20exhausted%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(1);%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20progress.value%20+=%20delta%20*%20speed;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(4);%20%20%20%20%20//%20become%20exhausted%0D%0A%20%20%20%20%20%20%20%20exhausted%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateRunnerPos()%20%7B%0D%0A%20%20%20%20if%20(runner.offsetLeft%20!=%20world.clientWidth%20*%20runnerPos%20&&%20!exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20offset%20=%20(runner.offsetLeft%20-%20world.clientWidth%20*%20runnerPos)%20*%20delta%20/%201000;%0D%0A%20%20%20%20%20%20%20%20move(runner,%20offset);%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateStopWatch()%20%7B%0D%0A%20%20%20%20var%20elapsed%20=%20Date.now()%20-%20timer,%0D%0A%20%20%20%20%20%20%20%20m%20=%20Math.floor(elapsed%20/%2060000%20%25%2060),%0D%0A%20%20%20%20%20%20%20%20s%20=%20Math.floor(elapsed%20/%201000%20%25%2060),%0D%0A%20%20%20%20%20%20%20%20ms%20=%20Math.floor(elapsed%20/%2010%20%25%20100);%0D%0A%20%20%20%20stopwatch.innerHTML%20=%20pad(m)%20+%20%22:%22%20+%20pad(s)%20+%20%22:%22%20+%20pad(ms);%0D%0A%7D%0D%0A%0D%0Afunction%20createCloud()%20%7B%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20cloud%20=%20document.createElement(%22img%22),%20d%20=%20range(-15,%2080);%0D%0A%20%20%20%20%20%20%20%20cloud.src%20=%20%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/cloud.png%22;%0D%0A%20%20%20%20%20%20%20%20cloud.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.top%20=%20d%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.left%20=%20world.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.width%20=%20remap(d,%20-15,%2080,%2080,%2040)%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.appendChild(cloud);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.unshift(cloud);%0D%0A%20%20%20%20%20%20%20%20%7D;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20setTimeout(createCloud,%20cloudSeed()%20*%201000);%0D%0A%7D%0D%0A%0D%0Afunction%20cloudSeed()%20%7B%0D%0A%20%20%20%20return%20range(3,%2010)%20/%20remap(speed,%200,%200.15,%201,%204);%0D%0A%7D%0D%0A%0D%0Afunction%20updateClouds()%20%7B%0D%0A%20%20%20%20clouds.forEach(function(c,%20i)%20%7B%0D%0A%20%20%20%20%20%20%20%20move(c,%20Math.max(delta%20*%20speed,%200.5)%20*%20c.offsetWidth%20/%2080);%0D%0A%20%20%20%20%20%20%20%20if%20(c.offsetLeft%20%3C=%20-c.offsetWidth)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.removeChild(c);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.splice(i,%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20setMode(n)%20%7B%0D%0A%20%20%20%20if%20(!exhausted%20&&%20!paused%20&&%20mode%20!=%20n)%20%7B%0D%0A%20%20%20%20%20%20%20%20mode%20=%20n;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20switch%20(mode)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%201:%20%20%20%20%20//%20start%20jogging%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.3;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.06;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3EJOGGING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%202:%20%20%20%20%20//%20start%20running%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.4;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.1;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.08;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ERUNNING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%203:%20%20%20%20%20//%20start%20sprinting%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.55;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.15;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.2;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ESPRINTING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%204:%20%20%20%20%20//%20become%20exhausted%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:firebrick'%3EEXHAUSHTED%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%205:%20%20%20%20%20//%20finisher%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20paused%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EFINISHER!%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22You're%20exhausted,%20wait%20until%20your%20energy%20recovers%20to%2060%25.%22);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20!=%20n)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('Click%20%22Go!%22%20to%20start%20the%20race.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20finisher()%20%7B%0D%0A%20%20%20%20var%20popup%20=%20document.createElement(%22div%22),%0D%0A%20%20%20%20%20%20%20%20resetButton%20=%20document.createElement(%22button%22);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20popup.id%20=%20%22popup%22;%0D%0A%20%20%20%20popup.innerHTML%20=%20%22%3Cp%3ECongratulations!%20You%20have%20finished%20the%20race.%3C/p%3E%22;%0D%0A%20%20%20%20resetButton.id%20=%20%22reset%22;%0D%0A%20%20%20%20resetButton.innerHTML%20=%20%22REPLAY%22;%0D%0A%20%20%20%20resetButton.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20reset();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20world.appendChild(popup);%0D%0A%20%20%20%20popup.appendChild(resetButton);%0D%0A%7D%0D%0A%0D%0Afunction%20reset()%20%7B%0D%0A%20%20%20%20world.removeChild(popup);%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%09stopwatch.innerHTML%20=%20%2200:00:00%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%7D%0D%0A%0D%0Afunction%20pos(e,%20p)%20%7B%0D%0A%20%20%20%20return%20parseFloat(window.getComputedStyle(e).getPropertyValue(p));%0D%0A%7D%0D%0A%0D%0Afunction%20move(e,%20d)%20%7B%0D%0A%20%20%20%20e.style.left%20=%20pos(e,%20%22left%22)%20-%20d%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20clamp(v,%20min,%20max)%20%7B%0D%0A%20%20%20%20return%20Math.max(min,%20Math.min(v,%20max));%0D%0A%7D%0D%0A%0D%0Afunction%20range(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20var%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Afunction%20remap(v,%20iMin,%20iMax,%20oMin,%20oMax)%20%7B%0D%0A%20%20%20%20return%20oMin%20+%20(v%20-%20iMin)%20*%20(oMax%20-%20oMin)%20/%20(iMax%20-%20iMin);%0D%0A%7D%0D%0A%0D%0Afunction%20pad(n)%20%7B%0D%0A%20%20%20%20return%20n.toString().length%20==%202%20?%20n%20:%20'0'%20+%20n.toString();%0D%0A%7D##JS_E####CODE_7E####LOGIC_7####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60timer%20=%20Date.now();%60);##JS_E####LOGIC_7E####STEP_7E####STEP_8####INST_8##Stopwatch%20-%20elapsed%20time%0A%0ASince%20the%20%60updateStopwatch()%60%20function%20runs%2060%20times%20a%20second%20(%20+js#updateStopWatch();#%20),%20we%20can%20calculate%20very%20accurately%20the%20amount%20of%20time%20since%20the%20start%20button%20was%20clicked%20in%20here.%0A%0A(***)%0A%0A(!)On%20+js#function%20updateStopWatch()#+1,%20create%20a%20variable%20called%20*elapsed*%20and%20make%20it%20equal%20to%20%60Date.now()%20-%20timer%60%0A(!)On%20+js#function%20updateStopWatch()#+3,%20make%20%60stopwatch.innerHTML%60%20equal%20to%20the%20variable%20*elapsed*%0A(!)Start%20the%20race%20and%20let%20elapsed%20time%20increase%20to%20at%20least%203000%0A(*)Time%20captured%20using%20the%20%60Date.now()%60%20method%20is%20in%20milliseconds##INST_8E####CODE_8####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0A%09%3Cscript%20type=%22text/javascript%22%20src=%22script.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch4%3EMALVERN%20CODING%20CHALLENGE%3C/h4%3E%0A%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20LEDDER?%3C/h6%3E%0A%20%20%20%20%0A%20%20%20%20%3Ch4%20id=%22stopwatch%22%3E00:00:00%3C/h4%3E%0A%20%20%20%20%0A%20%20%20%20%3Cdiv%20id=%22world%22%3E%0A%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0A%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0A%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0A%20%20%20%20%20%20%20%20%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%0A%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/ground.png%22%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cbutton%20id=%22start%22%3EGo!%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22jog%22%20onclick=%22setMode(1)%22%3EJog%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22run%22%20onclick=%22setMode(2)%22%3ERun%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22sprint%22%20onclick=%22setMode(3)%22%3ESprint%3C/button%3E%0A%3C/body%3E%0A%3C/html%3E#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##body%20%7B%0A%20%20%20%20font-family:%20sans-serif;%0A%20%20%20%20text-align:%20center;%0A%20%20%20%20background:%20#ffbf00;%0A%7D%0A%0Ah4,%20h6%20%7B%0A%20%20%20%20color:%20#333333;%0A%20%20%20%20letter-spacing:%202px;%0A%7D%0A%0Ah6%20%7B%0A%20%20%20%20margin:%205px%200%200%200;%0A%7D%0A%0Aimg,%20#energy%20%7B%0A%20%20%20%20position:%20absolute;%0A%7D%0A%0Abutton%20%7B%0A%20%20%20%20width:%2060px;%0A%20%20%20%20height:%2060px;%0A%20%20%20%20margin:%200%2010px;%0A%20%20%20%20border:%20gray%205px%20solid;%0A%20%20%20%20border-radius:%2050%25;%0A%20%20%20%20outline:%20none;%0A%20%20%20%20cursor:%20pointer%0A%7D%0A%0Abutton:active%20%7B%0A%20%20%20%20background:%20darkgray;%0A%7D%0A%0A#world%20%7B%0A%20%20%20%20position:%20relative;%0A%20%20%20%20left:%2050%25;%0A%20%20%20%20width:%20500px;%0A%20%20%20%20height:%20240px;%0A%20%20%20%20margin:%2020px%200;%0A%20%20%20%20background:%20skyblue;%0A%20%20%20%20transform:%20translateX(-50%25);%0A%20%20%20%20overflow:%20hidden;%0A%7D%0A%0A#cloud%20%7B%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0A%7D%0A%0A#energy%20%7B%0A%20%20%20%20width:%2060px;%0A%20%20%20%20height:%2010px;%0A%20%20%20%20margin:%200;%0A%7D%0A%0A#progress%20%7B%0A%20%20%20%20width:%2080%25;%0A%20%20%20%20height:%2015px;%0A%7D%0A%0A#ground%20%7B%0A%20%20%20%20left:%200;%0A%20%20%20%20bottom:%200;%0A%7D#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20start,%20world,%20ground,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0Avar%20mode%20=%200;%20%20%20%20%20%20%20//%20starting%20mode:%200%20is%20idle,%201%20is%20jog,%202%20is%20run,%203%20is%20sprint%0D%0Avar%20paused%20=%20true;%0D%0Avar%20exhausted%20=%20false;%0D%0Avar%20clouds%20=%20%5B%5D;%0D%0Avar%20link%20=%20%5B%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/runner_ready.gif%22%5D;%0D%0A%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_jog%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_run%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_sprint%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_exhausted%22));%0D%0Alink.push(link%5B4%5D);%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20stopwatch%20=%20document.getElementById(%22stopwatch%22);%0D%0A%20%20%20%20progress%20=%20document.getElementById(%22progress%22);%0D%0A%20%20%20%20energy%20=%20document.getElementById(%22energy%22);%0D%0A%20%20%20%20info%20=%20document.getElementById(%22info%22);%0D%0A%20%20%20%20world%20=%20document.getElementById(%22world%22);%0D%0A%20%20%20%20start%20=%20document.getElementById(%22start%22);%0D%0A%20%20%20%20ground%20=%20document.getElementById(%22ground%22);%0D%0A%20%20%20%20%0D%0A%20%20%20%20start.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20timer%20=%20Date.now();%0D%0A%20%20%20%20%20%20%20%20paused%20=%20false;%0D%0A%20%20%20%20%20%20%20%20setMode(1);%0D%0A%20%20%20%20%20%20%20%20this.disabled%20=%20true;%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%2010000;%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.max%20=%20100;%0D%0A%20%20%20%20%0D%0A%20%20%20%20iniWorld();%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link%5B0%5D;%0D%0A%20%20%20%20runner.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20%20%20%20%20world.appendChild(runner);%0D%0A%20%20%20%20%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20createCloud();%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20updateWorld(timestamp)%20%7B%0D%0A%20%20%20%20if%20(!lastUpdate)%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20delta%20=%20timestamp%20-%20lastUpdate;%0D%0A%20%20%20%20updateClouds();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(progress.value%20==%20progress.max%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(5);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20finisher();%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateStopWatch();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updatePerformance();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateRunnerPos();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%20%20%20%20%0D%0A%7D%0D%0A%0D%0Afunction%20updatePerformance()%20%7B%0D%0A%20%20%20%20energy.value%20+=%20energyGain;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(energy.value%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted%20&&%20energy.value%20%3E%2060)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20exhausted%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(1);%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20progress.value%20+=%20delta%20*%20speed;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(4);%20%20%20%20%20//%20become%20exhausted%0D%0A%20%20%20%20%20%20%20%20exhausted%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateRunnerPos()%20%7B%0D%0A%20%20%20%20if%20(runner.offsetLeft%20!=%20world.clientWidth%20*%20runnerPos%20&&%20!exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20offset%20=%20(runner.offsetLeft%20-%20world.clientWidth%20*%20runnerPos)%20*%20delta%20/%201000;%0D%0A%20%20%20%20%20%20%20%20move(runner,%20offset);%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateStopWatch()%20%7B%0D%0A%20%20%20%20#BEGIN_EDITABLE#var%20elapsed%20=%20Date.now()%20-%20timer;#END_EDITABLE#%0D%0A%20%20%20%20%0D%0A%20%20%20%20#BEGIN_EDITABLE#stopwatch.innerHTML%20=%20elapsed;#END_EDITABLE#%0D%0A%7D%0D%0A%0D%0Afunction%20createCloud()%20%7B%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20cloud%20=%20document.createElement(%22img%22),%20d%20=%20range(-15,%2080);%0D%0A%20%20%20%20%20%20%20%20cloud.src%20=%20%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/cloud.png%22;%0D%0A%20%20%20%20%20%20%20%20cloud.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.top%20=%20d%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.left%20=%20world.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.width%20=%20remap(d,%20-15,%2080,%2080,%2040)%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.appendChild(cloud);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.unshift(cloud);%0D%0A%20%20%20%20%20%20%20%20%7D;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20setTimeout(createCloud,%20cloudSeed()%20*%201000);%0D%0A%7D%0D%0A%0D%0Afunction%20cloudSeed()%20%7B%0D%0A%20%20%20%20return%20range(3,%2010)%20/%20remap(speed,%200,%200.15,%201,%204);%0D%0A%7D%0D%0A%0D%0Afunction%20updateClouds()%20%7B%0D%0A%20%20%20%20clouds.forEach(function(c,%20i)%20%7B%0D%0A%20%20%20%20%20%20%20%20move(c,%20Math.max(delta%20*%20speed,%200.5)%20*%20c.offsetWidth%20/%2080);%0D%0A%20%20%20%20%20%20%20%20if%20(c.offsetLeft%20%3C=%20-c.offsetWidth)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.removeChild(c);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.splice(i,%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20setMode(n)%20%7B%0D%0A%20%20%20%20if%20(!exhausted%20&&%20!paused%20&&%20mode%20!=%20n)%20%7B%0D%0A%20%20%20%20%20%20%20%20mode%20=%20n;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20switch%20(mode)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%201:%20%20%20%20%20//%20start%20jogging%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.3;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.06;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3EJOGGING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%202:%20%20%20%20%20//%20start%20running%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.4;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.1;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.08;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ERUNNING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%203:%20%20%20%20%20//%20start%20sprinting%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.55;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.15;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.2;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ESPRINTING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%204:%20%20%20%20%20//%20become%20exhausted%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:firebrick'%3EEXHAUSHTED%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%205:%20%20%20%20%20//%20finisher%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20paused%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EFINISHER!%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22You're%20exhausted,%20wait%20until%20your%20energy%20recovers%20to%2060%25.%22);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20!=%20n)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('Click%20%22Go!%22%20to%20start%20the%20race.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20finisher()%20%7B%0D%0A%20%20%20%20var%20popup%20=%20document.createElement(%22div%22),%0D%0A%20%20%20%20%20%20%20%20resetButton%20=%20document.createElement(%22button%22);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20popup.id%20=%20%22popup%22;%0D%0A%20%20%20%20popup.innerHTML%20=%20%22%3Cp%3ECongratulations!%20You%20have%20finished%20the%20race.%3C/p%3E%22;%0D%0A%20%20%20%20resetButton.id%20=%20%22reset%22;%0D%0A%20%20%20%20resetButton.innerHTML%20=%20%22REPLAY%22;%0D%0A%20%20%20%20resetButton.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20reset();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20world.appendChild(popup);%0D%0A%20%20%20%20popup.appendChild(resetButton);%0D%0A%7D%0D%0A%0D%0Afunction%20reset()%20%7B%0D%0A%20%20%20%20world.removeChild(popup);%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%09stopwatch.innerHTML%20=%20%2200:00:00%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%7D%0D%0A%0D%0Afunction%20pos(e,%20p)%20%7B%0D%0A%20%20%20%20return%20parseFloat(window.getComputedStyle(e).getPropertyValue(p));%0D%0A%7D%0D%0A%0D%0Afunction%20move(e,%20d)%20%7B%0D%0A%20%20%20%20e.style.left%20=%20pos(e,%20%22left%22)%20-%20d%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20clamp(v,%20min,%20max)%20%7B%0D%0A%20%20%20%20return%20Math.max(min,%20Math.min(v,%20max));%0D%0A%7D%0D%0A%0D%0Afunction%20range(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20var%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Afunction%20remap(v,%20iMin,%20iMax,%20oMin,%20oMax)%20%7B%0D%0A%20%20%20%20return%20oMin%20+%20(v%20-%20iMin)%20*%20(oMax%20-%20oMin)%20/%20(iMax%20-%20iMin);%0D%0A%7D%0D%0A%0D%0Afunction%20pad(n)%20%7B%0D%0A%20%20%20%20return%20n.toString().length%20==%202%20?%20n%20:%20'0'%20+%20n.toString();%0D%0A%7D##JS_E####CODE_8E####LOGIC_8####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20elapsed%20=%20Date.now()%20-%20timer;%60);%0Apass.if.js.editable(1).equivalent(%60stopwatch.innerHTML%20=%20elapsed;%60);%0Apass.on('updateStopwatch').var('elapsed%20%3E%203000');##JS_E####LOGIC_8E####STEP_8E####STEP_9####INST_9####INST_9E####CODE_9####HTML####HTML_E####CSS####CSS_E####JS####JS_E####CODE_9E####LOGIC_9####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_9E####STEP_9E####STEP_10####INST_10##Simulate%0A%0AThe%20simulator%20is%20ready,%20but%20before%20you%20play,%20let's%20establish%20the%20rules:%0A%5B-%0A%09(*)The%20flat%20rectangle%20below%20the%20word%20*Progress*%20is%20the%20length%20of%20the%20entire%20race,%20currently%20it's%20set%20to%20*10000*%20on%20+js#10000;#%0A%09(*)After%20you%20click%20*Go!*%20the%20progress%20bar%20will%20fill%20up%20according%20to%20the%20runner's%20status%20-%20*Jog*,%20*Run*%20or%20*Sprint*%0A%09(*)The%20other%20smaller%20bar%20above%20the%20runner%20is%20the%20*energy%20bar*,%20when%20it%20is%20empty,%20the%20runner%20needs%20to%20stop%20and%20rest,%20during%20this%20time%20the%20progress%20bar%20does%20not%20fill%20up%0A%09(*)The%20runner%20moves%20slowly%20while%20jogging%20but%20recovers%20energy,%20both%20running%20and%20sprinting%20cost%20energy%20but%20at%20different%20rates%0A-%5D%0A%0A(***)%0A%0A(!)Okay,%20it's%20pretty%20straight%20forward,%20your%20task%20is%20to%20play%20the%20simulator%20until%20the%20progress%20bar%20fills%20up%20completely##INST_10E####CODE_10####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0A%09%3Cscript%20type=%22text/javascript%22%20src=%22script.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch4%3EMALVERN%20CODING%20CHALLENGE%3C/h4%3E%0A%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20LEDDER?%3C/h6%3E%0A%20%20%20%20%0A%20%20%20%20%3Ch4%20id=%22stopwatch%22%3E00:00:00%3C/h4%3E%0A%20%20%20%20%0A%20%20%20%20%3Cdiv%20id=%22world%22%3E%0A%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0A%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0A%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0A%20%20%20%20%20%20%20%20%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%0A%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/ground.png%22%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cbutton%20id=%22start%22%3EGo!%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22jog%22%20onclick=%22setMode(1)%22%3EJog%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22run%22%20onclick=%22setMode(2)%22%3ERun%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22sprint%22%20onclick=%22setMode(3)%22%3ESprint%3C/button%3E%0A%3C/body%3E%0A%3C/html%3E#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##body%20%7B%0A%20%20%20%20font-family:%20sans-serif;%0A%20%20%20%20text-align:%20center;%0A%20%20%20%20background:%20#ffbf00;%0A%7D%0A%0Ah4,%20h6%20%7B%0A%20%20%20%20color:%20#333333;%0A%20%20%20%20letter-spacing:%202px;%0A%7D%0A%0Ah6%20%7B%0A%20%20%20%20margin:%205px%200%200%200;%0A%7D%0A%0Ap%20%7B%0A%20%20%20%20color:%20#ffbf00;%0A%20%20%20%20font-size:%2014px;%0A%20%20%20%20line-height:%2018px;%0A%20%20%20%20letter-spacing:%202px;%0A%7D%0A%0Aimg,%20#energy%20%7B%0A%20%20%20%20position:%20absolute;%0A%7D%0A%0A#popup%20%3E%20button%20%7B%0A%20%20%20%20width:%20100px;%0A%20%20%20%20height:%2030px;%0A%20%20%20%20border:%20none;%0A%20%20%20%20border-radius:%206px;%0A%20%20%20%20font-weight:%20bold;%0A%20%20%20%20letter-spacing:%202px;%0A%20%20%20%20color:%20#333333;%0A%20%20%20%20background:%20#ffbf00;%0A%7D%0A%0Abutton%20%7B%0A%20%20%20%20width:%2060px;%0A%20%20%20%20height:%2060px;%0A%20%20%20%20margin:%200%2010px;%0A%20%20%20%20border:%20gray%205px%20solid;%0A%20%20%20%20border-radius:%2050%25;%0A%20%20%20%20outline:%20none;%0A%20%20%20%20cursor:%20pointer%0A%7D%0A%0Abutton:active%20%7B%0A%20%20%20%20background:%20darkgray;%0A%7D%0A%0A#world%20%7B%0A%20%20%20%20position:%20relative;%0A%20%20%20%20left:%2050%25;%0A%20%20%20%20width:%20500px;%0A%20%20%20%20height:%20240px;%0A%20%20%20%20margin:%2020px%200;%0A%20%20%20%20background:%20skyblue;%0A%20%20%20%20transform:%20translateX(-50%25);%0A%20%20%20%20overflow:%20hidden;%0A%7D%0A%0A#cloud%20%7B%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0A%7D%0A%0A#energy%20%7B%0A%20%20%20%20width:%2060px;%0A%20%20%20%20height:%2010px;%0A%20%20%20%20margin:%200;%0A%7D%0A%0A#progress%20%7B%0A%20%20%20%20width:%2080%25;%0A%20%20%20%20height:%2015px;%0A%7D%0A%0A#ground%20%7B%0A%20%20%20%20left:%200;%0A%20%20%20%20bottom:%200;%0A%7D%0A%0A#popup%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20width%20:%20260px;%0A%20%20%20%20height:%20110px;%0A%20%20%20%20left:%20calc(50%25%20-%20130px);%0A%20%20%20%20margin-top:%2010px;%0A%20%20%20%20padding:%200%2010px;%0A%20%20%20%20box-shadow:%200%200%202px%202px%20rgba(0,%200,%200,%200.3);%0A%20%20%20%20border-radius:%2010px;%0A%20%20%20%20background:%20rgba(0,%200,%200,%200.5);%0A%7D#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20start,%20world,%20ground,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0Avar%20mode%20=%200;%20%20%20%20%20%20%20//%20starting%20mode:%200%20is%20idle,%201%20is%20jog,%202%20is%20run,%203%20is%20sprint%0D%0Avar%20paused%20=%20true;%0D%0Avar%20exhausted%20=%20false;%0D%0Avar%20clouds%20=%20%5B%5D;%0D%0Avar%20link%20=%20%5B%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/runner_ready.gif%22%5D;%0D%0A%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_jog%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_run%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_sprint%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_exhausted%22));%0D%0Alink.push(link%5B4%5D);%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20stopwatch%20=%20document.getElementById(%22stopwatch%22);%0D%0A%20%20%20%20progress%20=%20document.getElementById(%22progress%22);%0D%0A%20%20%20%20energy%20=%20document.getElementById(%22energy%22);%0D%0A%20%20%20%20info%20=%20document.getElementById(%22info%22);%0D%0A%20%20%20%20world%20=%20document.getElementById(%22world%22);%0D%0A%20%20%20%20start%20=%20document.getElementById(%22start%22);%0D%0A%20%20%20%20ground%20=%20document.getElementById(%22ground%22);%0D%0A%20%20%20%20%0D%0A%20%20%20%20start.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20timer%20=%20Date.now();%0D%0A%20%20%20%20%20%20%20%20paused%20=%20false;%0D%0A%20%20%20%20%20%20%20%20setMode(1);%0D%0A%20%20%20%20%20%20%20%20this.disabled%20=%20true;%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%2010000;%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.max%20=%20100;%0D%0A%20%20%20%20%0D%0A%20%20%20%20iniWorld();%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link%5B0%5D;%0D%0A%20%20%20%20runner.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20%20%20%20%20world.appendChild(runner);%0D%0A%20%20%20%20%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20createCloud();%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20updateWorld(timestamp)%20%7B%0D%0A%20%20%20%20if%20(!lastUpdate)%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20delta%20=%20timestamp%20-%20lastUpdate;%0D%0A%20%20%20%20updateClouds();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(progress.value%20==%20progress.max%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(5);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20finisher();%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateStopWatch();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updatePerformance();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateRunnerPos();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D%0D%0A%0D%0Afunction%20updatePerformance()%20%7B%0D%0A%20%20%20%20energy.value%20+=%20energyGain;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(energy.value%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted%20&&%20energy.value%20%3E%2060)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20exhausted%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(1);%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20progress.value%20+=%20delta%20*%20speed;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(4);%20%20%20%20%20//%20become%20exhausted%0D%0A%20%20%20%20%20%20%20%20exhausted%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateRunnerPos()%20%7B%0D%0A%20%20%20%20if%20(runner.offsetLeft%20!=%20world.clientWidth%20*%20runnerPos%20&&%20!exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20offset%20=%20(runner.offsetLeft%20-%20world.clientWidth%20*%20runnerPos)%20*%20delta%20/%201000;%0D%0A%20%20%20%20%20%20%20%20move(runner,%20offset);%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateStopWatch()%20%7B%0D%0A%20%20%20%20var%20elapsed%20=%20Date.now()%20-%20timer,%0D%0A%20%20%20%20%20%20%20%20m%20=%20Math.floor(elapsed%20/%2060000%20%25%2060),%0D%0A%20%20%20%20%20%20%20%20s%20=%20Math.floor(elapsed%20/%201000%20%25%2060),%0D%0A%20%20%20%20%20%20%20%20ms%20=%20Math.floor(elapsed%20/%2010%20%25%20100);%0D%0A%20%20%20%20stopwatch.innerHTML%20=%20pad(m)%20+%20%22:%22%20+%20pad(s)%20+%20%22:%22%20+%20pad(ms);%0D%0A%7D%0D%0A%0D%0Afunction%20createCloud()%20%7B%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20cloud%20=%20document.createElement(%22img%22),%20d%20=%20range(-15,%2080);%0D%0A%20%20%20%20%20%20%20%20cloud.src%20=%20%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/cloud.png%22;%0D%0A%20%20%20%20%20%20%20%20cloud.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.top%20=%20d%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.left%20=%20world.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.width%20=%20remap(d,%20-15,%2080,%2080,%2040)%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.appendChild(cloud);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.unshift(cloud);%0D%0A%20%20%20%20%20%20%20%20%7D;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20setTimeout(createCloud,%20cloudSeed()%20*%201000);%0D%0A%7D%0D%0A%0D%0Afunction%20cloudSeed()%20%7B%0D%0A%20%20%20%20return%20range(3,%2010)%20/%20remap(speed,%200,%200.15,%201,%204);%0D%0A%7D%0D%0A%0D%0Afunction%20updateClouds()%20%7B%0D%0A%20%20%20%20clouds.forEach(function(c,%20i)%20%7B%0D%0A%20%20%20%20%20%20%20%20move(c,%20Math.max(delta%20*%20speed,%200.5)%20*%20c.offsetWidth%20/%2080);%0D%0A%20%20%20%20%20%20%20%20if%20(c.offsetLeft%20%3C=%20-c.offsetWidth)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.removeChild(c);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.splice(i,%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20setMode(n)%20%7B%0D%0A%20%20%20%20if%20(!exhausted%20&&%20!paused%20&&%20mode%20!=%20n)%20%7B%0D%0A%20%20%20%20%20%20%20%20mode%20=%20n;%0D%0A%20%20%20%20%20%20%20%20//%20runner.src%20=%20link%5Bmode%5D;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20switch%20(mode)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%201:%20%20%20%20%20//%20start%20jogging%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.3;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.06;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log('jog');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3EJOGGING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%202:%20%20%20%20%20//%20start%20running%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.4;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.1;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.08;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ERUNNING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%203:%20%20%20%20%20//%20start%20sprinting%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.55;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.15;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.2;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ESPRINTING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%204:%20%20%20%20%20//%20become%20exhausted%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:firebrick'%3EEXHAUSHTED%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%205:%20%20%20%20%20//%20finisher%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20paused%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EFINISHER!%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22You're%20exhausted,%20wait%20until%20your%20energy%20recovers%20to%2060%25.%22);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20!=%20n)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('Click%20%22Go!%22%20to%20start%20the%20race.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20finisher()%20%7B%0D%0A%20%20%20%20var%20popup%20=%20document.createElement(%22div%22),%0D%0A%20%20%20%20%20%20%20%20resetButton%20=%20document.createElement(%22button%22);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20popup.id%20=%20%22popup%22;%0D%0A%20%20%20%20popup.innerHTML%20=%20%22%3Cp%3ECongratulations!%20You%20have%20finished%20the%20race.%3C/p%3E%22;%0D%0A%20%20%20%20resetButton.id%20=%20%22reset%22;%0D%0A%20%20%20%20resetButton.innerHTML%20=%20%22REPLAY%22;%0D%0A%20%20%20%20resetButton.onclick%20=%20reset;%0D%0A%20%20%20%20world.appendChild(popup);%0D%0A%20%20%20%20popup.appendChild(resetButton);%0D%0A%7D%0D%0A%0D%0Afunction%20reset()%20%7B%0D%0A%20%20%20%20world.removeChild(popup);%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%09stopwatch.innerHTML%20=%20%2200:00:00%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%7D%0D%0A%0D%0Afunction%20pos(e,%20p)%20%7B%0D%0A%20%20%20%20return%20parseFloat(window.getComputedStyle(e).getPropertyValue(p));%0D%0A%7D%0D%0A%0D%0Afunction%20move(e,%20d)%20%7B%0D%0A%20%20%20%20e.style.left%20=%20pos(e,%20%22left%22)%20-%20d%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20clamp(v,%20min,%20max)%20%7B%0D%0A%20%20%20%20return%20Math.max(min,%20Math.min(v,%20max));%0D%0A%7D%0D%0A%0D%0Afunction%20range(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20var%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Afunction%20remap(v,%20iMin,%20iMax,%20oMin,%20oMax)%20%7B%0D%0A%20%20%20%20return%20oMin%20+%20(v%20-%20iMin)%20*%20(oMax%20-%20oMin)%20/%20(iMax%20-%20iMin);%0D%0A%7D%0D%0A%0D%0Afunction%20pad(n)%20%7B%0D%0A%20%20%20%20return%20n.toString().length%20==%202%20?%20n%20:%20'0'%20+%20n.toString();%0D%0A%7D##JS_E####CODE_10E####LOGIC_10####HTML####HTML_E####CSS####CSS_E####JS##let%20output%20=%20codeWithoutMarkup.replace(/;%5Cs*%5C/%5C/.*/g,';');%0A//%20output%20=%20insertLine(output,%20'key',%20%7Bline:%20'',%20offset:%200%7D);%0Areturn%20output;%0A%0A//%20Expectation:##JS_E####LOGIC_10E####STEP_10E####STEP_11####INST_11##Unlimited%20energy%0A%0ARunning%20out%20of%20energy%20is%20not%20the%20best,%20for%20sure.%0A%0ABut%20one%20of%20the%20perks%20of%20creating%20your%20own%20simulator%20is%20that,%20you%20can%20make%20it%20however%20you%20like.%0A%0AHow%20about%20unlimited%20energy?%0A%0A(***)%0A%0A(!)On%20+js#+=%20delta#+3,%20delete%20this%20line%20of%20code%0A(*)*Result:*%20prevent%20the%20%60setMode()%60%20function%20from%20making%20the%20variable%20*mode*%20equal%20to%20*4*%20so%20that%20%60speed%20=%200;%60%20on%20+js#4:#+1%20will%20never%20run%0A(!)On%20+js#+=%20delta#+4,%20delete%20this%20line%20of%20code%0A(*)*Result:*%20variable%20*exhausted*%20will%20never%20be%20*true*%20and%20all%20penalties%20of%20being%20exhausted%20will%20no%20longer%20have%20any%20effect%0A(!)On%20+js#+=%20delta#+5,%20write%20%60energy.value%20=%20100;%60%20in%20the%20white%20space%0A(*)*Tip:*%20don't%20forget%20to%20try%20out%20your%20superhuman%20recovery%20ability%20before%20continuing%20to%20the%20next%20step##INST_11E####CODE_11####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0A%09%3Cscript%20type=%22text/javascript%22%20src=%22script.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch4%3EMALVERN%20CODING%20CHALLENGE%3C/h4%3E%0A%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20LEDDER?%3C/h6%3E%0A%20%20%20%20%0A%20%20%20%20%3Ch4%20id=%22stopwatch%22%3E00:00:00%3C/h4%3E%0A%20%20%20%20%0A%20%20%20%20%3Cdiv%20id=%22world%22%3E%0A%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0A%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0A%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0A%20%20%20%20%20%20%20%20%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%0A%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/ground.png%22%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cbutton%20id=%22start%22%3EGo!%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22jog%22%20onclick=%22setMode(1)%22%3EJog%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22run%22%20onclick=%22setMode(2)%22%3ERun%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22sprint%22%20onclick=%22setMode(3)%22%3ESprint%3C/button%3E%0A%3C/body%3E%0A%3C/html%3E#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##body%20%7B%0A%20%20%20%20font-family:%20sans-serif;%0A%20%20%20%20text-align:%20center;%0A%20%20%20%20background:%20#ffbf00;%0A%7D%0A%0Ah4,%20h6%20%7B%0A%20%20%20%20color:%20#333333;%0A%20%20%20%20letter-spacing:%202px;%0A%7D%0A%0Ah6%20%7B%0A%20%20%20%20margin:%205px%200%200%200;%0A%7D%0A%0Aimg,%20#energy%20%7B%0A%20%20%20%20position:%20absolute;%0A%7D%0A%0Abutton%20%7B%0A%20%20%20%20width:%2060px;%0A%20%20%20%20height:%2060px;%0A%20%20%20%20margin:%200%2010px;%0A%20%20%20%20border:%20gray%205px%20solid;%0A%20%20%20%20border-radius:%2050%25;%0A%20%20%20%20outline:%20none;%0A%20%20%20%20cursor:%20pointer%0A%7D%0A%0Abutton:active%20%7B%0A%20%20%20%20background:%20darkgray;%0A%7D%0A%0A#world%20%7B%0A%20%20%20%20position:%20relative;%0A%20%20%20%20left:%2050%25;%0A%20%20%20%20width:%20500px;%0A%20%20%20%20height:%20240px;%0A%20%20%20%20margin:%2020px%200;%0A%20%20%20%20background:%20skyblue;%0A%20%20%20%20transform:%20translateX(-50%25);%0A%20%20%20%20overflow:%20hidden;%0A%7D%0A%0A#cloud%20%7B%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0A%7D%0A%0A#energy%20%7B%0A%20%20%20%20width:%2060px;%0A%20%20%20%20height:%2010px;%0A%20%20%20%20margin:%200;%0A%7D%0A%0A#progress%20%7B%0A%20%20%20%20width:%2080%25;%0A%20%20%20%20height:%2015px;%0A%7D%0A%0A#ground%20%7B%0A%20%20%20%20left:%200;%0A%20%20%20%20bottom:%200;%0A%7D#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20start,%20world,%20ground,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0Avar%20mode%20=%200;%20%20%20%20%20%20%20//%20starting%20mode:%200%20is%20idle,%201%20is%20jog,%202%20is%20run,%203%20is%20sprint%0D%0Avar%20paused%20=%20true;%0D%0Avar%20exhausted%20=%20false;%0D%0Avar%20clouds%20=%20%5B%5D;%0D%0Avar%20link%20=%20%5B%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/runner_ready.gif%22%5D;%0D%0A%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_jog%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_run%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_sprint%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_exhausted%22));%0D%0Alink.push(link%5B4%5D);%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20stopwatch%20=%20document.getElementById(%22stopwatch%22);%0D%0A%20%20%20%20progress%20=%20document.getElementById(%22progress%22);%0D%0A%20%20%20%20energy%20=%20document.getElementById(%22energy%22);%0D%0A%20%20%20%20info%20=%20document.getElementById(%22info%22);%0D%0A%20%20%20%20world%20=%20document.getElementById(%22world%22);%0D%0A%20%20%20%20start%20=%20document.getElementById(%22start%22);%0D%0A%20%20%20%20ground%20=%20document.getElementById(%22ground%22);%0D%0A%20%20%20%20%0D%0A%20%20%20%20start.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20%20%20%20%20energy.max%20=%20100;%0D%0A%20%20%20%20%20%20%20%20timer%20=%20Date.now();%0D%0A%20%20%20%20%20%20%20%20paused%20=%20false;%0D%0A%20%20%20%20%20%20%20%20setMode(1);%0D%0A%20%20%20%20%20%20%20%20this.disabled%20=%20true;%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%2010000;%0D%0A%20%20%20%20%0D%0A%20%20%20%20loadAnimation();%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link%5B0%5D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20world.appendChild(runner);%0D%0A%20%20%20%20%0D%0A%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%20%20%20%20createCloud();%0D%0A%7D%0D%0A%0D%0Afunction%20loadAnimation(n%20=%200)%20%7B%0D%0A%20%20%20%20let%20img%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20img.src%20=%20link%5Bn%5D;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Loading:%20%3Cspan%20style='color:green'%3E%22%20+%20link%5Bn%5D.match(/%5Cw+%5C.gif/i)%5B0%5D%20+%20%22%3Cspan%3E%22;%0D%0A%20%20%20%20img.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(n%20%3C%20link.length%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20loadAnimation(n%20+%201);%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20iniWorld();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20updateWorld(timestamp)%20%7B%0D%0A%20%20%20%20if%20(!lastUpdate)%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20delta%20=%20timestamp%20-%20lastUpdate;%0D%0A%20%20%20%20updateClouds();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(progress.value%20==%20progress.max%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(5);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20finisher();%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateStopWatch();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updatePerformance();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateRunnerPos();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D%0D%0A%0D%0Afunction%20updatePerformance()%20%7B%0D%0A%20%20%20%20energy.value%20+=%20energyGain;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(energy.value%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted%20&&%20energy.value%20%3E%2060)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20exhausted%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(1);%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20progress.value%20+=%20delta%20*%20speed;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#setMode(4);#END_EDITABLE#%20%20%20%20%20//%20become%20exhausted%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#exhausted%20=%20true;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#energy.value%20=%20100;#END_EDITABLE#%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateRunnerPos()%20%7B%0D%0A%20%20%20%20if%20(runner.offsetLeft%20!=%20world.clientWidth%20*%20runnerPos%20&&%20!exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20offset%20=%20(runner.offsetLeft%20-%20world.clientWidth%20*%20runnerPos)%20*%20delta%20/%201000;%0D%0A%20%20%20%20%20%20%20%20move(runner,%20offset);%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateStopWatch()%20%7B%0D%0A%20%20%20%20var%20elapsed%20=%20Date.now()%20-%20timer,%0D%0A%20%20%20%20%20%20%20%20m%20=%20Math.floor(elapsed%20/%2060000%20%25%2060),%0D%0A%20%20%20%20%20%20%20%20s%20=%20Math.floor(elapsed%20/%201000%20%25%2060),%0D%0A%20%20%20%20%20%20%20%20ms%20=%20Math.floor(elapsed%20/%2010%20%25%20100);%0D%0A%20%20%20%20stopwatch.innerHTML%20=%20pad(m)%20+%20%22:%22%20+%20pad(s)%20+%20%22:%22%20+%20pad(ms);%0D%0A%7D%0D%0A%0D%0Afunction%20createCloud()%20%7B%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20cloud%20=%20document.createElement(%22img%22),%20d%20=%20range(-15,%2080);%0D%0A%20%20%20%20%20%20%20%20cloud.src%20=%20%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/cloud.png%22;%0D%0A%20%20%20%20%20%20%20%20cloud.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.top%20=%20d%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.left%20=%20world.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.width%20=%20remap(d,%20-15,%2080,%2080,%2040)%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.appendChild(cloud);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.unshift(cloud);%0D%0A%20%20%20%20%20%20%20%20%7D;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20setTimeout(createCloud,%20cloudSeed()%20*%201000);%0D%0A%7D%0D%0A%0D%0Afunction%20cloudSeed()%20%7B%0D%0A%20%20%20%20return%20range(3,%2010)%20/%20remap(speed,%200,%200.15,%201,%204);%0D%0A%7D%0D%0A%0D%0Afunction%20updateClouds()%20%7B%0D%0A%20%20%20%20clouds.forEach(function(c,%20i)%20%7B%0D%0A%20%20%20%20%20%20%20%20move(c,%20Math.max(delta%20*%20speed,%200.5)%20*%20c.offsetWidth%20/%2080);%0D%0A%20%20%20%20%20%20%20%20if%20(c.offsetLeft%20%3C=%20-c.offsetWidth)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.removeChild(c);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.splice(i,%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20setMode(n)%20%7B%0D%0A%20%20%20%20if%20(!exhausted%20&&%20!paused%20&&%20mode%20!=%20n)%20%7B%0D%0A%20%20%20%20%20%20%20%20mode%20=%20n;%0D%0A%20%20%20%20%20%20%20%20runner.src%20=%20link%5Bmode%5D;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20switch%20(mode)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%201:%20%20%20%20%20//%20start%20jogging%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.3;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.06;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3EJOGGING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%202:%20%20%20%20%20//%20start%20running%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.4;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.1;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.08;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ERUNNING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%203:%20%20%20%20%20//%20start%20sprinting%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.55;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.15;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.2;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ESPRINTING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%204:%20%20%20%20%20//%20become%20exhausted%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:firebrick'%3EEXHAUSHTED%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%205:%20%20%20%20%20//%20finisher%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20paused%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EFINISHER!%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22You're%20exhausted,%20wait%20until%20your%20energy%20recovers%20to%2060%25.%22);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20!=%20n)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('Click%20%22Go!%22%20to%20start%20the%20race.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20finisher()%20%7B%0D%0A%20%20%20%20var%20popup%20=%20document.createElement(%22div%22),%0D%0A%20%20%20%20%20%20%20%20resetButton%20=%20document.createElement(%22button%22);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20popup.id%20=%20%22popup%22;%0D%0A%20%20%20%20popup.innerHTML%20=%20%22%3Cp%3ECongratulations!%20You%20have%20finished%20the%20race.%3C/p%3E%22;%0D%0A%20%20%20%20resetButton.id%20=%20%22reset%22;%0D%0A%20%20%20%20resetButton.innerHTML%20=%20%22REPLAY%22;%0D%0A%20%20%20%20resetButton.onclick%20=%20reset;%0D%0A%20%20%20%20world.appendChild(popup);%0D%0A%20%20%20%20popup.appendChild(resetButton);%0D%0A%7D%0D%0A%0D%0Afunction%20reset()%20%7B%0D%0A%20%20%20%20world.removeChild(popup);%0D%0A%20%20%20%20runner.src%20=%20link%5B0%5D;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%09stopwatch.innerHTML%20=%20%2200:00:00%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%7D%0D%0A%0D%0Afunction%20pos(e,%20p)%20%7B%0D%0A%20%20%20%20return%20parseFloat(window.getComputedStyle(e).getPropertyValue(p));%0D%0A%7D%0D%0A%0D%0Afunction%20move(e,%20d)%20%7B%0D%0A%20%20%20%20e.style.left%20=%20pos(e,%20%22left%22)%20-%20d%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20clamp(v,%20min,%20max)%20%7B%0D%0A%20%20%20%20return%20Math.max(min,%20Math.min(v,%20max));%0D%0A%7D%0D%0A%0D%0Afunction%20range(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20var%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Afunction%20remap(v,%20iMin,%20iMax,%20oMin,%20oMax)%20%7B%0D%0A%20%20%20%20return%20oMin%20+%20(v%20-%20iMin)%20*%20(oMax%20-%20oMin)%20/%20(iMax%20-%20iMin);%0D%0A%7D%0D%0A%0D%0Afunction%20pad(n)%20%7B%0D%0A%20%20%20%20return%20n.toString().length%20==%202%20?%20n%20:%20'0'%20+%20n.toString();%0D%0A%7D##JS_E####CODE_11E####LOGIC_11####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js(code.js.editable.join('')).equivalent(%60energy.value%20=%20100;%60);##JS_E####LOGIC_11E####STEP_11E####STEP_12####INST_12##Summary%0A%0AGreat%20job!%0A%0AYou%20have%20completed%20this%20sprint,%20here%20is%20a%20recap:%0A%5B-%0A%09(*)Web%20technologies%20such%20as%20HTML,%20CSS%20and%20JavaScript%20can%20be%20used%20to%20do%20much%20more%20than%20websites%0A%09(*)Adding%20images%20to%20a%20web%20page%20is%20easy,%20just%20get%20the%20image%20address%20and%20put%20it%20in%20an%20%60%3Cimg%3E%60%20element%0A%09(*)Elements%20such%20as%20buttons%20can%20be%20given%20many%20styles%20including%20background%20color%20and%20border%0A%09(*)The%20most%20important%20thing%20in%20a%20long%20race%20is%20managing%20your%20energy%0A-%5D##INST_12E####CODE_12####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0A%09%3Cscript%20type=%22text/javascript%22%20src=%22script.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch4%3ERUNNING%20SIMULATOR%3C/h4%3E%0A%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20RACE?%3C/h6%3E%0A%20%20%20%20%0A%20%20%20%20%3Ch4%20id=%22stopwatch%22%3E00:00:00%3C/h4%3E%0A%20%20%20%20%0A%20%20%20%20%3Cdiv%20id=%22world%22%3E%0A%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0A%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0A%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0A%20%20%20%20%20%20%20%20%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%0A%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/ground.png%22%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cbutton%20id=%22start%22%20disabled%3EGo!%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22jog%22%20onclick=%22setMode(1)%22%3EJog%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22run%22%20onclick=%22setMode(2)%22%3ERun%3C/button%3E%0A%20%20%20%20%3Cbutton%20id=%22sprint%22%20onclick=%22setMode(3)%22%3ESprint%3C/button%3E%0A%3C/body%3E%0A%3C/html%3E#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20font-family:%20sans-serif;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Ah4,%20h6%20%7B%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Ah6%20%7B%0D%0A%20%20%20%20margin:%205px%200%200%200;%0D%0A%7D%0D%0A%0D%0Ap%20%7B%0D%0A%20%20%20%20color:%20#ffbf00;%0D%0A%20%20%20%20font-size:%2014px;%0D%0A%20%20%20%20line-height:%2018px;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Aimg,%20#energy%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#popup%20%3E%20button%20%7B%0D%0A%20%20%20%20width:%20100px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%206px;%0D%0A%20%20%20%20font-weight:%20bold;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2060px;%0D%0A%20%20%20%20margin:%200%2010px;%0D%0A%20%20%20%20border:%20gray%205px%20solid;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20cursor:%20pointer%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20background:%20darkgray;%0D%0A%7D%0D%0A%0D%0A#world%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20240px;%0D%0A%20%20%20%20margin:%2020px%200;%0D%0A%20%20%20%20background:%20skyblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#cloud%20%7B%0D%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0D%0A%7D%0D%0A%0D%0A#energy%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2010px;%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#progress%20%7B%0D%0A%20%20%20%20width:%2080%25;%20%20%20%20%20/*%2080%25%20of%20500px%20is%20400px%20*/%0D%0A%20%20%20%20height:%2015px;%0D%0A%7D%0D%0A%0D%0A#ground%20%7B%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%7D%0D%0A%0D%0A#popup%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width%20:%20260px;%0D%0A%20%20%20%20height:%20110px;%0D%0A%20%20%20%20left:%20calc(50%25%20-%20130px);%0D%0A%20%20%20%20margin-top:%2010px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20box-shadow:%200%200%202px%202px%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background:%20rgba(0,%200,%200,%200.5);%0D%0A%7D#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20start,%20world,%20ground,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20progressPercentage,%20energyPercentage;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0Avar%20mode%20=%200;%20%20%20%20%20%20%20//%20starting%20mode:%200%20is%20idle,%201%20is%20jog,%202%20is%20run,%203%20is%20sprint%0D%0Avar%20paused%20=%20true;%0D%0Avar%20exhausted%20=%20false;%0D%0Avar%20clouds%20=%20%5B%5D;%0D%0Avar%20link%20=%20%5B%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/runner_ready.gif%22%5D;%0D%0A%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_jog%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_run%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_sprint%22));%0D%0Alink.push(link%5B0%5D.replace(%22_ready%22,%20%22_exhausted%22));%0D%0Alink.push(link%5B4%5D);%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20stopwatch%20=%20document.getElementById(%22stopwatch%22);%0D%0A%20%20%20%20progress%20=%20document.getElementById(%22progress%22);%0D%0A%20%20%20%20energy%20=%20document.getElementById(%22energy%22);%0D%0A%20%20%20%20info%20=%20document.getElementById(%22info%22);%0D%0A%20%20%20%20world%20=%20document.getElementById(%22world%22);%0D%0A%20%20%20%20start%20=%20document.getElementById(%22start%22);%0D%0A%20%20%20%20ground%20=%20document.getElementById(%22ground%22);%0D%0A%20%20%20%20%0D%0A%20%20%20%20start.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20%20%20%20%20energy.max%20=%20100;%0D%0A%20%20%20%20%20%20%20%20timer%20=%20Date.now();%0D%0A%20%20%20%20%20%20%20%20paused%20=%20false;%0D%0A%20%20%20%20%20%20%20%20setMode(1);%0D%0A%20%20%20%20%20%20%20%20this.disabled%20=%20true;%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%2010000;%20%20%20%20%20%20%20//%20total%20distance%0D%0A%20%20%20%20%0D%0A%20%20%20%20loadAnimation();%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link%5B0%5D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20world.appendChild(runner);%0D%0A%20%20%20%20%0D%0A%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20%0D%0A%20%20%20%20progressPercentage%20=%20document.createElement(%22h6%22);%0D%0A%20%20%20%20progressPercentage.style.fontSize%20=%20%228px%22;%0D%0A%20%20%20%20progressPercentage.style.position%20=%20%22absolute%22;%0D%0A%20%20%20%20progressPercentage.style.top%20=%20'17.5px';%0D%0A%20%20%20%20progressPercentage.style.width%20=%20%22100%25%22;%0D%0A%20%20%20%20%0D%0A%20%20%20%20energyPercentage%20=%20document.createElement(%22h6%22);%0D%0A%20%20%20%20energyPercentage.style.fontSize%20=%20%228px%22;%0D%0A%20%20%20%20energyPercentage.style.position%20=%20%22absolute%22;%0D%0A%20%20%20%20energyPercentage.style.top%20=%20energy.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20energyPercentage.style.width%20=%20energy.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20world.appendChild(progressPercentage);%0D%0A%20%20%20%20world.appendChild(energyPercentage);%0D%0A%20%20%20%20%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%20%20%20%20createCloud();%0D%0A%7D%0D%0A%0D%0Afunction%20loadAnimation(n%20=%200)%20%7B%0D%0A%20%20%20%20let%20img%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20img.src%20=%20link%5Bn%5D;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Loading:%20%3Cspan%20style='color:green'%3E%22%20+%20link%5Bn%5D.match(/%5Cw+%5C.gif/i)%5B0%5D%20+%20%22%3Cspan%3E%22;%0D%0A%20%20%20%20img.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(n%20%3C%20link.length%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20loadAnimation(n%20+%201);%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20iniWorld();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20updateWorld(timestamp)%20%7B%0D%0A%20%20%20%20if%20(!lastUpdate)%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20delta%20=%20timestamp%20-%20lastUpdate;%0D%0A%20%20%20%20updateClouds();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(progress.value%20==%20progress.max%20)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(5);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20finisher();%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateStopWatch();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updatePercentageValues();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updatePerformance();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateRunnerPos();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D%0D%0A%0D%0Afunction%20updatePercentageValues()%20%7B%0D%0A%20%20%20%20progressPercentage.innerHTML%20=%20Math.round((progress.value%20/%20progress.max)%20*%20100)%20+%20%22%25%22;%0D%0A%20%20%20%20energyPercentage.innerHTML%20=%20Math.round(energy.value)%20+%20%22%25%22;%0D%0A%20%20%20%20energyPercentage.style.left%20=%20energy.style.left;%0D%0A%7D%0D%0A%0D%0Afunction%20updatePerformance()%20%7B%0D%0A%20%20%20%20energy.value%20+=%20energyGain;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(energy.value%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted%20&&%20energy.value%20%3E%2060)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20exhausted%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(1);%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20progress.value%20+=%20delta%20*%20speed;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.clear();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log(progress.value);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(4);%20%20%20%20%20//%20become%20exhausted%0D%0A%20%20%20%20%20%20%20%20exhausted%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateRunnerPos()%20%7B%0D%0A%20%20%20%20if%20(runner.offsetLeft%20!=%20world.clientWidth%20*%20runnerPos%20&&%20!exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20offset%20=%20(runner.offsetLeft%20-%20world.clientWidth%20*%20runnerPos)%20*%20delta%20/%201000;%0D%0A%20%20%20%20%20%20%20%20move(runner,%20offset);%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateStopWatch()%20%7B%0D%0A%20%20%20%20var%20elapsed%20=%20Date.now()%20-%20timer,%0D%0A%20%20%20%20%20%20%20%20m%20=%20Math.floor(elapsed%20/%2060000%20%25%2060),%0D%0A%20%20%20%20%20%20%20%20s%20=%20Math.floor(elapsed%20/%201000%20%25%2060),%0D%0A%20%20%20%20%20%20%20%20ms%20=%20Math.floor(elapsed%20/%2010%20%25%20100);%0D%0A%20%20%20%20stopwatch.innerHTML%20=%20pad(m)%20+%20%22:%22%20+%20pad(s)%20+%20%22:%22%20+%20pad(ms);%0D%0A%7D%0D%0A%0D%0Afunction%20createCloud()%20%7B%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20cloud%20=%20document.createElement(%22img%22),%20d%20=%20range(-15,%2080);%0D%0A%20%20%20%20%20%20%20%20cloud.src%20=%20%22http://bsdacademysandbox.com/curriculum/wp-content/uploads/2017/11/cloud.png%22;%0D%0A%20%20%20%20%20%20%20%20cloud.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.top%20=%20d%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.left%20=%20world.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.width%20=%20remap(d,%20-15,%2080,%2080,%2040)%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.appendChild(cloud);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.unshift(cloud);%0D%0A%20%20%20%20%20%20%20%20%7D;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20setTimeout(createCloud,%20cloudSeed()%20*%201000);%0D%0A%7D%0D%0A%0D%0Afunction%20cloudSeed()%20%7B%0D%0A%20%20%20%20return%20range(3,%2010)%20/%20remap(speed,%200,%200.15,%201,%204);%0D%0A%7D%0D%0A%0D%0Afunction%20updateClouds()%20%7B%0D%0A%20%20%20%20clouds.forEach(function(c,%20i)%20%7B%0D%0A%20%20%20%20%20%20%20%20move(c,%20Math.max(delta%20*%20speed,%200.5)%20*%20c.offsetWidth%20/%2080);%0D%0A%20%20%20%20%20%20%20%20if%20(c.offsetLeft%20%3C=%20-c.offsetWidth)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.removeChild(c);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.splice(i,%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20setMode(n)%20%7B%0D%0A%20%20%20%20if%20(!exhausted%20&&%20!paused%20&&%20mode%20!=%20n)%20%7B%0D%0A%20%20%20%20%20%20%20%20mode%20=%20n;%0D%0A%20%20%20%20%20%20%20%20runner.src%20=%20link%5Bmode%5D;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20switch%20(mode)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%201:%20%20%20%20%20//%20start%20jogging%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.3;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.05;%20%20%20%20%20%20%20//%200.05%20times%201000ms%20=%2050%20pixel%20per%20second%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.06;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3EJOGGING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%202:%20%20%20%20%20//%20start%20running%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.4;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.1;%20%20%20%20%20%20%20//%200.1%20times%201000ms%20=%20100%20pixel%20per%20second%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.08;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ERUNNING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%203:%20%20%20%20%20//%20start%20sprinting%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.55;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.15;%20%20%20%20%20%20%20//%200.15%20times%201000ms%20=%20150%20pixel%20per%20second%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.2;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ESPRINTING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%204:%20%20%20%20%20//%20become%20exhausted%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:firebrick'%3EEXHAUSHTED%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%205:%20%20%20%20%20//%20finisher%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20paused%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EFINISHER!%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22You're%20exhausted,%20wait%20until%20your%20energy%20recovers%20to%2060%25.%22);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20!=%20n)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('Click%20%22Go!%22%20to%20start%20the%20race.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20finisher()%20%7B%0D%0A%20%20%20%20var%20popup%20=%20document.createElement(%22div%22),%0D%0A%20%20%20%20%20%20%20%20resetButton%20=%20document.createElement(%22button%22);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20popup.id%20=%20%22popup%22;%0D%0A%20%20%20%20popup.innerHTML%20=%20%22%3Cp%3ECongratulations!%20You%20have%20finished%20the%20race.%3C/p%3E%22;%0D%0A%20%20%20%20resetButton.id%20=%20%22reset%22;%0D%0A%20%20%20%20resetButton.innerHTML%20=%20%22REPLAY%22;%0D%0A%20%20%20%20resetButton.onclick%20=%20reset;%0D%0A%20%20%20%20world.appendChild(popup);%0D%0A%20%20%20%20popup.appendChild(resetButton);%0D%0A%7D%0D%0A%0D%0Afunction%20reset()%20%7B%0D%0A%20%20%20%20world.removeChild(popup);%0D%0A%20%20%20%20runner.src%20=%20link%5B0%5D;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20progressPercentage.innerHTML%20=%20%22%22;%0D%0A%20%20%20%20energyPercentage.innerHTML%20=%20%22%22;%0D%0A%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%09stopwatch.innerHTML%20=%20%2200:00:00%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%7D%0D%0A%0D%0Afunction%20pos(e,%20p)%20%7B%0D%0A%20%20%20%20return%20parseFloat(window.getComputedStyle(e).getPropertyValue(p));%0D%0A%7D%0D%0A%0D%0Afunction%20move(e,%20d)%20%7B%0D%0A%20%20%20%20e.style.left%20=%20pos(e,%20%22left%22)%20-%20d%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20clamp(v,%20min,%20max)%20%7B%0D%0A%20%20%20%20return%20Math.max(min,%20Math.min(v,%20max));%0D%0A%7D%0D%0A%0D%0Afunction%20range(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20var%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Afunction%20remap(v,%20iMin,%20iMax,%20oMin,%20oMax)%20%7B%0D%0A%20%20%20%20return%20oMin%20+%20(v%20-%20iMin)%20*%20(oMax%20-%20oMin)%20/%20(iMax%20-%20iMin);%0D%0A%7D%0D%0A%0D%0Afunction%20pad(n)%20%7B%0D%0A%20%20%20%20return%20n.toString().length%20==%202%20?%20n%20:%20'0'%20+%20n.toString();%0D%0A%7D#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_12E####LOGIC_12####HTML####HTML_E####CSS####CSS_E####JS##//##JS_E####LOGIC_12E####STEP_12E##