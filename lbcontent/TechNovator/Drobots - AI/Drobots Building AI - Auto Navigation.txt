18##STEP_1####INST_1##Introduction%0A%0AIn%20this%20second%20project%20of%20the%20AI%20Car%20series,%20we%20will%20evolve%20our%20algorithm%20to%20be%20able%20to%20make%20*logical%20decisions*,%20resulting%20in%20our%20car%20being%20able%20to%20look%20at%20its%20current%20position%20and%20figure%20out%20where%20to%20go%20next.%0A%0ALogic%20is%20important%20because%20in%20most%20real-world%20situations,%20roads%20are%20unpredictable%20and%20smart%20cars%20need%20to%20constantly%20make%20decisions%20about%20where%20to%20go%20next,%20rather%20than%20simply%20following%20a%20list%20of%20commands.##INST_1E####CODE_1####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%20%20%20%20%3C!--%20%3Clink%20href=%22/resources/css/font-awesome.min.css%22%20rel=%22stylesheet%22%3E%20--%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAuto%20Navigation%3C/p%3E%0D%0A%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cdiv%20id='chatbot'%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='messages'%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='inputContainer'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id='userInput'%20placeholder='Type%20message%20here'%20autocomplete='off'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id='btnSend'%3E%3Ci%20class='fa%20fa-paper-plane%20fa-fw'%3E%3C/i%3E%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton,%0D%0Ainput,%0D%0Atextarea%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2050px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20chat-bot%20styles%0D%0A*/%0D%0A#chatbot%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20padding:%200%2020px%2020px;%0D%0A%20%20%20%20max-width:%20600px;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%7D%0D%0A%0D%0A#inputContainer%20%7B%0D%0A%20%20%20%20display:%20flex;%0D%0A%7D%0D%0A%0D%0A#messages,%0D%0A#userInput%20%7B%0D%0A%20%20%20%20font-family:%20'VT323';%0D%0A%7D%0D%0A%0D%0A#messages%20%7B%0D%0A%20%20%20%20height:%20120px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20margin:%20auto%20auto%2010px;%0D%0A%20%20%20%20padding-bottom:%208px;%0D%0A%20%20%20%20font-size:%2018px;%0D%0A%20%20%20%20overflow-y:%20auto;%0D%0A%20%20%20%20background-color:%20#222;%0D%0A%20%20%20%20color:%20gainsboro;%0D%0A%7D%0D%0A%0D%0A.userMessage,%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20padding:%208px%2015px%200;%0D%0A%20%20%20%20border-radius:%2015px;%0D%0A%7D%0D%0A%0D%0A.userMessage%20%7B%0D%0A%20%20%20%20text-align:%20right;%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%7D%0D%0A%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20text-align:%20left;%0D%0A%20%20%20%20color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A#userInput%20%7B%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border-radius:%2023px;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20color:%20#333;%0D%0A%20%20%20%20flex:%20auto;%0D%0A%7D%0D%0A%0D%0A#userInput:hover,%0D%0A#userInput:focus,%0D%0A#btnSend:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2010px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnSend%20%7B%0D%0A%20%20%20%20margin-left:%2010px;%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20flex:%20none;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-thumb%20%7B%0D%0A%20%20%20%20border-style:%20solid;%0D%0A%20%20%20%20border-color:%20transparent;%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20silver;%0D%0A%20%20%20%20background-clip:%20content-box;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-track%20%7B%0D%0A%20%20%20%20margin:%2010px;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20title%20=%20document.querySelector('#title');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0A%0D%0Avar%20chatbot%20=%20document.querySelector('#chatbot');%0D%0Avar%20messages%20=%20document.querySelector('#messages');%0D%0Avar%20userInput%20=%20document.querySelector('#userInput');%0D%0Avar%20btnSend%20=%20document.querySelector('#btnSend');%0D%0A%0D%0Avar%20nColumn%20=%208;%0D%0Avar%20nRow%20=%206;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20roadCells%20=%20%5B%5D;%0D%0A%0D%0Avar%20autoMode%20=%20false;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0Awindow.onkeypress%20=%20handleKeyPress;%0D%0A%0D%0AbtnSend.onclick%20=%20readUserInput;%0D%0A%0D%0AbtnSend.enable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20false;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'inherit';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'inherit';%0D%0A%7D;%0D%0A%0D%0AbtnSend.disable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20true;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'grayscale(0.6)';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'0.6';%0D%0A%7D;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20checkPrevMove%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20checkPrevMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0Afunction%20readUserInput()%20%7B%0D%0A%20%20%20%20var%20command%20=%20userInput.value.trim().replace(/%5Cs+/g,%20'%20').toLowerCase();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(command.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20displayUserMessage(command);%0D%0A%0D%0A%20%20%20%20%20%20%20%20btnSend.disable();%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(command%20==%20'help')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Sure,%20here%20is%20a%20list%20of%20commands%20I%20can%20understand:');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20up:%20move%20the%20car%20up%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20down:%20move%20the%20car%20down%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20left:%20move%20the%20car%20to%20the%20left%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20right:%20move%20the%20car%20to%20the%20right%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20up')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goUp();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20down')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goDown();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20left')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goLeft();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20right')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goRight();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'auto%20mode')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20autoMode%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Sorry,%20I%20didn't%20understand%20your%20command:%20$%7Bcommand%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20userInput.focus();%0D%0A%7D%0D%0A%0D%0Afunction%20goUp()%20%7B%0D%0A%20%20%20%20checkAndMove('up');%0D%0A%7D%0D%0A%0D%0Afunction%20goDown()%20%7B%0D%0A%20%20%20%20checkAndMove('down');%0D%0A%7D%0D%0A%0D%0Afunction%20goRight()%20%7B%0D%0A%20%20%20%20checkAndMove('right');%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft()%20%7B%0D%0A%20%20%20%20checkAndMove('left');%0D%0A%7D%0D%0A%0D%0Afunction%20checkAndMove(dir)%20%7B%0D%0A%20%20%20%20if%20(car.currentCell%5Bdir%5D%20==%20'unknown')%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20cannot%20leave%20the%20map.');%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(car.currentCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkPrevMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(autoMode%20==%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%0D%0A%20%20%20%20%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20make%20sure%20the%20path%20to%20the%20current%20cell%20is%20valid%0D%0A%20%20%20%20%20%20%20%20if%20(prevCell.reachableRoads.includes(currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20have%20reached%20the%20finish%20line!');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(currentCell.className%20!=%20'road'%20%7C%7C%20(prevCell.className%20==%20currentCell.className))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20drove%20the%20car%20off%20road.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20is%20back%20on%20the%20road.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20decideNextMove()%20%7B%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(currentCell.right%20!=%20prevCell%20&&%20currentCell.reachableRoads.includes(currentCell.right))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.right);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.up%20!=%20prevCell%20&&%20currentCell.reachableRoads.includes(currentCell.up))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.up);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.down%20!=%20prevCell%20&&%20currentCell.reachableRoads.includes(currentCell.down))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.down);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.left%20!=%20prevCell%20&&%20currentCell.reachableRoads.includes(currentCell.left))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.left);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20autoMode%20=%20false;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Your%20AutoDrive%20system%20worked,%20the%20car%20has%20reached%20the%20finish%20line!');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(currentCell.reachableRoads.length%20==%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('The%20AutoDrive%20system%20failed%20to%20determine%20where%20to%20go%20next.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(currentCell.reachableRoads.length%20==%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Returned%20to%20starting%20cell,%20turning%20around...');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20moveCarTo(currentCell.reachableRoads%5B0%5D);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20autoMode%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20car.currentRow%20=%20randomItemFrom(gridCells);%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20randomItemFrom(filteredPaths);%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20roadCells.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20'unknown';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20displayUserMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'userMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20displayBotMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'botMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20attachMessage(message,%20type)%20%7B%0D%0A%20%20%20%20var%20text%20=%20document.createElement('p');%0D%0A%20%20%20%20%0D%0A%20%20%20%20text.className%20=%20type;%0D%0A%20%20%20%20text.textContent%20=%20message;%0D%0A%20%20%20%20messages.appendChild(text);%0D%0A%0D%0A%20%20%20%20userInput.value%20=%20'';%0D%0A%20%20%20%20messages.scrollTo(0,%20messages.scrollHeight);%0D%0A%7D%0D%0A%0D%0Afunction%20handleKeyPress()%20%7B%0D%0A%20%20%20%20if%20(event.keyCode%20==%2013)%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.click();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%20%20%20%20title.style.fontSize%20=%20%60$%7Bgrid.offsetHeight%20*%200.2%7Dpx%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20chatbot.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20chatbot.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20chatbot.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201)%20%7D;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_1E####LOGIC_1####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_1E####STEP_1E####STEP_2####INST_2##Giving%20commands%20via%20Chat-bot%0A%0AAt%20the%20end%20of%20the%20previous%20project,%20we%20made%20a%20chat-bot%20that%20can%20understand%20user%20commands%20and%20carry%20them%20out.%0A%0ABefore%20we%20add%20the%20anything%20new%20to%20our%20AI%20Car%20project,%20let's%20familiarise%20again%20with%20how%20this%20works.%0A%0A(***)%0A%0A(!)Use%20the%20chat-bot%20commands%20*go%20up*,%20*go%20down*,%20*go%20left*%20and%20*go%20right*%20to%20guide%20the%20car%20to%20the%20finish%20line.##INST_2E####CODE_2####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%20%20%20%20%3C!--%20%3Clink%20href=%22/resources/css/font-awesome.min.css%22%20rel=%22stylesheet%22%3E%20--%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAuto%20Navigation%3C/p%3E%0D%0A%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cdiv%20id='chatbot'%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='messages'%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='inputContainer'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id='userInput'%20placeholder='Type%20message%20here'%20autocomplete='off'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id='btnSend'%3E%3Ci%20class='fa%20fa-paper-plane%20fa-fw'%3E%3C/i%3E%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton,%0D%0Ainput,%0D%0Atextarea%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2050px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20chat-bot%20styles%0D%0A*/%0D%0A#chatbot%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20padding:%200%2020px%2020px;%0D%0A%20%20%20%20max-width:%20600px;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%7D%0D%0A%0D%0A#inputContainer%20%7B%0D%0A%20%20%20%20display:%20flex;%0D%0A%7D%0D%0A%0D%0A#messages,%0D%0A#userInput%20%7B%0D%0A%20%20%20%20font-family:%20'VT323';%0D%0A%7D%0D%0A%0D%0A#messages%20%7B%0D%0A%20%20%20%20height:%20120px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20margin:%20auto%20auto%2010px;%0D%0A%20%20%20%20padding-bottom:%208px;%0D%0A%20%20%20%20font-size:%2018px;%0D%0A%20%20%20%20overflow-y:%20auto;%0D%0A%20%20%20%20background-color:%20#222;%0D%0A%20%20%20%20color:%20gainsboro;%0D%0A%7D%0D%0A%0D%0A.userMessage,%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20padding:%208px%2015px%200;%0D%0A%20%20%20%20border-radius:%2015px;%0D%0A%7D%0D%0A%0D%0A.userMessage%20%7B%0D%0A%20%20%20%20text-align:%20right;%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%7D%0D%0A%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20text-align:%20left;%0D%0A%20%20%20%20color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A#userInput%20%7B%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border-radius:%2023px;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20color:%20#333;%0D%0A%20%20%20%20flex:%20auto;%0D%0A%7D%0D%0A%0D%0A#userInput:hover,%0D%0A#userInput:focus,%0D%0A#btnSend:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2010px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnSend%20%7B%0D%0A%20%20%20%20margin-left:%2010px;%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20flex:%20none;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-thumb%20%7B%0D%0A%20%20%20%20border-style:%20solid;%0D%0A%20%20%20%20border-color:%20transparent;%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20silver;%0D%0A%20%20%20%20background-clip:%20content-box;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-track%20%7B%0D%0A%20%20%20%20margin:%2010px;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20title%20=%20document.querySelector('#title');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0A%0D%0Avar%20chatbot%20=%20document.querySelector('#chatbot');%0D%0Avar%20messages%20=%20document.querySelector('#messages');%0D%0Avar%20userInput%20=%20document.querySelector('#userInput');%0D%0Avar%20btnSend%20=%20document.querySelector('#btnSend');%0D%0A%0D%0Avar%20nColumn%20=%208;%0D%0Avar%20nRow%20=%206;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20roadCells%20=%20%5B%5D;%0D%0A%0D%0Avar%20autoMode%20=%20false;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0Awindow.onkeypress%20=%20handleKeyPress;%0D%0A%0D%0AbtnSend.onclick%20=%20readUserInput;%0D%0A%0D%0AbtnSend.enable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20false;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'inherit';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'inherit';%0D%0A%7D;%0D%0A%0D%0AbtnSend.disable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20true;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'grayscale(0.6)';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'0.6';%0D%0A%7D;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20checkPrevMove%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20checkPrevMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0Afunction%20readUserInput()%20%7B%0D%0A%20%20%20%20var%20command%20=%20userInput.value.trim().replace(/%5Cs+/g,%20'%20').toLowerCase();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(command.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20displayUserMessage(command);%0D%0A%0D%0A%20%20%20%20%20%20%20%20btnSend.disable();%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(command%20==%20'help')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Sure,%20here%20is%20a%20list%20of%20commands%20I%20can%20understand:');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20up:%20move%20the%20car%20up%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20down:%20move%20the%20car%20down%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20left:%20move%20the%20car%20to%20the%20left%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20right:%20move%20the%20car%20to%20the%20right%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20up')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goUp();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20down')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goDown();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20left')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goLeft();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20right')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goRight();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'auto%20mode')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20autoMode%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Sorry,%20I%20didn't%20understand%20your%20command:%20$%7Bcommand%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20userInput.focus();%0D%0A%7D%0D%0A%0D%0Afunction%20goUp()%20%7B%0D%0A%20%20%20%20checkAndMove('up');%0D%0A%7D%0D%0A%0D%0Afunction%20goDown()%20%7B%0D%0A%20%20%20%20checkAndMove('down');%0D%0A%7D%0D%0A%0D%0Afunction%20goRight()%20%7B%0D%0A%20%20%20%20checkAndMove('right');%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft()%20%7B%0D%0A%20%20%20%20checkAndMove('left');%0D%0A%7D%0D%0A%0D%0Afunction%20checkAndMove(dir)%20%7B%0D%0A%20%20%20%20if%20(car.currentCell%5Bdir%5D%20==%20'unknown')%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20cannot%20leave%20the%20map.');%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(car.currentCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkPrevMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(autoMode%20==%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%0D%0A%20%20%20%20%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20make%20sure%20the%20path%20to%20the%20current%20cell%20is%20valid%0D%0A%20%20%20%20%20%20%20%20if%20(prevCell.reachableRoads.includes(currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20have%20reached%20the%20finish%20line!');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(currentCell.className%20!=%20'road'%20%7C%7C%20(prevCell.className%20==%20currentCell.className))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20drove%20the%20car%20off%20road.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20is%20back%20on%20the%20road.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20decideNextMove()%20%7B%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(currentCell.right%20!=%20prevCell%20&&%20currentCell.reachableRoads.includes(currentCell.right))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.right);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.up%20!=%20prevCell%20&&%20currentCell.reachableRoads.includes(currentCell.up))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.up);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.down%20!=%20prevCell%20&&%20currentCell.reachableRoads.includes(currentCell.down))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.down);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.left%20!=%20prevCell%20&&%20currentCell.reachableRoads.includes(currentCell.left))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.left);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20autoMode%20=%20false;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Your%20AutoDrive%20system%20worked,%20the%20car%20has%20reached%20the%20finish%20line!');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(currentCell.reachableRoads.length%20==%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('The%20AutoDrive%20system%20failed%20to%20determine%20where%20to%20go%20next.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(currentCell.reachableRoads.length%20==%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Returned%20to%20starting%20cell,%20turning%20around...');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20moveCarTo(currentCell.reachableRoads%5B0%5D);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20autoMode%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20car.currentRow%20=%20randomItemFrom(gridCells);%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20randomItemFrom(filteredPaths);%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20roadCells.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20'unknown';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20displayUserMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'userMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20displayBotMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'botMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20attachMessage(message,%20type)%20%7B%0D%0A%20%20%20%20var%20text%20=%20document.createElement('p');%0D%0A%20%20%20%20%0D%0A%20%20%20%20text.className%20=%20type;%0D%0A%20%20%20%20text.textContent%20=%20message;%0D%0A%20%20%20%20messages.appendChild(text);%0D%0A%0D%0A%20%20%20%20userInput.value%20=%20'';%0D%0A%20%20%20%20messages.scrollTo(0,%20messages.scrollHeight);%0D%0A%7D%0D%0A%0D%0Afunction%20handleKeyPress()%20%7B%0D%0A%20%20%20%20if%20(event.keyCode%20==%2013)%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.click();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%20%20%20%20title.style.fontSize%20=%20%60$%7Bgrid.offsetHeight%20*%200.2%7Dpx%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20chatbot.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20chatbot.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20chatbot.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201)%20%7D;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_2E####LOGIC_2####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.on('checkPrevMove').var(%60car.currentCell.id%20==%20'finish'%60);##JS_E####LOGIC_2E####STEP_2E####STEP_3####INST_3##Adding%20the%20%22auto%20drive%22%20command%0A%0AOur%20chat-bot%20already%20understands%20a%20handful%20of%20commands%20such%20as%20*%22go%20up%22*%20and%20*%22go%20down%22*%20(%20+js#on%20read#+8%20-%20js#focus#-3%20).%0A%0ABefore%20we%20add%20the%20new%20functionality%20to%20automatically%20navigate%20the%20roads,%20let's%20first%20make%20sure%20our%20chat-bot%20understands%20the%20command%20for%20it.%0A%0AWe%20can%20do%20this%20by%20adding%20an%20additional%20%60else%20if%60%20statement%20in%20the%20*readUserInput*%20function.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#else%20if%5D%0A%09(*)%5B#js#relational%20operators%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#Sorry#-3,%20create%20an%20%60else%20if%60%20statement%20to%20check%20whether%20*command*%20is%20equal%20to%20*%22auto%20drive%22*.%0A(*)You%20can%20check%20whether%20two%20things%20are%20equal%20by%20using%20*relational%20operators*.##INST_3E####CODE_3####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%20%20%20%20%3C!--%20%3Clink%20href=%22/resources/css/font-awesome.min.css%22%20rel=%22stylesheet%22%3E%20--%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAuto%20Navigation%3C/p%3E%0D%0A%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cdiv%20id='chatbot'%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='messages'%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='inputContainer'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id='userInput'%20placeholder='Type%20message%20here'%20autocomplete='off'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id='btnSend'%3E%3Ci%20class='fa%20fa-paper-plane%20fa-fw'%3E%3C/i%3E%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton,%0D%0Ainput,%0D%0Atextarea%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2050px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20chat-bot%20styles%0D%0A*/%0D%0A#chatbot%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20padding:%200%2020px%2020px;%0D%0A%20%20%20%20max-width:%20600px;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%7D%0D%0A%0D%0A#inputContainer%20%7B%0D%0A%20%20%20%20display:%20flex;%0D%0A%7D%0D%0A%0D%0A#messages,%0D%0A#userInput%20%7B%0D%0A%20%20%20%20font-family:%20'VT323';%0D%0A%7D%0D%0A%0D%0A#messages%20%7B%0D%0A%20%20%20%20height:%20120px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20margin:%20auto%20auto%2010px;%0D%0A%20%20%20%20padding-bottom:%208px;%0D%0A%20%20%20%20font-size:%2018px;%0D%0A%20%20%20%20overflow-y:%20auto;%0D%0A%20%20%20%20background-color:%20#222;%0D%0A%20%20%20%20color:%20gainsboro;%0D%0A%7D%0D%0A%0D%0A.userMessage,%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20padding:%208px%2015px%200;%0D%0A%20%20%20%20border-radius:%2015px;%0D%0A%7D%0D%0A%0D%0A.userMessage%20%7B%0D%0A%20%20%20%20text-align:%20right;%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%7D%0D%0A%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20text-align:%20left;%0D%0A%20%20%20%20color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A#userInput%20%7B%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border-radius:%2023px;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20color:%20#333;%0D%0A%20%20%20%20flex:%20auto;%0D%0A%7D%0D%0A%0D%0A#userInput:hover,%0D%0A#userInput:focus,%0D%0A#btnSend:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2010px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnSend%20%7B%0D%0A%20%20%20%20margin-left:%2010px;%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20flex:%20none;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-thumb%20%7B%0D%0A%20%20%20%20border-style:%20solid;%0D%0A%20%20%20%20border-color:%20transparent;%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20silver;%0D%0A%20%20%20%20background-clip:%20content-box;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-track%20%7B%0D%0A%20%20%20%20margin:%2010px;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20title%20=%20document.querySelector('#title');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0A%0D%0Avar%20chatbot%20=%20document.querySelector('#chatbot');%0D%0Avar%20messages%20=%20document.querySelector('#messages');%0D%0Avar%20userInput%20=%20document.querySelector('#userInput');%0D%0Avar%20btnSend%20=%20document.querySelector('#btnSend');%0D%0A%0D%0Avar%20nColumn%20=%208;%0D%0Avar%20nRow%20=%206;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20roadCells%20=%20%5B%5D;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0Awindow.onkeypress%20=%20handleKeyPress;%0D%0A%0D%0AbtnSend.onclick%20=%20readUserInput;%0D%0A%0D%0AbtnSend.enable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20false;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'inherit';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'inherit';%0D%0A%7D;%0D%0A%0D%0AbtnSend.disable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20true;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'grayscale(0.6)';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'0.6';%0D%0A%7D;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20checkPrevMove%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20checkPrevMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0Afunction%20readUserInput()%20%7B%0D%0A%20%20%20%20var%20command%20=%20userInput.value.trim().replace(/%5Cs+/g,%20'%20').toLowerCase();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(command.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20displayUserMessage(command);%0D%0A%0D%0A%20%20%20%20%20%20%20%20btnSend.disable();%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(command%20==%20'help')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Sure,%20here%20is%20a%20list%20of%20commands%20I%20can%20understand:');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20up:%20move%20the%20car%20up%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20down:%20move%20the%20car%20down%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20left:%20move%20the%20car%20to%20the%20left%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20right:%20move%20the%20car%20to%20the%20right%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20up')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goUp();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20down')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goDown();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20left')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goLeft();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20right')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goRight();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#else%20if%20(command%20==%20'auto%20drive')%20%7B%7D#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Sorry,%20I%20didn't%20understand%20your%20command:%20$%7Bcommand%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20userInput.focus();%0D%0A%7D%0D%0A%0D%0Afunction%20goUp()%20%7B%0D%0A%20%20%20%20checkAndMove('up');%0D%0A%7D%0D%0A%0D%0Afunction%20goDown()%20%7B%0D%0A%20%20%20%20checkAndMove('down');%0D%0A%7D%0D%0A%0D%0Afunction%20goRight()%20%7B%0D%0A%20%20%20%20checkAndMove('right');%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft()%20%7B%0D%0A%20%20%20%20checkAndMove('left');%0D%0A%7D%0D%0A%0D%0Afunction%20checkAndMove(dir)%20%7B%0D%0A%20%20%20%20if%20(car.currentCell%5Bdir%5D%20==%20'unknown')%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20cannot%20leave%20the%20map.');%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(car.currentCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkPrevMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%20%20%20%20%0D%0A%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%0D%0A%20%20%20%20//%20%20make%20sure%20the%20path%20to%20the%20current%20cell%20is%20valid%0D%0A%20%20%20%20if%20(prevCell.reachableRoads.includes(currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20have%20reached%20the%20finish%20line!');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Arrived%20at%20$%7BcurrentCell.location%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.className%20!=%20'road'%20%7C%7C%20(prevCell.className%20==%20currentCell.className))%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('You%20drove%20the%20car%20off%20road.');%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20is%20back%20on%20the%20road.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20car.currentRow%20=%20randomItemFrom(gridCells);%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20randomItemFrom(filteredPaths);%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20roadCells.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20'unknown';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20displayUserMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'userMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20displayBotMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'botMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20attachMessage(message,%20type)%20%7B%0D%0A%20%20%20%20var%20text%20=%20document.createElement('p');%0D%0A%20%20%20%20%0D%0A%20%20%20%20text.className%20=%20type;%0D%0A%20%20%20%20text.textContent%20=%20message;%0D%0A%20%20%20%20messages.appendChild(text);%0D%0A%0D%0A%20%20%20%20userInput.value%20=%20'';%0D%0A%20%20%20%20messages.scrollTo(0,%20messages.scrollHeight);%0D%0A%7D%0D%0A%0D%0Afunction%20handleKeyPress()%20%7B%0D%0A%20%20%20%20if%20(event.keyCode%20==%2013)%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.click();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%20%20%20%20title.style.fontSize%20=%20%60$%7Bgrid.offsetHeight%20*%200.2%7Dpx%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20chatbot.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20chatbot.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20chatbot.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201)%20%7D;%0D%0A%7D%0D%0A##JS_E####CODE_3E####LOGIC_3####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60else%20if%20(command%20==%20'auto%20drive')%20%7B%7D%60);##JS_E####LOGIC_3E####STEP_3E####STEP_4####INST_4##Decision%20function%0A%0AWhen%20the%20chat-bot%20receives%20the%20*%22auto%20drive%22*%20command,%20we%20want%20to%20start%20running%20the%20function%20that%20can%20make%20a%20decision%20about%20where%20to%20go%20next.%0A%0AWe%20will%20call%20this%20function%20*decideNextMove*.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#function%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#auto%20drive#+1,%20call%20the%20*decideNextMove*%20function.%0A%0A(!)On%20+js#on%20checkPrev#-2,%20create%20a%20function%20called%20*decideNextMove*.##INST_4E####CODE_4####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%20%20%20%20%3C!--%20%3Clink%20href=%22/resources/css/font-awesome.min.css%22%20rel=%22stylesheet%22%3E%20--%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAuto%20Navigation%3C/p%3E%0D%0A%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cdiv%20id='chatbot'%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='messages'%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='inputContainer'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id='userInput'%20placeholder='Type%20message%20here'%20autocomplete='off'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id='btnSend'%3E%3Ci%20class='fa%20fa-paper-plane%20fa-fw'%3E%3C/i%3E%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton,%0D%0Ainput,%0D%0Atextarea%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2050px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20chat-bot%20styles%0D%0A*/%0D%0A#chatbot%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20padding:%200%2020px%2020px;%0D%0A%20%20%20%20max-width:%20600px;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%7D%0D%0A%0D%0A#inputContainer%20%7B%0D%0A%20%20%20%20display:%20flex;%0D%0A%7D%0D%0A%0D%0A#messages,%0D%0A#userInput%20%7B%0D%0A%20%20%20%20font-family:%20'VT323';%0D%0A%7D%0D%0A%0D%0A#messages%20%7B%0D%0A%20%20%20%20height:%20120px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20margin:%20auto%20auto%2010px;%0D%0A%20%20%20%20padding-bottom:%208px;%0D%0A%20%20%20%20font-size:%2018px;%0D%0A%20%20%20%20overflow-y:%20auto;%0D%0A%20%20%20%20background-color:%20#222;%0D%0A%20%20%20%20color:%20gainsboro;%0D%0A%7D%0D%0A%0D%0A.userMessage,%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20padding:%208px%2015px%200;%0D%0A%20%20%20%20border-radius:%2015px;%0D%0A%7D%0D%0A%0D%0A.userMessage%20%7B%0D%0A%20%20%20%20text-align:%20right;%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%7D%0D%0A%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20text-align:%20left;%0D%0A%20%20%20%20color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A#userInput%20%7B%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border-radius:%2023px;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20color:%20#333;%0D%0A%20%20%20%20flex:%20auto;%0D%0A%7D%0D%0A%0D%0A#userInput:hover,%0D%0A#userInput:focus,%0D%0A#btnSend:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2010px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnSend%20%7B%0D%0A%20%20%20%20margin-left:%2010px;%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20flex:%20none;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-thumb%20%7B%0D%0A%20%20%20%20border-style:%20solid;%0D%0A%20%20%20%20border-color:%20transparent;%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20silver;%0D%0A%20%20%20%20background-clip:%20content-box;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-track%20%7B%0D%0A%20%20%20%20margin:%2010px;%0D%0A%7D%0D%0A##CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20title%20=%20document.querySelector('#title');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0A%0D%0Avar%20chatbot%20=%20document.querySelector('#chatbot');%0D%0Avar%20messages%20=%20document.querySelector('#messages');%0D%0Avar%20userInput%20=%20document.querySelector('#userInput');%0D%0Avar%20btnSend%20=%20document.querySelector('#btnSend');%0D%0A%0D%0Avar%20nColumn%20=%208;%0D%0Avar%20nRow%20=%206;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20roadCells%20=%20%5B%5D;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0Awindow.onkeypress%20=%20handleKeyPress;%0D%0A%0D%0AbtnSend.onclick%20=%20readUserInput;%0D%0A%0D%0AbtnSend.enable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20false;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'inherit';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'inherit';%0D%0A%7D;%0D%0A%0D%0AbtnSend.disable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20true;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'grayscale(0.6)';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'0.6';%0D%0A%7D;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20checkPrevMove%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20checkPrevMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0Afunction%20readUserInput()%20%7B%0D%0A%20%20%20%20var%20command%20=%20userInput.value.trim().replace(/%5Cs+/g,%20'%20').toLowerCase();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(command.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20displayUserMessage(command);%0D%0A%0D%0A%20%20%20%20%20%20%20%20btnSend.disable();%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(command%20==%20'help')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Sure,%20here%20is%20a%20list%20of%20commands%20I%20can%20understand:');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20up:%20move%20the%20car%20up%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20down:%20move%20the%20car%20down%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20left:%20move%20the%20car%20to%20the%20left%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20right:%20move%20the%20car%20to%20the%20right%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20up')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goUp();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20down')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goDown();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20left')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goLeft();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20right')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goRight();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'auto%20drive')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#decideNextMove();#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Sorry,%20I%20didn't%20understand%20your%20command:%20$%7Bcommand%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20userInput.focus();%0D%0A%7D%0D%0A%0D%0Afunction%20goUp()%20%7B%0D%0A%20%20%20%20checkAndMove('up');%0D%0A%7D%0D%0A%0D%0Afunction%20goDown()%20%7B%0D%0A%20%20%20%20checkAndMove('down');%0D%0A%7D%0D%0A%0D%0Afunction%20goRight()%20%7B%0D%0A%20%20%20%20checkAndMove('right');%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft()%20%7B%0D%0A%20%20%20%20checkAndMove('left');%0D%0A%7D%0D%0A%0D%0Afunction%20checkAndMove(dir)%20%7B%0D%0A%20%20%20%20if%20(car.currentCell%5Bdir%5D%20==%20'unknown')%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20cannot%20leave%20the%20map.');%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(car.currentCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A#BEGIN_EDITABLE#function%20decideNextMove()%20%7B%7D#END_EDITABLE#%0D%0A%0D%0Afunction%20checkPrevMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%20%20%20%20%0D%0A%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%0D%0A%20%20%20%20//%20%20make%20sure%20the%20path%20to%20the%20current%20cell%20is%20valid%0D%0A%20%20%20%20if%20(prevCell.reachableRoads.includes(currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20have%20reached%20the%20finish%20line!');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Arrived%20at%20$%7BcurrentCell.location%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.className%20!=%20'road'%20%7C%7C%20(prevCell.className%20==%20currentCell.className))%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('You%20drove%20the%20car%20off%20road.');%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20is%20back%20on%20the%20road.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20car.currentRow%20=%20randomItemFrom(gridCells);%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20randomItemFrom(filteredPaths);%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20roadCells.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20'unknown';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20displayUserMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'userMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20displayBotMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'botMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20attachMessage(message,%20type)%20%7B%0D%0A%20%20%20%20var%20text%20=%20document.createElement('p');%0D%0A%20%20%20%20%0D%0A%20%20%20%20text.className%20=%20type;%0D%0A%20%20%20%20text.textContent%20=%20message;%0D%0A%20%20%20%20messages.appendChild(text);%0D%0A%0D%0A%20%20%20%20userInput.value%20=%20'';%0D%0A%20%20%20%20messages.scrollTo(0,%20messages.scrollHeight);%0D%0A%7D%0D%0A%0D%0Afunction%20handleKeyPress()%20%7B%0D%0A%20%20%20%20if%20(event.keyCode%20==%2013)%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.click();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%20%20%20%20title.style.fontSize%20=%20%60$%7Bgrid.offsetHeight%20*%200.2%7Dpx%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20chatbot.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20chatbot.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20chatbot.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201)%20%7D;%0D%0A%7D%0D%0A##JS_E####CODE_4E####LOGIC_4####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60decideNextMove();%60);%0Apass.if.js.editable(1).equivalent(%60function%20decideNextMove()%20%7B%7D%60);##JS_E####LOGIC_4E####STEP_4E####STEP_5####INST_5##The%20current%20and%20previous%20cell%0A%0AIn%20order%20for%20our%20car%20to%20intelligently%20decide%20where%20to%20go,%20it%20needs%20to%20have%20access%20to%20the%20following%20information:%0A%5B-%0A%09(*)*current%20cell*%20-%20the%20cell%20where%20the%20car%20is%20positioned%20each%20time%20the%20*decideNextMove*%20function%20is%20called.%0A%09(*)*previous%20cell*%20-%20the%20cell%20where%20car%20had%20been%20before%20arriving%20at%20the%20current%20cell.%0A%5Bimg::https://app.bsd.education/resources/ai_car_prev_current_cell.gif%5D%0A%09(*)*neighbouring%20cells*%20-%20the%20cells%20that%20can%20be%20reached%20by%20going%20*up*,%20*down*,%20*left*%20&%20*right*%20from%20the%20current%20or%20previous%20cell.%0A%5Bimg::https://app.bsd.education/resources/ai_car_neighbouring_cells.png%5D%0A-%5D%0A%0A(***)%0A%0A(!)Follow%20the%20instructions%20in%20the%20chat-bot%20and%20reach%20the%20finish%20line.##INST_5E####CODE_5####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%20%20%20%20%3C!--%20%3Clink%20href=%22/resources/css/font-awesome.min.css%22%20rel=%22stylesheet%22%3E%20--%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAuto%20Navigation%3C/p%3E%0D%0A%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cdiv%20id='chatbot'%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='messages'%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='inputContainer'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id='userInput'%20placeholder='Type%20message%20here'%20autocomplete='off'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id='btnSend'%3E%3Ci%20class='fa%20fa-paper-plane%20fa-fw'%3E%3C/i%3E%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton,%0D%0Ainput,%0D%0Atextarea%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%20%20%20%20pointer-events:%20none;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2050px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20chat-bot%20styles%0D%0A*/%0D%0A#chatbot%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20padding:%200%2020px%2020px;%0D%0A%20%20%20%20max-width:%20600px;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%7D%0D%0A%0D%0A#inputContainer%20%7B%0D%0A%20%20%20%20display:%20flex;%0D%0A%7D%0D%0A%0D%0A#messages,%0D%0A#userInput%20%7B%0D%0A%20%20%20%20font-family:%20'VT323';%0D%0A%7D%0D%0A%0D%0A#messages%20%7B%0D%0A%20%20%20%20height:%20120px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20margin:%20auto%20auto%2010px;%0D%0A%20%20%20%20padding-bottom:%208px;%0D%0A%20%20%20%20font-size:%2018px;%0D%0A%20%20%20%20overflow-y:%20auto;%0D%0A%20%20%20%20background-color:%20#222;%0D%0A%20%20%20%20color:%20gainsboro;%0D%0A%7D%0D%0A%0D%0A.userMessage,%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20padding:%208px%2015px%200;%0D%0A%20%20%20%20border-radius:%2015px;%0D%0A%7D%0D%0A%0D%0A.userMessage%20%7B%0D%0A%20%20%20%20text-align:%20right;%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%7D%0D%0A%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20text-align:%20left;%0D%0A%20%20%20%20color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A#userInput%20%7B%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border-radius:%2023px;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20color:%20#333;%0D%0A%20%20%20%20flex:%20auto;%0D%0A%7D%0D%0A%0D%0A#userInput:hover,%0D%0A#userInput:focus,%0D%0A#btnSend:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2010px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnSend%20%7B%0D%0A%20%20%20%20margin-left:%2010px;%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20flex:%20none;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-thumb%20%7B%0D%0A%20%20%20%20border-style:%20solid;%0D%0A%20%20%20%20border-color:%20transparent;%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20silver;%0D%0A%20%20%20%20background-clip:%20content-box;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-track%20%7B%0D%0A%20%20%20%20margin:%2010px;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20title%20=%20document.querySelector('#title');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0A%0D%0Avar%20chatbot%20=%20document.querySelector('#chatbot');%0D%0Avar%20messages%20=%20document.querySelector('#messages');%0D%0Avar%20userInput%20=%20document.querySelector('#userInput');%0D%0Avar%20btnSend%20=%20document.querySelector('#btnSend');%0D%0A%0D%0Avar%20nColumn%20=%208;%0D%0Avar%20nRow%20=%206;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20roadCells%20=%20%5B%5D;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0Awindow.onkeypress%20=%20handleKeyPress;%0D%0A%0D%0AbtnSend.onclick%20=%20readUserInput;%0D%0A%0D%0AbtnSend.enable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20false;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'inherit';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'inherit';%0D%0A%7D;%0D%0A%0D%0AbtnSend.disable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20true;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'grayscale(0.6)';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'0.6';%0D%0A%7D;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20checkPrevMove%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20checkPrevMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%20%20%20%20%0D%0A%20%20%20%20showObj();%0D%0A%7D%0D%0A%0D%0Avar%20objectiveTarget;%0D%0A%0D%0Afunction%20showObj()%20%7B%0D%0A%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20randomCell%20=%20randomItemFrom(%5B'currentCell',%20'prevCell'%5D);%0D%0A%20%20%20%20var%20availablePaths%20=%20%5B'up',%20'down',%20'left',%20'right'%5D.filter(dir%20=%3E%20car%5BrandomCell%5D%5Bdir%5D%20!=%20'unknown');%0D%0A%20%20%20%20var%20randomPath%20=%20randomItemFrom(availablePaths);%0D%0A%20%20%20%20%0D%0A%20%20%20%20objectiveTarget%20=%20car%5BrandomCell%5D%5BrandomPath%5D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20displayBotMessage(%60Click%20on%20the%20cell%20$%7BrandomPath%20==%20'up'%20?%20'above'%20:%20randomPath%20==%20'down'%20?%20'below'%20:%20randomPath%20==%20'left'%20?%20'to%20the%20left%20of'%20:%20'to%20the%20right%20of'%7D%20the%20$%7BrandomCell%20==%20'currentCell'%20?%20'current%20cell'%20:%20'previous%20cell'%7D.%60);%0D%0A%7D%0D%0A%0D%0Afunction%20checkObjective()%20%7B%0D%0A%20%20%20%20if%20(event.target%20==%20objectiveTarget)%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('Correct!');%0D%0A%20%20%20%20%20%20%20%20showObj();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(messages.lastElementChild.textContent%20!=%20'Not%20quite,%20try%20again.')%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('Not%20quite,%20try%20again.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20readUserInput()%20%7B%0D%0A%20%20%20%20var%20command%20=%20userInput.value.trim().replace(/%5Cs+/g,%20'%20').toLowerCase();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(command.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20displayUserMessage(command);%0D%0A%0D%0A%20%20%20%20%20%20%20%20btnSend.disable();%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(command%20==%20'help')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Sure,%20here%20is%20a%20list%20of%20commands%20I%20can%20understand:');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20up:%20move%20the%20car%20up%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20down:%20move%20the%20car%20down%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20left:%20move%20the%20car%20to%20the%20left%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20right:%20move%20the%20car%20to%20the%20right%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20up')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goUp();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20down')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goDown();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20left')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goLeft();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20right')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goRight();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'auto%20drive')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Sorry,%20I%20didn't%20understand%20your%20command:%20$%7Bcommand%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20userInput.focus();%0D%0A%7D%0D%0A%0D%0Afunction%20goUp()%20%7B%0D%0A%20%20%20%20checkAndMove('up');%0D%0A%7D%0D%0A%0D%0Afunction%20goDown()%20%7B%0D%0A%20%20%20%20checkAndMove('down');%0D%0A%7D%0D%0A%0D%0Afunction%20goRight()%20%7B%0D%0A%20%20%20%20checkAndMove('right');%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft()%20%7B%0D%0A%20%20%20%20checkAndMove('left');%0D%0A%7D%0D%0A%0D%0Afunction%20checkAndMove(dir)%20%7B%0D%0A%20%20%20%20if%20(car.currentCell%5Bdir%5D%20==%20'unknown')%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20cannot%20leave%20the%20map.');%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(car.currentCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20decideNextMove()%20%7B%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(currentCell.right%20!=%20prevCell%20&&%20currentCell.reachableRoads.includes(currentCell.right))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.right);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.up%20!=%20prevCell%20&&%20currentCell.reachableRoads.includes(currentCell.up))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.up);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.down%20!=%20prevCell%20&&%20currentCell.reachableRoads.includes(currentCell.down))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.down);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.left%20!=%20prevCell%20&&%20currentCell.reachableRoads.includes(currentCell.left))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.left);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkPrevMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%20%20%20%20%0D%0A%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%0D%0A%20%20%20%20//%20%20make%20sure%20the%20path%20to%20the%20current%20cell%20is%20valid%0D%0A%20%20%20%20if%20(prevCell.reachableRoads.includes(currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20have%20reached%20the%20finish%20line!');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.className%20!=%20'road'%20%7C%7C%20(prevCell.className%20==%20currentCell.className))%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('You%20drove%20the%20car%20off%20road.');%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20is%20back%20on%20the%20road.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20car.currentRow%20=%20randomItemFrom(gridCells);%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20randomItemFrom(filteredPaths);%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20roadCells.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20'unknown';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.onclick%20=%20checkObjective;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.border%20=%20'1px%20dotted%20rgba(0,%200,%200,%200.3)';%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20displayUserMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'userMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20displayBotMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'botMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20attachMessage(message,%20type)%20%7B%0D%0A%20%20%20%20var%20text%20=%20document.createElement('p');%0D%0A%20%20%20%20%0D%0A%20%20%20%20text.className%20=%20type;%0D%0A%20%20%20%20text.textContent%20=%20message;%0D%0A%20%20%20%20messages.appendChild(text);%0D%0A%0D%0A%20%20%20%20userInput.value%20=%20'';%0D%0A%20%20%20%20messages.scrollTo(0,%20messages.scrollHeight);%0D%0A%7D%0D%0A%0D%0Afunction%20handleKeyPress()%20%7B%0D%0A%20%20%20%20if%20(event.keyCode%20==%2013)%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.click();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%20%20%20%20title.style.fontSize%20=%20%60$%7Bgrid.offsetHeight%20*%200.2%7Dpx%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20chatbot.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20chatbot.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20chatbot.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201)%20%7D;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_5E####LOGIC_5####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.on('checkPrevMove').var(%60car.currentCell.id%20==%20'finish'%60);##JS_E####LOGIC_5E####STEP_5E####STEP_6####INST_6##Reachable%20road%20cells%0A%0AIn%20addition%20to%20current,%20previous%20and%20neighbouring%20cells,%20our%20car%20also%20needs%20to%20know%20which%20cells%20are%20reachable%20from%20its%20current%20cell:%0A%0A%5Bimg::https://app.bsd.education/resources/ai_car_reachableRoads.png%5D%0A%0A(*)*Note*:%20this%20is%20achieved%20in%20the%20real%20world%20by%20having%20different%20sensors%20on%20the%20car%20such%20as%20high%20speed%20cameras,%20they%20constantly%20scan%20the%20environment%20to%20determine%20whether%20a%20particular%20location%20near%20the%20car%20is%20reachable.%0A%0A(***)%0A%0A(!)Follow%20the%20instructions%20in%20the%20chat-bot%20and%20reach%20the%20finish%20line.##INST_6E####CODE_6####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%20%20%20%20%3C!--%20%3Clink%20href=%22/resources/css/font-awesome.min.css%22%20rel=%22stylesheet%22%3E%20--%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAuto%20Navigation%3C/p%3E%0D%0A%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cdiv%20id='chatbot'%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='messages'%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='inputContainer'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id='userInput'%20placeholder='Type%20message%20here'%20autocomplete='off'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id='btnSend'%3E%3Ci%20class='fa%20fa-paper-plane%20fa-fw'%3E%3C/i%3E%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton,%0D%0Ainput,%0D%0Atextarea%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%20%20%20%20pointer-events:%20none;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2050px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20chat-bot%20styles%0D%0A*/%0D%0A#chatbot%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20padding:%200%2020px%2020px;%0D%0A%20%20%20%20max-width:%20600px;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%7D%0D%0A%0D%0A#inputContainer%20%7B%0D%0A%20%20%20%20display:%20flex;%0D%0A%7D%0D%0A%0D%0A#messages,%0D%0A#userInput%20%7B%0D%0A%20%20%20%20font-family:%20'VT323';%0D%0A%7D%0D%0A%0D%0A#messages%20%7B%0D%0A%20%20%20%20height:%20120px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20margin:%20auto%20auto%2010px;%0D%0A%20%20%20%20padding-bottom:%208px;%0D%0A%20%20%20%20font-size:%2018px;%0D%0A%20%20%20%20overflow-y:%20auto;%0D%0A%20%20%20%20background-color:%20#222;%0D%0A%20%20%20%20color:%20gainsboro;%0D%0A%7D%0D%0A%0D%0A.userMessage,%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20padding:%208px%2015px%200;%0D%0A%20%20%20%20border-radius:%2015px;%0D%0A%7D%0D%0A%0D%0A.userMessage%20%7B%0D%0A%20%20%20%20text-align:%20right;%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%7D%0D%0A%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20text-align:%20left;%0D%0A%20%20%20%20color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A#userInput%20%7B%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border-radius:%2023px;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20color:%20#333;%0D%0A%20%20%20%20flex:%20auto;%0D%0A%7D%0D%0A%0D%0A#userInput:hover,%0D%0A#userInput:focus,%0D%0A#btnSend:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2010px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnSend%20%7B%0D%0A%20%20%20%20margin-left:%2010px;%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20flex:%20none;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-thumb%20%7B%0D%0A%20%20%20%20border-style:%20solid;%0D%0A%20%20%20%20border-color:%20transparent;%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20silver;%0D%0A%20%20%20%20background-clip:%20content-box;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-track%20%7B%0D%0A%20%20%20%20margin:%2010px;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20title%20=%20document.querySelector('#title');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0A%0D%0Avar%20chatbot%20=%20document.querySelector('#chatbot');%0D%0Avar%20messages%20=%20document.querySelector('#messages');%0D%0Avar%20userInput%20=%20document.querySelector('#userInput');%0D%0Avar%20btnSend%20=%20document.querySelector('#btnSend');%0D%0A%0D%0Avar%20nColumn%20=%205;%0D%0Avar%20nRow%20=%203;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20roadCells%20=%20%5B%5D;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0Awindow.onkeypress%20=%20handleKeyPress;%0D%0A%0D%0AbtnSend.onclick%20=%20readUserInput;%0D%0A%0D%0AbtnSend.enable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20false;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'inherit';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'inherit';%0D%0A%7D;%0D%0A%0D%0AbtnSend.disable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20true;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'grayscale(0.6)';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'0.6';%0D%0A%7D;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20checkPrevMove%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20checkPrevMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%20%20%20%20%0D%0A%20%20%20%20decideNextMove();%0D%0A%20%20%20%20displayBotMessage('Click%20on%20the%20road%20cells%20that%20are%20reachable%20by%20the%20car.');%0D%0A%7D%0D%0A%0D%0Avar%20learnerChoices%20=%20%5B%5D;%0D%0A%0D%0Afunction%20checkObjective()%20%7B%0D%0A%20%20%20%20if%20(!learnerChoices.includes(event.target)%20&&%20car.currentCell.reachableRoads.includes(event.target))%20%7B%0D%0A%20%20%20%20%20%20%20%20learnerChoices.push(event.target);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(learnerChoices.length%20==%20car.currentCell.reachableRoads.length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20learnerChoices%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20readUserInput()%20%7B%0D%0A%20%20%20%20var%20command%20=%20userInput.value.trim().replace(/%5Cs+/g,%20'%20').toLowerCase();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(command.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20displayUserMessage(command);%0D%0A%0D%0A%20%20%20%20%20%20%20%20btnSend.disable();%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(command%20==%20'help')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Sure,%20here%20is%20a%20list%20of%20commands%20I%20can%20understand:');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20up:%20move%20the%20car%20up%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20down:%20move%20the%20car%20down%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20left:%20move%20the%20car%20to%20the%20left%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20right:%20move%20the%20car%20to%20the%20right%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20up')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goUp();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20down')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goDown();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20left')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goLeft();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20right')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goRight();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'auto%20drive')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Sorry,%20I%20didn't%20understand%20your%20command:%20$%7Bcommand%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20userInput.focus();%0D%0A%7D%0D%0A%0D%0Afunction%20goUp()%20%7B%0D%0A%20%20%20%20checkAndMove('up');%0D%0A%7D%0D%0A%0D%0Afunction%20goDown()%20%7B%0D%0A%20%20%20%20checkAndMove('down');%0D%0A%7D%0D%0A%0D%0Afunction%20goRight()%20%7B%0D%0A%20%20%20%20checkAndMove('right');%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft()%20%7B%0D%0A%20%20%20%20checkAndMove('left');%0D%0A%7D%0D%0A%0D%0Afunction%20checkAndMove(dir)%20%7B%0D%0A%20%20%20%20if%20(car.currentCell%5Bdir%5D%20==%20'unknown')%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20cannot%20leave%20the%20map.');%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(car.currentCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20decideNextMove()%20%7B%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(currentCell.right%20!=%20prevCell%20&&%20currentCell.reachableRoads.includes(currentCell.right))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.right);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.up%20!=%20prevCell%20&&%20currentCell.reachableRoads.includes(currentCell.up))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.up);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.down%20!=%20prevCell%20&&%20currentCell.reachableRoads.includes(currentCell.down))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.down);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.left%20!=%20prevCell%20&&%20currentCell.reachableRoads.includes(currentCell.left))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.left);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkPrevMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%20%20%20%20%0D%0A%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%0D%0A%20%20%20%20//%20%20make%20sure%20the%20path%20to%20the%20current%20cell%20is%20valid%0D%0A%20%20%20%20if%20(prevCell.reachableRoads.includes(currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20have%20reached%20the%20finish%20line!');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.className%20!=%20'road'%20%7C%7C%20(prevCell.className%20==%20currentCell.className))%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('You%20drove%20the%20car%20off%20road.');%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20is%20back%20on%20the%20road.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20car.currentRow%20=%20randomItemFrom(gridCells);%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20randomItemFrom(filteredPaths);%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20roadCells.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20'unknown';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.onclick%20=%20checkObjective;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.border%20=%20'1px%20dotted%20rgba(0,%200,%200,%200.3)';%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20displayUserMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'userMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20displayBotMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'botMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20attachMessage(message,%20type)%20%7B%0D%0A%20%20%20%20var%20text%20=%20document.createElement('p');%0D%0A%20%20%20%20%0D%0A%20%20%20%20text.className%20=%20type;%0D%0A%20%20%20%20text.textContent%20=%20message;%0D%0A%20%20%20%20messages.appendChild(text);%0D%0A%0D%0A%20%20%20%20userInput.value%20=%20'';%0D%0A%20%20%20%20messages.scrollTo(0,%20messages.scrollHeight);%0D%0A%7D%0D%0A%0D%0Afunction%20handleKeyPress()%20%7B%0D%0A%20%20%20%20if%20(event.keyCode%20==%2013)%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.click();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%20%20%20%20title.style.fontSize%20=%20%60$%7Bgrid.offsetHeight%20*%200.2%7Dpx%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20chatbot.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20chatbot.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20chatbot.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201)%20%7D;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_6E####LOGIC_6####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.on('checkPrevMove').var(%60car.currentCell.id%20==%20'finish'%60);##JS_E####LOGIC_6E####STEP_6E####STEP_7####INST_7##Deciding%20to%20go%20right%0A%0AWe%20know%20the%20car%20always%20starts%20on%20the%20left%20and%20the%20finish%20line%20is%20always%20on%20the%20right%20side%20of%20the%20map,%20based%20on%20this%20observation,%20we%20can%20safely%20assume%20the%20following:%0A(*)The%20car%20should%20go%20right%20whenever%20it%20can.%0A%0ABut%20the%20cell%20to%20the%20right%20of%20the%20car%20isn't%20always%20reachable,%20for%20example%20in%20the%20following%20screenshot,%20we%20can't%20move%20the%20car%20to%20the%20right%20because%20there%20is%20no%20road%20leading%20to%20it:%0A%0A%5Bimg::https://app.bsd.education/resources/ai_car_goRight_false.png%5D%0A%0ATo%20check%20whether%20a%20*targetCell*%20is%20reachable%20from%20the%20current%20cell%20of%20the%20car,%20you%20can%20use%20the%20following%20syntax:%0A%0A(js)currentCell.reachableRoads.includes(targetCell)(#)%0A%0AThe%20code%20above%20will%20return%20a%20Boolean%20value%20of%20either%20true%20of%20false,%20and%20therefore%20can%20be%20used%20in%20conditional%20statements.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#if%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20decide#+4,%20create%20an%20%60if%60%20statement%20to%20check%20whether%20%60currentCell.right%60%20is%20reachable%20from%20the%20current%20cell%20of%20the%20car.##INST_7E####CODE_7####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%20%20%20%20%3C!--%20%3Clink%20href=%22/resources/css/font-awesome.min.css%22%20rel=%22stylesheet%22%3E%20--%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAuto%20Navigation%3C/p%3E%0D%0A%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cdiv%20id='chatbot'%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='messages'%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='inputContainer'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id='userInput'%20placeholder='Type%20message%20here'%20autocomplete='off'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id='btnSend'%3E%3Ci%20class='fa%20fa-paper-plane%20fa-fw'%3E%3C/i%3E%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton,%0D%0Ainput,%0D%0Atextarea%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2050px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20chat-bot%20styles%0D%0A*/%0D%0A#chatbot%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20padding:%200%2020px%2020px;%0D%0A%20%20%20%20max-width:%20600px;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%7D%0D%0A%0D%0A#inputContainer%20%7B%0D%0A%20%20%20%20display:%20flex;%0D%0A%7D%0D%0A%0D%0A#messages,%0D%0A#userInput%20%7B%0D%0A%20%20%20%20font-family:%20'VT323';%0D%0A%7D%0D%0A%0D%0A#messages%20%7B%0D%0A%20%20%20%20height:%20120px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20margin:%20auto%20auto%2010px;%0D%0A%20%20%20%20padding-bottom:%208px;%0D%0A%20%20%20%20font-size:%2018px;%0D%0A%20%20%20%20overflow-y:%20auto;%0D%0A%20%20%20%20background-color:%20#222;%0D%0A%20%20%20%20color:%20gainsboro;%0D%0A%7D%0D%0A%0D%0A.userMessage,%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20padding:%208px%2015px%200;%0D%0A%20%20%20%20border-radius:%2015px;%0D%0A%7D%0D%0A%0D%0A.userMessage%20%7B%0D%0A%20%20%20%20text-align:%20right;%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%7D%0D%0A%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20text-align:%20left;%0D%0A%20%20%20%20color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A#userInput%20%7B%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border-radius:%2023px;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20color:%20#333;%0D%0A%20%20%20%20flex:%20auto;%0D%0A%7D%0D%0A%0D%0A#userInput:hover,%0D%0A#userInput:focus,%0D%0A#btnSend:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2010px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnSend%20%7B%0D%0A%20%20%20%20margin-left:%2010px;%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20flex:%20none;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-thumb%20%7B%0D%0A%20%20%20%20border-style:%20solid;%0D%0A%20%20%20%20border-color:%20transparent;%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20silver;%0D%0A%20%20%20%20background-clip:%20content-box;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-track%20%7B%0D%0A%20%20%20%20margin:%2010px;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20title%20=%20document.querySelector('#title');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0A%0D%0Avar%20chatbot%20=%20document.querySelector('#chatbot');%0D%0Avar%20messages%20=%20document.querySelector('#messages');%0D%0Avar%20userInput%20=%20document.querySelector('#userInput');%0D%0Avar%20btnSend%20=%20document.querySelector('#btnSend');%0D%0A%0D%0Avar%20nColumn%20=%208;%0D%0Avar%20nRow%20=%206;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20roadCells%20=%20%5B%5D;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0Awindow.onkeypress%20=%20handleKeyPress;%0D%0A%0D%0AbtnSend.onclick%20=%20readUserInput;%0D%0A%0D%0AbtnSend.enable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20false;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'inherit';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'inherit';%0D%0A%7D;%0D%0A%0D%0AbtnSend.disable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20true;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'grayscale(0.6)';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'0.6';%0D%0A%7D;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20checkPrevMove%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20checkPrevMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0Afunction%20readUserInput()%20%7B%0D%0A%20%20%20%20var%20command%20=%20userInput.value.trim().replace(/%5Cs+/g,%20'%20').toLowerCase();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(command.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20displayUserMessage(command);%0D%0A%0D%0A%20%20%20%20%20%20%20%20btnSend.disable();%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(command%20==%20'help')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Sure,%20here%20is%20a%20list%20of%20commands%20I%20can%20understand:');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20up:%20move%20the%20car%20up%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20down:%20move%20the%20car%20down%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20left:%20move%20the%20car%20to%20the%20left%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20right:%20move%20the%20car%20to%20the%20right%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20up')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goUp();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20down')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goDown();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20left')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goLeft();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20right')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goRight();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'auto%20drive')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Sorry,%20I%20didn't%20understand%20your%20command:%20$%7Bcommand%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20userInput.focus();%0D%0A%7D%0D%0A%0D%0Afunction%20goUp()%20%7B%0D%0A%20%20%20%20checkAndMove('up');%0D%0A%7D%0D%0A%0D%0Afunction%20goDown()%20%7B%0D%0A%20%20%20%20checkAndMove('down');%0D%0A%7D%0D%0A%0D%0Afunction%20goRight()%20%7B%0D%0A%20%20%20%20checkAndMove('right');%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft()%20%7B%0D%0A%20%20%20%20checkAndMove('left');%0D%0A%7D%0D%0A%0D%0Afunction%20checkAndMove(dir)%20%7B%0D%0A%20%20%20%20if%20(car.currentCell%5Bdir%5D%20==%20'unknown')%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20cannot%20leave%20the%20map.');%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(car.currentCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20decideNextMove()%20%7B%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%20%20%20%20%0D%0A%20%20%20%20#BEGIN_EDITABLE#if%20(currentCell.reachableRoads.includes(currentCell.right))%20%7B%7D#END_EDITABLE#%0D%0A%7D%0D%0A%0D%0Afunction%20checkPrevMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%20%20%20%20%0D%0A%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%0D%0A%20%20%20%20//%20%20make%20sure%20the%20path%20to%20the%20current%20cell%20is%20valid%0D%0A%20%20%20%20if%20(prevCell.reachableRoads.includes(currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20have%20reached%20the%20finish%20line!');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Arrived%20at%20$%7BcurrentCell.location%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.className%20!=%20'road'%20%7C%7C%20(prevCell.className%20==%20currentCell.className))%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('You%20drove%20the%20car%20off%20road.');%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20is%20back%20on%20the%20road.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20car.currentRow%20=%20randomItemFrom(gridCells);%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20randomItemFrom(filteredPaths);%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20roadCells.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20'unknown';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20displayUserMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'userMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20displayBotMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'botMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20attachMessage(message,%20type)%20%7B%0D%0A%20%20%20%20var%20text%20=%20document.createElement('p');%0D%0A%20%20%20%20%0D%0A%20%20%20%20text.className%20=%20type;%0D%0A%20%20%20%20text.textContent%20=%20message;%0D%0A%20%20%20%20messages.appendChild(text);%0D%0A%0D%0A%20%20%20%20userInput.value%20=%20'';%0D%0A%20%20%20%20messages.scrollTo(0,%20messages.scrollHeight);%0D%0A%7D%0D%0A%0D%0Afunction%20handleKeyPress()%20%7B%0D%0A%20%20%20%20if%20(event.keyCode%20==%2013)%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.click();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%20%20%20%20title.style.fontSize%20=%20%60$%7Bgrid.offsetHeight%20*%200.2%7Dpx%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20chatbot.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20chatbot.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20chatbot.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201)%20%7D;%0D%0A%7D%0D%0A##JS_E####CODE_7E####LOGIC_7####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60if%20(currentCell.reachableRoads.includes(currentCell.right))%20%7B%7D%60);##JS_E####LOGIC_7E####STEP_7E####STEP_8####INST_8##Moving%20the%20car%20to%20a%20cell%0A%0AThe%20body%20of%20the%20%60if%60%20statement%20is%20currently%20empty,%20and%20nothing%20happens%20even%20if%20%60currentCell.reachableRoads.includes(currentCell.right)%60%20returns%20true.%0A(*)*Tip*:%20the%20body%20of%20a%20conditional%20statement%20can%20be%20found%20in-between%20the%20curly%20brackets.%0A%0AWe%20can%20use%20the%20following%20syntax%20to%20move%20the%20car%20to%20a%20*targetCell*:%0A%0A(js)moveCarTo(targetCell)(#)%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#function%5D%0A%09(*)%5B#js#function%20arguments%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20decide#+5,%20move%20the%20car%20*to%20the%20right*%20of%20its%20current%20cell.##INST_8E####CODE_8####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%20%20%20%20%3C!--%20%3Clink%20href=%22/resources/css/font-awesome.min.css%22%20rel=%22stylesheet%22%3E%20--%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAuto%20Navigation%3C/p%3E%0D%0A%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cdiv%20id='chatbot'%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='messages'%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='inputContainer'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id='userInput'%20placeholder='Type%20message%20here'%20autocomplete='off'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id='btnSend'%3E%3Ci%20class='fa%20fa-paper-plane%20fa-fw'%3E%3C/i%3E%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton,%0D%0Ainput,%0D%0Atextarea%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2050px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20chat-bot%20styles%0D%0A*/%0D%0A#chatbot%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20padding:%200%2020px%2020px;%0D%0A%20%20%20%20max-width:%20600px;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%7D%0D%0A%0D%0A#inputContainer%20%7B%0D%0A%20%20%20%20display:%20flex;%0D%0A%7D%0D%0A%0D%0A#messages,%0D%0A#userInput%20%7B%0D%0A%20%20%20%20font-family:%20'VT323';%0D%0A%7D%0D%0A%0D%0A#messages%20%7B%0D%0A%20%20%20%20height:%20120px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20margin:%20auto%20auto%2010px;%0D%0A%20%20%20%20padding-bottom:%208px;%0D%0A%20%20%20%20font-size:%2018px;%0D%0A%20%20%20%20overflow-y:%20auto;%0D%0A%20%20%20%20background-color:%20#222;%0D%0A%20%20%20%20color:%20gainsboro;%0D%0A%7D%0D%0A%0D%0A.userMessage,%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20padding:%208px%2015px%200;%0D%0A%20%20%20%20border-radius:%2015px;%0D%0A%7D%0D%0A%0D%0A.userMessage%20%7B%0D%0A%20%20%20%20text-align:%20right;%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%7D%0D%0A%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20text-align:%20left;%0D%0A%20%20%20%20color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A#userInput%20%7B%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border-radius:%2023px;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20color:%20#333;%0D%0A%20%20%20%20flex:%20auto;%0D%0A%7D%0D%0A%0D%0A#userInput:hover,%0D%0A#userInput:focus,%0D%0A#btnSend:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2010px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnSend%20%7B%0D%0A%20%20%20%20margin-left:%2010px;%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20flex:%20none;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-thumb%20%7B%0D%0A%20%20%20%20border-style:%20solid;%0D%0A%20%20%20%20border-color:%20transparent;%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20silver;%0D%0A%20%20%20%20background-clip:%20content-box;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-track%20%7B%0D%0A%20%20%20%20margin:%2010px;%0D%0A%7D%0D%0A##CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20title%20=%20document.querySelector('#title');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0A%0D%0Avar%20chatbot%20=%20document.querySelector('#chatbot');%0D%0Avar%20messages%20=%20document.querySelector('#messages');%0D%0Avar%20userInput%20=%20document.querySelector('#userInput');%0D%0Avar%20btnSend%20=%20document.querySelector('#btnSend');%0D%0A%0D%0Avar%20nColumn%20=%208;%0D%0Avar%20nRow%20=%206;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20roadCells%20=%20%5B%5D;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0Awindow.onkeypress%20=%20handleKeyPress;%0D%0A%0D%0AbtnSend.onclick%20=%20readUserInput;%0D%0A%0D%0AbtnSend.enable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20false;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'inherit';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'inherit';%0D%0A%7D;%0D%0A%0D%0AbtnSend.disable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20true;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'grayscale(0.6)';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'0.6';%0D%0A%7D;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20checkPrevMove%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20checkPrevMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0Afunction%20readUserInput()%20%7B%0D%0A%20%20%20%20var%20command%20=%20userInput.value.trim().replace(/%5Cs+/g,%20'%20').toLowerCase();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(command.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20displayUserMessage(command);%0D%0A%0D%0A%20%20%20%20%20%20%20%20btnSend.disable();%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(command%20==%20'help')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Sure,%20here%20is%20a%20list%20of%20commands%20I%20can%20understand:');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20up:%20move%20the%20car%20up%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20down:%20move%20the%20car%20down%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20left:%20move%20the%20car%20to%20the%20left%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20right:%20move%20the%20car%20to%20the%20right%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20up')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goUp();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20down')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goDown();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20left')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goLeft();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20right')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goRight();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'auto%20drive')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Sorry,%20I%20didn't%20understand%20your%20command:%20$%7Bcommand%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20userInput.focus();%0D%0A%7D%0D%0A%0D%0Afunction%20goUp()%20%7B%0D%0A%20%20%20%20checkAndMove('up');%0D%0A%7D%0D%0A%0D%0Afunction%20goDown()%20%7B%0D%0A%20%20%20%20checkAndMove('down');%0D%0A%7D%0D%0A%0D%0Afunction%20goRight()%20%7B%0D%0A%20%20%20%20checkAndMove('right');%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft()%20%7B%0D%0A%20%20%20%20checkAndMove('left');%0D%0A%7D%0D%0A%0D%0Afunction%20checkAndMove(dir)%20%7B%0D%0A%20%20%20%20if%20(car.currentCell%5Bdir%5D%20==%20'unknown')%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20cannot%20leave%20the%20map.');%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(car.currentCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20decideNextMove()%20%7B%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(currentCell.reachableRoads.includes(currentCell.right))%20%7B%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#moveCarTo(currentCell.right);#END_EDITABLE#%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkPrevMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%20%20%20%20%0D%0A%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%0D%0A%20%20%20%20//%20%20make%20sure%20the%20path%20to%20the%20current%20cell%20is%20valid%0D%0A%20%20%20%20if%20(prevCell.reachableRoads.includes(currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20have%20reached%20the%20finish%20line!');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Arrived%20at%20$%7BcurrentCell.location%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.className%20!=%20'road'%20%7C%7C%20(prevCell.className%20==%20currentCell.className))%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('You%20drove%20the%20car%20off%20road.');%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20is%20back%20on%20the%20road.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20car.currentRow%20=%20randomItemFrom(gridCells);%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20randomItemFrom(filteredPaths);%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20roadCells.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20'unknown';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20displayUserMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'userMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20displayBotMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'botMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20attachMessage(message,%20type)%20%7B%0D%0A%20%20%20%20var%20text%20=%20document.createElement('p');%0D%0A%20%20%20%20%0D%0A%20%20%20%20text.className%20=%20type;%0D%0A%20%20%20%20text.textContent%20=%20message;%0D%0A%20%20%20%20messages.appendChild(text);%0D%0A%0D%0A%20%20%20%20userInput.value%20=%20'';%0D%0A%20%20%20%20messages.scrollTo(0,%20messages.scrollHeight);%0D%0A%7D%0D%0A%0D%0Afunction%20handleKeyPress()%20%7B%0D%0A%20%20%20%20if%20(event.keyCode%20==%2013)%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.click();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%20%20%20%20title.style.fontSize%20=%20%60$%7Bgrid.offsetHeight%20*%200.2%7Dpx%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20chatbot.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20chatbot.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20chatbot.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201)%20%7D;%0D%0A%7D%0D%0A##JS_E####CODE_8E####LOGIC_8####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60moveCarTo(currentCell.right);%60);##JS_E####LOGIC_8E####STEP_8E####STEP_9####INST_9##Deciding%20to%20go%20up,%20down%20and%20left%0A%0ANow%20our%20car%20is%20able%20to%20move%20closer%20to%20the%20finish%20line%20if%20the%20road%20cell%20to%20its%20right%20is%20reachable.%0A%0ABut%20the%20next%20reachable%20road%20cell%20may%20not%20always%20be%20on%20the%20right%20side%20of%20the%20car,%20it%20may%20be%20above%20the%20car%20as%20shown%20in%20the%20example%20below:%0A%0A%5Bimg::https://app.bsd.education/resources/ai_car_goUp_true.png%5D%0A%0AIn%20order%20for%20our%20car%20to%20determine%20whether%20it%20can%20move%20in%20all%204%20directions,%20we%20need%20to%20add%203%20more%20conditional%20statements.%0A%0ARemember%20to%20use%20the%20following%20syntax%20to%20check%20whether%20a%20*targetCell*%20is%20reachable%20from%20the%20current%20cell%20of%20the%20car:%0A%0A(js)currentCell.reachableRoads.includes(targetCell)(#)%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#else%20if%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20decide#+7,%20create%20an%20%60else%20if%60%20statement%20to%20check%20whether%20the%20cell%20above%20the%20current%20cell%20is%20reachable%20by%20the%20car.%0A(*)The%20cell%20above%20the%20current%20cell%20is%20stored%20in%20%60currentCell.up%60.%0A%0A(!)On%20+js#on%20decide#+8,%20create%20an%20%60else%20if%60%20statement%20to%20check%20whether%20the%20cell%20below%20the%20current%20cell%20is%20reachable%20by%20the%20car.%0A(*)The%20cell%20below%20the%20current%20cell%20is%20stored%20in%20%60currentCell.down%60.%0A%0A(!)On%20+js#on%20decide#+9,%20create%20an%20%60else%20if%60%20statement%20to%20check%20whether%20the%20cell%20to%20the%20left%20of%20the%20current%20cell%20is%20reachable%20by%20the%20car.%0A(*)The%20cell%20to%20the%20left%20of%20the%20current%20cell%20is%20stored%20in%20%60currentCell.left%60.##INST_9E####CODE_9####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%20%20%20%20%3C!--%20%3Clink%20href=%22/resources/css/font-awesome.min.css%22%20rel=%22stylesheet%22%3E%20--%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAuto%20Navigation%3C/p%3E%0D%0A%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cdiv%20id='chatbot'%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='messages'%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='inputContainer'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id='userInput'%20placeholder='Type%20message%20here'%20autocomplete='off'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id='btnSend'%3E%3Ci%20class='fa%20fa-paper-plane%20fa-fw'%3E%3C/i%3E%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton,%0D%0Ainput,%0D%0Atextarea%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2050px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20chat-bot%20styles%0D%0A*/%0D%0A#chatbot%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20padding:%200%2020px%2020px;%0D%0A%20%20%20%20max-width:%20600px;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%7D%0D%0A%0D%0A#inputContainer%20%7B%0D%0A%20%20%20%20display:%20flex;%0D%0A%7D%0D%0A%0D%0A#messages,%0D%0A#userInput%20%7B%0D%0A%20%20%20%20font-family:%20'VT323';%0D%0A%7D%0D%0A%0D%0A#messages%20%7B%0D%0A%20%20%20%20height:%20120px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20margin:%20auto%20auto%2010px;%0D%0A%20%20%20%20padding-bottom:%208px;%0D%0A%20%20%20%20font-size:%2018px;%0D%0A%20%20%20%20overflow-y:%20auto;%0D%0A%20%20%20%20background-color:%20#222;%0D%0A%20%20%20%20color:%20gainsboro;%0D%0A%7D%0D%0A%0D%0A.userMessage,%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20padding:%208px%2015px%200;%0D%0A%20%20%20%20border-radius:%2015px;%0D%0A%7D%0D%0A%0D%0A.userMessage%20%7B%0D%0A%20%20%20%20text-align:%20right;%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%7D%0D%0A%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20text-align:%20left;%0D%0A%20%20%20%20color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A#userInput%20%7B%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border-radius:%2023px;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20color:%20#333;%0D%0A%20%20%20%20flex:%20auto;%0D%0A%7D%0D%0A%0D%0A#userInput:hover,%0D%0A#userInput:focus,%0D%0A#btnSend:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2010px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnSend%20%7B%0D%0A%20%20%20%20margin-left:%2010px;%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20flex:%20none;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-thumb%20%7B%0D%0A%20%20%20%20border-style:%20solid;%0D%0A%20%20%20%20border-color:%20transparent;%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20silver;%0D%0A%20%20%20%20background-clip:%20content-box;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-track%20%7B%0D%0A%20%20%20%20margin:%2010px;%0D%0A%7D%0D%0A##CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20title%20=%20document.querySelector('#title');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0A%0D%0Avar%20chatbot%20=%20document.querySelector('#chatbot');%0D%0Avar%20messages%20=%20document.querySelector('#messages');%0D%0Avar%20userInput%20=%20document.querySelector('#userInput');%0D%0Avar%20btnSend%20=%20document.querySelector('#btnSend');%0D%0A%0D%0Avar%20nColumn%20=%208;%0D%0Avar%20nRow%20=%206;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20roadCells%20=%20%5B%5D;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0Awindow.onkeypress%20=%20handleKeyPress;%0D%0A%0D%0AbtnSend.onclick%20=%20readUserInput;%0D%0A%0D%0AbtnSend.enable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20false;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'inherit';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'inherit';%0D%0A%7D;%0D%0A%0D%0AbtnSend.disable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20true;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'grayscale(0.6)';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'0.6';%0D%0A%7D;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20checkPrevMove%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20checkPrevMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0Afunction%20readUserInput()%20%7B%0D%0A%20%20%20%20var%20command%20=%20userInput.value.trim().replace(/%5Cs+/g,%20'%20').toLowerCase();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(command.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20displayUserMessage(command);%0D%0A%0D%0A%20%20%20%20%20%20%20%20btnSend.disable();%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(command%20==%20'help')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Sure,%20here%20is%20a%20list%20of%20commands%20I%20can%20understand:');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20up:%20move%20the%20car%20up%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20down:%20move%20the%20car%20down%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20left:%20move%20the%20car%20to%20the%20left%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20right:%20move%20the%20car%20to%20the%20right%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20up')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goUp();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20down')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goDown();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20left')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goLeft();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20right')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goRight();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'auto%20drive')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Sorry,%20I%20didn't%20understand%20your%20command:%20$%7Bcommand%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20userInput.focus();%0D%0A%7D%0D%0A%0D%0Afunction%20goUp()%20%7B%0D%0A%20%20%20%20checkAndMove('up');%0D%0A%7D%0D%0A%0D%0Afunction%20goDown()%20%7B%0D%0A%20%20%20%20checkAndMove('down');%0D%0A%7D%0D%0A%0D%0Afunction%20goRight()%20%7B%0D%0A%20%20%20%20checkAndMove('right');%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft()%20%7B%0D%0A%20%20%20%20checkAndMove('left');%0D%0A%7D%0D%0A%0D%0Afunction%20checkAndMove(dir)%20%7B%0D%0A%20%20%20%20if%20(car.currentCell%5Bdir%5D%20==%20'unknown')%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20cannot%20leave%20the%20map.');%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(car.currentCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20decideNextMove()%20%7B%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(currentCell.reachableRoads.includes(currentCell.right))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.right);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20#BEGIN_EDITABLE#else%20if%20(currentCell.reachableRoads.includes(currentCell.up))%20%7B%7D#END_EDITABLE#%0D%0A%20%20%20%20#BEGIN_EDITABLE#else%20if%20(currentCell.reachableRoads.includes(currentCell.down))%20%7B%7D#END_EDITABLE#%0D%0A%20%20%20%20#BEGIN_EDITABLE#else%20if%20(currentCell.reachableRoads.includes(currentCell.left))%20%7B%7D#END_EDITABLE#%0D%0A%7D%0D%0A%0D%0Afunction%20checkPrevMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%20%20%20%20%0D%0A%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%0D%0A%20%20%20%20//%20%20make%20sure%20the%20path%20to%20the%20current%20cell%20is%20valid%0D%0A%20%20%20%20if%20(prevCell.reachableRoads.includes(currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20have%20reached%20the%20finish%20line!');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Arrived%20at%20$%7BcurrentCell.location%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.className%20!=%20'road'%20%7C%7C%20(prevCell.className%20==%20currentCell.className))%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('You%20drove%20the%20car%20off%20road.');%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20is%20back%20on%20the%20road.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20car.currentRow%20=%20randomItemFrom(gridCells);%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20randomItemFrom(filteredPaths);%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20roadCells.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20'unknown';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20displayUserMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'userMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20displayBotMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'botMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20attachMessage(message,%20type)%20%7B%0D%0A%20%20%20%20var%20text%20=%20document.createElement('p');%0D%0A%20%20%20%20%0D%0A%20%20%20%20text.className%20=%20type;%0D%0A%20%20%20%20text.textContent%20=%20message;%0D%0A%20%20%20%20messages.appendChild(text);%0D%0A%0D%0A%20%20%20%20userInput.value%20=%20'';%0D%0A%20%20%20%20messages.scrollTo(0,%20messages.scrollHeight);%0D%0A%7D%0D%0A%0D%0Afunction%20handleKeyPress()%20%7B%0D%0A%20%20%20%20if%20(event.keyCode%20==%2013)%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.click();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%20%20%20%20title.style.fontSize%20=%20%60$%7Bgrid.offsetHeight%20*%200.2%7Dpx%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20chatbot.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20chatbot.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20chatbot.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201)%20%7D;%0D%0A%7D%0D%0A##JS_E####CODE_9E####LOGIC_9####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60else%20if%20(currentCell.reachableRoads.includes(currentCell.up))%20%7B%7D%60);%0Apass.if.js.editable(1).equivalent(%60else%20if%20(currentCell.reachableRoads.includes(currentCell.down))%20%7B%7D%60);%0Apass.if.js.editable(2).equivalent(%60else%20if%20(currentCell.reachableRoads.includes(currentCell.left))%20%7B%7D%60);##JS_E####LOGIC_9E####STEP_9E####STEP_10####INST_10##Move%20the%20car%20up,%20down%20and%20to%20the%20left%0A%0AInside%20each%20of%20the%20conditional%20statements,%20we%20need%20to%20once%20again%20use%20the%20*moveCarTo*%20function%20to%20move%20the%20car%20to%20the%20correct%20cell.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#function%5D%0A%09(*)%5B#js#function%20arguments%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20decide#+8,%20move%20the%20car%20*above*%20its%20current%20cell.%0A%0A(!)On%20+js#on%20decide#+11,%20move%20the%20car%20*below*%20its%20current%20cell.%0A%0A(!)On%20+js#on%20decide#+14,%20move%20the%20car%20*to%20the%20left*%20of%20its%20current%20cell.##INST_10E####CODE_10####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%20%20%20%20%3C!--%20%3Clink%20href=%22/resources/css/font-awesome.min.css%22%20rel=%22stylesheet%22%3E%20--%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAuto%20Navigation%3C/p%3E%0D%0A%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cdiv%20id='chatbot'%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='messages'%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='inputContainer'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id='userInput'%20placeholder='Type%20message%20here'%20autocomplete='off'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id='btnSend'%3E%3Ci%20class='fa%20fa-paper-plane%20fa-fw'%3E%3C/i%3E%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton,%0D%0Ainput,%0D%0Atextarea%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2050px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20chat-bot%20styles%0D%0A*/%0D%0A#chatbot%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20padding:%200%2020px%2020px;%0D%0A%20%20%20%20max-width:%20600px;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%7D%0D%0A%0D%0A#inputContainer%20%7B%0D%0A%20%20%20%20display:%20flex;%0D%0A%7D%0D%0A%0D%0A#messages,%0D%0A#userInput%20%7B%0D%0A%20%20%20%20font-family:%20'VT323';%0D%0A%7D%0D%0A%0D%0A#messages%20%7B%0D%0A%20%20%20%20height:%20120px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20margin:%20auto%20auto%2010px;%0D%0A%20%20%20%20padding-bottom:%208px;%0D%0A%20%20%20%20font-size:%2018px;%0D%0A%20%20%20%20overflow-y:%20auto;%0D%0A%20%20%20%20background-color:%20#222;%0D%0A%20%20%20%20color:%20gainsboro;%0D%0A%7D%0D%0A%0D%0A.userMessage,%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20padding:%208px%2015px%200;%0D%0A%20%20%20%20border-radius:%2015px;%0D%0A%7D%0D%0A%0D%0A.userMessage%20%7B%0D%0A%20%20%20%20text-align:%20right;%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%7D%0D%0A%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20text-align:%20left;%0D%0A%20%20%20%20color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A#userInput%20%7B%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border-radius:%2023px;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20color:%20#333;%0D%0A%20%20%20%20flex:%20auto;%0D%0A%7D%0D%0A%0D%0A#userInput:hover,%0D%0A#userInput:focus,%0D%0A#btnSend:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2010px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnSend%20%7B%0D%0A%20%20%20%20margin-left:%2010px;%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20flex:%20none;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-thumb%20%7B%0D%0A%20%20%20%20border-style:%20solid;%0D%0A%20%20%20%20border-color:%20transparent;%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20silver;%0D%0A%20%20%20%20background-clip:%20content-box;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-track%20%7B%0D%0A%20%20%20%20margin:%2010px;%0D%0A%7D%0D%0A##CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20title%20=%20document.querySelector('#title');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0A%0D%0Avar%20chatbot%20=%20document.querySelector('#chatbot');%0D%0Avar%20messages%20=%20document.querySelector('#messages');%0D%0Avar%20userInput%20=%20document.querySelector('#userInput');%0D%0Avar%20btnSend%20=%20document.querySelector('#btnSend');%0D%0A%0D%0Avar%20nColumn%20=%208;%0D%0Avar%20nRow%20=%206;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20roadCells%20=%20%5B%5D;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0Awindow.onkeypress%20=%20handleKeyPress;%0D%0A%0D%0AbtnSend.onclick%20=%20readUserInput;%0D%0A%0D%0AbtnSend.enable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20false;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'inherit';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'inherit';%0D%0A%7D;%0D%0A%0D%0AbtnSend.disable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20true;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'grayscale(0.6)';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'0.6';%0D%0A%7D;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20checkPrevMove%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20checkPrevMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0Afunction%20readUserInput()%20%7B%0D%0A%20%20%20%20var%20command%20=%20userInput.value.trim().replace(/%5Cs+/g,%20'%20').toLowerCase();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(command.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20displayUserMessage(command);%0D%0A%0D%0A%20%20%20%20%20%20%20%20btnSend.disable();%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(command%20==%20'help')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Sure,%20here%20is%20a%20list%20of%20commands%20I%20can%20understand:');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20up:%20move%20the%20car%20up%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20down:%20move%20the%20car%20down%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20left:%20move%20the%20car%20to%20the%20left%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20right:%20move%20the%20car%20to%20the%20right%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20up')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goUp();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20down')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goDown();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20left')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goLeft();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20right')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goRight();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'auto%20drive')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Sorry,%20I%20didn't%20understand%20your%20command:%20$%7Bcommand%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20userInput.focus();%0D%0A%7D%0D%0A%0D%0Afunction%20goUp()%20%7B%0D%0A%20%20%20%20checkAndMove('up');%0D%0A%7D%0D%0A%0D%0Afunction%20goDown()%20%7B%0D%0A%20%20%20%20checkAndMove('down');%0D%0A%7D%0D%0A%0D%0Afunction%20goRight()%20%7B%0D%0A%20%20%20%20checkAndMove('right');%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft()%20%7B%0D%0A%20%20%20%20checkAndMove('left');%0D%0A%7D%0D%0A%0D%0Afunction%20checkAndMove(dir)%20%7B%0D%0A%20%20%20%20if%20(car.currentCell%5Bdir%5D%20==%20'unknown')%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20cannot%20leave%20the%20map.');%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(car.currentCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20decideNextMove()%20%7B%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(currentCell.reachableRoads.includes(currentCell.right))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.right);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.reachableRoads.includes(currentCell.up))%20%7B%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#moveCarTo(currentCell.up);#END_EDITABLE#%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.reachableRoads.includes(currentCell.down))%20%7B%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#moveCarTo(currentCell.down);#END_EDITABLE#%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.reachableRoads.includes(currentCell.left))%20%7B%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#moveCarTo(currentCell.left);#END_EDITABLE#%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkPrevMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%20%20%20%20%0D%0A%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%0D%0A%20%20%20%20//%20%20make%20sure%20the%20path%20to%20the%20current%20cell%20is%20valid%0D%0A%20%20%20%20if%20(prevCell.reachableRoads.includes(currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20have%20reached%20the%20finish%20line!');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Arrived%20at%20$%7BcurrentCell.location%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.className%20!=%20'road'%20%7C%7C%20(prevCell.className%20==%20currentCell.className))%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('You%20drove%20the%20car%20off%20road.');%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20is%20back%20on%20the%20road.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20car.currentRow%20=%20randomItemFrom(gridCells);%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20randomItemFrom(filteredPaths);%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20roadCells.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20'unknown';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20displayUserMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'userMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20displayBotMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'botMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20attachMessage(message,%20type)%20%7B%0D%0A%20%20%20%20var%20text%20=%20document.createElement('p');%0D%0A%20%20%20%20%0D%0A%20%20%20%20text.className%20=%20type;%0D%0A%20%20%20%20text.textContent%20=%20message;%0D%0A%20%20%20%20messages.appendChild(text);%0D%0A%0D%0A%20%20%20%20userInput.value%20=%20'';%0D%0A%20%20%20%20messages.scrollTo(0,%20messages.scrollHeight);%0D%0A%7D%0D%0A%0D%0Afunction%20handleKeyPress()%20%7B%0D%0A%20%20%20%20if%20(event.keyCode%20==%2013)%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.click();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%20%20%20%20title.style.fontSize%20=%20%60$%7Bgrid.offsetHeight%20*%200.2%7Dpx%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20chatbot.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20chatbot.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20chatbot.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201)%20%7D;%0D%0A%7D%0D%0A##JS_E####CODE_10E####LOGIC_10####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60moveCarTo(currentCell.up);%60);%0Apass.if.js.editable(1).equivalent(%60moveCarTo(currentCell.down);%60);%0Apass.if.js.editable(2).equivalent(%60moveCarTo(currentCell.left);%60);##JS_E####LOGIC_10E####STEP_10E####STEP_11####INST_11##Toggling%20auto%20mode%0A%0ASo%20far,%20when%20we%20type%20%22auto%20drive%22%20into%20the%20chat-bot,%20the%20car%20is%20able%20to%20figure%20out%20the%20correct%20cell%20to%20move%20to,%20however%20this%20only%20happens%20once%20as%20shown%20in%20the%20animation%20below:%0A%5Bimg::https://app.bsd.education/resources/ai_car_auto_drive_one_cell.gif%5D%0A%0AIdeally,%20we%20should%20only%20need%20to%20type%20it%20once,%20and%20our%20program%20would%20run%20the%20*decideNextMove*%20function%20repeatedly%20until%20the%20car%20reaches%20the%20finish%20line.%0A%0ATo%20achieve%20this,%20we%20need%20to%20first%20create%20a%20*Boolean*%20variable%20and%20use%20it%20as%20an%20on/off%20switch.%20This%20way%20the%20car%20can%20know%20whether%20it's%20supposed%20to%20keep%20moving%20after%20arriving%20at%20a%20cell,%20or%20simply%20stop%20there.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5BBoolean#js#Data%20type%20-%20Boolean%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20road#+2,%20create%20a%20variable%20called%20*autoMode*%20to%20store%20the%20Boolean%20value%20*false*.%0A%0A(!)On%20+js#auto%20drive#+1,%20change%20the%20value%20of%20*autoMode*%20to%20*true*.##INST_11E####CODE_11####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%20%20%20%20%3C!--%20%3Clink%20href=%22/resources/css/font-awesome.min.css%22%20rel=%22stylesheet%22%3E%20--%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAuto%20Navigation%3C/p%3E%0D%0A%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cdiv%20id='chatbot'%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='messages'%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='inputContainer'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id='userInput'%20placeholder='Type%20message%20here'%20autocomplete='off'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id='btnSend'%3E%3Ci%20class='fa%20fa-paper-plane%20fa-fw'%3E%3C/i%3E%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton,%0D%0Ainput,%0D%0Atextarea%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2050px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20chat-bot%20styles%0D%0A*/%0D%0A#chatbot%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20padding:%200%2020px%2020px;%0D%0A%20%20%20%20max-width:%20600px;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%7D%0D%0A%0D%0A#inputContainer%20%7B%0D%0A%20%20%20%20display:%20flex;%0D%0A%7D%0D%0A%0D%0A#messages,%0D%0A#userInput%20%7B%0D%0A%20%20%20%20font-family:%20'VT323';%0D%0A%7D%0D%0A%0D%0A#messages%20%7B%0D%0A%20%20%20%20height:%20120px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20margin:%20auto%20auto%2010px;%0D%0A%20%20%20%20padding-bottom:%208px;%0D%0A%20%20%20%20font-size:%2018px;%0D%0A%20%20%20%20overflow-y:%20auto;%0D%0A%20%20%20%20background-color:%20#222;%0D%0A%20%20%20%20color:%20gainsboro;%0D%0A%7D%0D%0A%0D%0A.userMessage,%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20padding:%208px%2015px%200;%0D%0A%20%20%20%20border-radius:%2015px;%0D%0A%7D%0D%0A%0D%0A.userMessage%20%7B%0D%0A%20%20%20%20text-align:%20right;%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%7D%0D%0A%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20text-align:%20left;%0D%0A%20%20%20%20color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A#userInput%20%7B%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border-radius:%2023px;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20color:%20#333;%0D%0A%20%20%20%20flex:%20auto;%0D%0A%7D%0D%0A%0D%0A#userInput:hover,%0D%0A#userInput:focus,%0D%0A#btnSend:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2010px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnSend%20%7B%0D%0A%20%20%20%20margin-left:%2010px;%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20flex:%20none;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-thumb%20%7B%0D%0A%20%20%20%20border-style:%20solid;%0D%0A%20%20%20%20border-color:%20transparent;%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20silver;%0D%0A%20%20%20%20background-clip:%20content-box;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-track%20%7B%0D%0A%20%20%20%20margin:%2010px;%0D%0A%7D%0D%0A##CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20title%20=%20document.querySelector('#title');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0A%0D%0Avar%20chatbot%20=%20document.querySelector('#chatbot');%0D%0Avar%20messages%20=%20document.querySelector('#messages');%0D%0Avar%20userInput%20=%20document.querySelector('#userInput');%0D%0Avar%20btnSend%20=%20document.querySelector('#btnSend');%0D%0A%0D%0Avar%20nColumn%20=%208;%0D%0Avar%20nRow%20=%206;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20roadCells%20=%20%5B%5D;%0D%0A%0D%0A#BEGIN_EDITABLE#var%20autoMode%20=%20false;#END_EDITABLE#%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0Awindow.onkeypress%20=%20handleKeyPress;%0D%0A%0D%0AbtnSend.onclick%20=%20readUserInput;%0D%0A%0D%0AbtnSend.enable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20false;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'inherit';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'inherit';%0D%0A%7D;%0D%0A%0D%0AbtnSend.disable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20true;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'grayscale(0.6)';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'0.6';%0D%0A%7D;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20checkPrevMove%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20checkPrevMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0Afunction%20readUserInput()%20%7B%0D%0A%20%20%20%20var%20command%20=%20userInput.value.trim().replace(/%5Cs+/g,%20'%20').toLowerCase();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(command.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20displayUserMessage(command);%0D%0A%0D%0A%20%20%20%20%20%20%20%20btnSend.disable();%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(command%20==%20'help')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Sure,%20here%20is%20a%20list%20of%20commands%20I%20can%20understand:');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20up:%20move%20the%20car%20up%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20down:%20move%20the%20car%20down%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20left:%20move%20the%20car%20to%20the%20left%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20right:%20move%20the%20car%20to%20the%20right%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20up')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goUp();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20down')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goDown();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20left')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goLeft();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20right')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goRight();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'auto%20drive')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#autoMode%20=%20true;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Sorry,%20I%20didn't%20understand%20your%20command:%20$%7Bcommand%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20userInput.focus();%0D%0A%7D%0D%0A%0D%0Afunction%20goUp()%20%7B%0D%0A%20%20%20%20checkAndMove('up');%0D%0A%7D%0D%0A%0D%0Afunction%20goDown()%20%7B%0D%0A%20%20%20%20checkAndMove('down');%0D%0A%7D%0D%0A%0D%0Afunction%20goRight()%20%7B%0D%0A%20%20%20%20checkAndMove('right');%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft()%20%7B%0D%0A%20%20%20%20checkAndMove('left');%0D%0A%7D%0D%0A%0D%0Afunction%20checkAndMove(dir)%20%7B%0D%0A%20%20%20%20if%20(car.currentCell%5Bdir%5D%20==%20'unknown')%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20cannot%20leave%20the%20map.');%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(car.currentCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20decideNextMove()%20%7B%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(currentCell.reachableRoads.includes(currentCell.right))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.right);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.reachableRoads.includes(currentCell.up))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.up);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.reachableRoads.includes(currentCell.down))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.down);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.reachableRoads.includes(currentCell.left))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.left);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkPrevMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%20%20%20%20%0D%0A%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%0D%0A%20%20%20%20//%20%20make%20sure%20the%20path%20to%20the%20current%20cell%20is%20valid%0D%0A%20%20%20%20if%20(prevCell.reachableRoads.includes(currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20have%20reached%20the%20finish%20line!');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Arrived%20at%20$%7BcurrentCell.location%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.className%20!=%20'road'%20%7C%7C%20(prevCell.className%20==%20currentCell.className))%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('You%20drove%20the%20car%20off%20road.');%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20is%20back%20on%20the%20road.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20car.currentRow%20=%20randomItemFrom(gridCells);%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20randomItemFrom(filteredPaths);%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20roadCells.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20'unknown';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20displayUserMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'userMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20displayBotMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'botMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20attachMessage(message,%20type)%20%7B%0D%0A%20%20%20%20var%20text%20=%20document.createElement('p');%0D%0A%20%20%20%20%0D%0A%20%20%20%20text.className%20=%20type;%0D%0A%20%20%20%20text.textContent%20=%20message;%0D%0A%20%20%20%20messages.appendChild(text);%0D%0A%0D%0A%20%20%20%20userInput.value%20=%20'';%0D%0A%20%20%20%20messages.scrollTo(0,%20messages.scrollHeight);%0D%0A%7D%0D%0A%0D%0Afunction%20handleKeyPress()%20%7B%0D%0A%20%20%20%20if%20(event.keyCode%20==%2013)%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.click();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%20%20%20%20title.style.fontSize%20=%20%60$%7Bgrid.offsetHeight%20*%200.2%7Dpx%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20chatbot.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20chatbot.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20chatbot.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201)%20%7D;%0D%0A%7D%0D%0A##JS_E####CODE_11E####LOGIC_11####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20autoMode%20=%20false;%60);%0Apass.if.js.editable(1).equivalent(%60autoMode%20=%20true;%60);##JS_E####LOGIC_11E####STEP_11E####STEP_12####INST_12##The%20checkPrevMove%20function%0A%0AAs%20you%20interact%20with%20the%20chat-bot,%20notice%20its%20responses,%20such%20as%20%22You%20drove%20the%20car%20off%20road%22,%20show%20up%20*after*%20the%20car%20has%20finished%20moving%20to%20a%20cell.%0A%5Bimg::https://app.bsd.education/resources/ai_car_checkPrevMove.gif%5D%0A%0AThis%20is%20convenient%20because%20we%20also%20want%20to%20call%20the%20*decideNextMove*%20function%20after%20the%20car%20moves%20to%20a%20cell%20if%20*autoMode*%20is%20enabled.%0A%0AThe%20chat-bot%20responses%20can%20be%20found%20in%20the%20*checkPrevMove*%20function%20(%20+js#on%20checkPrev#%20-%20js#on%20move#-2%20),%20so%20this%20is%20where%20we%20will%20add%20our%20conditional%20statements.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#if%5D%0A%09(*)%5B#js#else%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20checkPrev#+3,%20create%20an%20%60if%60%20statement%20to%20check%20whether%20*autoMode*%20is%20*true*.%0A%0A(!)On%20+js#on%20checkPrev#+4,%20create%20and%20%60else%60%20statement.##INST_12E####CODE_12####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%20%20%20%20%3C!--%20%3Clink%20href=%22/resources/css/font-awesome.min.css%22%20rel=%22stylesheet%22%3E%20--%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAuto%20Navigation%3C/p%3E%0D%0A%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cdiv%20id='chatbot'%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='messages'%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='inputContainer'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id='userInput'%20placeholder='Type%20message%20here'%20autocomplete='off'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id='btnSend'%3E%3Ci%20class='fa%20fa-paper-plane%20fa-fw'%3E%3C/i%3E%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton,%0D%0Ainput,%0D%0Atextarea%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2050px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20chat-bot%20styles%0D%0A*/%0D%0A#chatbot%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20padding:%200%2020px%2020px;%0D%0A%20%20%20%20max-width:%20600px;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%7D%0D%0A%0D%0A#inputContainer%20%7B%0D%0A%20%20%20%20display:%20flex;%0D%0A%7D%0D%0A%0D%0A#messages,%0D%0A#userInput%20%7B%0D%0A%20%20%20%20font-family:%20'VT323';%0D%0A%7D%0D%0A%0D%0A#messages%20%7B%0D%0A%20%20%20%20height:%20120px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20margin:%20auto%20auto%2010px;%0D%0A%20%20%20%20padding-bottom:%208px;%0D%0A%20%20%20%20font-size:%2018px;%0D%0A%20%20%20%20overflow-y:%20auto;%0D%0A%20%20%20%20background-color:%20#222;%0D%0A%20%20%20%20color:%20gainsboro;%0D%0A%7D%0D%0A%0D%0A.userMessage,%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20padding:%208px%2015px%200;%0D%0A%20%20%20%20border-radius:%2015px;%0D%0A%7D%0D%0A%0D%0A.userMessage%20%7B%0D%0A%20%20%20%20text-align:%20right;%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%7D%0D%0A%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20text-align:%20left;%0D%0A%20%20%20%20color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A#userInput%20%7B%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border-radius:%2023px;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20color:%20#333;%0D%0A%20%20%20%20flex:%20auto;%0D%0A%7D%0D%0A%0D%0A#userInput:hover,%0D%0A#userInput:focus,%0D%0A#btnSend:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2010px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnSend%20%7B%0D%0A%20%20%20%20margin-left:%2010px;%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20flex:%20none;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-thumb%20%7B%0D%0A%20%20%20%20border-style:%20solid;%0D%0A%20%20%20%20border-color:%20transparent;%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20silver;%0D%0A%20%20%20%20background-clip:%20content-box;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-track%20%7B%0D%0A%20%20%20%20margin:%2010px;%0D%0A%7D%0D%0A##CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20title%20=%20document.querySelector('#title');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0A%0D%0Avar%20chatbot%20=%20document.querySelector('#chatbot');%0D%0Avar%20messages%20=%20document.querySelector('#messages');%0D%0Avar%20userInput%20=%20document.querySelector('#userInput');%0D%0Avar%20btnSend%20=%20document.querySelector('#btnSend');%0D%0A%0D%0Avar%20nColumn%20=%208;%0D%0Avar%20nRow%20=%206;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20roadCells%20=%20%5B%5D;%0D%0A%0D%0Avar%20autoMode%20=%20false;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0Awindow.onkeypress%20=%20handleKeyPress;%0D%0A%0D%0AbtnSend.onclick%20=%20readUserInput;%0D%0A%0D%0AbtnSend.enable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20false;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'inherit';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'inherit';%0D%0A%7D;%0D%0A%0D%0AbtnSend.disable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20true;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'grayscale(0.6)';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'0.6';%0D%0A%7D;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20checkPrevMove%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20checkPrevMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0Afunction%20readUserInput()%20%7B%0D%0A%20%20%20%20var%20command%20=%20userInput.value.trim().replace(/%5Cs+/g,%20'%20').toLowerCase();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(command.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20displayUserMessage(command);%0D%0A%0D%0A%20%20%20%20%20%20%20%20btnSend.disable();%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(command%20==%20'help')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Sure,%20here%20is%20a%20list%20of%20commands%20I%20can%20understand:');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20up:%20move%20the%20car%20up%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20down:%20move%20the%20car%20down%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20left:%20move%20the%20car%20to%20the%20left%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20right:%20move%20the%20car%20to%20the%20right%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20up')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goUp();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20down')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goDown();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20left')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goLeft();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20right')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goRight();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'auto%20drive')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20autoMode%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Sorry,%20I%20didn't%20understand%20your%20command:%20$%7Bcommand%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20userInput.focus();%0D%0A%7D%0D%0A%0D%0Afunction%20goUp()%20%7B%0D%0A%20%20%20%20checkAndMove('up');%0D%0A%7D%0D%0A%0D%0Afunction%20goDown()%20%7B%0D%0A%20%20%20%20checkAndMove('down');%0D%0A%7D%0D%0A%0D%0Afunction%20goRight()%20%7B%0D%0A%20%20%20%20checkAndMove('right');%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft()%20%7B%0D%0A%20%20%20%20checkAndMove('left');%0D%0A%7D%0D%0A%0D%0Afunction%20checkAndMove(dir)%20%7B%0D%0A%20%20%20%20if%20(car.currentCell%5Bdir%5D%20==%20'unknown')%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20cannot%20leave%20the%20map.');%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(car.currentCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20decideNextMove()%20%7B%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(currentCell.reachableRoads.includes(currentCell.right))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.right);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.reachableRoads.includes(currentCell.up))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.up);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.reachableRoads.includes(currentCell.down))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.down);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.reachableRoads.includes(currentCell.left))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.left);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkPrevMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%20%20%20%20%0D%0A%20%20%20%20#BEGIN_EDITABLE#if%20(autoMode%20==%20true)%20%7B%7D#END_EDITABLE#%0D%0A%20%20%20%20#BEGIN_EDITABLE#else%20%7B%7D#END_EDITABLE#%0D%0A%20%20%20%20%0D%0A%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%0D%0A%20%20%20%20//%20%20make%20sure%20the%20path%20to%20the%20current%20cell%20is%20valid%0D%0A%20%20%20%20if%20(prevCell.reachableRoads.includes(currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20have%20reached%20the%20finish%20line!');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Arrived%20at%20$%7BcurrentCell.location%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.className%20!=%20'road'%20%7C%7C%20(prevCell.className%20==%20currentCell.className))%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('You%20drove%20the%20car%20off%20road.');%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20is%20back%20on%20the%20road.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20car.currentRow%20=%20randomItemFrom(gridCells);%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20randomItemFrom(filteredPaths);%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20roadCells.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20'unknown';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20displayUserMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'userMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20displayBotMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'botMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20attachMessage(message,%20type)%20%7B%0D%0A%20%20%20%20var%20text%20=%20document.createElement('p');%0D%0A%20%20%20%20%0D%0A%20%20%20%20text.className%20=%20type;%0D%0A%20%20%20%20text.textContent%20=%20message;%0D%0A%20%20%20%20messages.appendChild(text);%0D%0A%0D%0A%20%20%20%20userInput.value%20=%20'';%0D%0A%20%20%20%20messages.scrollTo(0,%20messages.scrollHeight);%0D%0A%7D%0D%0A%0D%0Afunction%20handleKeyPress()%20%7B%0D%0A%20%20%20%20if%20(event.keyCode%20==%2013)%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.click();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%20%20%20%20title.style.fontSize%20=%20%60$%7Bgrid.offsetHeight%20*%200.2%7Dpx%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20chatbot.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20chatbot.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20chatbot.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201)%20%7D;%0D%0A%7D%0D%0A##JS_E####CODE_12E####LOGIC_12####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60if%20(autoMode%20==%20true)%20%7B%7D%60);%0Apass.if.js.editable(1).equivalent(%60else%20%7B%7D%60);##JS_E####LOGIC_12E####STEP_12E####STEP_13####INST_13##Recursive(loop)%20logic%0A%0ASo%20far%20we%20know%20the%20following%20are%20true:%0A%5B-%0A%09(*)Giving%20the%20%22auto%20drive%22%20command%20sets%20*autoMode*%20to%20true.%0A%09(*)Calling%20the%20*decideNextMove*%20function%20moves%20the%20car%20to%20a%20new%20cell.%0A%09(*)The%20*checkPrevMove*%20function%20will%20run%20when%20the%20car%20arrives%20at%20a%20new%20cell.%0A-%5D%0A%0ACombining%20the%20above%20we%20can%20be%20certain%20that:%0A(*)If%20we%20call%20the%20*decideNextMove*%20function%20inside%20the%20*checkPrevMove*%20function%20while%20*autoMode*%20is%20true,%20the%20car%20will%20keep%20moving%20once%20we%20give%20the%20%22auto%20drive%22%20command.%0A%0AThat%20is%20exactly%20what%20we%20want%20to%20achieve,%20so%20let's%20call%20the%20*decideNextMove*%20function.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#function%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#autoMode%20==%20true#+1,%20call%20the%20*decideNextMove*%20function.##INST_13E####CODE_13####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%20%20%20%20%3C!--%20%3Clink%20href=%22/resources/css/font-awesome.min.css%22%20rel=%22stylesheet%22%3E%20--%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAuto%20Navigation%3C/p%3E%0D%0A%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cdiv%20id='chatbot'%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='messages'%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='inputContainer'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id='userInput'%20placeholder='Type%20message%20here'%20autocomplete='off'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id='btnSend'%3E%3Ci%20class='fa%20fa-paper-plane%20fa-fw'%3E%3C/i%3E%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.1/seedrandom.min.js%22%3E%3C/script%3E%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton,%0D%0Ainput,%0D%0Atextarea%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2050px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20chat-bot%20styles%0D%0A*/%0D%0A#chatbot%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20padding:%200%2020px%2020px;%0D%0A%20%20%20%20max-width:%20600px;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%7D%0D%0A%0D%0A#inputContainer%20%7B%0D%0A%20%20%20%20display:%20flex;%0D%0A%7D%0D%0A%0D%0A#messages,%0D%0A#userInput%20%7B%0D%0A%20%20%20%20font-family:%20'VT323';%0D%0A%7D%0D%0A%0D%0A#messages%20%7B%0D%0A%20%20%20%20height:%20120px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20margin:%20auto%20auto%2010px;%0D%0A%20%20%20%20padding-bottom:%208px;%0D%0A%20%20%20%20font-size:%2018px;%0D%0A%20%20%20%20overflow-y:%20auto;%0D%0A%20%20%20%20background-color:%20#222;%0D%0A%20%20%20%20color:%20gainsboro;%0D%0A%7D%0D%0A%0D%0A.userMessage,%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20padding:%208px%2015px%200;%0D%0A%20%20%20%20border-radius:%2015px;%0D%0A%7D%0D%0A%0D%0A.userMessage%20%7B%0D%0A%20%20%20%20text-align:%20right;%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%7D%0D%0A%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20text-align:%20left;%0D%0A%20%20%20%20color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A#userInput%20%7B%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border-radius:%2023px;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20color:%20#333;%0D%0A%20%20%20%20flex:%20auto;%0D%0A%7D%0D%0A%0D%0A#userInput:hover,%0D%0A#userInput:focus,%0D%0A#btnSend:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2010px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnSend%20%7B%0D%0A%20%20%20%20margin-left:%2010px;%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20flex:%20none;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-thumb%20%7B%0D%0A%20%20%20%20border-style:%20solid;%0D%0A%20%20%20%20border-color:%20transparent;%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20silver;%0D%0A%20%20%20%20background-clip:%20content-box;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-track%20%7B%0D%0A%20%20%20%20margin:%2010px;%0D%0A%7D%0D%0A##CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20title%20=%20document.querySelector('#title');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0A%0D%0Avar%20chatbot%20=%20document.querySelector('#chatbot');%0D%0Avar%20messages%20=%20document.querySelector('#messages');%0D%0Avar%20userInput%20=%20document.querySelector('#userInput');%0D%0Avar%20btnSend%20=%20document.querySelector('#btnSend');%0D%0A%0D%0Avar%20nColumn%20=%208;%0D%0Avar%20nRow%20=%206;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20roadCells%20=%20%5B%5D;%0D%0A%0D%0Avar%20autoMode%20=%20false;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0Awindow.onkeypress%20=%20handleKeyPress;%0D%0A%0D%0AbtnSend.onclick%20=%20readUserInput;%0D%0A%0D%0AbtnSend.enable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20false;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'inherit';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'inherit';%0D%0A%7D;%0D%0A%0D%0AbtnSend.disable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20true;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'grayscale(0.6)';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'0.6';%0D%0A%7D;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20checkPrevMove%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20checkPrevMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0Afunction%20readUserInput()%20%7B%0D%0A%20%20%20%20var%20command%20=%20userInput.value.trim().replace(/%5Cs+/g,%20'%20').toLowerCase();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(command.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20displayUserMessage(command);%0D%0A%0D%0A%20%20%20%20%20%20%20%20btnSend.disable();%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(command%20==%20'help')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Sure,%20here%20is%20a%20list%20of%20commands%20I%20can%20understand:');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20up:%20move%20the%20car%20up%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20down:%20move%20the%20car%20down%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20left:%20move%20the%20car%20to%20the%20left%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20right:%20move%20the%20car%20to%20the%20right%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20up')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goUp();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20down')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goDown();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20left')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goLeft();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20right')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goRight();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'auto%20drive')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20autoMode%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Sorry,%20I%20didn't%20understand%20your%20command:%20$%7Bcommand%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20userInput.focus();%0D%0A%7D%0D%0A%0D%0Afunction%20goUp()%20%7B%0D%0A%20%20%20%20checkAndMove('up');%0D%0A%7D%0D%0A%0D%0Afunction%20goDown()%20%7B%0D%0A%20%20%20%20checkAndMove('down');%0D%0A%7D%0D%0A%0D%0Afunction%20goRight()%20%7B%0D%0A%20%20%20%20checkAndMove('right');%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft()%20%7B%0D%0A%20%20%20%20checkAndMove('left');%0D%0A%7D%0D%0A%0D%0Afunction%20checkAndMove(dir)%20%7B%0D%0A%20%20%20%20if%20(car.currentCell%5Bdir%5D%20==%20'unknown')%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20cannot%20leave%20the%20map.');%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(car.currentCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20decideNextMove()%20%7B%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(currentCell.reachableRoads.includes(currentCell.right))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.right);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.reachableRoads.includes(currentCell.up))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.up);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.reachableRoads.includes(currentCell.down))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.down);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.reachableRoads.includes(currentCell.left))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.left);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkPrevMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(autoMode%20==%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#decideNextMove();#END_EDITABLE#%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20//%20%20make%20sure%20the%20path%20to%20the%20current%20cell%20is%20valid%0D%0A%20%20%20%20%20%20%20%20if%20(prevCell.reachableRoads.includes(currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20have%20reached%20the%20finish%20line!');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Arrived%20at%20$%7BcurrentCell.location%7D%60);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(currentCell.className%20!=%20'road'%20%7C%7C%20(prevCell.className%20==%20currentCell.className))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20drove%20the%20car%20off%20road.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20is%20back%20on%20the%20road.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20car.currentRow%20=%20randomItemFrom(gridCells);%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20randomItemFrom(filteredPaths);%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20roadCells.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20'unknown';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20displayUserMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'userMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20displayBotMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'botMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20attachMessage(message,%20type)%20%7B%0D%0A%20%20%20%20var%20text%20=%20document.createElement('p');%0D%0A%20%20%20%20%0D%0A%20%20%20%20text.className%20=%20type;%0D%0A%20%20%20%20text.textContent%20=%20message;%0D%0A%20%20%20%20messages.appendChild(text);%0D%0A%0D%0A%20%20%20%20userInput.value%20=%20'';%0D%0A%20%20%20%20messages.scrollTo(0,%20messages.scrollHeight);%0D%0A%7D%0D%0A%0D%0Afunction%20handleKeyPress()%20%7B%0D%0A%20%20%20%20if%20(event.keyCode%20==%2013)%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.click();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%20%20%20%20title.style.fontSize%20=%20%60$%7Bgrid.offsetHeight%20*%200.2%7Dpx%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20chatbot.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20chatbot.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20chatbot.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Avar%20srand%20=%20new%20Math.seedrandom('03');%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(srand()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201)%20%7D;%0D%0A%7D%0D%0A##JS_E####CODE_13E####LOGIC_13####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60decideNextMove();%60);##JS_E####LOGIC_13E####STEP_13E####STEP_14####INST_14##Preventing%20backtrack%0A%0AIf%20you%20try%20the%20%22auto%20drive%22%20command%20now,%20you%20will%20run%20into%20this%20issue:%0A%5Bimg::https://app.bsd.education/resources/ai_car_infinite_loop_1.gif%5D%0A%0AThis%20happens%20because%20our%20conditional%20statements%20in%20the%20*decideNextMove*%20function%20checks%20to%20see%20if%20the%20car%20can%20move%20*up%20before%20down*,%20we%20can't%20simply%20swap%20the%20checking%20order%20because%20it%20would%20cause%20similar%20issue%20when%20the%20car%20is%20travelling%20upwards.%0A%0AWe%20can%20solve%20this%20issue%20by%20adding%20an%20additional%20condition%20so%20that%20we%20only%20continue%20to%20check%20whether%20the%20car%20can%20move%20to%20a%20neighbouring%20cell%20if%20it's%20not%20the%20cell%20the%20car%20had%20been%20previously.%0A%0AFor%20example,%20to%20check%20whether%20the%20cell%20on%20the%20right%20side%20of%20the%20current%20cell%20isn't%20the%20previous%20cell,%20use%20the%20following%20syntax:%0A%0A(js)currentCell.right%20!=%20prevCell(#)%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#relational%20operators%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20decide#+4,%20add%20a%20condition%20to%20the%20%60if%60%20statement%20to%20check%20whether%20the%20cell%20on%20the%20right%20side%20of%20the%20current%20cell%20isn't%20the%20previous%20cell.%0A%0A(!)On%20+js#on%20decide#+7,%20add%20a%20condition%20to%20the%20%60else%20if%60%20statement%20to%20check%20whether%20the%20cell%20above%20the%20current%20cell%20isn't%20the%20previous%20cell.%0A%0A(!)On%20+js#on%20decide#+10,%20add%20a%20condition%20to%20the%20%60else%20if%60%20statement%20to%20check%20whether%20the%20cell%20below%20the%20current%20cell%20isn't%20the%20previous%20cell.%0A%0A(!)On%20+js#on%20decide#+13,%20add%20a%20condition%20to%20the%20%60else%20if%60%20statement%20to%20check%20whether%20the%20cell%20on%20the%20left%20side%20of%20the%20current%20cell%20isn't%20the%20previous%20cell.##INST_14E####CODE_14####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%20%20%20%20%3C!--%20%3Clink%20href=%22/resources/css/font-awesome.min.css%22%20rel=%22stylesheet%22%3E%20--%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAuto%20Navigation%3C/p%3E%0D%0A%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cdiv%20id='chatbot'%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='messages'%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='inputContainer'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id='userInput'%20placeholder='Type%20message%20here'%20autocomplete='off'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id='btnSend'%3E%3Ci%20class='fa%20fa-paper-plane%20fa-fw'%3E%3C/i%3E%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.1/seedrandom.min.js%22%3E%3C/script%3E%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton,%0D%0Ainput,%0D%0Atextarea%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2050px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20chat-bot%20styles%0D%0A*/%0D%0A#chatbot%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20padding:%200%2020px%2020px;%0D%0A%20%20%20%20max-width:%20600px;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%7D%0D%0A%0D%0A#inputContainer%20%7B%0D%0A%20%20%20%20display:%20flex;%0D%0A%7D%0D%0A%0D%0A#messages,%0D%0A#userInput%20%7B%0D%0A%20%20%20%20font-family:%20'VT323';%0D%0A%7D%0D%0A%0D%0A#messages%20%7B%0D%0A%20%20%20%20height:%20120px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20margin:%20auto%20auto%2010px;%0D%0A%20%20%20%20padding-bottom:%208px;%0D%0A%20%20%20%20font-size:%2018px;%0D%0A%20%20%20%20overflow-y:%20auto;%0D%0A%20%20%20%20background-color:%20#222;%0D%0A%20%20%20%20color:%20gainsboro;%0D%0A%7D%0D%0A%0D%0A.userMessage,%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20padding:%208px%2015px%200;%0D%0A%20%20%20%20border-radius:%2015px;%0D%0A%7D%0D%0A%0D%0A.userMessage%20%7B%0D%0A%20%20%20%20text-align:%20right;%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%7D%0D%0A%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20text-align:%20left;%0D%0A%20%20%20%20color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A#userInput%20%7B%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border-radius:%2023px;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20color:%20#333;%0D%0A%20%20%20%20flex:%20auto;%0D%0A%7D%0D%0A%0D%0A#userInput:hover,%0D%0A#userInput:focus,%0D%0A#btnSend:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2010px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnSend%20%7B%0D%0A%20%20%20%20margin-left:%2010px;%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20flex:%20none;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-thumb%20%7B%0D%0A%20%20%20%20border-style:%20solid;%0D%0A%20%20%20%20border-color:%20transparent;%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20silver;%0D%0A%20%20%20%20background-clip:%20content-box;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-track%20%7B%0D%0A%20%20%20%20margin:%2010px;%0D%0A%7D%0D%0A##CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20title%20=%20document.querySelector('#title');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0A%0D%0Avar%20chatbot%20=%20document.querySelector('#chatbot');%0D%0Avar%20messages%20=%20document.querySelector('#messages');%0D%0Avar%20userInput%20=%20document.querySelector('#userInput');%0D%0Avar%20btnSend%20=%20document.querySelector('#btnSend');%0D%0A%0D%0Avar%20nColumn%20=%208;%0D%0Avar%20nRow%20=%206;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20roadCells%20=%20%5B%5D;%0D%0A%0D%0Avar%20autoMode%20=%20false;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0Awindow.onkeypress%20=%20handleKeyPress;%0D%0A%0D%0AbtnSend.onclick%20=%20readUserInput;%0D%0A%0D%0AbtnSend.enable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20false;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'inherit';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'inherit';%0D%0A%7D;%0D%0A%0D%0AbtnSend.disable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20true;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'grayscale(0.6)';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'0.6';%0D%0A%7D;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20checkPrevMove%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20checkPrevMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0Afunction%20readUserInput()%20%7B%0D%0A%20%20%20%20var%20command%20=%20userInput.value.trim().replace(/%5Cs+/g,%20'%20').toLowerCase();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(command.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20displayUserMessage(command);%0D%0A%0D%0A%20%20%20%20%20%20%20%20btnSend.disable();%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(command%20==%20'help')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Sure,%20here%20is%20a%20list%20of%20commands%20I%20can%20understand:');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20up:%20move%20the%20car%20up%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20down:%20move%20the%20car%20down%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20left:%20move%20the%20car%20to%20the%20left%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20right:%20move%20the%20car%20to%20the%20right%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20up')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goUp();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20down')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goDown();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20left')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goLeft();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20right')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goRight();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'auto%20drive')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20autoMode%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Sorry,%20I%20didn't%20understand%20your%20command:%20$%7Bcommand%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20userInput.focus();%0D%0A%7D%0D%0A%0D%0Afunction%20goUp()%20%7B%0D%0A%20%20%20%20checkAndMove('up');%0D%0A%7D%0D%0A%0D%0Afunction%20goDown()%20%7B%0D%0A%20%20%20%20checkAndMove('down');%0D%0A%7D%0D%0A%0D%0Afunction%20goRight()%20%7B%0D%0A%20%20%20%20checkAndMove('right');%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft()%20%7B%0D%0A%20%20%20%20checkAndMove('left');%0D%0A%7D%0D%0A%0D%0Afunction%20checkAndMove(dir)%20%7B%0D%0A%20%20%20%20if%20(car.currentCell%5Bdir%5D%20==%20'unknown')%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20cannot%20leave%20the%20map.');%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(car.currentCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20decideNextMove()%20%7B%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(#BEGIN_EDITABLE#currentCell.right#END_EDITABLE#%20&&%20currentCell.reachableRoads.includes(currentCell.right))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.right);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(#BEGIN_EDITABLE#currentCell.up#END_EDITABLE#%20&&%20currentCell.reachableRoads.includes(currentCell.up))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.up);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(#BEGIN_EDITABLE#currentCell.down#END_EDITABLE#%20&&%20currentCell.reachableRoads.includes(currentCell.down))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.down);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(#BEGIN_EDITABLE#currentCell.left#END_EDITABLE#%20&&%20currentCell.reachableRoads.includes(currentCell.left))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.left);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkPrevMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(autoMode%20==%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20//%20%20make%20sure%20the%20path%20to%20the%20current%20cell%20is%20valid%0D%0A%20%20%20%20%20%20%20%20if%20(prevCell.reachableRoads.includes(currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20have%20reached%20the%20finish%20line!');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Arrived%20at%20$%7BcurrentCell.location%7D%60);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(currentCell.className%20!=%20'road'%20%7C%7C%20(prevCell.className%20==%20currentCell.className))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20drove%20the%20car%20off%20road.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20is%20back%20on%20the%20road.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20car.currentRow%20=%20randomItemFrom(gridCells);%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20randomItemFrom(filteredPaths);%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20roadCells.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20'unknown';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20displayUserMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'userMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20displayBotMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'botMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20attachMessage(message,%20type)%20%7B%0D%0A%20%20%20%20var%20text%20=%20document.createElement('p');%0D%0A%20%20%20%20%0D%0A%20%20%20%20text.className%20=%20type;%0D%0A%20%20%20%20text.textContent%20=%20message;%0D%0A%20%20%20%20messages.appendChild(text);%0D%0A%0D%0A%20%20%20%20userInput.value%20=%20'';%0D%0A%20%20%20%20messages.scrollTo(0,%20messages.scrollHeight);%0D%0A%7D%0D%0A%0D%0Afunction%20handleKeyPress()%20%7B%0D%0A%20%20%20%20if%20(event.keyCode%20==%2013)%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.click();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%20%20%20%20title.style.fontSize%20=%20%60$%7Bgrid.offsetHeight%20*%200.2%7Dpx%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20chatbot.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20chatbot.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20chatbot.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Avar%20srand%20=%20new%20Math.seedrandom('03');%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(srand()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201)%20%7D;%0D%0A%7D%0D%0A##JS_E####CODE_14E####LOGIC_14####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60prevCell%20!=%20currentCell.right%60).or(%60currentCell.right%20!=%20prevCell%60);%0Apass.if.js.editable(1).equivalent(%60prevCell%20!=%20currentCell.up%60).or(%60currentCell.up%20!=%20prevCell%60);%0Apass.if.js.editable(2).equivalent(%60prevCell%20!=%20currentCell.down%60).or(%60currentCell.down%20!=%20prevCell%60);%0Apass.if.js.editable(3).equivalent(%60prevCell%20!=%20currentCell.left%60).or(%60currentCell.left%20!=%20prevCell%60);##JS_E####LOGIC_14E####STEP_14E####STEP_15####INST_15##Disabling%20auto%20mode%20and%20checking%20for%20the%20finish%20line%0A%0AIn%20case%20none%20of%20the%20conditions%20in%20the%20*decideNextMove*%20function%20is%20true,%20we%20know%20that%20the%20car%20must%20be%20on%20a%20cell%20that%20doesn't%20lead%20to%20another%20road%20cell.%0A%0AOne%20of%20the%20possibilities%20is%20that%20the%20car%20has%20reached%20the%20finish%20line,%20but%20to%20be%20certain,%20we%20need%20to%20check%20for%20it.%0A%0AFinish%20line%20or%20not,%20we%20will%20need%20to%20disable%20*autoMode*%20because%20there%20is%20no%20where%20for%20the%20car%20to%20go.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#if%5D%0A%09(*)%5B#js#id%5D%0A%09(*)%5B#js#relational%20operators%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20decide#+18,%20change%20the%20value%20of%20*autoMode*%20to%20*false*.%0A%0A(!)On%20+js#on%20decide#+20,%20create%20an%20%60if%60%20statement%20to%20check%20whether%20the%20%60id%60%20attribute%20of%20*currentCell*%20is%20equal%20to%20*%22finish%22*.##INST_15E####CODE_15####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%20%20%20%20%3C!--%20%3Clink%20href=%22/resources/css/font-awesome.min.css%22%20rel=%22stylesheet%22%3E%20--%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAuto%20Navigation%3C/p%3E%0D%0A%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cdiv%20id='chatbot'%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='messages'%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='inputContainer'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id='userInput'%20placeholder='Type%20message%20here'%20autocomplete='off'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id='btnSend'%3E%3Ci%20class='fa%20fa-paper-plane%20fa-fw'%3E%3C/i%3E%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton,%0D%0Ainput,%0D%0Atextarea%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2050px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20chat-bot%20styles%0D%0A*/%0D%0A#chatbot%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20padding:%200%2020px%2020px;%0D%0A%20%20%20%20max-width:%20600px;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%7D%0D%0A%0D%0A#inputContainer%20%7B%0D%0A%20%20%20%20display:%20flex;%0D%0A%7D%0D%0A%0D%0A#messages,%0D%0A#userInput%20%7B%0D%0A%20%20%20%20font-family:%20'VT323';%0D%0A%7D%0D%0A%0D%0A#messages%20%7B%0D%0A%20%20%20%20height:%20120px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20margin:%20auto%20auto%2010px;%0D%0A%20%20%20%20padding-bottom:%208px;%0D%0A%20%20%20%20font-size:%2018px;%0D%0A%20%20%20%20overflow-y:%20auto;%0D%0A%20%20%20%20background-color:%20#222;%0D%0A%20%20%20%20color:%20gainsboro;%0D%0A%7D%0D%0A%0D%0A.userMessage,%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20padding:%208px%2015px%200;%0D%0A%20%20%20%20border-radius:%2015px;%0D%0A%7D%0D%0A%0D%0A.userMessage%20%7B%0D%0A%20%20%20%20text-align:%20right;%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%7D%0D%0A%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20text-align:%20left;%0D%0A%20%20%20%20color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A#userInput%20%7B%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border-radius:%2023px;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20color:%20#333;%0D%0A%20%20%20%20flex:%20auto;%0D%0A%7D%0D%0A%0D%0A#userInput:hover,%0D%0A#userInput:focus,%0D%0A#btnSend:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2010px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnSend%20%7B%0D%0A%20%20%20%20margin-left:%2010px;%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20flex:%20none;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-thumb%20%7B%0D%0A%20%20%20%20border-style:%20solid;%0D%0A%20%20%20%20border-color:%20transparent;%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20silver;%0D%0A%20%20%20%20background-clip:%20content-box;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-track%20%7B%0D%0A%20%20%20%20margin:%2010px;%0D%0A%7D%0D%0A##CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20title%20=%20document.querySelector('#title');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0A%0D%0Avar%20chatbot%20=%20document.querySelector('#chatbot');%0D%0Avar%20messages%20=%20document.querySelector('#messages');%0D%0Avar%20userInput%20=%20document.querySelector('#userInput');%0D%0Avar%20btnSend%20=%20document.querySelector('#btnSend');%0D%0A%0D%0Avar%20nColumn%20=%208;%0D%0Avar%20nRow%20=%206;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20roadCells%20=%20%5B%5D;%0D%0A%0D%0Avar%20autoMode%20=%20false;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0Awindow.onkeypress%20=%20handleKeyPress;%0D%0A%0D%0AbtnSend.onclick%20=%20readUserInput;%0D%0A%0D%0AbtnSend.enable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20false;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'inherit';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'inherit';%0D%0A%7D;%0D%0A%0D%0AbtnSend.disable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20true;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'grayscale(0.6)';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'0.6';%0D%0A%7D;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20checkPrevMove%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20checkPrevMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0Afunction%20readUserInput()%20%7B%0D%0A%20%20%20%20var%20command%20=%20userInput.value.trim().replace(/%5Cs+/g,%20'%20').toLowerCase();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(command.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20displayUserMessage(command);%0D%0A%0D%0A%20%20%20%20%20%20%20%20btnSend.disable();%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(command%20==%20'help')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Sure,%20here%20is%20a%20list%20of%20commands%20I%20can%20understand:');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20up:%20move%20the%20car%20up%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20down:%20move%20the%20car%20down%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20left:%20move%20the%20car%20to%20the%20left%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20right:%20move%20the%20car%20to%20the%20right%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20up')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goUp();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20down')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goDown();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20left')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goLeft();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20right')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goRight();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'auto%20drive')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20autoMode%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Sorry,%20I%20didn't%20understand%20your%20command:%20$%7Bcommand%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20userInput.focus();%0D%0A%7D%0D%0A%0D%0Afunction%20goUp()%20%7B%0D%0A%20%20%20%20checkAndMove('up');%0D%0A%7D%0D%0A%0D%0Afunction%20goDown()%20%7B%0D%0A%20%20%20%20checkAndMove('down');%0D%0A%7D%0D%0A%0D%0Afunction%20goRight()%20%7B%0D%0A%20%20%20%20checkAndMove('right');%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft()%20%7B%0D%0A%20%20%20%20checkAndMove('left');%0D%0A%7D%0D%0A%0D%0Afunction%20checkAndMove(dir)%20%7B%0D%0A%20%20%20%20if%20(car.currentCell%5Bdir%5D%20==%20'unknown')%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20cannot%20leave%20the%20map.');%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(car.currentCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20decideNextMove()%20%7B%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(prevCell%20!=%20currentCell.right%20&&%20currentCell.reachableRoads.includes(currentCell.right))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.right);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(prevCell%20!=%20currentCell.up%20&&%20currentCell.reachableRoads.includes(currentCell.up))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.up);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(prevCell%20!=%20currentCell.down%20&&%20currentCell.reachableRoads.includes(currentCell.down))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.down);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(prevCell%20!=%20currentCell.left%20&&%20currentCell.reachableRoads.includes(currentCell.left))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.left);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#autoMode%20=%20false;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#if%20(currentCell.id%20==%20'finish')%20%7B%7D#END_EDITABLE#%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkPrevMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(autoMode%20==%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20//%20%20make%20sure%20the%20path%20to%20the%20current%20cell%20is%20valid%0D%0A%20%20%20%20%20%20%20%20if%20(prevCell.reachableRoads.includes(currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20have%20reached%20the%20finish%20line!');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Arrived%20at%20$%7BcurrentCell.location%7D%60);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(currentCell.className%20!=%20'road'%20%7C%7C%20(prevCell.className%20==%20currentCell.className))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20drove%20the%20car%20off%20road.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20is%20back%20on%20the%20road.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20car.currentRow%20=%20randomItemFrom(gridCells);%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20randomItemFrom(filteredPaths);%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20roadCells.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20'unknown';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20displayUserMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'userMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20displayBotMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'botMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20attachMessage(message,%20type)%20%7B%0D%0A%20%20%20%20var%20text%20=%20document.createElement('p');%0D%0A%20%20%20%20%0D%0A%20%20%20%20text.className%20=%20type;%0D%0A%20%20%20%20text.textContent%20=%20message;%0D%0A%20%20%20%20messages.appendChild(text);%0D%0A%0D%0A%20%20%20%20userInput.value%20=%20'';%0D%0A%20%20%20%20messages.scrollTo(0,%20messages.scrollHeight);%0D%0A%7D%0D%0A%0D%0Afunction%20handleKeyPress()%20%7B%0D%0A%20%20%20%20if%20(event.keyCode%20==%2013)%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.click();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%20%20%20%20title.style.fontSize%20=%20%60$%7Bgrid.offsetHeight%20*%200.2%7Dpx%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20chatbot.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20chatbot.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20chatbot.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201)%20%7D;%0D%0A%7D%0D%0A##JS_E####CODE_15E####LOGIC_15####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60autoMode%20=%20false;%60);%0Apass.if.js.editable(1).equivalent(%60if%20(currentCell.id%20==%20'finish')%20%7B%7D%60);##JS_E####LOGIC_15E####STEP_15E####STEP_16####INST_16##Showing%20the%20result%20in%20chat-bot%0A%0AIn%20the%20body%20of%20the%20%60if%60%20statement,%20let's%20show%20a%20congratulatory%20message.%0A%0ATo%20make%20the%20chat-bot%20say%20%22hello%20world%22,%20use%20the%20following%20syntax:%0A%0A(js)displayBotMessage(%22hello%20world%22);(#)%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#functions%5D%0A%09(*)%5B#js#function%20arguments%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20checkPrev#-5,%20make%20the%20chat-bot%20say%20*%22Your%20AutoDrive%20system%20worked,%20the%20car%20has%20reached%20the%20finish%20line!%22*.##INST_16E####CODE_16####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%20%20%20%20%3C!--%20%3Clink%20href=%22/resources/css/font-awesome.min.css%22%20rel=%22stylesheet%22%3E%20--%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAuto%20Navigation%3C/p%3E%0D%0A%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cdiv%20id='chatbot'%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='messages'%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='inputContainer'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id='userInput'%20placeholder='Type%20message%20here'%20autocomplete='off'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id='btnSend'%3E%3Ci%20class='fa%20fa-paper-plane%20fa-fw'%3E%3C/i%3E%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton,%0D%0Ainput,%0D%0Atextarea%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2050px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20chat-bot%20styles%0D%0A*/%0D%0A#chatbot%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20padding:%200%2020px%2020px;%0D%0A%20%20%20%20max-width:%20600px;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%7D%0D%0A%0D%0A#inputContainer%20%7B%0D%0A%20%20%20%20display:%20flex;%0D%0A%7D%0D%0A%0D%0A#messages,%0D%0A#userInput%20%7B%0D%0A%20%20%20%20font-family:%20'VT323';%0D%0A%7D%0D%0A%0D%0A#messages%20%7B%0D%0A%20%20%20%20height:%20120px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20margin:%20auto%20auto%2010px;%0D%0A%20%20%20%20padding-bottom:%208px;%0D%0A%20%20%20%20font-size:%2018px;%0D%0A%20%20%20%20overflow-y:%20auto;%0D%0A%20%20%20%20background-color:%20#222;%0D%0A%20%20%20%20color:%20gainsboro;%0D%0A%7D%0D%0A%0D%0A.userMessage,%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20padding:%208px%2015px%200;%0D%0A%20%20%20%20border-radius:%2015px;%0D%0A%7D%0D%0A%0D%0A.userMessage%20%7B%0D%0A%20%20%20%20text-align:%20right;%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%7D%0D%0A%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20text-align:%20left;%0D%0A%20%20%20%20color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A#userInput%20%7B%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border-radius:%2023px;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20color:%20#333;%0D%0A%20%20%20%20flex:%20auto;%0D%0A%7D%0D%0A%0D%0A#userInput:hover,%0D%0A#userInput:focus,%0D%0A#btnSend:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2010px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnSend%20%7B%0D%0A%20%20%20%20margin-left:%2010px;%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20flex:%20none;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-thumb%20%7B%0D%0A%20%20%20%20border-style:%20solid;%0D%0A%20%20%20%20border-color:%20transparent;%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20silver;%0D%0A%20%20%20%20background-clip:%20content-box;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-track%20%7B%0D%0A%20%20%20%20margin:%2010px;%0D%0A%7D%0D%0A##CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20title%20=%20document.querySelector('#title');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0A%0D%0Avar%20chatbot%20=%20document.querySelector('#chatbot');%0D%0Avar%20messages%20=%20document.querySelector('#messages');%0D%0Avar%20userInput%20=%20document.querySelector('#userInput');%0D%0Avar%20btnSend%20=%20document.querySelector('#btnSend');%0D%0A%0D%0Avar%20nColumn%20=%208;%0D%0Avar%20nRow%20=%206;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20roadCells%20=%20%5B%5D;%0D%0A%0D%0Avar%20autoMode%20=%20false;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0Awindow.onkeypress%20=%20handleKeyPress;%0D%0A%0D%0AbtnSend.onclick%20=%20readUserInput;%0D%0A%0D%0AbtnSend.enable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20false;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'inherit';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'inherit';%0D%0A%7D;%0D%0A%0D%0AbtnSend.disable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20true;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'grayscale(0.6)';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'0.6';%0D%0A%7D;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20checkPrevMove%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20checkPrevMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0Afunction%20readUserInput()%20%7B%0D%0A%20%20%20%20var%20command%20=%20userInput.value.trim().replace(/%5Cs+/g,%20'%20').toLowerCase();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(command.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20displayUserMessage(command);%0D%0A%0D%0A%20%20%20%20%20%20%20%20btnSend.disable();%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(command%20==%20'help')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Sure,%20here%20is%20a%20list%20of%20commands%20I%20can%20understand:');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20up:%20move%20the%20car%20up%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20down:%20move%20the%20car%20down%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20left:%20move%20the%20car%20to%20the%20left%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20right:%20move%20the%20car%20to%20the%20right%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20up')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goUp();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20down')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goDown();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20left')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goLeft();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20right')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goRight();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'auto%20drive')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20autoMode%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Sorry,%20I%20didn't%20understand%20your%20command:%20$%7Bcommand%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20userInput.focus();%0D%0A%7D%0D%0A%0D%0Afunction%20goUp()%20%7B%0D%0A%20%20%20%20checkAndMove('up');%0D%0A%7D%0D%0A%0D%0Afunction%20goDown()%20%7B%0D%0A%20%20%20%20checkAndMove('down');%0D%0A%7D%0D%0A%0D%0Afunction%20goRight()%20%7B%0D%0A%20%20%20%20checkAndMove('right');%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft()%20%7B%0D%0A%20%20%20%20checkAndMove('left');%0D%0A%7D%0D%0A%0D%0Afunction%20checkAndMove(dir)%20%7B%0D%0A%20%20%20%20if%20(car.currentCell%5Bdir%5D%20==%20'unknown')%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20cannot%20leave%20the%20map.');%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(car.currentCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20decideNextMove()%20%7B%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(prevCell%20!=%20currentCell.right%20&&%20currentCell.reachableRoads.includes(currentCell.right))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.right);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(prevCell%20!=%20currentCell.up%20&&%20currentCell.reachableRoads.includes(currentCell.up))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.up);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(prevCell%20!=%20currentCell.down%20&&%20currentCell.reachableRoads.includes(currentCell.down))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.down);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(prevCell%20!=%20currentCell.left%20&&%20currentCell.reachableRoads.includes(currentCell.left))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.left);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20autoMode%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#displayBotMessage('Your%20AutoDrive%20system%20worked,%20the%20car%20has%20reached%20the%20finish%20line!');#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkPrevMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(autoMode%20==%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20//%20%20make%20sure%20the%20path%20to%20the%20current%20cell%20is%20valid%0D%0A%20%20%20%20%20%20%20%20if%20(prevCell.reachableRoads.includes(currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20have%20reached%20the%20finish%20line!');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Arrived%20at%20$%7BcurrentCell.location%7D%60);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(currentCell.className%20!=%20'road'%20%7C%7C%20(prevCell.className%20==%20currentCell.className))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20drove%20the%20car%20off%20road.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20is%20back%20on%20the%20road.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20car.currentRow%20=%20randomItemFrom(gridCells);%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20randomItemFrom(filteredPaths);%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20roadCells.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20'unknown';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20displayUserMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'userMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20displayBotMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'botMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20attachMessage(message,%20type)%20%7B%0D%0A%20%20%20%20var%20text%20=%20document.createElement('p');%0D%0A%20%20%20%20%0D%0A%20%20%20%20text.className%20=%20type;%0D%0A%20%20%20%20text.textContent%20=%20message;%0D%0A%20%20%20%20messages.appendChild(text);%0D%0A%0D%0A%20%20%20%20userInput.value%20=%20'';%0D%0A%20%20%20%20messages.scrollTo(0,%20messages.scrollHeight);%0D%0A%7D%0D%0A%0D%0Afunction%20handleKeyPress()%20%7B%0D%0A%20%20%20%20if%20(event.keyCode%20==%2013)%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.click();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%20%20%20%20title.style.fontSize%20=%20%60$%7Bgrid.offsetHeight%20*%200.2%7Dpx%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20chatbot.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20chatbot.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20chatbot.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201)%20%7D;%0D%0A%7D%0D%0A##JS_E####CODE_16E####LOGIC_16####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60displayBotMessage('Your%20AutoDrive%20system%20worked,%20the%20car%20has%20reached%20the%20finish%20line!');%60);##JS_E####LOGIC_16E####STEP_16E####STEP_17####INST_17##Testing%20the%20auto%20mode%0A%0AWe%20have%20finished%20coding%20all%20the%20parts%20and%20the%20car%20is%20now%20able%20to%20drive%20it%20self%20on%20the%20road%20until%20it%20reaches%20the%20finish%20line.%0A%0AGive%20it%20a%20spin.%0A%0A(***)%0A%0A(!)Drive%20the%20car%20to%20the%20finish%20line.##INST_17E####CODE_17####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%20%20%20%20%3C!--%20%3Clink%20href=%22/resources/css/font-awesome.min.css%22%20rel=%22stylesheet%22%3E%20--%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAuto%20Navigation%3C/p%3E%0D%0A%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cdiv%20id='chatbot'%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='messages'%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='inputContainer'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id='userInput'%20placeholder='Type%20message%20here'%20autocomplete='off'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id='btnSend'%3E%3Ci%20class='fa%20fa-paper-plane%20fa-fw'%3E%3C/i%3E%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton,%0D%0Ainput,%0D%0Atextarea%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2050px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20chat-bot%20styles%0D%0A*/%0D%0A#chatbot%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20padding:%200%2020px%2020px;%0D%0A%20%20%20%20max-width:%20600px;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%7D%0D%0A%0D%0A#inputContainer%20%7B%0D%0A%20%20%20%20display:%20flex;%0D%0A%7D%0D%0A%0D%0A#messages,%0D%0A#userInput%20%7B%0D%0A%20%20%20%20font-family:%20'VT323';%0D%0A%7D%0D%0A%0D%0A#messages%20%7B%0D%0A%20%20%20%20height:%20120px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20margin:%20auto%20auto%2010px;%0D%0A%20%20%20%20padding-bottom:%208px;%0D%0A%20%20%20%20font-size:%2018px;%0D%0A%20%20%20%20overflow-y:%20auto;%0D%0A%20%20%20%20background-color:%20#222;%0D%0A%20%20%20%20color:%20gainsboro;%0D%0A%7D%0D%0A%0D%0A.userMessage,%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20padding:%208px%2015px%200;%0D%0A%20%20%20%20border-radius:%2015px;%0D%0A%7D%0D%0A%0D%0A.userMessage%20%7B%0D%0A%20%20%20%20text-align:%20right;%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%7D%0D%0A%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20text-align:%20left;%0D%0A%20%20%20%20color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A#userInput%20%7B%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border-radius:%2023px;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20color:%20#333;%0D%0A%20%20%20%20flex:%20auto;%0D%0A%7D%0D%0A%0D%0A#userInput:hover,%0D%0A#userInput:focus,%0D%0A#btnSend:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2010px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnSend%20%7B%0D%0A%20%20%20%20margin-left:%2010px;%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20flex:%20none;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-thumb%20%7B%0D%0A%20%20%20%20border-style:%20solid;%0D%0A%20%20%20%20border-color:%20transparent;%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20silver;%0D%0A%20%20%20%20background-clip:%20content-box;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-track%20%7B%0D%0A%20%20%20%20margin:%2010px;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20title%20=%20document.querySelector('#title');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0A%0D%0Avar%20chatbot%20=%20document.querySelector('#chatbot');%0D%0Avar%20messages%20=%20document.querySelector('#messages');%0D%0Avar%20userInput%20=%20document.querySelector('#userInput');%0D%0Avar%20btnSend%20=%20document.querySelector('#btnSend');%0D%0A%0D%0Avar%20nColumn%20=%2012;%0D%0Avar%20nRow%20=%208;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20roadCells%20=%20%5B%5D;%0D%0A%0D%0Avar%20autoMode%20=%20false;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0Awindow.onkeypress%20=%20handleKeyPress;%0D%0A%0D%0AbtnSend.onclick%20=%20readUserInput;%0D%0A%0D%0AbtnSend.enable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20false;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'inherit';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'inherit';%0D%0A%7D;%0D%0A%0D%0AbtnSend.disable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20true;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'grayscale(0.6)';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'0.6';%0D%0A%7D;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20checkPrevMove%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20checkPrevMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0Afunction%20readUserInput()%20%7B%0D%0A%20%20%20%20var%20command%20=%20userInput.value.trim().replace(/%5Cs+/g,%20'%20').toLowerCase();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(command.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20displayUserMessage(command);%0D%0A%0D%0A%20%20%20%20%20%20%20%20btnSend.disable();%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(command%20==%20'help')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Sure,%20here%20is%20a%20list%20of%20commands%20I%20can%20understand:');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20up:%20move%20the%20car%20up%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20down:%20move%20the%20car%20down%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20left:%20move%20the%20car%20to%20the%20left%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20right:%20move%20the%20car%20to%20the%20right%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20up')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goUp();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20down')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goDown();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20left')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goLeft();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20right')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goRight();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'auto%20drive')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20autoMode%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Sorry,%20I%20didn't%20understand%20your%20command:%20$%7Bcommand%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20userInput.focus();%0D%0A%7D%0D%0A%0D%0Afunction%20goUp()%20%7B%0D%0A%20%20%20%20checkAndMove('up');%0D%0A%7D%0D%0A%0D%0Afunction%20goDown()%20%7B%0D%0A%20%20%20%20checkAndMove('down');%0D%0A%7D%0D%0A%0D%0Afunction%20goRight()%20%7B%0D%0A%20%20%20%20checkAndMove('right');%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft()%20%7B%0D%0A%20%20%20%20checkAndMove('left');%0D%0A%7D%0D%0A%0D%0Afunction%20checkAndMove(dir)%20%7B%0D%0A%20%20%20%20if%20(car.currentCell%5Bdir%5D%20==%20'unknown')%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20cannot%20leave%20the%20map.');%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(car.currentCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20decideNextMove()%20%7B%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(prevCell%20!=%20currentCell.right%20&&%20currentCell.reachableRoads.includes(currentCell.right))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.right);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(prevCell%20!=%20currentCell.up%20&&%20currentCell.reachableRoads.includes(currentCell.up))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.up);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(prevCell%20!=%20currentCell.down%20&&%20currentCell.reachableRoads.includes(currentCell.down))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.down);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(prevCell%20!=%20currentCell.left%20&&%20currentCell.reachableRoads.includes(currentCell.left))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.left);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20autoMode%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Your%20AutoDrive%20system%20worked,%20the%20car%20has%20reached%20the%20finish%20line!');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkPrevMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(autoMode%20==%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20//%20%20make%20sure%20the%20path%20to%20the%20current%20cell%20is%20valid%0D%0A%20%20%20%20%20%20%20%20if%20(prevCell.reachableRoads.includes(currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20have%20reached%20the%20finish%20line!');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Arrived%20at%20$%7BcurrentCell.location%7D%60);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(currentCell.className%20!=%20'road'%20%7C%7C%20(prevCell.className%20==%20currentCell.className))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20drove%20the%20car%20off%20road.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20is%20back%20on%20the%20road.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20car.currentRow%20=%20randomItemFrom(gridCells);%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20randomItemFrom(filteredPaths);%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20roadCells.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20'unknown';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20displayUserMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'userMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20displayBotMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'botMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20attachMessage(message,%20type)%20%7B%0D%0A%20%20%20%20var%20text%20=%20document.createElement('p');%0D%0A%20%20%20%20%0D%0A%20%20%20%20text.className%20=%20type;%0D%0A%20%20%20%20text.textContent%20=%20message;%0D%0A%20%20%20%20messages.appendChild(text);%0D%0A%0D%0A%20%20%20%20userInput.value%20=%20'';%0D%0A%20%20%20%20messages.scrollTo(0,%20messages.scrollHeight);%0D%0A%7D%0D%0A%0D%0Afunction%20handleKeyPress()%20%7B%0D%0A%20%20%20%20if%20(event.keyCode%20==%2013)%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.click();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%20%20%20%20title.style.fontSize%20=%20%60$%7Bgrid.offsetHeight%20*%200.2%7Dpx%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20chatbot.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20chatbot.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20chatbot.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201)%20%7D;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_17E####LOGIC_17####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.on('checkPrevMove').var(%60car.currentCell.id%20==%20'finish'%60);##JS_E####LOGIC_17E####STEP_17E####STEP_18####INST_18##Summary%0A%0AGreat%20job!%0A%0AYou%20have%20completed%20this%20project,%20here%20is%20a%20recap:%0A%0A%5B-%0A%09(*)Various%20aspect%20of%20the%20AI%20Car%20are%20wrapped%20in%20%5B#js#functions%5D%20such%20as%20*readUserInput*%20and%20*moveCarTo*.%0A%09(*)%5BConditional%20statements#js#if%5D%20are%20heavily%20used%20in%20this%20project%20to%20build%20the%20correct%20chain%20of%20logic%20that%20leads%20the%20car%20to%20make%20the%20right%20move.%0A%09(*)We%20created%20a%20*recursive(looping)%20behaviour*%20by%20calling%20the%20*decideNextMove*%20function%20inside%20the%20*checkPrevMove*%20function.%0A%09(*)In%20order%20for%20all%20of%20the%20above%20to%20work,%20the%20car%20needed%20access%20to%20information%20such%20as%20neighbouring%20cells%20and%20reachable%20road%20cells.%0A-%5D##INST_18E####CODE_18####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%20%20%20%20%3C!--%20%3Clink%20href=%22/resources/css/font-awesome.min.css%22%20rel=%22stylesheet%22%3E%20--%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAuto%20Navigation%3C/p%3E%0D%0A%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cdiv%20id='chatbot'%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='messages'%3E%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='inputContainer'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id='userInput'%20placeholder='Type%20message%20here'%20autocomplete='off'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id='btnSend'%3E%3Ci%20class='fa%20fa-paper-plane%20fa-fw'%3E%3C/i%3E%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton,%0D%0Ainput,%0D%0Atextarea%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2050px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20chat-bot%20styles%0D%0A*/%0D%0A#chatbot%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20padding:%200%2020px%2020px;%0D%0A%20%20%20%20max-width:%20600px;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%7D%0D%0A%0D%0A#inputContainer%20%7B%0D%0A%20%20%20%20display:%20flex;%0D%0A%7D%0D%0A%0D%0A#messages,%0D%0A#userInput%20%7B%0D%0A%20%20%20%20font-family:%20'VT323';%0D%0A%7D%0D%0A%0D%0A#messages%20%7B%0D%0A%20%20%20%20height:%20120px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20margin:%20auto%20auto%2010px;%0D%0A%20%20%20%20font-size:%2018px;%0D%0A%20%20%20%20overflow-y:%20auto;%0D%0A%20%20%20%20background-color:%20#222;%0D%0A%20%20%20%20color:%20gainsboro;%0D%0A%7D%0D%0A%0D%0A.userMessage,%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20padding:%208px%2015px%200;%0D%0A%20%20%20%20border-radius:%2015px;%0D%0A%7D%0D%0A%0D%0A.userMessage%20%7B%0D%0A%20%20%20%20text-align:%20right;%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%7D%0D%0A%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20text-align:%20left;%0D%0A%20%20%20%20color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A#userInput%20%7B%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border-radius:%2023px;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20color:%20#333;%0D%0A%20%20%20%20flex:%20auto;%0D%0A%7D%0D%0A%0D%0A#userInput:hover,%0D%0A#userInput:focus,%0D%0A#btnSend:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2010px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnSend%20%7B%0D%0A%20%20%20%20margin-left:%2010px;%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20flex:%20none;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-thumb%20%7B%0D%0A%20%20%20%20border-style:%20solid;%0D%0A%20%20%20%20border-color:%20transparent;%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20silver;%0D%0A%20%20%20%20background-clip:%20content-box;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-track%20%7B%0D%0A%20%20%20%20margin:%2010px;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20title%20=%20document.querySelector('#title');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0A%0D%0Avar%20chatbot%20=%20document.querySelector('#chatbot');%0D%0Avar%20messages%20=%20document.querySelector('#messages');%0D%0Avar%20userInput%20=%20document.querySelector('#userInput');%0D%0Avar%20btnSend%20=%20document.querySelector('#btnSend');%0D%0A%0D%0Avar%20nColumn%20=%2012;%0D%0Avar%20nRow%20=%208;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20roadCells%20=%20%5B%5D;%0D%0A%0D%0Avar%20autoMode%20=%20false;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0Awindow.onkeypress%20=%20handleKeyPress;%0D%0A%0D%0AbtnSend.onclick%20=%20readUserInput;%0D%0A%0D%0AbtnSend.enable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20false;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'inherit';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'inherit';%0D%0A%7D;%0D%0A%0D%0AbtnSend.disable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnSend.disabled%20=%20true;%0D%0A%20%20%20%20btnSend.style.filter%20=%20'grayscale(0.6)';%0D%0A%20%20%20%20btnSend.style.opacity%20=%20'0.6';%0D%0A%7D;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20checkPrevMove%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20checkPrevMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0Afunction%20readUserInput()%20%7B%0D%0A%20%20%20%20var%20command%20=%20userInput.value.trim().replace(/%5Cs+/g,%20'%20').toLowerCase();%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(command.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20displayUserMessage(command);%0D%0A%0D%0A%20%20%20%20%20%20%20%20btnSend.disable();%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(command%20==%20'help')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Sure,%20here%20is%20a%20list%20of%20commands%20I%20can%20understand:');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20up:%20move%20the%20car%20up%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20down:%20move%20the%20car%20down%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20left:%20move%20the%20car%20to%20the%20left%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('go%20right:%20move%20the%20car%20to%20the%20right%20one%20cell.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20up')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goUp();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20down')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goDown();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20left')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goLeft();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20right')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20goRight();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'auto%20drive')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20autoMode%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage(%60Sorry,%20I%20didn't%20understand%20your%20command:%20$%7Bcommand%7D%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20userInput.focus();%0D%0A%7D%0D%0A%0D%0Afunction%20goUp()%20%7B%0D%0A%20%20%20%20checkAndMove('up');%0D%0A%7D%0D%0A%0D%0Afunction%20goDown()%20%7B%0D%0A%20%20%20%20checkAndMove('down');%0D%0A%7D%0D%0A%0D%0Afunction%20goRight()%20%7B%0D%0A%20%20%20%20checkAndMove('right');%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft()%20%7B%0D%0A%20%20%20%20checkAndMove('left');%0D%0A%7D%0D%0A%0D%0Afunction%20checkAndMove(dir)%20%7B%0D%0A%20%20%20%20if%20(car.currentCell%5Bdir%5D%20==%20'unknown')%20%7B%0D%0A%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20cannot%20leave%20the%20map.');%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(car.currentCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20decideNextMove()%20%7B%0D%0A%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(currentCell.right%20!=%20prevCell%20&&%20currentCell.reachableRoads.includes(currentCell.right))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.right);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.up%20!=%20prevCell%20&&%20currentCell.reachableRoads.includes(currentCell.up))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.up);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.down%20!=%20prevCell%20&&%20currentCell.reachableRoads.includes(currentCell.down))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.down);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(currentCell.left%20!=%20prevCell%20&&%20currentCell.reachableRoads.includes(currentCell.left))%20%7B%0D%0A%20%20%20%20%20%20%20%20moveCarTo(currentCell.left);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%20%20%20%20%20%20%20%20autoMode%20=%20false;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Your%20AutoDrive%20system%20worked,%20the%20car%20has%20reached%20the%20finish%20line!');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(currentCell.reachableRoads.length%20==%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('The%20AutoDrive%20system%20failed%20to%20determine%20where%20to%20go%20next.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(currentCell.reachableRoads.length%20==%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('Returned%20to%20starting%20cell,%20turning%20around...');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20moveCarTo(currentCell.reachableRoads%5B0%5D);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20autoMode%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkPrevMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(autoMode%20==%20true)%20%7B%0D%0A%20%20%20%20%20%20%20%20decideNextMove();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.enable();%0D%0A%0D%0A%20%20%20%20%20%20%20%20var%20currentCell%20=%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20var%20prevCell%20=%20car.prevCell;%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20make%20sure%20the%20path%20to%20the%20current%20cell%20is%20valid%0D%0A%20%20%20%20%20%20%20%20if%20(prevCell.reachableRoads.includes(currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20have%20reached%20the%20finish%20line!');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(currentCell.className%20!=%20'road'%20%7C%7C%20(prevCell.className%20==%20currentCell.className))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20drove%20the%20car%20off%20road.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('The%20car%20is%20back%20on%20the%20road.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20car.currentRow%20=%20randomItemFrom(gridCells);%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20randomItemFrom(filteredPaths);%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20roadCells.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20'unknown';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20displayUserMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'userMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20displayBotMessage(message)%20%7B%0D%0A%20%20%20%20attachMessage(message,%20'botMessage');%0D%0A%7D%0D%0A%0D%0Afunction%20attachMessage(message,%20type)%20%7B%0D%0A%20%20%20%20var%20text%20=%20document.createElement('p');%0D%0A%20%20%20%20%0D%0A%20%20%20%20text.className%20=%20type;%0D%0A%20%20%20%20text.textContent%20=%20message;%0D%0A%20%20%20%20messages.appendChild(text);%0D%0A%0D%0A%20%20%20%20userInput.value%20=%20'';%0D%0A%20%20%20%20messages.scrollTo(0,%20messages.scrollHeight);%0D%0A%7D%0D%0A%0D%0Afunction%20handleKeyPress()%20%7B%0D%0A%20%20%20%20if%20(event.keyCode%20==%2013)%20%7B%0D%0A%20%20%20%20%20%20%20%20btnSend.click();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%20%20%20%20title.style.fontSize%20=%20%60$%7Bgrid.offsetHeight%20*%200.2%7Dpx%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20chatbot.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20chatbot.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20chatbot.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201)%20%7D;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_18E####LOGIC_18####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_18E####STEP_18E##