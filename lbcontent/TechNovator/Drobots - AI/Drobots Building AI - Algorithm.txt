8##STEP_1####INST_1##Introduction%0A%0AAI%20systems%20such%20as%20Siri%20may%20seem%20much%20more%20clever%20than%20regular%20computer%20programs,%20such%20as%20the%20one%20that%20makes%20your%20calculator%20work,%20but%20they're%20still%20computer%20programs.%0A%0AAnd%20all%20computer%20programs%20are%20made%20of%20algorithms%20-%20series%20of%20commands%20that%20the%20computer%20reads%20and%20executes.%0A%0AIn%20this%20project,%20we%20are%20going%20to%20write%20our%20own%20algorithm%20that%20controls%20the%20movement%20of%20the%20car.##INST_1E####CODE_1####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAI%20Car%3C/p%3E%0D%0A%09%09%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.1/seedrandom.min.js%22%3E%3C/script%3E%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2060px;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0A%0D%0Avar%20nColumn%20=%208;%0D%0Avar%20nRow%20=%205;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20track%20=%20%5B%5D;%0D%0Avar%20path%20=%20%5B%5D;%0D%0Avar%20seed%20=%20%60$%7BlocalStorage.id_token%7D$%7BnColumn%7D$%7BnRow%7D%60;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20nextCommand%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20nextMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0Afunction%20goUp(n)%20%7B%0D%0A%20%20%20%20addToPath('up',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goDown(n)%20%7B%0D%0A%20%20%20%20addToPath('down',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goRight(n)%20%7B%0D%0A%20%20%20%20addToPath('right',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft(n)%20%7B%0D%0A%20%20%20%20addToPath('left',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20addToPath(dir,%20n%20=%201)%20%7B%0D%0A%20%20%20%20//%20%20check%20whether%20there%20is%20queued%20commands%0D%0A%20%20%20%20var%20queuedCommands%20=%20path.length%20%3E%200;%0D%0A%0D%0A%20%20%20%20while%20(n--%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20lastPathCell%20=%20path%5Bpath.length%20-%201%5D%20%7C%7C%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20path.push(lastPathCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20(queuedCommands%20==%20false)%20nextMove();%0D%0A%7D%0D%0A%0D%0Afunction%20nextMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%0D%0A%20%20%20%20if%20(car.currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('Your%20algorithm%20worked!%20The%20car%20has%20reached%20the%20finishe%20line!');%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(path.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20nextCell%20=%20path.shift();%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20check%20if%20next%20cell%20exists%20on%20the%20grid%0D%0A%20%20%20%20%20%20%20%20if%20(nextCell%20==%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('The%20algorithm%20tries%20to%20lead%20the%20car%20off%20the%20grid.%20Please%20check%20the%20navigateRoad%20function.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(car.prevCell%20==%20null%20%7C%7C%20car.prevCell.reachableRoads.includes(car.currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20moveCarTo(nextCell);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('The%20algorithm%20led%20the%20car%20off%20track.%20Please%20check%20the%20navigateRoad%20function.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('The%20algorithm%20did%20not%20lead%20the%20car%20to%20the%20finish%20line.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20var%20seedRandom%20=%20new%20Math.seedrandom(seed);%0D%0A%0D%0A%20%20%20%20car.currentRow%20=%20gridCells%5BMath.floor(seedRandom()%20*%20gridCells.length)%5D;%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20filteredPaths%5BMath.floor(seedRandom()%20*%20filteredPaths.length)%5D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20track.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20null;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20window.innerHeight%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201),%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_1E####LOGIC_1####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_1E####STEP_1E####STEP_2####INST_2##The%20%22Run%22%20button%0A%0ABefore%20we%20write%20the%20algorithm%20to%20control%20the%20car,%20there%20needs%20to%20be%20a%20button%20on%20the%20page%20we%20can%20click,%20which%20would%20then%20tell%20the%20computer%20to%20carry%20out%20the%20algorithm.%0A%0ABy%20giving%20the%20button%20an%20%60id%60%20name%20lets%20us%20style%20it%20(%20+css#%5C#btnRun%20%7B#%20-%20css#%5C#btnRun%20%7B#+11%20)%20and%20also%20take%20it%20into%20JavaScript%20later%20on.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#html#%3Cbutton%3E%5D%0A%09(*)%5B#html#id%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+html#min#-2,%20create%20a%20%60%3Cbutton%3E%60%20element,%20set%20the%20%60id%60%20attribute%20to%20*btnRun*%20and%20add%20the%20text%20*Run%20Algorithm*%20between%20the%20tags.##INST_2E####CODE_2####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAI%20Car%3C/p%3E%0D%0A%09%09%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20#BEGIN_EDITABLE#%3Cbutton%20id='btnRun'%3ERun%20Algorithm%3C/button%3E%20#END_EDITABLE#%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.1/seedrandom.min.js%22%3E%3C/script%3E%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2060px;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2032px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0A%0D%0Avar%20nColumn%20=%208;%0D%0Avar%20nRow%20=%205;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20track%20=%20%5B%5D;%0D%0Avar%20path%20=%20%5B%5D;%0D%0Avar%20seed%20=%20%60$%7BlocalStorage.id_token%7D$%7BnColumn%7D$%7BnRow%7D%60;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20nextCommand%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20nextMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0Afunction%20goUp(n)%20%7B%0D%0A%20%20%20%20addToPath('up',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goDown(n)%20%7B%0D%0A%20%20%20%20addToPath('down',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goRight(n)%20%7B%0D%0A%20%20%20%20addToPath('right',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft(n)%20%7B%0D%0A%20%20%20%20addToPath('left',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20addToPath(dir,%20n%20=%201)%20%7B%0D%0A%20%20%20%20//%20%20check%20whether%20there%20is%20queued%20commands%0D%0A%20%20%20%20var%20queuedCommands%20=%20path.length%20%3E%200;%0D%0A%0D%0A%20%20%20%20while%20(n--%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20lastPathCell%20=%20path%5Bpath.length%20-%201%5D%20%7C%7C%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20path.push(lastPathCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20(queuedCommands%20==%20false)%20nextMove();%0D%0A%7D%0D%0A%0D%0Afunction%20nextMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%0D%0A%20%20%20%20if%20(car.currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('Your%20algorithm%20worked!%20The%20car%20has%20reached%20the%20finishe%20line!');%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(path.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20nextCell%20=%20path.shift();%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20check%20if%20next%20cell%20exists%20on%20the%20grid%0D%0A%20%20%20%20%20%20%20%20if%20(nextCell%20==%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('The%20algorithm%20tries%20to%20lead%20the%20car%20off%20the%20grid.%20Please%20check%20the%20navigateRoad%20function.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(car.prevCell%20==%20null%20%7C%7C%20car.prevCell.reachableRoads.includes(car.currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20moveCarTo(nextCell);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('The%20algorithm%20led%20the%20car%20off%20track.%20Please%20check%20the%20navigateRoad%20function.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('The%20algorithm%20did%20not%20lead%20the%20car%20to%20the%20finish%20line.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20var%20seedRandom%20=%20new%20Math.seedrandom(seed);%0D%0A%0D%0A%20%20%20%20car.currentRow%20=%20gridCells%5BMath.floor(seedRandom()%20*%20gridCells.length)%5D;%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20filteredPaths%5BMath.floor(seedRandom()%20*%20filteredPaths.length)%5D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20track.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20null;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20btnRun.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20btnRun.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20btnRun.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201),%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_2E####LOGIC_2####HTML##//%20Expectation:%0Apass.if.html.editable(0).equivalent(%60%3Cbutton%20id='btnRun'%3ERun%20Algorithm%3C/button%3E%60);##HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_2E####STEP_2E####STEP_3####INST_3##Working%20with%20the%20button%20in%20JavaScript%0A%0AThe%20%22Run%20Algorithm%22%20button%20is%20going%20to%20be%20the%20switch%20that%20tells%20the%20car%20to%20start%20moving.%0A%0AWe'll%20figure%20out%20how%20to%20move%20the%20car%20later,%20for%20now%20we%20simply%20need%20to%20be%20able%20to%20work%20with%20the%20button%20in%20JavaScript.%0A%0ATo%20do%20that,%20we%20need%20to%20*query*%20(%20which%20means%20find%20and%20fetch%20)%20the%20button%20from%20our%20HTML%20document%20and%20store%20it%20in%20a%20new%20variable.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#querySelector%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20nColumn#-2,%20store%20the%20*#btnRun*%20element%20in%20a%20new%20variable%20called%20*btnRun*.##INST_3E####CODE_3####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22/resources/css/font-awesome.min.css%22/%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAI%20Car%3C/p%3E%0D%0A%09%09%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%3Cbutton%20id='btnRun'%3E%3Ci%20class='fa%20fa-cogs%20fa-fw'%3E%3C/i%3ERun%20Algorithm%3C/button%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.1/seedrandom.min.js%22%3E%3C/script%3E%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2060px;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2032px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D##CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0A#BEGIN_EDITABLE#var%20btnRun%20=%20document.querySelector('#btnRun');#END_EDITABLE#%0D%0A%0D%0Avar%20nColumn%20=%208;%0D%0Avar%20nRow%20=%205;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20track%20=%20%5B%5D;%0D%0Avar%20path%20=%20%5B%5D;%0D%0Avar%20seed%20=%20%60$%7BlocalStorage.id_token%7D$%7BnColumn%7D$%7BnRow%7D%60;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20nextCommand%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20nextMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0Afunction%20goUp(n)%20%7B%0D%0A%20%20%20%20addToPath('up',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goDown(n)%20%7B%0D%0A%20%20%20%20addToPath('down',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goRight(n)%20%7B%0D%0A%20%20%20%20addToPath('right',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft(n)%20%7B%0D%0A%20%20%20%20addToPath('left',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20addToPath(dir,%20n%20=%201)%20%7B%0D%0A%20%20%20%20//%20%20check%20whether%20there%20is%20queued%20commands%0D%0A%20%20%20%20var%20queuedCommands%20=%20path.length%20%3E%200;%0D%0A%0D%0A%20%20%20%20while%20(n--%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20lastPathCell%20=%20path%5Bpath.length%20-%201%5D%20%7C%7C%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20path.push(lastPathCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20(queuedCommands%20==%20false)%20nextMove();%0D%0A%7D%0D%0A%0D%0Afunction%20nextMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%0D%0A%20%20%20%20if%20(car.currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('Your%20algorithm%20worked!%20The%20car%20has%20reached%20the%20finishe%20line!');%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(path.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20nextCell%20=%20path.shift();%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20check%20if%20next%20cell%20exists%20on%20the%20grid%0D%0A%20%20%20%20%20%20%20%20if%20(nextCell%20==%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('The%20algorithm%20tries%20to%20lead%20the%20car%20off%20the%20grid.%20Please%20check%20the%20navigateRoad%20function.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(car.prevCell%20==%20null%20%7C%7C%20car.prevCell.reachableRoads.includes(car.currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20moveCarTo(nextCell);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('The%20algorithm%20led%20the%20car%20off%20track.%20Please%20check%20the%20navigateRoad%20function.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('The%20algorithm%20did%20not%20lead%20the%20car%20to%20the%20finish%20line.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20var%20seedRandom%20=%20new%20Math.seedrandom(seed);%0D%0A%0D%0A%20%20%20%20car.currentRow%20=%20gridCells%5BMath.floor(seedRandom()%20*%20gridCells.length)%5D;%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20filteredPaths%5BMath.floor(seedRandom()%20*%20filteredPaths.length)%5D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20track.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20null;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20btnRun.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20btnRun.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20btnRun.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201),%0D%0A%20%20%20%20%7D;%0D%0A%7D##JS_E####CODE_3E####LOGIC_3####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20btnRun%20=%20document.querySelector('#btnRun');%60);##JS_E####LOGIC_3E####STEP_3E####STEP_4####INST_4##Handling%20the%20click%20event%0A%0ANow%20we%20have%20brought%20the%20%22Run%22%20button%20into%20JavaScript,%20the%20next%20thing%20is%20to%20make%20it%20react%20to%20the%20click%20event.%0A%0AThis%20requires%20us%20to%20assign%20a%20function%20to%20the%20%60onclick%60%20event%20of%20the%20*btnRun*%20element.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#onclick%5D%0A%09(*)%5B#js#function%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20init#-2,%20handle%20the%20%60btnRun.onclick%60%20event%20using%20the%20*navigateRoad*%20function.%0A%0A(!)On%20+js#on%20goUp#-2,%20create%20a%20function%20called%20*navigateRoad*.##INST_4E####CODE_4####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22/resources/css/font-awesome.min.css%22/%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAI%20Car%3C/p%3E%0D%0A%09%09%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%3Cbutton%20id='btnRun'%3E%3Ci%20class='fa%20fa-cogs%20fa-fw'%3E%3C/i%3ERun%20Algorithm%3C/button%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.1/seedrandom.min.js%22%3E%3C/script%3E%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2060px;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2032px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D##CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0Avar%20btnRun%20=%20document.querySelector('#btnRun');%0D%0A%0D%0Avar%20nColumn%20=%208;%0D%0Avar%20nRow%20=%205;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20track%20=%20%5B%5D;%0D%0Avar%20path%20=%20%5B%5D;%0D%0Avar%20seed%20=%20%60$%7BlocalStorage.id_token%7D$%7BnColumn%7D$%7BnRow%7D%60;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0A%0D%0A#BEGIN_EDITABLE#btnRun.onclick%20=%20navigateRoad;#END_EDITABLE#%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20nextCommand%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20nextMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0A#BEGIN_EDITABLE#function%20navigateRoad()%20%7B%7D#END_EDITABLE#%0D%0A%0D%0Afunction%20goUp(n)%20%7B%0D%0A%20%20%20%20addToPath('up',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goDown(n)%20%7B%0D%0A%20%20%20%20addToPath('down',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goRight(n)%20%7B%0D%0A%20%20%20%20addToPath('right',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft(n)%20%7B%0D%0A%20%20%20%20addToPath('left',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20addToPath(dir,%20n%20=%201)%20%7B%0D%0A%20%20%20%20//%20%20check%20whether%20there%20is%20queued%20commands%0D%0A%20%20%20%20var%20queuedCommands%20=%20path.length%20%3E%200;%0D%0A%0D%0A%20%20%20%20while%20(n--%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20lastPathCell%20=%20path%5Bpath.length%20-%201%5D%20%7C%7C%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20path.push(lastPathCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20(queuedCommands%20==%20false)%20nextMove();%0D%0A%7D%0D%0A%0D%0Afunction%20nextMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%0D%0A%20%20%20%20if%20(car.currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('Your%20algorithm%20worked!%20The%20car%20has%20reached%20the%20finishe%20line!');%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(path.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20nextCell%20=%20path.shift();%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20check%20if%20next%20cell%20exists%20on%20the%20grid%0D%0A%20%20%20%20%20%20%20%20if%20(nextCell%20==%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('The%20algorithm%20tries%20to%20lead%20the%20car%20off%20the%20grid.%20Please%20check%20the%20navigateRoad%20function.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(car.prevCell%20==%20null%20%7C%7C%20car.prevCell.reachableRoads.includes(car.currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20moveCarTo(nextCell);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('The%20algorithm%20led%20the%20car%20off%20track.%20Please%20check%20the%20navigateRoad%20function.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('The%20algorithm%20did%20not%20lead%20the%20car%20to%20the%20finish%20line.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20var%20seedRandom%20=%20new%20Math.seedrandom(seed);%0D%0A%0D%0A%20%20%20%20car.currentRow%20=%20gridCells%5BMath.floor(seedRandom()%20*%20gridCells.length)%5D;%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20filteredPaths%5BMath.floor(seedRandom()%20*%20filteredPaths.length)%5D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20track.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20null;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20btnRun.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20btnRun.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20btnRun.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201),%0D%0A%20%20%20%20%7D;%0D%0A%7D##JS_E####CODE_4E####LOGIC_4####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60btnRun.onclick%20=%20navigateRoad;%60);%0Apass.if.js.editable(1).equivalent(%60function%20navigateRoad()%20%7B%7D%60);##JS_E####LOGIC_4E####STEP_4E####STEP_5####INST_5##Issuing%20commands%20to%20the%20car%0A%0AIn%20the%20*navigateRoad*%20function,%20we've%20added%20a%20line%20of%20code%20to%20disable%20the%20button,%20because%20once%20it's%20clicked,%20we%20want%20to%20prevent%20the%20user%20from%20clicking%20it%20again,%20resulting%20in%20the%20function%20being%20run%20twice.%0A%0ATo%20make%20the%20car%20move%20through%20the%20track,%20we%20can%20call%20the%20following%204%20functions:%0A%5B-%0A%09(*)%60goUp()%60%20-%20move%20the%20car%20to%20the%20cell%20above%20its%20current%20location.%0A%09(*)%60goDown()%60%20-%20move%20the%20car%20to%20the%20cell%20below%20its%20current%20location.%0A%09(*)%60goLeft()%60%20-%20move%20the%20car%20to%20the%20cell%20to%20the%20left%20of%20its%20current%20location.%0A%09(*)%60goRight()%60%20-%20move%20the%20car%20to%20the%20cell%20to%20the%20right%20of%20its%20current%20location.%0A-%5D%0A%0AFor%20example,%20the%20following%20code%20produces%20the%20result%20shown%20in%20the%20GIF:%0A%0A(js)function%20navigateRoad()%20%7B%0A%20%20%20%20btnRun.disable();%0A%0A%20%20%20%20goRight(2);%0A%20%20%20%20goUp(3);%0A%7D(#)%0A%0A%5Bimg::https://app-staging.bsd.education/resources/ai_car_algorithm.gif%5D%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#function%5D%0A%09(*)%5B#js#function%20arguments%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20goUp#-3,%20write%20the%20algorithm,%20click%20*Run%20Code*%20and%20then%20*Run%20Algorithm*%20to%20lead%20the%20car%20to%20the%20finish%20line.##INST_5E####CODE_5####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22/resources/css/font-awesome.min.css%22/%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAI%20Car%3C/p%3E%0D%0A%09%09%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%3Cbutton%20id='btnRun'%3E%3Ci%20class='fa%20fa-cogs%20fa-fw'%3E%3C/i%3ERun%20Algorithm%3C/button%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.1/seedrandom.min.js%22%3E%3C/script%3E%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2060px;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2032px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D##CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0Avar%20btnRun%20=%20document.querySelector('#btnRun');%0D%0A%0D%0Avar%20nColumn%20=%208;%0D%0Avar%20nRow%20=%205;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20track%20=%20%5B%5D;%0D%0Avar%20path%20=%20%5B%5D;%0D%0Avar%20seed%20=%20%60$%7BlocalStorage.id_token%7D$%7BnColumn%7D$%7BnRow%7D%60;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0A%0D%0AbtnRun.onclick%20=%20navigateRoad;%0D%0A%0D%0AbtnRun.disable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnRun.disabled%20=%20true;%0D%0A%20%20%20%20btnRun.style.filter%20=%20'grayscale(0.6)';%0D%0A%20%20%20%20btnRun.style.opacity%20=%20'0.6';%0D%0A%7D;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20nextCommand%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20nextMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0Afunction%20navigateRoad()%20%7B%0D%0A%20%20%20%20btnRun.disable();%0D%0A%0D%0A%20%20%20%20#BEGIN_EDITABLE#%20%20%20%20#END_EDITABLE#%0D%0A%7D%0D%0A%0D%0Afunction%20goUp(n)%20%7B%0D%0A%20%20%20%20addToPath('up',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goDown(n)%20%7B%0D%0A%20%20%20%20addToPath('down',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goRight(n)%20%7B%0D%0A%20%20%20%20addToPath('right',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft(n)%20%7B%0D%0A%20%20%20%20addToPath('left',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20addToPath(dir,%20n%20=%201)%20%7B%0D%0A%20%20%20%20//%20%20check%20whether%20there%20is%20queued%20commands%0D%0A%20%20%20%20var%20queuedCommands%20=%20path.length%20%3E%200;%0D%0A%0D%0A%20%20%20%20while%20(n--%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20lastPathCell%20=%20path%5Bpath.length%20-%201%5D%20%7C%7C%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20path.push(lastPathCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20(queuedCommands%20==%20false)%20nextMove();%0D%0A%7D%0D%0A%0D%0Afunction%20nextMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%0D%0A%20%20%20%20if%20(car.currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('Your%20algorithm%20worked!%20The%20car%20has%20reached%20the%20finishe%20line!');%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(path.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20nextCell%20=%20path.shift();%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20check%20if%20next%20cell%20exists%20on%20the%20grid%0D%0A%20%20%20%20%20%20%20%20if%20(nextCell%20==%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('The%20algorithm%20tries%20to%20lead%20the%20car%20off%20the%20grid.%20Please%20check%20the%20navigateRoad%20function.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(car.prevCell%20==%20null%20%7C%7C%20car.prevCell.reachableRoads.includes(car.currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20moveCarTo(nextCell);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('The%20algorithm%20led%20the%20car%20off%20track.%20Please%20check%20the%20navigateRoad%20function.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('The%20algorithm%20did%20not%20lead%20the%20car%20to%20the%20finish%20line.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20var%20seedRandom%20=%20new%20Math.seedrandom(seed);%0D%0A%0D%0A%20%20%20%20car.currentRow%20=%20gridCells%5BMath.floor(seedRandom()%20*%20gridCells.length)%5D;%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20filteredPaths%5BMath.floor(seedRandom()%20*%20filteredPaths.length)%5D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20track.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20null;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20btnRun.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20btnRun.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20btnRun.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201),%0D%0A%20%20%20%20%7D;%0D%0A%7D##JS_E####CODE_5E####LOGIC_5####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60%60);%0A//%20pass.on('nextMove').var(%60car.currentCell.id%20==%20'finish'%60);##JS_E####LOGIC_5E####STEP_5E####STEP_6####INST_6##A%20bigger%20map%0A%0AOur%20map%20is%20currently%20an%208%20by%205%20grid%20(%20+js#var%20nColumn#%20&%20js#var%20nRow#%20).%0A%0ALet's%20make%20it%20bigger%20to%20get%20a%20longer%20track.%0A(*)*Note*:%20the%20roads%20will%20be%20different%20after%20we%20change%20the%20size%20of%20the%20map.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20nColumn#,%20give%20the%20variable%20*nColumn*%20a%20new%20value%20of%20*15*.%0A%0A(!)On%20+js#var%20nRow#,%20give%20the%20variable%20*nRow*%20a%20new%20value%20of%20*10*.##INST_6E####CODE_6####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22/resources/css/font-awesome.min.css%22/%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAI%20Car%3C/p%3E%0D%0A%09%09%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%3Cbutton%20id='btnRun'%3E%3Ci%20class='fa%20fa-cogs%20fa-fw'%3E%3C/i%3ERun%20Algorithm%3C/button%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.1/seedrandom.min.js%22%3E%3C/script%3E%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2060px;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2032px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D##CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0Avar%20btnRun%20=%20document.querySelector('#btnRun');%0D%0A%0D%0A#BEGIN_EDITABLE#var%20nColumn%20=%208;#END_EDITABLE#%0D%0A#BEGIN_EDITABLE#var%20nRow%20=%205;#END_EDITABLE#%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20track%20=%20%5B%5D;%0D%0Avar%20path%20=%20%5B%5D;%0D%0Avar%20seed%20=%20%60$%7BlocalStorage.id_token%7D$%7BnColumn%7D$%7BnRow%7D%60;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0A%0D%0AbtnRun.onclick%20=%20navigateRoad;%0D%0A%0D%0AbtnRun.disable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnRun.disabled%20=%20true;%0D%0A%20%20%20%20btnRun.style.filter%20=%20'grayscale(0.6)';%0D%0A%20%20%20%20btnRun.style.opacity%20=%20'0.6';%0D%0A%7D;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20nextCommand%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20nextMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0Afunction%20navigateRoad()%20%7B%0D%0A%20%20%20%20btnRun.disable();%0D%0A%0D%0A%20%20%20%20%0D%0A%7D%0D%0A%0D%0Afunction%20goUp(n)%20%7B%0D%0A%20%20%20%20addToPath('up',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goDown(n)%20%7B%0D%0A%20%20%20%20addToPath('down',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goRight(n)%20%7B%0D%0A%20%20%20%20addToPath('right',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft(n)%20%7B%0D%0A%20%20%20%20addToPath('left',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20addToPath(dir,%20n%20=%201)%20%7B%0D%0A%20%20%20%20//%20%20check%20whether%20there%20is%20queued%20commands%0D%0A%20%20%20%20var%20queuedCommands%20=%20path.length%20%3E%200;%0D%0A%0D%0A%20%20%20%20while%20(n--%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20lastPathCell%20=%20path%5Bpath.length%20-%201%5D%20%7C%7C%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20path.push(lastPathCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20(queuedCommands%20==%20false)%20nextMove();%0D%0A%7D%0D%0A%0D%0Afunction%20nextMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%0D%0A%20%20%20%20if%20(car.currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('Your%20algorithm%20worked!%20The%20car%20has%20reached%20the%20finishe%20line!');%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(path.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20nextCell%20=%20path.shift();%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20check%20if%20next%20cell%20exists%20on%20the%20grid%0D%0A%20%20%20%20%20%20%20%20if%20(nextCell%20==%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('The%20algorithm%20tries%20to%20lead%20the%20car%20off%20the%20grid.%20Please%20check%20the%20navigateRoad%20function.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(car.prevCell%20==%20null%20%7C%7C%20car.prevCell.reachableRoads.includes(car.currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20moveCarTo(nextCell);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('The%20algorithm%20led%20the%20car%20off%20track.%20Please%20check%20the%20navigateRoad%20function.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('The%20algorithm%20did%20not%20lead%20the%20car%20to%20the%20finish%20line.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20var%20seedRandom%20=%20new%20Math.seedrandom(seed);%0D%0A%0D%0A%20%20%20%20car.currentRow%20=%20gridCells%5BMath.floor(seedRandom()%20*%20gridCells.length)%5D;%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20filteredPaths%5BMath.floor(seedRandom()%20*%20filteredPaths.length)%5D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20track.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20null;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20btnRun.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20btnRun.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20btnRun.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201),%0D%0A%20%20%20%20%7D;%0D%0A%7D##JS_E####CODE_6E####LOGIC_6####HTML####HTML_E####CSS####CSS_E####JS##//%20Transition:%0Alet%20output%20=%20codeWithoutMarkup.replace(/((%5Ct*%7C%5Cs*)%5Cn)%7B3,%7D/g,%20'%5Cn%5Cn').replace(/((%5Ct*%7C%5Cs*)%5Cn)%7B2,%7D%7D/g,%20'%5Cn%7D');%0Aoutput%20=%20makeEditableBlock(output,%20'var%20nColumn%20=%208;');%0Aoutput%20=%20makeEditableBlock(output,%20'var%20nRow%20=%205;');%0Areturn%20output;%0A%0A//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20nColumn%20=%2015;%60);%0Apass.if.js.editable(1).equivalent(%60var%20nRow%20=%2010;%60);##JS_E####LOGIC_6E####STEP_6E####STEP_7####INST_7##Another%20algorithm%0A%0ANow%20the%20map%20is%20bigger,%20it%20will%20require%20an%20algorithm%20with%20more%20commands%20to%20lead%20the%20car%20through%20the%20track.%0A%0ACan%20you%20do%20it?%0A%0ARemember%20the%204%20functions%20for%20moving%20the%20car:%0A%5B-%0A%09(*)%60goUp()%60%20-%20move%20the%20car%20to%20the%20cell%20above%20its%20current%20location.%0A%09(*)%60goDown()%60%20-%20move%20the%20car%20to%20the%20cell%20below%20its%20current%20location.%0A%09(*)%60goLeft()%60%20-%20move%20the%20car%20to%20the%20cell%20to%20the%20left%20of%20its%20current%20location.%0A%09(*)%60goRight()%60%20-%20move%20the%20car%20to%20the%20cell%20to%20the%20right%20of%20its%20current%20location.%0A-%5D%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#function%5D%0A%09(*)%5B#js#function%20arguments%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20goUp#-3,%20write%20the%20algorithm,%20click%20*Run%20Code*%20and%20then%20*Run%20Algorithm*%20to%20lead%20the%20car%20to%20the%20finish%20line.##INST_7E####CODE_7####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22/resources/css/font-awesome.min.css%22/%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAI%20Car%3C/p%3E%0D%0A%09%09%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%3Cbutton%20id='btnRun'%3E%3Ci%20class='fa%20fa-cogs%20fa-fw'%3E%3C/i%3ERun%20Algorithm%3C/button%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.1/seedrandom.min.js%22%3E%3C/script%3E%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2060px;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2032px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D##CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0Avar%20btnRun%20=%20document.querySelector('#btnRun');%0D%0A%0D%0Avar%20nColumn%20=%208;%0D%0Avar%20nRow%20=%205;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20track%20=%20%5B%5D;%0D%0Avar%20path%20=%20%5B%5D;%0D%0Avar%20seed%20=%20%60$%7BlocalStorage.id_token%7D$%7BnColumn%7D$%7BnRow%7D%60;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0A%0D%0AbtnRun.onclick%20=%20navigateRoad;%0D%0A%0D%0AbtnRun.disable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnRun.disabled%20=%20true;%0D%0A%20%20%20%20btnRun.style.filter%20=%20'grayscale(0.6)';%0D%0A%20%20%20%20btnRun.style.opacity%20=%20'0.6';%0D%0A%7D;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20nextCommand%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20nextMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0Afunction%20navigateRoad()%20%7B%0D%0A%20%20%20%20btnRun.disable();%0D%0A%0D%0A%20%20%20%20%0D%0A#BEGIN_EDITABLE#%20%20%20%20#END_EDITABLE#%0D%0A%7D%0D%0A%0D%0Afunction%20goUp(n)%20%7B%0D%0A%20%20%20%20addToPath('up',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goDown(n)%20%7B%0D%0A%20%20%20%20addToPath('down',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goRight(n)%20%7B%0D%0A%20%20%20%20addToPath('right',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft(n)%20%7B%0D%0A%20%20%20%20addToPath('left',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20addToPath(dir,%20n%20=%201)%20%7B%0D%0A%20%20%20%20//%20%20check%20whether%20there%20is%20queued%20commands%0D%0A%20%20%20%20var%20queuedCommands%20=%20path.length%20%3E%200;%0D%0A%0D%0A%20%20%20%20while%20(n--%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20lastPathCell%20=%20path%5Bpath.length%20-%201%5D%20%7C%7C%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20path.push(lastPathCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20(queuedCommands%20==%20false)%20nextMove();%0D%0A%7D%0D%0A%0D%0Afunction%20nextMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%0D%0A%20%20%20%20if%20(car.currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('Your%20algorithm%20worked!%20The%20car%20has%20reached%20the%20finishe%20line!');%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(path.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20nextCell%20=%20path.shift();%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20check%20if%20next%20cell%20exists%20on%20the%20grid%0D%0A%20%20%20%20%20%20%20%20if%20(nextCell%20==%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('The%20algorithm%20tries%20to%20lead%20the%20car%20off%20the%20grid.%20Please%20check%20the%20navigateRoad%20function.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(car.prevCell%20==%20null%20%7C%7C%20car.prevCell.reachableRoads.includes(car.currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20moveCarTo(nextCell);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('The%20algorithm%20led%20the%20car%20off%20track.%20Please%20check%20the%20navigateRoad%20function.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('The%20algorithm%20did%20not%20lead%20the%20car%20to%20the%20finish%20line.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20var%20seedRandom%20=%20new%20Math.seedrandom(seed);%0D%0A%0D%0A%20%20%20%20car.currentRow%20=%20gridCells%5BMath.floor(seedRandom()%20*%20gridCells.length)%5D;%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20filteredPaths%5BMath.floor(seedRandom()%20*%20filteredPaths.length)%5D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20track.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20null;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20btnRun.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20btnRun.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20btnRun.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201),%0D%0A%20%20%20%20%7D;%0D%0A%7D##JS_E####CODE_7E####LOGIC_7####HTML####HTML_E####CSS####CSS_E####JS##//%20Transition:%0Alet%20output%20=%20codeWithoutMarkup;%0Aoutput%20=%20output.replace(/(function%20navigateRoad%5C(%5C)%20%7B%5Cs*btnRun.disable%5C(%5C);%5Cs*)(%5B%5E%7D%5D*?)(%5Cn%7D)/g,%20'$1#BEGIN_EDITABLE#$2%5Cn#END_EDITABLE#$3');%0Areturn%20output;%0A%0A//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60%60);%0A//%20pass.on('nextMove').var(%60car.currentCell.id%20==%20'finish'%60);##JS_E####LOGIC_7E####STEP_7E####STEP_8####INST_8##Summary%0A%0AGreat%20job!%0A%0AYou%20have%20completed%20this%20project,%20here%20is%20a%20recap:%0A%0A%5B-%0A%09(*)HTML%20is%20used%20for%20adding%20elements%20to%20the%20page.%0A%09(*)CSS%20changes%20the%20look%20and%20feel%20of%20the%20page.%0A%09(*)JavaScript%20can%20be%20used%20to%20define%20how%20elements%20behave.%0A%09(*)%60onclick%60%20event%20triggers%20when%20the%20user%20clicks%20on%20an%20element.%0A%09(*)Events%20can%20be%20handled%20by%20using%20a%20functions.%0A%09(*)Algorithms%20run%20one%20after%20another%20from%20top%20to%20bottom.%0A-%5D##INST_8E####CODE_8####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22/resources/css/font-awesome.min.css%22/%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAI%20Car%3C/p%3E%0D%0A%09%09%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%3Cbutton%20id='btnRun'%3E%3Ci%20class='fa%20fa-cogs%20fa-fw'%3E%3C/i%3ERun%20Algorithm%3C/button%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.1/seedrandom.min.js%22%3E%3C/script%3E%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E##HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22https://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2060px;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.05);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2032px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D##CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0D%0Avar%20grid%20=%20document.querySelector('#grid');%0D%0Avar%20car%20=%20document.querySelector('#car');%0D%0Avar%20btnRun%20=%20document.querySelector('#btnRun');%0D%0A%0D%0Avar%20nColumn%20=%208;%0D%0Avar%20nRow%20=%205;%0D%0Avar%20cellSize%20=%2090%20/%20nColumn;%0D%0Avar%20gridCells%20=%20%5B%5D;%0D%0Avar%20track%20=%20%5B%5D;%0D%0Avar%20path%20=%20%5B%5D;%0D%0Avar%20seed%20=%20%60$%7BlocalStorage.id_token%7D$%7BnColumn%7D$%7BnRow%7D%60;%0D%0A%0D%0Avar%20imagePath%20=%20'https://app.bsd.education/resources';%0D%0A%0D%0Awindow.onload%20=%20init;%0D%0Awindow.onresize%20=%20resizeContent;%0D%0A%0D%0AbtnRun.onclick%20=%20navigateRoad;%0D%0A%0D%0AbtnRun.disable%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20btnRun.disabled%20=%20true;%0D%0A%20%20%20%20btnRun.style.filter%20=%20'grayscale(0.6)';%0D%0A%20%20%20%20btnRun.style.opacity%20=%20'0.6';%0D%0A%7D;%0D%0A%0D%0Afunction%20init()%20%7B%0D%0A%20%20%20%20drawGrid();%0D%0A%20%20%20%20plotPath();%0D%0A%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20car.style.height%20=%20car.style.width;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0D%0A%20%20%20%20car.rotation%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20nextCommand%20function%0D%0A%20%20%20%20car.addEventListener('transitionend',%20nextMove);%0D%0A%0D%0A%20%20%20%20resizeContent();%0D%0A%7D%0D%0A%0D%0Afunction%20navigateRoad()%20%7B%0D%0A%20%20%20%20btnRun.disable();%0D%0A%0D%0A%20%20%20%20%0D%0A%20%20%20%20goUp();%0D%0A%7D%0D%0A%0D%0Afunction%20goUp(n)%20%7B%0D%0A%20%20%20%20addToPath('up',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goDown(n)%20%7B%0D%0A%20%20%20%20addToPath('down',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goRight(n)%20%7B%0D%0A%20%20%20%20addToPath('right',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20goLeft(n)%20%7B%0D%0A%20%20%20%20addToPath('left',%20n);%0D%0A%7D%0D%0A%0D%0Afunction%20addToPath(dir,%20n%20=%201)%20%7B%0D%0A%20%20%20%20//%20%20check%20whether%20there%20is%20queued%20commands%0D%0A%20%20%20%20var%20queuedCommands%20=%20path.length%20%3E%200;%0D%0A%0D%0A%20%20%20%20while%20(n--%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20lastPathCell%20=%20path%5Bpath.length%20-%201%5D%20%7C%7C%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20path.push(lastPathCell%5Bdir%5D);%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20(queuedCommands%20==%20false)%20nextMove();%0D%0A%7D%0D%0A%0D%0Afunction%20nextMove()%20%7B%0D%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(car.currentCell.id%20==%20'finish')%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('Your%20algorithm%20worked!%20The%20car%20has%20reached%20the%20finishe%20line!');%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(path.length%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20nextCell%20=%20path.shift();%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20check%20if%20next%20cell%20exists%20on%20the%20grid%0D%0A%20%20%20%20%20%20%20%20if%20(nextCell%20==%20null)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('The%20algorithm%20tries%20to%20lead%20the%20car%20off%20the%20grid.%20Please%20check%20the%20navigateRoad%20function.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(car.prevCell%20==%20null%20%7C%7C%20car.prevCell.reachableRoads.includes(car.currentCell))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20moveCarTo(nextCell);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20alert('The%20algorithm%20led%20the%20car%20off%20track.%20Please%20check%20the%20navigateRoad%20function.');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('The%20algorithm%20did%20not%20lead%20the%20car%20to%20the%20finish%20line.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20moveCarTo(nextCell)%20%7B%0D%0A%20%20%20%20steerCarToward(nextCell);%0D%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0D%0A%20%20%20%20car.currentCell%20=%20nextCell;%0D%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0D%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0D%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0D%0A%7D%0D%0A%0D%0A//%20%20must%20be%20called%20before%20moveCarTo(nextCell)%0D%0Afunction%20steerCarToward(cell)%20%7B%0D%0A%20%20%20%20//%20%20rotate%20the%20car%0D%0A%20%20%20%20if%20(car.currentCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20clockwise;%0D%0A%20%20%20%20%20%20%20%20var%20anitClockwise;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.left)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.right);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.right%20&&%20cell%20==%20car.currentCell.down)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.left%20&&%20cell%20==%20car.currentCell.up)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.up%20&&%20cell%20==%20car.currentCell.right)%20%7C%7C%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(car.prevCell%20==%20car.currentCell.down%20&&%20cell%20==%20car.currentCell.left);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clockwise%20=%20cell.up%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20anitClockwise%20=%20cell.down%20==%20car.currentCell;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(clockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20+=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(anitClockwise)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%2090;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(cell%20==%20car.prevCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20car.rotation%20-=%20180;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20car.style.transform%20=%20%60rotate($%7Bcar.rotation%7Ddeg)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20plotPath()%20%7B%0D%0A%20%20%20%20var%20seedRandom%20=%20new%20Math.seedrandom(seed);%0D%0A%0D%0A%20%20%20%20car.currentRow%20=%20gridCells%5BMath.floor(seedRandom()%20*%20gridCells.length)%5D;%0D%0A%0D%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0D%0A%20%20%20%20var%20newRoadCell;%0D%0A%0D%0A%20%20%20%20prevRoadCell.roadType.push('left');%0D%0A%0D%0A%20%20%20%20moveCarTo(prevRoadCell);%0D%0A%0D%0A%20%20%20%20do%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0D%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20filteredPaths%5BMath.floor(seedRandom()%20*%20filteredPaths.length)%5D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20newRoadCell.reachableRoads.push(prevRoadCell);%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.reachableRoads.push(newRoadCell);%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0D%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0D%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0D%0A%20%20%20%20%20%20%20%20track.push(newRoadCell);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0D%0A%0D%0A%20%20%20%20newRoadCell.setRoadType('finish');%0D%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0D%0A%7D%0D%0A%0D%0Afunction%20drawGrid()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0D%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0D%0A%0D%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0D%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0D%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0D%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0D%0A%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0D%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20null;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.reachableRoads%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.row%20=%20nthRow;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.column%20=%20nthColumn;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('$%7BimagePath%7D/road_$%7Btype%7D.png')%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20resizeGrid()%20%7B%0D%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resizeContent()%20%7B%0D%0A%20%20%20%20resizeGrid();%0D%0A%20%20%20%20%0D%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20btnRun.offsetHeight);%0D%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20btnRun.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0D%0A%0D%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20btnRun.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0D%0A%7D%0D%0A%0D%0Afunction%20randomIndexFrom(arr)%20%7B%0D%0A%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0D%0A%7D%0D%0A%0D%0Afunction%20randomItemFrom(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20remove(item)%20%7B%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20%20%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201),%0D%0A%20%20%20%20%7D;%0D%0A%7D#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_8E####LOGIC_8####HTML####HTML_E####CSS####CSS_E####JS##//%20Transition:%0Areturn%20%60$%7BcodeWithoutMarkup.replace(/((%5Ct*%7C%5Cs*)%5Cn)%7B3,%7D/g,%20'%5Cn%5Cn').replace(/((%5Ct*%7C%5Cs*)%5Cn)%7B2,%7D%7D/g,%20'%5Cn%7D')%7D#BEGIN_EDITABLE##END_EDITABLE#%60;##JS_E####LOGIC_8E####STEP_8E##