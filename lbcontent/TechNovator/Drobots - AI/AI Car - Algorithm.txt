1##STEP_1####INST_1##Introduction%0A%0A%5BScenario%5D%20Why%20is%20this%20useful?%0A%0A%5BLearning%20Outcome%5D%20Exactly%20what%20the%20learner%20will%20do.%0A%0A(***)%0A%0A(!)pass%20the%20step.##INST_1E####CODE_1####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id='content'%3E%0D%0A%09%09%3Cp%20id='title'%3EAI%20Car%3C/p%3E%0D%0A%09%09%0D%0A%09%09%3Cdiv%20id='grid'%3E%0D%0A%09%09%09%3Cdiv%20id='car'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3C!--%20%3Cbutton%20id='btnRun'%3E%3Ci%20class='fa%20fa-cogs%20fa-fw'%3E%3C/i%3ERun%20Algorithm%3C/button%3E%20--%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cdiv%20id='chatbot'%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='messages'%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id='inputContainer'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id='userInput'%20placeholder='Type%20message%20here'%20value='go%20right'%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20id='btnSend'%3E%3Ci%20class='fa%20fa-paper-plane%20fa-fw'%3E%3C/i%3E%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22https://cdnjs.cloudflare.com/ajax/libs/seedrandom/3.0.1/seedrandom.min.js%22%3E%3C/script%3E%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E##HTML_E####CSS##/*%20font%20converted%20using%20font-converter.net.%20thank%20you!%20*/%0D%0A@font-face%20%7B%0D%0A%20%20%20%20font-family:%20%22FailedAttempt%22;%0D%0A%20%20%20%20src:%20url(%22http://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot%22);%0D%0A%20%20%20%20/*%20IE9%20Compat%20Modes%20*/%0D%0A%20%20%20%20src:%20url(%22http://imding.github.io/fonts/FailedAttempt/FailedAttempt.eot?#iefix%22)%20format(%22embedded-opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20IE6-IE8%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22http://imding.github.io/fonts/FailedAttempt/FailedAttempt.otf%22)%20format(%22opentype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Open%20Type%20Font%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22http://imding.github.io/fonts/FailedAttempt/FailedAttempt.svg%22)%20format(%22svg%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Legacy%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22http://imding.github.io/fonts/FailedAttempt/FailedAttempt.ttf%22)%20format(%22truetype%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Safari,%20Android,%20iOS%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22http://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff%22)%20format(%22woff%22),%0D%0A%20%20%20%20%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20%20%20%20%20url(%22http://imding.github.io/fonts/FailedAttempt/FailedAttempt.woff2%22)%20format(%22woff2%22);%0D%0A%20%20%20%20/*%20Modern%20Browsers%20*/%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%20%20%20%20font-style:%20normal;%0D%0A%7D%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%7D%0D%0A%0D%0Ahtml,%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Abutton,%0D%0Ainput,%0D%0Atextarea%20%7B%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20transition:%20box-shadow%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98);%0D%0A%7D%0D%0A%0D%0A#title%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20margin-bottom:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2060px;%0D%0A%7D%0D%0A%0D%0A#content%20%7B%0D%0A%20%20%20%20width:%2090vw;%0D%0A%20%20%20%20margin:%20auto;%0D%0A%7D%0D%0A%0D%0A#content,%0D%0A#grid%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20simulation%20area%20styles%0D%0A*/%0D%0A#grid%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20mediumseagreen;%0D%0A%20%20%20%20box-shadow:%200%200%2015px%20#111;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#grid%3Ediv%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#car%20%7B%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/car_blue.png');%0D%0A%20%20%20%20background-size:%2060%25;%0D%0A%20%20%20%20background-position:%2025%25%20center;%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20transition:%20left%200.4s%20linear,%20top%200.4s%20linear,%20transform%200.1s%20ease-in-out;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A%0D%0A.road%20%7B%0D%0A%20%20%20%20background-repeat:%20no-repeat;%0D%0A%20%20%20%20background-origin:%20border-box;%0D%0A%20%20%20%20background-size:%20100%25;%0D%0A%20%20%20%20border:%201px%20dotted%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20transform:%20scale(1.015);%0D%0A%7D%0D%0A%0D%0A#btnRun%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20/*%20left:%2050%25;%20*/%0D%0A%20%20%20%20bottom:%2020px;%0D%0A%20%20%20%20padding:%2010px%2030px%2010px%2015px;%0D%0A%20%20%20%20font-size:%2050px;%0D%0A%20%20%20%20border-radius:%2020px;%0D%0A%20%20%20%20font-family:%20'FailedAttempt';%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20transform-origin:%200;%0D%0A%7D%0D%0A%0D%0A#btnRun:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2020px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnRun:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.98)%20translate(-50%25);%0D%0A%7D%0D%0A%0D%0A#btnRun%3E.fa%20%7B%0D%0A%20%20%20%20transform:%20scale(0.6);%0D%0A%7D%0D%0A%0D%0A/*%0D%0A%20%20%20%20chat-bot%20styles%0D%0A*/%0D%0A#chatbot%20%7B%0D%0A%20%20%20%20position:%20fixed;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20padding:%200%2020px%2020px;%0D%0A%20%20%20%20max-width:%20600px;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%7D%0D%0A%0D%0A#inputContainer%20%7B%0D%0A%20%20%20%20display:%20flex;%0D%0A%7D%0D%0A%0D%0A#messages,%0D%0A#userInput%20%7B%0D%0A%20%20%20%20font-family:%20'VT323';%0D%0A%7D%0D%0A%0D%0A#messages%20%7B%0D%0A%20%20%20%20height:%20120px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20margin:%20auto%20auto%2010px;%0D%0A%20%20%20%20font-size:%2018px;%0D%0A%20%20%20%20overflow-y:%20auto;%0D%0A%20%20%20%20background-color:%20#222;%0D%0A%20%20%20%20color:%20gainsboro;%0D%0A%7D%0D%0A%0D%0A.userMessage,%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20padding:%208px%2015px%200;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20border-radius:%2015px;%0D%0A%7D%0D%0A%0D%0A.userMessage%20%7B%0D%0A%20%20%20%20text-align:%20right;%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%7D%0D%0A%0D%0A.botMessage%20%7B%0D%0A%20%20%20%20text-align:%20left;%0D%0A%20%20%20%20color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A#userInput%20%7B%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border-radius:%2023px;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20color:%20#333;%0D%0A%20%20%20%20flex:%20auto;%0D%0A%7D%0D%0A%0D%0A#userInput:hover,%0D%0A#userInput:focus,%0D%0A#btnSend:hover%20%7B%0D%0A%20%20%20%20box-shadow:%200%200%2010px%20#111;%0D%0A%7D%0D%0A%0D%0A#btnSend%20%7B%0D%0A%20%20%20%20margin-left:%2010px;%0D%0A%20%20%20%20height:%2040px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-size:%2020px;%0D%0A%20%20%20%20flex:%20none;%0D%0A%7D%0D%0A%0D%0A#messages::after%20%7B%0D%0A%20%20%20%20%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-thumb%20%7B%0D%0A%20%20%20%20border-style:%20solid;%0D%0A%20%20%20%20border-color:%20transparent;%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%20%20%20%20background-color:%20silver;%0D%0A%20%20%20%20background-clip:%20content-box;%0D%0A%7D%0D%0A%0D%0A#messages::-webkit-scrollbar-track%20%7B%0D%0A%20%20%20%20margin:%2010px;%0D%0A%7D##CSS_E####JS##var%20content%20=%20document.querySelector('#content');%0Avar%20grid%20=%20document.querySelector('#grid');%0Avar%20car%20=%20document.querySelector('#car');%0A%0A//%20var%20chatbot%20=%20document.querySelector('#chatbot');%0Avar%20messages%20=%20document.querySelector('#messages');%0Avar%20userInput%20=%20document.querySelector('#userInput');%0Avar%20btnSend%20=%20document.querySelector('#btnSend');%0A%0A//%20var%20btnRun%20=%20document.querySelector('#btnRun');%0A%0Avar%20nColumn%20=%2010;%0Avar%20nRow%20=%205;%0Avar%20cellSize%20=%2090%20/%20nColumn;%0Avar%20gridCells%20=%20%5B%5D;%0Avar%20track%20=%20%5B%5D;%0Avar%20path%20=%20%5B%5D;%0Avar%20userId%20=%20'Ding';%0A%0Awindow.onload%20=%20init;%0Awindow.onresize%20=%20resizeContent;%0Awindow.onkeypress%20=%20handleKeyPress;%0AbtnSend.onclick%20=%20readUserInput;%0A%0AbtnSend.enable%20=%20()%20=%3E%20%7B%0A%20%20%20%20btnSend.disabled%20=%20false;%0A%20%20%20%20btnSend.style.filter%20=%20'inherit';%0A%20%20%20%20btnSend.style.opacity%20=%20'inherit';%0A%7D;%0AbtnSend.disable%20=%20()%20=%3E%20%7B%0A%20%20%20%20btnSend.disabled%20=%20true;%0A%20%20%20%20btnSend.style.filter%20=%20'grayscale(0.6)';%0A%20%20%20%20btnSend.style.opacity%20=%20'0.6';%0A%7D;%0A%0A//%20btnRun.onclick%20=%20navigateRoad;%0A%0A//%20function%20loadProfile()%20%7B%0A//%20%20%20%20%20$BSD.profile.get().then(p%20=%3E%20%7B%0A//%20%20%20%20%20%20%20%20%20userId%20=%20p.userId;%0A//%20%20%20%20%20%20%20%20%20init();%0A//%20%20%20%20%20%7D);%0A//%20%7D%0A%0Afunction%20init()%20%7B%0A%20%20%20%20drawGrid();%0A%20%20%20%20plotPath();%0A%0A%20%20%20%20car.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0A%20%20%20%20car.style.height%20=%20car.style.width;%0A%20%20%20%20%0A%20%20%20%20//%20%20place%20the%20car%20on%20the%20first%20block%20in%20the%20track%0A%20%20%20%20car.rotation%20=%200;%0A%20%20%20%20%0A%20%20%20%20//%20%20handle%20the%20transitionend%20event%20using%20the%20nextCommand%20function%0A%20%20%20%20car.addEventListener('transitionend',%20nextMove);%0A%0A%20%20%20%20resizeContent();%0A%7D%0A%0Afunction%20readUserInput()%20%7B%0A%20%20%20%20var%20command%20=%20userInput.value.trim().replace(/%5Cs+/g,%20'%20').toLowerCase();%0A%20%20%20%20%0A%20%20%20%20if%20(command.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20displayUserMessage(command);%0A%0A%20%20%20%20%20%20%20%20btnSend.disable();%0A%0A%20%20%20%20%20%20%20%20if%20(command%20==%20'run%20algorithm')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20navigateRoad();%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20right'%20%7C%7C%20command%20==%20'move%20right')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20goRight();%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20up')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20goUp();%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20down')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20goDown();%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20(command%20==%20'go%20left')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20goLeft();%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20displayUserMessage(message)%20%7B%0A%20%20%20%20attachMessage(message,%20'userMessage');%0A%7D%0A%0Afunction%20displayBotMessage(message)%20%7B%0A%20%20%20%20attachMessage(message,%20'botMessage');%0A%7D%0A%0Afunction%20attachMessage(message,%20type)%20%7B%0A%20%20%20%20var%20newMessage%20=%20document.createElement('div');%0A%20%20%20%20var%20avatar%20=%20document.createElement('img');%0A%20%20%20%20var%20text%20=%20document.createElement('p');%0A%20%20%20%20%0A%20%20%20%20text.className%20=%20type;%0A%20%20%20%20text.textContent%20=%20message;%0A%20%20%20%20messages.appendChild(text);%0A%0A%20%20%20%20userInput.value%20=%20'';%0A%20%20%20%20messages.scrollTo(0,%20messages.scrollHeight);%0A%7D%0A%0Afunction%20handleKeyPress()%20%7B%0A%20%20%20%20if%20(event.keyCode%20==%2013)%20%7B%0A%20%20%20%20%20%20%20%20btnSend.click();%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20navigateRoad()%20%7B%0A%20%20%20%20//%20btnRun.disabled%20=%20true;%0A%20%20%20%20//%20btnRun.style.filter%20=%20'grayscale(0.6)';%0A%20%20%20%20//%20btnRun.style.opacity%20=%20'0.6';%0A%0A%20%20%20%20goRight(2);%0A%20%20%20%20goUp(3);%0A%20%20%20%20goRight();%0A%20%20%20%20goDown(3);%0A%20%20%20%20goRight(2);%0A%20%20%20%20goUp();%0A%20%20%20%20goRight();%0A%20%20%20%20goDown();%0A%20%20%20%20goRight();%0A%20%20%20%20goUp(2);%0A%20%20%20%20goRight();%0A%20%20%20%20goUp(2);%0A%20%20%20%20goRight();%0A%7D%0A%0Afunction%20goUp(n)%20%7B%0A%20%20%20%20addToPath('up',%20n);%0A%7D%0A%0Afunction%20goDown(n)%20%7B%0A%20%20%20%20addToPath('down',%20n);%0A%7D%0A%0Afunction%20goRight(n)%20%7B%0A%20%20%20%20addToPath('right',%20n);%0A%7D%0A%0Afunction%20goLeft(n)%20%7B%0A%20%20%20%20addToPath('left',%20n);%0A%7D%0A%0Afunction%20addToPath(dir,%20n%20=%201)%20%7B%0A%20%20%20%20//%20%20start%20the%20car%20after%20receving%20the%20first%20command%0A%20%20%20%20if%20(path.length%20==%200)%20%7B%0A%20%20%20%20%20%20%20%20setTimeout(nextMove,%20200);%0A%20%20%20%20%7D%0A%0A%20%20%20%20while%20(n--)%20%7B%0A%20%20%20%20%20%20%20%20var%20pathEnd%20=%20path%5Bpath.length%20-%201%5D%20%7C%7C%20car.currentCell;%0A%20%20%20%20%20%20%20%20path.push(pathEnd%5Bdir%5D);%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20nextMove()%20%7B%0A%20%20%20%20if%20(event%20&&%20event.propertyName%20==%20'transform')%20return;%0A%0A%20%20%20%20if%20(path.length)%20%7B%0A%20%20%20%20%20%20%20%20var%20nextCell%20=%20path.shift();%0A%0A%20%20%20%20%20%20%20%20if%20(nextCell)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log(nextCell);%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nextCell%20!=%20track.shift())%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('The%20algorithm%20led%20the%20car%20off%20track.');%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20console.log('The%20algorithm%20led%20the%20car%20off%20track.%20Check%20the%20navigateRoad%20function.');%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(nextCell.id%20==%20'finish')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('You%20have%20reached%20the%20finishe%20line!%20');%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20console.log('Your%20algorithm%20worked!');%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20moveCarTo(nextCell);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20displayBotMessage('The%20algorithm%20tries%20to%20lead%20the%20car%20off%20the%20grid.%20Check%20the%20navigateRoad%20function.');%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20console.log('The%20algorithm%20tries%20to%20lead%20the%20car%20off%20the%20grid.%20Check%20the%20navigateRoad%20function.');%0A%20%20%20%20%20%20%20%20%20%20%20%20btnSend.enable();%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20displayBotMessage(%60Sucessfully%20moved%20from%20$%7Bcar.prevCell.location%7D%20to%20$%7Bcar.currentCell.location%7D%60);%0A%20%20%20%20%20%20%20%20btnSend.enable();%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20moveCarTo(nextCell)%20%7B%0A%20%20%20%20//%20%20rotate%20the%20car%0A%20%20%20%20if%20(car.currentCell)%20%7B%0A%20%20%20%20%20%20%20%20var%20rotation%20=%200;%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20(car.currentCell.up%20==%20nextCell)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20rotation%20=%20-90;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20(car.currentCell.down%20==%20nextCell)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20rotation%20=%2090;%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20car.style.transform%20=%20%60rotate($%7Brotation%7Ddeg)%60;%0A%20%20%20%20%7D%0A%0A%20%20%20%20car.prevCell%20=%20car.currentCell;%0A%20%20%20%20car.currentCell%20=%20nextCell;%0A%20%20%20%20car.currentRow%20=%20gridCells.filter(row%20=%3E%20row.includes(nextCell))%5B0%5D;%0A%20%20%20%20car.style.top%20=%20nextCell.style.top;%0A%20%20%20%20car.style.left%20=%20nextCell.style.left;%0A%7D%0A%0Afunction%20plotPath()%20%7B%0A%20%20%20%20var%20seedRandom%20=%20new%20Math.seedrandom(userId);%0A%0A%20%20%20%20car.currentRow%20=%20gridCells%5BMath.floor(seedRandom()%20*%20gridCells.length)%5D;%0A%0A%20%20%20%20var%20prevRoadCell%20=%20car.currentRow%5B0%5D;%0A%20%20%20%20var%20newRoadCell;%0A%0A%20%20%20%20prevRoadCell.roadType.push('left');%0A%0A%20%20%20%20moveCarTo(prevRoadCell);%0A%0A%20%20%20%20do%20%7B%0A%20%20%20%20%20%20%20%20var%20filteredPaths%20=%20prevRoadCell.paths.filter(cell%20=%3E%20cell%20!=%20prevRoadCell.left);%0A%20%20%20%20%20%20%20%20newRoadCell%20=%20filteredPaths%5BMath.floor(seedRandom()%20*%20filteredPaths.length)%5D;%0A%0A%20%20%20%20%20%20%20%20remove(prevRoadCell).from(newRoadCell.paths);%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20(newRoadCell.up%20==%20prevRoadCell)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('up');%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('down');%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.down%20==%20prevRoadCell)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('down');%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('up');%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20(newRoadCell.left%20==%20prevRoadCell)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20newRoadCell.roadType.push('left');%0A%20%20%20%20%20%20%20%20%20%20%20%20prevRoadCell.roadType.push('right');%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20//%20%20assign%20appropriate%20road%20type%20image%0A%20%20%20%20%20%20%20%20prevRoadCell.setRoadType(prevRoadCell.roadType.sort().join(''));%0A%0A%20%20%20%20%20%20%20%20//%20%20update%20prevCell%20for%20next%20loop%20iteration%0A%20%20%20%20%20%20%20%20prevRoadCell%20=%20newRoadCell;%0A%20%20%20%20%20%20%20%20track.push(newRoadCell);%0A%20%20%20%20%7D%0A%20%20%20%20while%20(newRoadCell.endOfRow%20==%20false);%0A%0A%20%20%20%20newRoadCell.setRoadType('finish');%0A%20%20%20%20newRoadCell.id%20=%20'finish';%0A%7D%0A%0Afunction%20drawGrid()%20%7B%0A%20%20%20%20resizeGrid();%0A%20%20%20%20%0A%20%20%20%20//%20%20create%20an%20array%20or%20undefined%20items%20whose%20length%20is%20equal%20to%20nRow%0A%20%20%20%20var%20rows%20=%20new%20Array(nRow).fill();%0A%0A%20%20%20%20//%20%20build%20the%20trackCells%202D%20array%0A%20%20%20%20rows.forEach((row,%20rowIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20array%20of%20undefined%20items%20whose%20length%20is%20equal%20to%20nColumn%0A%20%20%20%20%20%20%20%20row%20=%20new%20Array(nColumn).fill();%0A%20%20%20%20%20%20%20%20gridCells.push(row);%0A%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cell%20=%20document.createElement('div');%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.width%20=%20%60$%7BcellSize%7Dvw%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.height%20=%20cell.style.width;%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.top%20=%20%60$%7B(100%20/%20nRow)%20*%20rowIndex%7D%25%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.style.left%20=%20%60$%7B(100%20/%20nColumn)%20*%20cellIndex%7D%25%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.endOfRow%20=%20cellIndex%20==%20nColumn%20-%201;%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20row%5BcellIndex%5D%20=%20cell;%0A%20%20%20%20%20%20%20%20%20%20%20%20grid.appendChild(cell);%0A%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%7D);%0A%0A%20%20%20%20//%20%20store%20neighbouring%20cells%20for%20each%20cell%0A%20%20%20%20gridCells.forEach((row,%20nthRow)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20nthColumn)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20cell.down%20=%20cell.left%20=%20cell.right%20=%20null;%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.paths%20=%20%5B%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.roadType%20=%20%5B%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.location%20=%20%60(x:%20$%7BnthColumn%20+%201%7D,%20y:%20$%7BnthRow%20+%201%7D)%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20cell.setRoadType%20=%20type%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.className%20=%20'road';%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.style.backgroundImage%20=%20%60url('https://app.bsd.education/resources/road_$%7Btype%7D.png')%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.up%20=%20gridCells%5BnthRow%20-%201%5D%5BnthColumn%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.up);%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthRow%20%3C%20nRow%20-%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.down%20=%20gridCells%5BnthRow%20+%201%5D%5BnthColumn%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.down);%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.left%20=%20gridCells%5BnthRow%5D%5BnthColumn%20-%201%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.left);%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(nthColumn%20%3C%20nColumn%20-%201)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.right%20=%20gridCells%5BnthRow%5D%5BnthColumn%20+%201%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell.paths.push(cell.right);%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%7D);%0A%7D%0A%0Afunction%20resizeGrid()%20%7B%0A%20%20%20%20grid.style.height%20=%20%60$%7B90%20*%20(nRow%20/%20nColumn)%7Dvw%60;%0A%7D%0A%0Afunction%20resizeContent()%20%7B%0A%20%20%20%20resizeGrid();%0A%20%20%20%20%0A%20%20%20%20var%20contentRatio%20=%20content.offsetWidth%20/%20content.offsetHeight;%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20(window.innerHeight%20-%20chatbot.offsetHeight);%0A%20%20%20%20var%20scaleRatio%20=%20contentRatio%20%3E%20windowRatio%20?%20window.innerWidth%20*%200.9%20/%20content.offsetWidth%20:%20(window.innerHeight%20-%20chatbot.offsetHeight)%20*%200.9%20/%20content.offsetHeight;%0A%0A%20%20%20%20content.style.top%20=%20%60$%7B(window.innerHeight%20-%20chatbot.offsetHeight%20-%20content.offsetHeight)%20/%202%7Dpx%60;%0A%20%20%20%20content.style.transform%20=%20%60scale($%7BscaleRatio%7D)%60;%0A%20%20%20%20%0A%7D%0A%0A//%20function%20randomIndexFrom(arr)%20%7B%0A//%20%20%20%20%20return%20Math.floor(Math.random()%20*%20arr.length);%0A//%20%7D%0A%0A//%20function%20randomItemFrom(arr)%20%7B%0A//%20%20%20%20%20return%20arr%5BrandomIndexFrom(arr)%5D;%0A//%20%7D%0A%0Afunction%20remove(item)%20%7B%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20from:%20arr%20=%3E%20arr.splice(arr.indexOf(item),%201),%0A%20%20%20%20%7D;%0A%7D##JS_E####CODE_1E####LOGIC_1####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_1E####STEP_1E##