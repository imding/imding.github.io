2##STEP_1####INST_1##Introduction%0A%0AHave%20you%20ever%20watched%20the%20Matrix%20movie?%20In%20the%20title%20scene%20of%20the%20movie,%20there%20was%20rain%20code%20like%20this.%20%0A%0A%5Bimg::https://app.bsd.education/resources/rain_code.gif%5D%0A%0AIt%20called%20a%20generative%20art%20where%20each%20symbol%20in%20the%20rain%20was%20randomly%20generated%20using%20coding.%0A%0AIn%20this%20project,%20we%20will%20write%20some%20JavaScript%20codes%20to%20regenerate%20this%20kind%20of%20generative%20art.##INST_1E####CODE_1####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0A%20%20%3C/head%3E%0A%20%20%3Cbody%3E%0A%09%3Cscript%20src=%22https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.5/dat.gui.min.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.3/p5.min.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20type=%22text/javascript%22%20src=%22script.js%22%3E%3C/script%3E%0A%20%20%3C/body%3E%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0A%20%20%20%20margin:%200;%0A%20%20%20%20padding:%200;%0A%7D##CSS_E####JS##var%20windowWidth%20=%20window.innerWidth;%0Avar%20windowHeight%20=%20window.innerHeight;%0A%0Avar%20minSymbolSize%20=%2017;%0Avar%20maxSymbolSize%20=%2030;%0A%0Avar%20minStreamSpeed%20=%206;%0Avar%20maxStreamSpeed%20=%2012;%0A%0Avar%20minStreamLength%20=%2010;%0Avar%20maxStreamLength%20=%2020;%0A%0Avar%20minOpacity%20=%20100;%0Avar%20maxOpacity%20=%20255;%0A%0Avar%20symbolFade%20=%205;%0Avar%20fadeStep%20=%20200%20/%20symbolFade;%0A%0Avar%20randomStartY%20=%20-1000;%0Avar%20streamColor%20=%20%5B0,%20230,%2070%5D;%0A%0Avar%20maxColumn%20=%20Math.floor(windowWidth%20/%20maxSymbolSize);%0A%0Avar%20streams%20=%20%5B%5D;%0A%0A%0Afunction%20setup()%20%7B%0A%20%20%20%20createCanvas(windowWidth,%20windowHeight);%0A%0A%20%20%20%20matrixRainCode();%0A%7D%0A%0Afunction%20matrixRainCode()%20%7B%0A%20%20%20%20var%20diffSymbolSize%20=%20maxSymbolSize%20-%20minSymbolSize;%0A%20%20%20%20var%20diffOpacity%20=%20maxOpacity%20-%20minOpacity;%0A%0A%20%20%20%20maxColumn%20=%20Math.floor(windowWidth%20/%20maxSymbolSize);%0A%20%20%20%20streams%20=%20%5B%5D;%0A%20%20%20%20fadeStep%20=%20200%20/%20symbolFade;%0A%0A%20%20%20%20for%20(var%20i%20=%200;%20i%20%3C%20maxColumn;%20i++)%20%7B%0A%20%20%20%20%20%20%20%20var%20randomY%20=%20random(randomStartY,%200);%0A%20%20%20%20%20%20%20%20var%20randomStreamSize%20=%20round(%20random(minStreamLength,%20maxStreamLength)%20);%0A%20%20%20%20%20%20%20%20var%20randomSymbolSize%20=%20round(%20random(minSymbolSize,%20maxSymbolSize)%20);%0A%20%20%20%20%20%20%20%20var%20randomStreamSpeed%20=%20round(%20random(minStreamSpeed,%20maxStreamSpeed)%20);%0A%20%20%20%20%20%20%20%20var%20streamOpacity%20=%20((randomSymbolSize%20-%20minSymbolSize)%20*%20diffOpacity%20/%20diffSymbolSize)%20+%20100;%0A%0A%20%20%20%20%20%20%20%20//%20Stream(x,%20y,%20total,%20size,%20speed,%20opacity)%0A%20%20%20%20%20%20%20%20stream%20=%20new%20Stream(i%20*%20(maxSymbolSize),%20randomY,%20randomStreamSize,%20randomSymbolSize,%20randomStreamSpeed,%20streamOpacity);%0A%20%20%20%20%20%20%20%20stream.generateSymbols();%0A%0A%20%20%20%20%20%20%20%20streams.push(stream);%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20draw()%20%7B%0A%20%20%20%20background(0,%20160);%0A%0A%20%20%20%20streams.forEach((stream)%20=%3E%20stream.render());%0A%7D%0A%0A%0A%0A/**%0A%20*%20Stream%20Class%0A%20*/%0Aclass%20Stream%20%7B%0A%20%20%20%20constructor(x,%20y,%20total,%20size,%20speed,%20opacity)%20%7B%0A%20%20%20%20%20%20%20%20this.x%20=%20x;%0A%20%20%20%20%20%20%20%20this.y%20=%20y;%0A%20%20%20%20%20%20%20%20this.symbols%20=%20%5B%5D;%0A%20%20%20%20%20%20%20%20this.total%20=%20total;%0A%20%20%20%20%20%20%20%20this.size%20=%20size;%0A%20%20%20%20%20%20%20%20this.speed%20=%20speed%0A%20%20%20%20%20%20%20%20this.opacity%20=%20opacity;%0A%20%20%20%20%7D%0A%0A%20%20%20%20generateSymbols()%20%7B%0A%20%20%20%20%20%20%20%20for%20(var%20i%20=%200;%20i%20%3C%20this.total;%20i++)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newSymbol%20=%20new%20Symbol(this.x,%20this.y,%20this.size,%20this.speed,%20this.opacity,%20i);%0A%20%20%20%20%20%20%20%20%20%20%20%20newSymbol.randomSymbol();%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20this.symbols.push(newSymbol);%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20this.y%20-=%20this.size;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20render()%20%7B%0A%20%20%20%20%20%20%20%20this.symbols.forEach((symbol)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20symbol.render();%0A%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%7D%0A%7D%0A%0A%0A%0A%0A/**%20%0A%20*%20Symbol%20Class%0A%20*/%0Aclass%20Symbol%20%7B%0A%20%20%20%20constructor(x,%20y,%20size,%20speed,%20opacity,%20letterIndex)%20%7B%0A%20%20%20%20%20%20%20%20this.x%20=%20x;%0A%20%20%20%20%20%20%20%20this.y%20=%20y;%0A%20%20%20%20%20%20%20%20this.size%20=%20size;%0A%20%20%20%20%20%20%20%20this.speed%20=%20speed;%0A%20%20%20%20%20%20%20%20this.opacity%20=%20opacity;%0A%20%20%20%20%20%20%20%20this.changeSymbolTime%20=%20round(random(7,%2025));%0A%0A%20%20%20%20%20%20%20%20//%20there%20is%2020%25%20chance%20to%20be%20a%20highlight%20letter%0A%20%20%20%20%20%20%20%20this.highlight%20=%20random()%20*%204%20%3C%201%20?%20true%20:%20false;%0A%20%20%20%20%20%20%20%20this.letterIndex%20=%20letterIndex;%0A%20%20%20%20%7D%0A%0A%20%20%20%20randomSymbol()%20%7B%0A%20%20%20%20%20%20%20%20this.value%20=%20String.fromCharCode(%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Greek%20characters%20ASCII%20code:%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20https://www.fileformat.info/info/unicode/block/greek_and_coptic/list.htm%0A%20%20%20%20%20%20%20%20%20%20%20%200x0370%20+%20round(random(0,%20135))%0A%20%20%20%20%20%20%20%20);%0A%20%20%20%20%7D%0A%0A%20%20%20%20move()%20%7B%0A%20%20%20%20%20%20%20%20this.y%20+=%20this.speed;%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20(frameCount%20%25%20this.changeSymbolTime%20==%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.randomSymbol();%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20//%20if%20the%20symbol%20moves%20out%20of%20the%20screen%20then%20reset%20the%20y%20position%20and%20random%20new%20character%0A%20%20%20%20%20%20%20%20if%20(this.y%20%3E%20height%20+%20this.size)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.y%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20this.randomSymbol();%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20render()%20%7B%0A%20%20%20%20%20%20%20%20if%20(this.letterIndex%20%3C=%20symbolFade)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20//fill(200%20-%20(this.letterIndex%20*%20fadeStep),%20230,%20200%20-%20(this.letterIndex%20*%20fadeStep),%20this.opacity);%0A%20%20%20%20%20%20%20%20%20%20%20%20fill(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20streamColor%5B0%5D%20+%20200%20-%20(this.letterIndex%20*%20fadeStep),%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20streamColor%5B1%5D%20+%20200%20-%20(this.letterIndex%20*%20fadeStep),%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20streamColor%5B2%5D%20+%20200%20-%20(this.letterIndex%20*%20fadeStep),%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.opacity%0A%20%20%20%20%20%20%20%20%20%20%20%20);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20(this.highlight)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20//fill(100,%20230,%20100,%20this.opacity);%0A%20%20%20%20%20%20%20%20%20%20%20%20fill(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20streamColor%5B0%5D%20+%2030,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20streamColor%5B1%5D%20+%2030,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20streamColor%5B2%5D%20+%2030,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.opacity%0A%20%20%20%20%20%20%20%20%20%20%20%20);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20fill(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20streamColor%5B0%5D,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20streamColor%5B1%5D,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20streamColor%5B2%5D,%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.opacity%0A%20%20%20%20%20%20%20%20%20%20%20%20);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20textSize(this.size);%0A%0A%20%20%20%20%20%20%20%20text(this.value,%20this.x,%20this.y);%0A%0A%20%20%20%20%20%20%20%20this.move();%0A%20%20%20%20%7D%0A%7D%0A%0A%0A%0A%0A%0A%0A%0A%0A/**%0A%20*%20UI%0A%20*/%0Avar%20config%20=%20%7B%0A%20%20%20%20'min%20Size':%2017,%0A%20%20%20%20'max%20Size':%2030,%0A%20%20%20%20'min%20Speed':%206,%0A%20%20%20%20'max%20Speed':%2012,%0A%20%20%20%20'min%20Length':%2010,%0A%20%20%20%20'max%20Length':%2020,%0A%20%20%20%20'min%20Opacity':%20100,%0A%20%20%20%20'max%20Opacity':%20255,%0A%20%20%20%20'symbol%20Fade':%203,%0A%20%20%20%20'stream%20Color':%20%5B0,%20230,%2070%5D,%0A%20%20%20%20'Regenerate':%20function()%20%7B%20matrixRainCode();%20%7D,%0A%7D;%0A%0Avar%20gui%20=%20new%20dat.GUI();%0A%0A/**%0A%20*%20SYMBOL%20SIZE%0A%20*/%0Avar%20symbolSizeFolder%20=%20gui.addFolder('Symbol%20Size');%0Avar%20minSizeController%20=%20symbolSizeFolder.add(config,%20'min%20Size',%2010,%2050);%0Avar%20maxSizeController%20=%20symbolSizeFolder.add(config,%20'max%20Size',%2010,%2050);%0AsymbolSizeFolder.open();%0A%0AminSizeController.onFinishChange((value)%20=%3E%20%7B%20minSymbolSize%20=%20value;%20matrixRainCode();%20%7D);%0AmaxSizeController.onFinishChange((value)%20=%3E%20%7B%20maxSymbolSize%20=%20value;%20matrixRainCode();%20%7D);%0A%0A%0A/**%0A%20*%20STREAM%20SPEED%0A%20*/%0Avar%20streamSpeedFolder%20=%20gui.addFolder('Stream%20Speed');%0Avar%20minSpeedController%20=%20streamSpeedFolder.add(config,%20'min%20Speed',%200,%2020);%0Avar%20maxSpeedController%20=%20streamSpeedFolder.add(config,%20'max%20Speed',%200,%2020);%0A//streamSpeedFolder.open();%0A%0AminSpeedController.onFinishChange((value)%20=%3E%20%7B%20minStreamSpeed%20=%20value;%20matrixRainCode();%20%7D);%0AmaxSpeedController.onFinishChange((value)%20=%3E%20%7B%20maxStreamSpeed%20=%20value;%20matrixRainCode();%20%7D);%0A%0A%0A/**%0A%20*%20STREAM%20LENGTH%0A%20*/%0Avar%20streamLengthFolder%20=%20gui.addFolder('Stream%20Length');%0Avar%20minLengthController%20=%20streamLengthFolder.add(config,%20'min%20Length',%201,%2030);%0Avar%20maxLengthController%20=%20streamLengthFolder.add(config,%20'max%20Length',%201,%2030);%0A//streamLengthFolder.open();%0A%0AminLengthController.onFinishChange((value)%20=%3E%20%7B%20minStreamLength%20=%20value;%20matrixRainCode();%20%7D);%0AmaxLengthController.onFinishChange((value)%20=%3E%20%7B%20maxStreamLength%20=%20value;%20matrixRainCode();%20%7D);%0A%0A%0A/**%0A%20*%20OPACITY%20%0A%20*/%0Avar%20opacityFolder%20=%20gui.addFolder('Stream%20Opacity');%0Avar%20minOpacityController%20=%20opacityFolder.add(config,%20'min%20Opacity',%200,%20255);%0Avar%20maxOpacityController%20=%20opacityFolder.add(config,%20'max%20Opacity',%200,%20255);%0A//opacityFolder.open();%0A%0AminOpacityController.onFinishChange((value)%20=%3E%20%7B%20minOpacity%20=%20value;%20matrixRainCode();%20%7D);%0AmaxOpacityController.onFinishChange((value)%20=%3E%20%7B%20maxOpacity%20=%20value;%20matrixRainCode();%20%7D);%0A%0A%0A/**%0A%20*%20FADE%20SYMBOL%0A%20*/%0Avar%20fadeFolder%20=%20gui.addFolder('Symbol%20Fade');%0Avar%20fadeController%20=%20fadeFolder.add(config,%20'symbol%20Fade',%200,%2020,%201);%0AfadeController.onFinishChange((value)%20=%3E%20%7B%20symbolFade%20=%20value;%20matrixRainCode();%20%7D);%0A%0A/**%0A%20*%20STREAM%20COLOR%0A%20*/%0Avar%20colorFolder%20=%20gui.addFolder('Stream%20Color');%0Avar%20colorController%20=%20colorFolder.addColor(config,%20'stream%20Color');%0AcolorController.onFinishChange((value)%20=%3E%20%7B%20streamColor%20=%20value;%20matrixRainCode();%20%7D);%0AcolorFolder.open();%0A%0Agui.add(config,%20'Regenerate');##JS_E####CODE_1E####LOGIC_1####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_1E####STEP_1E####STEP_2####INST_2##Generate%20a%20random%20symbol%0A%0ALet's%20begin%20by%20randomly%20generating%20a%20symbol%20and%20render%20it%20out%20on%20the%20screen.%20We%20have%202%20main%20functions%20in%20JavaScript%20code,%20setup%20and%20draw%20functions.%0A%0A(---)%0A%0A%5B-%0A%09(*)%0A%09(*)%0A-%5D%0A%0A(***)%0A%0A(!)On%20+type#key#,%20%0A%0A(!)On%20+type#key#,%20%0A%0A(!)On%20+type#key#,%20##INST_2E####CODE_2####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%20%20%3Chead%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0A%20%20%3C/head%3E%0A%20%20%3Cbody%3E%0A%09%3Cscript%20src=%22https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.5/dat.gui.min.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.3/p5.min.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20type=%22text/javascript%22%20src=%22script.js%22%3E%3C/script%3E%0A%20%20%3C/body%3E%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0A%20%20%20%20margin:%200;%0A%20%20%20%20padding:%200;%0A%7D##CSS_E####JS##var%20windowWidth%20=%20window.innerWidth;%0Avar%20windowHeight%20=%20window.innerHeight;%0A%0Avar%20symbol;%0A%0Afunction%20setup()%20%7B%0A%20%20%20%20createCanvas(windowWidth,%20windowHeight);%0A%20%20%20%20%0A%20%20%20%20symbol%20=%20new%20Symbol(windowWidth/2,%20windowHeight/2);%0A%20%20%20%20#BEGIN_EDITABLE#symbol.randomSymbol();#END_EDITABLE#%0A%7D%0A%0Afunction%20draw()%20%7B%0A%20%20%20%20background(0,%20160);%0A%0A%20%20%20%20#BEGIN_EDITABLE#symbol.render();#END_EDITABLE#%0A%7D%0A%0A%0A%0A/**%20%0A%20*%20Symbol%20Class%0A%20*/%0Aclass%20Symbol%20%7B%0A%20%20%20%20constructor(x,%20y)%20%7B%0A%20%20%20%20%20%20%20%20this.x%20=%20x;%0A%20%20%20%20%20%20%20%20this.y%20=%20y;%0A%20%20%20%20%20%20%20%20this.size%20=%2032;%0A%20%20%20%20%7D%0A%0A%20%20%20%20randomSymbol()%20%7B%0A%20%20%20%20%20%20%20%20this.value%20=%20String.fromCharCode(%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20Greek%20characters%20ASCII%20code:%20%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20https://www.fileformat.info/info/unicode/block/greek_and_coptic/list.htm%0A%20%20%20%20%20%20%20%20%20%20%20%200x0370%20+%20round(random(0,%20135))%0A%20%20%20%20%20%20%20%20);%0A%20%20%20%20%7D%0A%0A%20%20%20%20render()%20%7B%0A%20%20%20%20%20%20%20%20fill(0,%20230,%2070);%0A%20%20%20%20%20%20%20%20textSize(this.size);%0A%0A%20%20%20%20%20%20%20%20text(this.value,%20this.x,%20this.y);%0A%20%20%20%20%7D%0A%7D##JS_E####CODE_2E####LOGIC_2####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_2E####STEP_2E##