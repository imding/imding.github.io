7##STEP_1####INST_1##Introduction%0A%0AHello,%20my%20name%20is%20John.%20I'm%20a%20treasure%20hunter%20and%20I%20try%20to%20find%20a%20lost%20treasure%20on%20this%20island.%20Could%20you%20help%20me%20find%20it?%0A%0AHelp%20me%20by%20telling%20me%20the%20command%20below%20to%20direct%20me%20to%20the%20treasure.%0A%60moveLeft(x);%60%20to%20move%20to%20the%20left%20for%20x%20unit(s).%0A%60moveRight(x);%60%20to%20move%20to%20the%20right%20for%20x%20unit(s).%0A%60moveUp(x);%60%20to%20move%20down%20for%20x%20unit(s).%0A%60moveDown(x);%60%20to%20move%20up%20for%20x%20unit(s).%0A%0AFor%20example,%20if%20you%20type%20this%20command%20in%20the%20command%20panel%20%60moveRight(3);%60%20and%20click%20on%20the%20Run%20button,%20I%20will%20move%203%20units%20to%20the%20right.%20%0AYou%20can%20also%20type%20multiple%20commands%20on%20separate%20lines%20to%20perform%20sequential%20operations.##INST_1E####CODE_1####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Cmeta%20name=%22viewport%22%20content=%22width=device-width,%20initial-scale=1.0%22%3E%0A%20%20%20%20%3Cmeta%20http-equiv=%22X-UA-Compatible%22%20content=%22ie=edge%22%3E%0A%20%20%20%20%3Ctitle%3EMap%20and%20Scale%3C/title%3E%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=Source+Sans+Pro%22%20rel=%22stylesheet%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Cdiv%20class=%22appContainer%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22container%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22mapContainer%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22player%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22sprite%22%20class=%22idle%20idle10%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22treasure%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22commandContainer%22%3E%0A%3Cdiv%20id=%22editor%22%3E//%20type%20your%20command%20here...%0A%0A%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick=%22runCommand()%22%3ERun%20%3E%3E%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22scaleContainer%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3EMap%20Scale%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id=%22scaleSlider%22%20type=%22range%22%20min=%220.7%22%20max=%222%22%20step=%220.1%22%20value=%222%22%20oninput=%22changeScale()%22%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%20%3C!--%20end%20#appContainer%20--%3E%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%0A%0A%20%20%20%20%3Cdiv%20class=%22appContainer%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id=%22characterProfileImg%22%20src=%22https://app.bsd.education/resources/character_profile.png%22%20alt=%22%22%3E%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch3%3EI'm%20John%3C/h3%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22characterMessage%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20Hey!%20My%20name%20is%20John.%20I'm%20a%20treasure%20hunter.%20Could%20you%20help%20me%20find%20the%20treasure?%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20Type%20the%20following%20command%20in%20the%20command%20panel%20on%20the%20right%20to%20guide%20me%20to%20the%20treasure.%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3EmoveLeft(x);%3C/span%3E%20to%20move%20to%20the%20left%20for%20x%20unit(s).%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3EmoveRight(x);%3C/span%3E%20to%20move%20to%20the%20right%20for%20x%20unit(s).%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3EmoveUp(x);%3C/span%3E%20to%20move%20down%20for%20x%20unit(s).%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3EmoveDown(x);%3C/span%3E%20to%20move%20up%20for%20x%20unit(s).%3Cbr%20/%3E%0A%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.2/ace.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0A%20%20%20%20margin:%200;%0A%20%20%20%20font-family:%20'Source%20Sans%20Pro',%20sans-serif;%0A%7D%0A%0A#editor%20%7B%20%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%200;%0A%20%20%20%20right:%200;%0A%20%20%20%20bottom:%2040px;%0A%20%20%20%20left:%200;%0A%7D%0A%0A.appContainer%20%7B%0A%20%20%20%20max-width:%20680px;%0A%20%20%20%20margin:%2015px%20auto;%0A%20%20%20%20display:%20flex;%0A%20%20%20%20position:%20relative;%0A%7D%0A%0A#container%20%7B%0A%20%20%20%20width:%20395px;%0A%20%20%20%20height:%20355px;%0A%20%20%20%20overflow:%20auto;%0A%20%20%20%20/*%20border:%206px%20solid%20white;%20*/%0A%20%20%20%20box-shadow:%200%202px%204px%20rgba(0,0,0,%200.3);%0A%20%20%20%20background-color:%20white;%0A%20%20%20%20transform-origin:%20left%20top;%0A%7D%0A%0A#mapContainer%20%7B%0A%20%20%20%20width:%20512px;%0A%20%20%20%20height:%20512px;%0A%20%20%20%20background-color:%20black;%0A%20%20%20%20position:%20relative;%0A%20%20%20%20margin:%200%20auto;%0A%20%20%20%20transform-origin:%20left%20top;%0A%20%20%20%20transition:%20transform%200.25s%20ease-out;%0A%7D%0A%0A.tile%20%7B%0A%20%20%20%20width:%2032px;%0A%20%20%20%20height:%2032px;%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/tilemap.png');%0A%20%20%20%20border:%200.2px%20dashed%20rgba(0,0,0,0.2);%0A%20%20%20%20box-sizing:%20border-box;%0A%7D%0A%0A.tile1%20%7B%20background-position:%200%200;%20%7D%0A.tile2%20%7B%20background-position:%20-32px%200;%20%7D%0A.tile3%20%7B%20background-position:%20-64px%200;%20%7D%0A.tile4%20%7B%20background-position:%20-96px%200;%20%7D%0A.tile5%20%7B%20background-position:%20-128px%200;%20%7D%0A.tile6%20%7B%20background-position:%20-160px%200;%20%7D%0A.tile7%20%7B%20background-position:%20-224px%200;%20%7D%0A.tile8%20%7B%20background-position:%20-256px%200;%20%7D%0A.tile9%20%7B%20background-position:%20-288px%200;%20%7D%0A.tile10%20%7B%20background-position:%20-320px%200;%20%7D%0A%0A.tile11%20%7B%20background-position:%200px%20%20%20-32px;%20%7D%0A.tile12%20%7B%20background-position:%20-32px%20-32px;%20%7D%20/*%20UNUSED%20*/%0A.tile13%20%7B%20background-position:%20-64px%20-32px;%20%7D%0A.tile14%20%7B%20background-position:%20-96px%20-32px;%20%7D%0A.tile15%20%7B%20background-position:%20-128px%20-32px;%20%7D%0A.tile16%20%7B%20background-position:%20-160px%20-32px;%20%7D%0A.tile17%20%7B%20background-position:%20-224px%20-32px;%20%7D%0A.tile18%20%7B%20background-position:%20-256px%20-32px;%20%7D%0A.tile19%20%7B%20background-position:%20-288px%20-32px;%20%7D%0A.tile20%20%7B%20background-position:%20-320px%20-32px;%20%7D%0A%0A.tile21%20%7B%20background-position:%200px%20%20%20-64px;%20%7D%0A.tile22%20%7B%20background-position:%20-32px%20-64px;%20%7D%0A.tile23%20%7B%20background-position:%20-64px%20-64px;%20%7D%0A.tile24%20%7B%20background-position:%20-96px%20-64px;%20%7D%0A.tile25%20%7B%20background-position:%20-128px%20-64px;%20%7D%0A.tile26%20%7B%20background-position:%20-160px%20-64px;%20%7D%0A%0A.tile27%20%7B%20background-position:%200px%20-96px;%20%7D%0A.tile28%20%7B%20background-position:%20-32px%20-96px;%20%7D%0A.tile29%20%7B%20background-position:%20-64px%20-96px;%20%7D%0A%0A.tile30%20%7B%20background-position:%200px%20-128px;%20%7D%0A.tile31%20%7B%20background-position:%20-32px%20-128px;%20%7D%0A.tile32%20%7B%20background-position:%20-64px%20-128px;%20%7D%0A%0A.tile33%20%7B%20background-position:%200px%20-160px;%20%7D%0A.tile34%20%7B%20background-position:%20-32px%20-160px;%20%7D%0A.tile35%20%7B%20background-position:%20-64px%20-160px;%20%7D%0A%0A#player%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%2017px;%0A%20%20%20%20left:%2014px;%0A%20%20%20%20z-index:%2010;%0A%20%20%20%20width:%2032px;%0A%20%20%20%20height:%2050px;%0A%20%20%20%20transition:%20all%200.3s%20linear;%0A%7D%0A%0A#sprite%20%7B%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/character_animation.png');%0A%20%20%20%20background-repeat:%20no-repeat;%0A%20%20%20%20transform:%20scale(0.5);%0A%20%20%20%20transform-origin:%20center%20center;%0A%7D%0A%0A.idle%20%7B%0A%20%20%20%20width:%2064px;%0A%20%20%20%20height:%2098px;%0A%7D%0A%0A.idle1%20%7B%20background-position:%20-81px%200px;%20%7D%0A.idle2%20%7B%20background-position:%20-145px%200px;%20%7D%0A.idle3%20%7B%20background-position:%20-209px%200px;%20%7D%0A.idle4%20%7B%20background-position:%20-273px%200px;%20%7D%0A.idle5%20%7B%20background-position:%20-337px%200px;%20%7D%0A.idle6%20%7B%20background-position:%20-401px%200px;%20%7D%0A.idle7%20%7B%20background-position:%20-465px%200px;%20%7D%0A.idle8%20%7B%20background-position:%20-529px%200px;%20%7D%0A.idle9%20%7B%20background-position:%20-593px%200px;%20%7D%0A.idle10%20%7B%20background-position:%20-657px%200px;%20%7D%0A%0A.run%20%7B%0A%20%20%20%20width:%2083px;%0A%20%20%20%20height:%20102px;%0A%7D%0A%0A.run1%20%7B%20background-position:%2013px%20-100px;%20%7D%0A.run2%20%7B%20background-position:%20-70px%20-100px;%20%7D%0A.run3%20%7B%20background-position:%20-153px%20-100px;%20%7D%0A.run4%20%7B%20background-position:%20-236px%20-100px;%20%7D%0A.run5%20%7B%20background-position:%20-319px%20-100px;%20%7D%0A.run6%20%7B%20background-position:%20-402px%20-100px;%20%7D%0A.run7%20%7B%20background-position:%20-485px%20-100px;%20%7D%0A.run8%20%7B%20background-position:%20-568px%20-100px;%20%7D%0A.run9%20%7B%20background-position:%20-651px%20-100px;%20%7D%0A.run10%20%7B%20background-position:%20-734px%20-100px;%20%7D%0A%0A%0A#commandContainer%20%7B%0A%20%20%20%20width:%20300px;%0A%20%20%20%20margin-left:%2010px;%0A%20%20%20%20position:%20relative;%0A%7D%0A%0A#commandContainer%20button%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20bottom:%200;%0A%20%20%20%20left:%200;%0A%20%20%20%20right:%200;%0A%20%20%20%20width:%20100%25;%0A%20%20%20%20height:%2035px;%0A%20%20%20%20cursor:%20pointer;%0A%20%20%20%20background-color:%20#91c247;%0A%20%20%20%20border:%20none;%0A%20%20%20%20outline:%20none;%0A%20%20%20%20border-radius:%203px;%0A%20%20%20%20font-weight:%20bold;%0A%7D%0A%0A#commandContainer%20button:active%20%7B%0A%20%20%20%20background-color:%20#75a034;%0A%7D%0A%0A%0A#treasure%20%7B%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/treasure.png');%0A%20%20%20%20background-repeat:%20no-repeat;%0A%20%20%20%20background-size:%2025px%2025px;%0A%20%20%20%20width:%2025px;%0A%20%20%20%20height:%2025px;%0A%20%20%20%20z-index:%205;%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%20-14px;%0A%20%20%20%20left:%20-11px;%0A%7D%0A%0A#characterProfileImg%20%7B%0A%20%20%20%20width:%20100px;%0A%20%20%20%20height:%20100px;%0A%7D%0A%0Ah3%20%7B%0A%20%20%20%20text-align:%20center;%0A%20%20%20%20margin:%200;%0A%7D%0A%0A#characterMessage%20%7B%0A%20%20%20%20box-shadow:%200px%203px%205px%20rgba(0,0,0,0.3);%0A%20%20%20%20padding:%2015px;%0A%20%20%20%20border-radius:%205px;%0A%20%20%20%20flex:%201;%0A%20%20%20%20margin-left:%2030px;%0A%20%20%20%20position:%20relative;%0A%09background:%20%20#d1ddce;%0A%7D%0A%0A#characterMessage:after%20%7B%0A%09content:%20'';%0A%09position:%20absolute;%0A%09left:%200;%0A%09top:%2050px;%0A%09width:%200;%0A%09height:%200;%0A%09border:%2020px%20solid%20transparent;%0A%09border-right-color:%20#d1ddce;%0A%09border-left:%200;%0A%09margin-top:%20-20px;%0A%09margin-left:%20-20px;%0A%7D%0A%0A#characterMessage%20span%20%7B%0A%20%20%20%20padding:%205px;%0A%20%20%20%20background-color:%20white;%0A%20%20%20%20border-radius:%204px;%0A%20%20%20%20line-height:%202.2em;%0A%7D%0A%0A#scaleContainer%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%2010px;%0A%20%20%20%20left:%2010px;%0A%20%20%20%20background-color:%20rgba(255,%20255,%20255,%200.7);%0A%20%20%20%20padding:%203px%2010px;%0A%20%20%20%20border-radius:%2020px;%0A%7D%0A%0A#scaleContainer%20input%20%7B%0A%20%20%20%20width:%2080px;%0A%7D##CSS_E####JS##var%20template%20=%20%5B%0A%20%20%20%20%5B1,%20%20%202,%20%203,%20%204,%20%205,%20%206,%20%207,%20%208,%20%209,%2010%5D,%0A%20%20%20%20%5B11,%2012,%2013,%2014,%2015,%2016,%2017,%2018,%2019,%2020%5D,%0A%20%20%20%20%5B21,%2022,%2023,%2024,%2025,%2026%5D,%0A%20%20%20%20%5B27,%2028,%2029%5D,%0A%20%20%20%20%5B30,%2031,%2032%5D,%0A%20%20%20%20%5B33,%2034,%2035%5D%0A%5D;%0Avar%20map%20=%20%5B%0A%20%20%20%20%5B%207,%20%208,%2017,%2018,%20%207,%20%208,%2017,%20%2018,%207,%2014,%2015,%2016,%20%208,%20%201,%20%202,%20%203%5D,%20%0A%20%20%20%20%5B%208,%20%201,%20%202,%20%202,%20%203,%20%207,%20%201,%20%202,%20%203,%2014,%2015,%2016,%20%207,%2011,%2027,%2013%5D,%20%0A%20%20%20%20%5B%201,%2020,%2027,%2028,%2019,%20%202,%2020,%2030,%2013,%2014,%2015,%2016,%20%201,%2020,%2027,%2013%5D,%20%0A%20%20%20%20%5B11,%2035,%20%209,%2022,%2010,%2035,%20%209,%2022,%2023,%2014,%2015,%2016,%2021,%2022,%2010,%2013%5D,%20%0A%20%20%20%20%5B21,%2010,%2013,%20%208,%2021,%2010,%2013,%20%207,%20%208,%2024,%2025,%2026,%20%207,%20%208,%2011,%2013%5D,%20%0A%20%20%20%20%5B%208,%2011,%2013,%20%207,%2018,%2011,%2013,%20%201,%20%203,%20%201,%20%203,%20%208,%20%201,%20%202,%2020,%2013%5D,%20%0A%20%20%20%20%5B%207,%2011,%2013,%20%208,%20%201,%2020,%2013,%2021,%2023,%2011,%2013,%2018,%2011,%2033,%2032,%2013%5D,%20%0A%20%20%20%20%5B%2018,%2011,%2019,%20%202,%2020,%2033,%2019,%20%202,%20%202,%2020,%2019,%20%202,%2020,%2030,%2031,%2013%5D,%20%0A%20%20%20%20%5B%2017,%2021,%2022,%2022,%2022,%2022,%2010,%2027,%2030,%2031,%20%209,%2022,%2022,%2022,%2010,%2013%5D,%20%0A%20%20%20%20%5B%207,%20%204,%20%205,%20%205,%20%205,%20%206,%2021,%2022,%2010,%2032,%2013,%20%208,%20%208,%20%208,%2011,%2013%5D,%20%0A%20%20%20%20%5B%208,%2014,%2015,%2015,%2015,%2016,%2017,%2018,%2011,%2033,%2013,%20%207,%20%201,%20%202,%2020,%2013%5D,%20%0A%20%20%20%20%5B%2017,%2014,%2015,%2015,%2015,%2016,%20%208,%20%208,%2011,%2034,%2013,%2017,%2011,%2032,%20%209,%2023%5D,%20%0A%20%20%20%20%5B%2018,%2014,%2015,%2015,%2015,%2016,%20%201,%20%202,%2020,%2035,%2013,%2018,%2011,%2031,%2013,%20%208%5D,%20%0A%20%20%20%20%5B%207,%2024,%2025,%2025,%2025,%2026,%2011,%2034,%20%209,%2010,%2019,%20%203,%2011,%2030,%2019,%20%203%5D,%20%0A%20%20%20%20%5B%208,%20%201,%20%202,%20%202,%20%202,%20%202,%2020,%2030,%2013,%2021,%2022,%2023,%2021,%2022,%2022,%2023%5D,%20%0A%20%20%20%20%5B%203,%2021,%2022,%2022,%2022,%2022,%2022,%2022,%2023,%20%208,%20%204,%20%205,%20%205,%20%205,%20%206,%20%208%5D%0A%5D;%0Avar%20walkable%20=%20%5B2,%209,%2010,%2011,%2013,%2019,%2020,%2022,%2027,%2028,%2029,%2030,%2031,%2032,%2033,%2034,%2035%5D;%0A%0Avar%20mapContainer%20=%20document.getElementById(%22mapContainer%22);%0Avar%20tileSize%20=%2032;%0A%0Avar%20scaleSlider%20=%20document.getElementById(%22scaleSlider%22);%0A%0Avar%20player%20=%20document.getElementById(%22player%22);%0Avar%20playerSprite%20=%20document.getElementById(%22sprite%22);%0Avar%20playerAnimation%20=%20%22idle%22;%0Avar%20playerCurrentFrame%20=%201;%0Avar%20playerMaxFrames%20=%2010;%0Avar%20animationFrameInterval%20=%203;%0Avar%20timeTick%20=%200;%0Avar%20walkLength%20=%2032;%0A%0Avar%20currentLine%20=%20-1;%0Avar%20codeComment%20=%20false;%0Avar%20commandArray;%0Avar%20moveTimeStep%20=%20400;%0Avar%20commandStep%20=%200;%0Avar%20moveStep%20=%200;%0Avar%20playerRow%20=%202;%0Avar%20playerCol%20=%201;%0Avar%20playerX%20=%2014;%0Avar%20playerY%20=%2017;%0Avar%20treasure%20=%20document.getElementById(%22treasure%22);%0Avar%20treasureRow%20=%202;%0Avar%20treasureCol%20=%2013;%0A%0A%0A%0Afunction%20changeScale()%20%7B%0A%20%20%20%20//console.log(scaleSlider.value);%0A%0A%20%20%20%20mapContainer.style.transform%20=%20%22scale(%22%20+%20scaleSlider.value%20+%20%22)%22;%0A%7D%0A%0Afunction%20generateMap()%20%7B%0A%20%20%20%20for%20(var%20row%20=%200;%20row%20%3C%20map.length;%20row++)%20%7B%0A%20%20%20%20%20%20%20%20for%20(var%20col%20=%200;%20col%20%3C%20map%5Brow%5D.length;%20col++)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20//console.log(map%5Brow%5D%5Bcol%5D);%0A%20%20%20%20%20%20%20%20%20%20%20%20createTileById(map%5Brow%5D%5Bcol%5D,%20row,%20col);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20mapContainer.style.transform%20=%20%22scale(%22%20+%20scaleSlider.value%20+%20%22)%22;%0A%0A%20%20%20%20treasure.style.top%20=%20(treasureRow%20*%20walkLength)%20+%203%20+%20%22px%22;%0A%20%20%20%20treasure.style.left%20=%20(treasureCol%20*%20walkLength)%20+%203%20+%20%22px%22;%0A%7D%0A%0Afunction%20createTileById(id,%20row,%20col)%20%7B%0A%20%20%20%20//console.log(id);%0A%0A%20%20%20%20var%20newTile%20=%20document.createElement(%22div%22);%0A%20%20%20%20newTile.setAttribute(%22class%22,%20%22tile%20tile%22%20+%20id);%0A%20%20%20%20newTile.style.top%20=%20row%20*%20tileSize%20+%20%22px%22;%0A%20%20%20%20newTile.style.left%20=%20col%20*%20tileSize%20+%20%22px%22;%0A%0A%20%20%20%20mapContainer.appendChild(newTile);%0A%7D%0A%0Afunction%20update()%20%7B%0A%20%20%20%20timeTick++;%0A%20%20%20%20if%20(timeTick%20%3E%20animationFrameInterval)%20%7B%0A%20%20%20%20%20%20%20%20timeTick%20=%200;%0A%0A%20%20%20%20%20%20%20%20updateAnimation();%0A%20%20%20%20%7D%0A%0A%20%20%20%20requestAnimationFrame(update);%0A%7D%0A%0Afunction%20updateAnimation()%20%7B%0A%20%20%20%20playerSprite.className%20=%20playerAnimation%20+%20%22%20%22%20+%20playerAnimation%20+%20playerCurrentFrame;%0A%0A%20%20%20%20playerCurrentFrame++;%0A%20%20%20%20if%20(playerAnimation%20==%20%22idle%22%20&&%20playerCurrentFrame%20%3E%20playerMaxFrames)%20%7B%0A%20%20%20%20%20%20%20%20playerCurrentFrame%20=%201;%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(playerAnimation%20==%20%22run%22%20&&%20playerCurrentFrame%20%3E%20playerMaxFrames)%20%7B%0A%20%20%20%20%20%20%20%20playerCurrentFrame%20=%201;%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20runCommand()%20%7B%0A%20%20%20%20commandArray%20=%20editor.getValue().split(%22%5Cn%22);%0A%20%20%20%20%0A%20%20%20%20currentLine%20=%20-1;%0A%20%20%20%20getNextCommand();%0A%7D%0A%0Afunction%20getNextCommand()%20%7B%0A%20%20%20%20if%20(commandArray.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20executeCommand(commandArray.shift().trim());%0A%20%20%20%20%20%20%20%20currentLine++;%0A%20%20%20%20%20%20%20%20editor.selection.moveCursorToPosition(%7Brow:%20currentLine,%20column:%200%7D);%0A%20%20%20%20%20%20%20%20editor.selection.selectLine();%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20editor.clearSelection();%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20//alert(%22finish%20all%20commands%22);%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20(playerCol%20==%20treasureCol%20&&%20playerRow%20==%20treasureRow)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22I%20found%20the%20treasure%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20executeCommand(cmd)%20%7B%0A%20%20%20%20//console.log(cmd);%0A%0A%20%20%20%20var%20tempCmds%20=%20cmd.split(%22(%22);%0A%20%20%20%20var%20cmdStr;%0A%20%20%20%20var%20cmdParameter;%0A%0A%20%20%20%20if%20(tempCmds%5B0%5D.indexOf(%22//%22)%20%3E%20-1)%20%7B%0A%20%20%20%20%20%20%20%20//%20that%20line%20is%20a%20comment%20line%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(tempCmds%5B0%5D.indexOf(%22/*%22)%20%3E%20-1)%20%7B%0A%20%20%20%20%20%20%20%20//%20start%20of%20block%20comment%0A%20%20%20%20%20%20%20%20codeComment%20=%20true;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(tempCmds%5B0%5D.indexOf(%22*/%22)%20%3E%20-1)%20%7B%0A%20%20%20%20%20%20%20%20//%20end%20of%20block%20comment%0A%20%20%20%20%20%20%20%20codeComment%20=%20false;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(!codeComment%20&&%20cmd.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20if%20(tempCmds%5B0%5D%20==%20%22moveLeft%22%20%7C%7C%20tempCmds%5B0%5D%20==%20%22moveRight%22%20%7C%7C%20tempCmds%5B0%5D%20==%20%22moveUp%22%20%7C%7C%20tempCmds%5B0%5D%20==%20%22moveDown%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cmdStr%20=%20tempCmds%5B0%5D.trim();%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20cmdParameter%20=%20tempCmds%5B1%5D.split(%22);%22)%5B0%5D.trim();%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!isNaN(cmdParameter))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//console.log(cmdStr);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//console.log(parseInt(cmdParameter));%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20commandStep%20=%20parseInt(cmdParameter);%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//eval(cmdStr%20+%20%22(%22%20+%20parseInt(commandStep)%20+%20%22)%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cmdStr%20==%20%22moveRight%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveRight,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cmdStr%20==%20%22moveLeft%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveLeft,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cmdStr%20==%20%22moveUp%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveUp,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cmdStr%20==%20%22moveDown%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveDown,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move!%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert(%22parameter%20is%20not%20a%20valid%20number%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22invalid%20command:%20%22%20+%20cmd);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20moveLeft()%20%7B%0A%20%20%20%20%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow,%20playerCol%20-%201))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerX%20-=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.left%20=%20playerX%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerCol--;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%7D%0A%0Afunction%20moveRight()%20%7B%0A%20%20%20%20%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow,%20playerCol%20+%201))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerX%20+=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.left%20=%20playerX%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerCol++;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20%0A%7D%0A%0Afunction%20moveUp()%20%7B%0A%20%20%20%20%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow%20-%201,%20playerCol))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerY%20-=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.top%20=%20playerY%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerRow--;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%7D%0A%0Afunction%20moveDown()%20%7B%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow%20+%201,%20playerCol))%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerY%20+=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.top%20=%20playerY%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerRow++;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%7D%0A%0Afunction%20checkAvailableMove(row,%20col)%20%7B%0A%20%20%20%20return%20walkable.includes(map%5Brow%5D%5Bcol%5D);%0A%7D%0A%0A%0A%0A/*%20Editor%20*/%0Avar%20editor%20=%20ace.edit(%22editor%22);%0Aeditor.setOptions(%7B%0A%20%20%20%20autoScrollEditorIntoView:%20true,%0A%20%20%20%20copyWithEmptySelection:%20true,%0A%7D);%0Aeditor.setTheme(%22ace/theme/chrome%22);%0A//%20editor.setTheme(%22ace/theme/monokai%22);%0Aeditor.session.setMode(%22ace/mode/javascript%22);%0A%0AgenerateMap();%0A%0Aupdate();##JS_E####CODE_1E####LOGIC_1####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_1E####STEP_1E####STEP_2####INST_2##Grid%20system%0A%0AJohn%20has%20just%20arrived%20on%20this%20island.%20He%20is%20a%20treasure%20hunter%20and%20he%20hears%20rumors%20about%20a%20lost%20treasure%20somewhere%20on%20this%20island.%20He%20has%20a%20map,%20but%20it%20is%20quite%20difficult%20for%20him%20to%20specify%20the%20exact%20location%20of%20the%20treasure%20because%20there%20is%20no%20grid%20system%20on%20his%20map.%0A%0ALet's%20help%20him%20draw%20his%20own%20grid%20system.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5Bborder::#glossary/css/927c1e89-ccfb-47d4-b25f-85238c30e1f7%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+css#tilemap.png#+1,%20set%20%60border-width%60%20to%20*0.1px*.%0A(!)On%20+css#tilemap.png#+2,%20set%20%60border-style%60%20to%20*dashed*.%0A(!)On%20+css#tilemap.png#+3,%20set%20%60border-color%60%20to%20*rgba(0,0,0,0.2)*.##INST_2E####CODE_2####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Cmeta%20name=%22viewport%22%20content=%22width=device-width,%20initial-scale=1.0%22%3E%0A%20%20%20%20%3Cmeta%20http-equiv=%22X-UA-Compatible%22%20content=%22ie=edge%22%3E%0A%20%20%20%20%3Ctitle%3EMap%20and%20Scale%3C/title%3E%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=Source+Sans+Pro%22%20rel=%22stylesheet%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Cdiv%20class=%22appContainer%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22container%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22mapContainer%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22player%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22sprite%22%20class=%22idle%20idle10%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%20%3C!--%20end%20#appContainer%20--%3E%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%0A%0A%20%20%20%20%3Cdiv%20class=%22appContainer%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id=%22characterProfileImg%22%20src=%22https://app.bsd.education/resources/character_profile.png%22%20alt=%22%22%3E%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch3%3EI'm%20John%3C/h3%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22characterMessage%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20It%20is%20difficult%20to%20tell%20where%20the%20exact%20location%20of%20the%20treasure%20is.%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20How%20do%20I%20find%20the%20exact%20position?%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.2/ace.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0A%20%20%20%20margin:%200;%0A%20%20%20%20font-family:%20'Source%20Sans%20Pro',%20sans-serif;%0A%7D%0A%0A#editor%20%7B%20%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%200;%0A%20%20%20%20right:%200;%0A%20%20%20%20bottom:%2040px;%0A%20%20%20%20left:%200;%0A%7D%0A%0A.appContainer%20%7B%0A%20%20%20%20max-width:%20680px;%0A%20%20%20%20margin:%2015px%20auto;%0A%20%20%20%20display:%20flex;%0A%20%20%20%20position:%20relative;%0A%7D%0A%0A#container%20%7B%0A%20%20%20%20width:%20395px;%0A%20%20%20%20height:%20355px;%0A%20%20%20%20overflow:%20auto;%0A%20%20%20%20box-shadow:%200%202px%204px%20rgba(0,0,0,%200.3);%0A%20%20%20%20background-color:%20white;%0A%20%20%20%20transform-origin:%20left%20top;%0A%7D%0A%0A#mapContainer%20%7B%0A%20%20%20%20width:%20512px;%0A%20%20%20%20height:%20512px;%0A%20%20%20%20background-color:%20black;%0A%20%20%20%20position:%20relative;%0A%20%20%20%20margin:%200%20auto;%0A%20%20%20%20transform-origin:%20left%20top;%0A%20%20%20%20transition:%20transform%200.25s%20ease-out;%0A%7D%0A%0A.tile%20%7B%0A%20%20%20%20width:%2032px;%0A%20%20%20%20height:%2032px;%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/tilemap.png');%0A%20%20%20%20#BEGIN_EDITABLE#border-width:%200.1px;#END_EDITABLE#%0A%20%20%20%20#BEGIN_EDITABLE#border-style:%20dashed;#END_EDITABLE#%0A%20%20%20%20#BEGIN_EDITABLE#border-color:%20rgba(0,0,0,0.2);#END_EDITABLE#%0A%20%20%20%20box-sizing:%20border-box;%0A%7D%0A%0A.tile1%20%7B%20background-position:%200%200;%20%7D%0A.tile2%20%7B%20background-position:%20-32px%200;%20%7D%0A.tile3%20%7B%20background-position:%20-64px%200;%20%7D%0A.tile4%20%7B%20background-position:%20-96px%200;%20%7D%0A.tile5%20%7B%20background-position:%20-128px%200;%20%7D%0A.tile6%20%7B%20background-position:%20-160px%200;%20%7D%0A.tile7%20%7B%20background-position:%20-224px%200;%20%7D%0A.tile8%20%7B%20background-position:%20-256px%200;%20%7D%0A.tile9%20%7B%20background-position:%20-288px%200;%20%7D%0A.tile10%20%7B%20background-position:%20-320px%200;%20%7D%0A%0A.tile11%20%7B%20background-position:%200px%20%20%20-32px;%20%7D%0A.tile12%20%7B%20background-position:%20-32px%20-32px;%20%7D%20/*%20UNUSED%20*/%0A.tile13%20%7B%20background-position:%20-64px%20-32px;%20%7D%0A.tile14%20%7B%20background-position:%20-96px%20-32px;%20%7D%0A.tile15%20%7B%20background-position:%20-128px%20-32px;%20%7D%0A.tile16%20%7B%20background-position:%20-160px%20-32px;%20%7D%0A.tile17%20%7B%20background-position:%20-224px%20-32px;%20%7D%0A.tile18%20%7B%20background-position:%20-256px%20-32px;%20%7D%0A.tile19%20%7B%20background-position:%20-288px%20-32px;%20%7D%0A.tile20%20%7B%20background-position:%20-320px%20-32px;%20%7D%0A%0A.tile21%20%7B%20background-position:%200px%20%20%20-64px;%20%7D%0A.tile22%20%7B%20background-position:%20-32px%20-64px;%20%7D%0A.tile23%20%7B%20background-position:%20-64px%20-64px;%20%7D%0A.tile24%20%7B%20background-position:%20-96px%20-64px;%20%7D%0A.tile25%20%7B%20background-position:%20-128px%20-64px;%20%7D%0A.tile26%20%7B%20background-position:%20-160px%20-64px;%20%7D%0A%0A.tile27%20%7B%20background-position:%200px%20-96px;%20%7D%0A.tile28%20%7B%20background-position:%20-32px%20-96px;%20%7D%0A.tile29%20%7B%20background-position:%20-64px%20-96px;%20%7D%0A%0A.tile30%20%7B%20background-position:%200px%20-128px;%20%7D%0A.tile31%20%7B%20background-position:%20-32px%20-128px;%20%7D%0A.tile32%20%7B%20background-position:%20-64px%20-128px;%20%7D%0A%0A.tile33%20%7B%20background-position:%200px%20-160px;%20%7D%0A.tile34%20%7B%20background-position:%20-32px%20-160px;%20%7D%0A.tile35%20%7B%20background-position:%20-64px%20-160px;%20%7D%0A%0A#player%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%2017px;%0A%20%20%20%20left:%2014px;%0A%20%20%20%20z-index:%2010;%0A%20%20%20%20width:%2032px;%0A%20%20%20%20height:%2050px;%0A%20%20%20%20transition:%20all%200.3s%20linear;%0A%7D%0A%0A#sprite%20%7B%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/character_animation.png');%0A%20%20%20%20background-repeat:%20no-repeat;%0A%20%20%20%20transform:%20scale(0.5);%0A%20%20%20%20transform-origin:%20center%20center;%0A%7D%0A%0A.idle%20%7B%0A%20%20%20%20width:%2064px;%0A%20%20%20%20height:%2098px;%0A%7D%0A%0A.idle1%20%7B%20background-position:%20-81px%200px;%20%7D%0A.idle2%20%7B%20background-position:%20-145px%200px;%20%7D%0A.idle3%20%7B%20background-position:%20-209px%200px;%20%7D%0A.idle4%20%7B%20background-position:%20-273px%200px;%20%7D%0A.idle5%20%7B%20background-position:%20-337px%200px;%20%7D%0A.idle6%20%7B%20background-position:%20-401px%200px;%20%7D%0A.idle7%20%7B%20background-position:%20-465px%200px;%20%7D%0A.idle8%20%7B%20background-position:%20-529px%200px;%20%7D%0A.idle9%20%7B%20background-position:%20-593px%200px;%20%7D%0A.idle10%20%7B%20background-position:%20-657px%200px;%20%7D%0A%0A.run%20%7B%0A%20%20%20%20width:%2083px;%0A%20%20%20%20height:%20102px;%0A%7D%0A%0A.run1%20%7B%20background-position:%2013px%20-100px;%20%7D%0A.run2%20%7B%20background-position:%20-70px%20-100px;%20%7D%0A.run3%20%7B%20background-position:%20-153px%20-100px;%20%7D%0A.run4%20%7B%20background-position:%20-236px%20-100px;%20%7D%0A.run5%20%7B%20background-position:%20-319px%20-100px;%20%7D%0A.run6%20%7B%20background-position:%20-402px%20-100px;%20%7D%0A.run7%20%7B%20background-position:%20-485px%20-100px;%20%7D%0A.run8%20%7B%20background-position:%20-568px%20-100px;%20%7D%0A.run9%20%7B%20background-position:%20-651px%20-100px;%20%7D%0A.run10%20%7B%20background-position:%20-734px%20-100px;%20%7D%0A%0A%0A#commandContainer%20%7B%0A%20%20%20%20width:%20300px;%0A%20%20%20%20margin-left:%2010px;%0A%20%20%20%20position:%20relative;%0A%7D%0A%0A#commandContainer%20button%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20bottom:%200;%0A%20%20%20%20left:%200;%0A%20%20%20%20right:%200;%0A%20%20%20%20width:%20100%25;%0A%20%20%20%20height:%2035px;%0A%20%20%20%20cursor:%20pointer;%0A%20%20%20%20background-color:%20#91c247;%0A%20%20%20%20border:%20none;%0A%20%20%20%20outline:%20none;%0A%20%20%20%20border-radius:%203px;%0A%20%20%20%20font-weight:%20bold;%0A%7D%0A%0A#commandContainer%20button:active%20%7B%0A%20%20%20%20background-color:%20#75a034;%0A%7D%0A%0A%0A#treasure%20%7B%0A%20%20%20%20display:%20none;%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/treasure.png');%0A%20%20%20%20background-repeat:%20no-repeat;%0A%20%20%20%20background-size:%2025px%2025px;%0A%20%20%20%20width:%2025px;%0A%20%20%20%20height:%2025px;%0A%20%20%20%20z-index:%205;%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%20-14px;%0A%20%20%20%20left:%20-11px;%0A%7D%0A%0A#characterProfileImg%20%7B%0A%20%20%20%20width:%20100px;%0A%20%20%20%20height:%20100px;%0A%7D%0A%0Ah3%20%7B%0A%20%20%20%20text-align:%20center;%0A%20%20%20%20margin:%200;%0A%7D%0A%0A#characterMessage%20%7B%0A%20%20%20%20box-shadow:%200px%203px%205px%20rgba(0,0,0,0.3);%0A%20%20%20%20padding:%2015px;%0A%20%20%20%20border-radius:%205px;%0A%20%20%20%20flex:%201;%0A%20%20%20%20margin-left:%2030px;%0A%20%20%20%20position:%20relative;%0A%09background:%20%20#d1ddce;%0A%7D%0A%0A#characterMessage:after%20%7B%0A%09content:%20'';%0A%09position:%20absolute;%0A%09left:%200;%0A%09top:%2050px;%0A%09width:%200;%0A%09height:%200;%0A%09border:%2020px%20solid%20transparent;%0A%09border-right-color:%20#d1ddce;%0A%09border-left:%200;%0A%09margin-top:%20-20px;%0A%09margin-left:%20-20px;%0A%7D%0A%0A#characterMessage%20span%20%7B%0A%20%20%20%20padding:%205px;%0A%20%20%20%20background-color:%20white;%0A%20%20%20%20border-radius:%204px;%0A%20%20%20%20line-height:%202.2em;%0A%7D##CSS_E####JS##var%20template%20=%20%5B%0A%20%20%20%20%5B1,%20%20%202,%20%203,%20%204,%20%205,%20%206,%20%207,%20%208,%20%209,%2010%5D,%0A%20%20%20%20%5B11,%2012,%2013,%2014,%2015,%2016,%2017,%2018,%2019,%2020%5D,%0A%20%20%20%20%5B21,%2022,%2023,%2024,%2025,%2026%5D,%0A%20%20%20%20%5B27,%2028,%2029%5D,%0A%20%20%20%20%5B30,%2031,%2032%5D,%0A%20%20%20%20%5B33,%2034,%2035%5D%0A%5D;%0Avar%20map%20=%20%5B%0A%20%20%20%20%5B%207,%20%208,%2017,%2018,%20%207,%20%208,%2017,%20%2018,%207,%2014,%2015,%2016,%20%208,%20%201,%20%202,%20%203%5D,%20%0A%20%20%20%20%5B%208,%20%201,%20%202,%20%202,%20%203,%20%207,%20%201,%20%202,%20%203,%2014,%2015,%2016,%20%207,%2011,%2027,%2013%5D,%20%0A%20%20%20%20%5B%201,%2020,%2027,%2028,%2019,%20%202,%2020,%2030,%2013,%2014,%2015,%2016,%20%201,%2020,%2027,%2013%5D,%20%0A%20%20%20%20%5B11,%2035,%20%209,%2022,%2010,%2035,%20%209,%2022,%2023,%2014,%2015,%2016,%2021,%2022,%2010,%2013%5D,%20%0A%20%20%20%20%5B21,%2010,%2013,%20%208,%2021,%2010,%2013,%20%207,%20%208,%2024,%2025,%2026,%20%207,%20%208,%2011,%2013%5D,%20%0A%20%20%20%20%5B%208,%2011,%2013,%20%207,%2018,%2011,%2013,%20%201,%20%203,%20%201,%20%203,%20%208,%20%201,%20%202,%2020,%2013%5D,%20%0A%20%20%20%20%5B%207,%2011,%2013,%20%208,%20%201,%2020,%2013,%2021,%2023,%2011,%2013,%2018,%2011,%2033,%2032,%2013%5D,%20%0A%20%20%20%20%5B%2018,%2011,%2019,%20%202,%2020,%2033,%2019,%20%202,%20%202,%2020,%2019,%20%202,%2020,%2030,%2031,%2013%5D,%20%0A%20%20%20%20%5B%2017,%2021,%2022,%2022,%2022,%2022,%2010,%2027,%2030,%2031,%20%209,%2022,%2022,%2022,%2010,%2013%5D,%20%0A%20%20%20%20%5B%207,%20%204,%20%205,%20%205,%20%205,%20%206,%2021,%2022,%2010,%2032,%2013,%20%208,%20%208,%20%208,%2011,%2013%5D,%20%0A%20%20%20%20%5B%208,%2014,%2015,%2015,%2015,%2016,%2017,%2018,%2011,%2033,%2013,%20%207,%20%201,%20%202,%2020,%2013%5D,%20%0A%20%20%20%20%5B%2017,%2014,%2015,%2015,%2015,%2016,%20%208,%20%208,%2011,%2034,%2013,%2017,%2011,%2032,%20%209,%2023%5D,%20%0A%20%20%20%20%5B%2018,%2014,%2015,%2015,%2015,%2016,%20%201,%20%202,%2020,%2035,%2013,%2018,%2011,%2031,%2013,%20%208%5D,%20%0A%20%20%20%20%5B%207,%2024,%2025,%2025,%2025,%2026,%2011,%2034,%20%209,%2010,%2019,%20%203,%2011,%2030,%2019,%20%203%5D,%20%0A%20%20%20%20%5B%208,%20%201,%20%202,%20%202,%20%202,%20%202,%2020,%2030,%2013,%2021,%2022,%2023,%2021,%2022,%2022,%2023%5D,%20%0A%20%20%20%20%5B%203,%2021,%2022,%2022,%2022,%2022,%2022,%2022,%2023,%20%208,%20%204,%20%205,%20%205,%20%205,%20%206,%20%208%5D%0A%5D;%0Avar%20walkable%20=%20%5B2,%209,%2010,%2011,%2013,%2019,%2020,%2022,%2027,%2028,%2029,%2030,%2031,%2032,%2033,%2034,%2035%5D;%0A%0Avar%20mapContainer%20=%20document.getElementById(%22mapContainer%22);%0Avar%20tileSize%20=%2032;%0A%0Avar%20scaleSlider%20=%20document.getElementById(%22scaleSlider%22);%0A%0Avar%20player%20=%20document.getElementById(%22player%22);%0Avar%20playerSprite%20=%20document.getElementById(%22sprite%22);%0Avar%20playerAnimation%20=%20%22idle%22;%0Avar%20playerCurrentFrame%20=%201;%0Avar%20playerMaxFrames%20=%2010;%0Avar%20animationFrameInterval%20=%203;%0Avar%20timeTick%20=%200;%0Avar%20walkLength%20=%2032;%0A%0Avar%20currentLine%20=%20-1;%0Avar%20codeComment%20=%20false;%0Avar%20commandArray;%0Avar%20moveTimeStep%20=%20400;%0Avar%20commandStep%20=%200;%0Avar%20moveStep%20=%200;%0Avar%20playerRow%20=%202;%0Avar%20playerCol%20=%201;%0Avar%20playerX%20=%2014;%0Avar%20playerY%20=%2017;%0Avar%20treasure%20=%20document.getElementById(%22treasure%22);%0Avar%20treasureRow%20=%208;%0Avar%20treasureCol%20=%208;%0A%0A%0A%0Afunction%20changeScale()%20%7B%0A%20%20%20%20//console.log(scaleSlider.value);%0A%0A%20%20%20%20mapContainer.style.transform%20=%20%22scale(%22%20+%20scaleSlider.value%20+%20%22)%22;%0A%7D%0A%0Afunction%20generateMap()%20%7B%0A%20%20%20%20for%20(var%20row%20=%200;%20row%20%3C%20map.length;%20row++)%20%7B%0A%20%20%20%20%20%20%20%20for%20(var%20col%20=%200;%20col%20%3C%20map%5Brow%5D.length;%20col++)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20//console.log(map%5Brow%5D%5Bcol%5D);%0A%20%20%20%20%20%20%20%20%20%20%20%20createTileById(map%5Brow%5D%5Bcol%5D,%20row,%20col);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20mapContainer.style.transform%20=%20%22scale(1)%22;%0A%7D%0A%0Afunction%20createTileById(id,%20row,%20col)%20%7B%0A%20%20%20%20//console.log(id);%0A%0A%20%20%20%20var%20newTile%20=%20document.createElement(%22div%22);%0A%20%20%20%20newTile.setAttribute(%22class%22,%20%22tile%20tile%22%20+%20id);%0A%20%20%20%20newTile.style.top%20=%20row%20*%20tileSize%20+%20%22px%22;%0A%20%20%20%20newTile.style.left%20=%20col%20*%20tileSize%20+%20%22px%22;%0A%0A%20%20%20%20mapContainer.appendChild(newTile);%0A%7D%0A%0Afunction%20update()%20%7B%0A%20%20%20%20timeTick++;%0A%20%20%20%20if%20(timeTick%20%3E%20animationFrameInterval)%20%7B%0A%20%20%20%20%20%20%20%20timeTick%20=%200;%0A%0A%20%20%20%20%20%20%20%20updateAnimation();%0A%20%20%20%20%7D%0A%0A%20%20%20%20requestAnimationFrame(update);%0A%7D%0A%0Afunction%20updateAnimation()%20%7B%0A%20%20%20%20playerSprite.className%20=%20playerAnimation%20+%20%22%20%22%20+%20playerAnimation%20+%20playerCurrentFrame;%0A%0A%20%20%20%20playerCurrentFrame++;%0A%20%20%20%20if%20(playerAnimation%20==%20%22idle%22%20&&%20playerCurrentFrame%20%3E%20playerMaxFrames)%20%7B%0A%20%20%20%20%20%20%20%20playerCurrentFrame%20=%201;%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(playerAnimation%20==%20%22run%22%20&&%20playerCurrentFrame%20%3E%20playerMaxFrames)%20%7B%0A%20%20%20%20%20%20%20%20playerCurrentFrame%20=%201;%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20runCommand()%20%7B%0A%20%20%20%20commandArray%20=%20editor.getValue().split(%22%5Cn%22);%0A%20%20%20%20%0A%20%20%20%20currentLine%20=%20-1;%0A%20%20%20%20getNextCommand();%0A%7D%0A%0Afunction%20getNextCommand()%20%7B%0A%20%20%20%20if%20(commandArray.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20executeCommand(commandArray.shift().trim());%0A%20%20%20%20%20%20%20%20currentLine++;%0A%20%20%20%20%20%20%20%20editor.selection.moveCursorToPosition(%7Brow:%20currentLine,%20column:%200%7D);%0A%20%20%20%20%20%20%20%20editor.selection.selectLine();%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20editor.clearSelection();%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20//alert(%22finish%20all%20commands%22);%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20executeCommand(cmd)%20%7B%0A%20%20%20%20//console.log(cmd);%0A%0A%20%20%20%20var%20tempCmds%20=%20cmd.split(%22(%22);%0A%20%20%20%20var%20cmdStr;%0A%20%20%20%20var%20cmdParameter;%0A%0A%20%20%20%20if%20(tempCmds%5B0%5D.indexOf(%22//%22)%20%3E%20-1)%20%7B%0A%20%20%20%20%20%20%20%20//%20that%20line%20is%20a%20comment%20line%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(tempCmds%5B0%5D.indexOf(%22/*%22)%20%3E%20-1)%20%7B%0A%20%20%20%20%20%20%20%20//%20start%20of%20block%20comment%0A%20%20%20%20%20%20%20%20codeComment%20=%20true;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(tempCmds%5B0%5D.indexOf(%22*/%22)%20%3E%20-1)%20%7B%0A%20%20%20%20%20%20%20%20//%20end%20of%20block%20comment%0A%20%20%20%20%20%20%20%20codeComment%20=%20false;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(!codeComment%20&&%20cmd.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20if%20(tempCmds%5B0%5D%20==%20%22moveLeft%22%20%7C%7C%20tempCmds%5B0%5D%20==%20%22moveRight%22%20%7C%7C%20tempCmds%5B0%5D%20==%20%22moveUp%22%20%7C%7C%20tempCmds%5B0%5D%20==%20%22moveDown%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cmdStr%20=%20tempCmds%5B0%5D.trim();%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20cmdParameter%20=%20tempCmds%5B1%5D.split(%22);%22)%5B0%5D.trim();%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!isNaN(cmdParameter))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//console.log(cmdStr);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//console.log(parseInt(cmdParameter));%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20commandStep%20=%20parseInt(cmdParameter);%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//eval(cmdStr%20+%20%22(%22%20+%20parseInt(commandStep)%20+%20%22)%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cmdStr%20==%20%22moveRight%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveRight,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cmdStr%20==%20%22moveLeft%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveLeft,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cmdStr%20==%20%22moveUp%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveUp,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cmdStr%20==%20%22moveDown%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveDown,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move!%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert(%22parameter%20is%20not%20a%20valid%20number%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22invalid%20command:%20%22%20+%20cmd);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20moveLeft()%20%7B%0A%20%20%20%20%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow,%20playerCol%20-%201))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerX%20-=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.left%20=%20playerX%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerCol--;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%7D%0A%0Afunction%20moveRight()%20%7B%0A%20%20%20%20%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow,%20playerCol%20+%201))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerX%20+=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.left%20=%20playerX%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerCol++;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20%0A%7D%0A%0Afunction%20moveUp()%20%7B%0A%20%20%20%20%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow%20-%201,%20playerCol))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerY%20-=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.top%20=%20playerY%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerRow--;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%7D%0A%0Afunction%20moveDown()%20%7B%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow%20+%201,%20playerCol))%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerY%20+=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.top%20=%20playerY%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerRow++;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%7D%0A%0Afunction%20checkAvailableMove(row,%20col)%20%7B%0A%20%20%20%20return%20walkable.includes(map%5Brow%5D%5Bcol%5D);%0A%7D%0A%0A%0AgenerateMap();%0A%0Aupdate();##JS_E####CODE_2E####LOGIC_2####HTML####HTML_E####CSS##//%20Expectation:%0Apass.if.css.editable(0).equivalent(%60border-width:%200.1px;%60);%0Apass.if.css.editable(1).equivalent(%60border-style:%20dashed;%60);%0Apass.if.css.editable(2).equivalent(%60border-color:%20rgba(0,0,0,0.2);%60);##CSS_E####JS####JS_E####LOGIC_2E####STEP_2E####STEP_3####INST_3##Locate%20the%20treasure%20on%20the%20map%0A%0AGreat!%20John%20has%20a%20map%20with%20a%20grid%20coordinate%20system.%20In%20his%20map,%20we%20divide%20the%20coordinate%20system%20into%20rows%20and%20columns.%20Each%20row%20and%20column%20starts%20at%20index%200.%0A%0ATake%20a%20look%20at%20the%20image%20below.%0A%5Bimg::https://app.bsd.education/resources/map_grid.png%5D%0A%0AJohn%20heard%20rumors%20that%20the%20treasure%20was%20located%20at%20row%208th%20and%20column%209th.%20Let's%20help%20him%20mark%20the%20location%20on%20the%20map.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B%3Cdiv%3E::#glossary/html/6f45e8ff-64d2-4528-827a-9d2722b8449d%5D%0A%09(*)%5Bid::#glossary/html/05c870d4-8500-4dbd-98ef-92fd1f6d84a1%5D%0A%09(*)%5Bvariables::#glossary/javascript/ba0d9cd6-b0c1-4087-8760-a9f09b0d8d52%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+html#sprite#+2,%20create%20a%20%60%3Cdiv%3E%60%20element%20and%20set%20the%20%60id%60%20attribute%20to%20*treasure*.%0A(%3E%3Escript.js)%0A(!)On%20+js#var%20treasure%20=#+1,%20create%20a%20*treasureRow*%20variable%20and%20set%20value%20to%20*8*.%0A(!)On%20+js#var%20treasure%20=#+2,%20create%20a%20*treasureCol*%20variable%20and%20set%20value%20to%20*9*.##INST_3E####CODE_3####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Cmeta%20name=%22viewport%22%20content=%22width=device-width,%20initial-scale=1.0%22%3E%0A%20%20%20%20%3Cmeta%20http-equiv=%22X-UA-Compatible%22%20content=%22ie=edge%22%3E%0A%20%20%20%20%3Ctitle%3EMap%20and%20Scale%3C/title%3E%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=Source+Sans+Pro%22%20rel=%22stylesheet%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Cdiv%20class=%22appContainer%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22container%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22mapContainer%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22player%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22sprite%22%20class=%22idle%20idle10%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#%3Cdiv%20id=%22treasure%22%3E%3C/div%3E#END_EDITABLE#%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%20%3C!--%20end%20#appContainer%20--%3E%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%0A%0A%20%20%20%20%3Cdiv%20class=%22appContainer%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id=%22characterProfileImg%22%20src=%22https://app.bsd.education/resources/character_profile.png%22%20alt=%22%22%3E%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch3%3EI'm%20John%3C/h3%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22characterMessage%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20I%20now%20have%20a%20map%20with%20grid%20based%20system.%20Thank%20you%20so%20much!%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20I%20heard%20that%20the%20treasure%20is%20located%20at%20(9,8)%20position%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.2/ace.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0A%20%20%20%20margin:%200;%0A%20%20%20%20font-family:%20'Source%20Sans%20Pro',%20sans-serif;%0A%7D%0A%0A#editor%20%7B%20%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%200;%0A%20%20%20%20right:%200;%0A%20%20%20%20bottom:%2040px;%0A%20%20%20%20left:%200;%0A%7D%0A%0A.appContainer%20%7B%0A%20%20%20%20max-width:%20680px;%0A%20%20%20%20margin:%2015px%20auto;%0A%20%20%20%20display:%20flex;%0A%20%20%20%20position:%20relative;%0A%7D%0A%0A#container%20%7B%0A%20%20%20%20width:%20395px;%0A%20%20%20%20height:%20355px;%0A%20%20%20%20overflow:%20auto;%0A%20%20%20%20box-shadow:%200%202px%204px%20rgba(0,0,0,%200.3);%0A%20%20%20%20background-color:%20white;%0A%20%20%20%20transform-origin:%20left%20top;%0A%7D%0A%0A#mapContainer%20%7B%0A%20%20%20%20width:%20512px;%0A%20%20%20%20height:%20512px;%0A%20%20%20%20background-color:%20black;%0A%20%20%20%20position:%20relative;%0A%20%20%20%20margin:%200%20auto;%0A%20%20%20%20transform-origin:%20left%20top;%0A%20%20%20%20transition:%20transform%200.25s%20ease-out;%0A%7D%0A%0A.tile%20%7B%0A%20%20%20%20width:%2032px;%0A%20%20%20%20height:%2032px;%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/tilemap.png');%0A%20%20%20%20border-width:%200.1px;%0A%20%20%20%20border-style:%20dashed;%0A%20%20%20%20border-color:%20rgba(0,0,0,0.2);%0A%20%20%20%20box-sizing:%20border-box;%0A%7D%0A%0A.tile1%20%7B%20background-position:%200%200;%20%7D%0A.tile2%20%7B%20background-position:%20-32px%200;%20%7D%0A.tile3%20%7B%20background-position:%20-64px%200;%20%7D%0A.tile4%20%7B%20background-position:%20-96px%200;%20%7D%0A.tile5%20%7B%20background-position:%20-128px%200;%20%7D%0A.tile6%20%7B%20background-position:%20-160px%200;%20%7D%0A.tile7%20%7B%20background-position:%20-224px%200;%20%7D%0A.tile8%20%7B%20background-position:%20-256px%200;%20%7D%0A.tile9%20%7B%20background-position:%20-288px%200;%20%7D%0A.tile10%20%7B%20background-position:%20-320px%200;%20%7D%0A%0A.tile11%20%7B%20background-position:%200px%20%20%20-32px;%20%7D%0A.tile12%20%7B%20background-position:%20-32px%20-32px;%20%7D%20/*%20UNUSED%20*/%0A.tile13%20%7B%20background-position:%20-64px%20-32px;%20%7D%0A.tile14%20%7B%20background-position:%20-96px%20-32px;%20%7D%0A.tile15%20%7B%20background-position:%20-128px%20-32px;%20%7D%0A.tile16%20%7B%20background-position:%20-160px%20-32px;%20%7D%0A.tile17%20%7B%20background-position:%20-224px%20-32px;%20%7D%0A.tile18%20%7B%20background-position:%20-256px%20-32px;%20%7D%0A.tile19%20%7B%20background-position:%20-288px%20-32px;%20%7D%0A.tile20%20%7B%20background-position:%20-320px%20-32px;%20%7D%0A%0A.tile21%20%7B%20background-position:%200px%20%20%20-64px;%20%7D%0A.tile22%20%7B%20background-position:%20-32px%20-64px;%20%7D%0A.tile23%20%7B%20background-position:%20-64px%20-64px;%20%7D%0A.tile24%20%7B%20background-position:%20-96px%20-64px;%20%7D%0A.tile25%20%7B%20background-position:%20-128px%20-64px;%20%7D%0A.tile26%20%7B%20background-position:%20-160px%20-64px;%20%7D%0A%0A.tile27%20%7B%20background-position:%200px%20-96px;%20%7D%0A.tile28%20%7B%20background-position:%20-32px%20-96px;%20%7D%0A.tile29%20%7B%20background-position:%20-64px%20-96px;%20%7D%0A%0A.tile30%20%7B%20background-position:%200px%20-128px;%20%7D%0A.tile31%20%7B%20background-position:%20-32px%20-128px;%20%7D%0A.tile32%20%7B%20background-position:%20-64px%20-128px;%20%7D%0A%0A.tile33%20%7B%20background-position:%200px%20-160px;%20%7D%0A.tile34%20%7B%20background-position:%20-32px%20-160px;%20%7D%0A.tile35%20%7B%20background-position:%20-64px%20-160px;%20%7D%0A%0A#player%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%2017px;%0A%20%20%20%20left:%2014px;%0A%20%20%20%20z-index:%2010;%0A%20%20%20%20width:%2032px;%0A%20%20%20%20height:%2050px;%0A%20%20%20%20transition:%20all%200.3s%20linear;%0A%7D%0A%0A#sprite%20%7B%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/character_animation.png');%0A%20%20%20%20background-repeat:%20no-repeat;%0A%20%20%20%20transform:%20scale(0.5);%0A%20%20%20%20transform-origin:%20center%20center;%0A%7D%0A%0A.idle%20%7B%0A%20%20%20%20width:%2064px;%0A%20%20%20%20height:%2098px;%0A%7D%0A%0A.idle1%20%7B%20background-position:%20-81px%200px;%20%7D%0A.idle2%20%7B%20background-position:%20-145px%200px;%20%7D%0A.idle3%20%7B%20background-position:%20-209px%200px;%20%7D%0A.idle4%20%7B%20background-position:%20-273px%200px;%20%7D%0A.idle5%20%7B%20background-position:%20-337px%200px;%20%7D%0A.idle6%20%7B%20background-position:%20-401px%200px;%20%7D%0A.idle7%20%7B%20background-position:%20-465px%200px;%20%7D%0A.idle8%20%7B%20background-position:%20-529px%200px;%20%7D%0A.idle9%20%7B%20background-position:%20-593px%200px;%20%7D%0A.idle10%20%7B%20background-position:%20-657px%200px;%20%7D%0A%0A.run%20%7B%0A%20%20%20%20width:%2083px;%0A%20%20%20%20height:%20102px;%0A%7D%0A%0A.run1%20%7B%20background-position:%2013px%20-100px;%20%7D%0A.run2%20%7B%20background-position:%20-70px%20-100px;%20%7D%0A.run3%20%7B%20background-position:%20-153px%20-100px;%20%7D%0A.run4%20%7B%20background-position:%20-236px%20-100px;%20%7D%0A.run5%20%7B%20background-position:%20-319px%20-100px;%20%7D%0A.run6%20%7B%20background-position:%20-402px%20-100px;%20%7D%0A.run7%20%7B%20background-position:%20-485px%20-100px;%20%7D%0A.run8%20%7B%20background-position:%20-568px%20-100px;%20%7D%0A.run9%20%7B%20background-position:%20-651px%20-100px;%20%7D%0A.run10%20%7B%20background-position:%20-734px%20-100px;%20%7D%0A%0A%0A#commandContainer%20%7B%0A%20%20%20%20width:%20300px;%0A%20%20%20%20margin-left:%2010px;%0A%20%20%20%20position:%20relative;%0A%7D%0A%0A#commandContainer%20button%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20bottom:%200;%0A%20%20%20%20left:%200;%0A%20%20%20%20right:%200;%0A%20%20%20%20width:%20100%25;%0A%20%20%20%20height:%2035px;%0A%20%20%20%20cursor:%20pointer;%0A%20%20%20%20background-color:%20#91c247;%0A%20%20%20%20border:%20none;%0A%20%20%20%20outline:%20none;%0A%20%20%20%20border-radius:%203px;%0A%20%20%20%20font-weight:%20bold;%0A%7D%0A%0A#commandContainer%20button:active%20%7B%0A%20%20%20%20background-color:%20#75a034;%0A%7D%0A%0A%0A#treasure%20%7B%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/treasure.png');%0A%20%20%20%20background-repeat:%20no-repeat;%0A%20%20%20%20background-size:%2025px%2025px;%0A%20%20%20%20width:%2025px;%0A%20%20%20%20height:%2025px;%0A%20%20%20%20z-index:%205;%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%20-14px;%0A%20%20%20%20left:%20-11px;%0A%7D%0A%0A#characterProfileImg%20%7B%0A%20%20%20%20width:%20100px;%0A%20%20%20%20height:%20100px;%0A%7D%0A%0Ah3%20%7B%0A%20%20%20%20text-align:%20center;%0A%20%20%20%20margin:%200;%0A%7D%0A%0A#characterMessage%20%7B%0A%20%20%20%20box-shadow:%200px%203px%205px%20rgba(0,0,0,0.3);%0A%20%20%20%20padding:%2015px;%0A%20%20%20%20border-radius:%205px;%0A%20%20%20%20flex:%201;%0A%20%20%20%20margin-left:%2030px;%0A%20%20%20%20position:%20relative;%0A%09background:%20%20#d1ddce;%0A%7D%0A%0A#characterMessage:after%20%7B%0A%09content:%20'';%0A%09position:%20absolute;%0A%09left:%200;%0A%09top:%2050px;%0A%09width:%200;%0A%09height:%200;%0A%09border:%2020px%20solid%20transparent;%0A%09border-right-color:%20#d1ddce;%0A%09border-left:%200;%0A%09margin-top:%20-20px;%0A%09margin-left:%20-20px;%0A%7D%0A%0A#characterMessage%20span%20%7B%0A%20%20%20%20padding:%205px;%0A%20%20%20%20background-color:%20white;%0A%20%20%20%20border-radius:%204px;%0A%20%20%20%20line-height:%202.2em;%0A%7D##CSS_E####JS##var%20template%20=%20%5B%0A%20%20%20%20%5B1,%20%20%202,%20%203,%20%204,%20%205,%20%206,%20%207,%20%208,%20%209,%2010%5D,%0A%20%20%20%20%5B11,%2012,%2013,%2014,%2015,%2016,%2017,%2018,%2019,%2020%5D,%0A%20%20%20%20%5B21,%2022,%2023,%2024,%2025,%2026%5D,%0A%20%20%20%20%5B27,%2028,%2029%5D,%0A%20%20%20%20%5B30,%2031,%2032%5D,%0A%20%20%20%20%5B33,%2034,%2035%5D%0A%5D;%0Avar%20map%20=%20%5B%0A%20%20%20%20%5B%207,%20%208,%2017,%2018,%20%207,%20%208,%2017,%20%2018,%207,%2014,%2015,%2016,%20%208,%20%201,%20%202,%20%203%5D,%20%0A%20%20%20%20%5B%208,%20%201,%20%202,%20%202,%20%203,%20%207,%20%201,%20%202,%20%203,%2014,%2015,%2016,%20%207,%2011,%2027,%2013%5D,%20%0A%20%20%20%20%5B%201,%2020,%2027,%2028,%2019,%20%202,%2020,%2030,%2013,%2014,%2015,%2016,%20%201,%2020,%2027,%2013%5D,%20%0A%20%20%20%20%5B11,%2035,%20%209,%2022,%2010,%2035,%20%209,%2022,%2023,%2014,%2015,%2016,%2021,%2022,%2010,%2013%5D,%20%0A%20%20%20%20%5B21,%2010,%2013,%20%208,%2021,%2010,%2013,%20%207,%20%208,%2024,%2025,%2026,%20%207,%20%208,%2011,%2013%5D,%20%0A%20%20%20%20%5B%208,%2011,%2013,%20%207,%2018,%2011,%2013,%20%201,%20%203,%20%201,%20%203,%20%208,%20%201,%20%202,%2020,%2013%5D,%20%0A%20%20%20%20%5B%207,%2011,%2013,%20%208,%20%201,%2020,%2013,%2021,%2023,%2011,%2013,%2018,%2011,%2033,%2032,%2013%5D,%20%0A%20%20%20%20%5B%2018,%2011,%2019,%20%202,%2020,%2033,%2019,%20%202,%20%202,%2020,%2019,%20%202,%2020,%2030,%2031,%2013%5D,%20%0A%20%20%20%20%5B%2017,%2021,%2022,%2022,%2022,%2022,%2010,%2027,%2030,%2031,%20%209,%2022,%2022,%2022,%2010,%2013%5D,%20%0A%20%20%20%20%5B%207,%20%204,%20%205,%20%205,%20%205,%20%206,%2021,%2022,%2010,%2032,%2013,%20%208,%20%208,%20%208,%2011,%2013%5D,%20%0A%20%20%20%20%5B%208,%2014,%2015,%2015,%2015,%2016,%2017,%2018,%2011,%2033,%2013,%20%207,%20%201,%20%202,%2020,%2013%5D,%20%0A%20%20%20%20%5B%2017,%2014,%2015,%2015,%2015,%2016,%20%208,%20%208,%2011,%2034,%2013,%2017,%2011,%2032,%20%209,%2023%5D,%20%0A%20%20%20%20%5B%2018,%2014,%2015,%2015,%2015,%2016,%20%201,%20%202,%2020,%2035,%2013,%2018,%2011,%2031,%2013,%20%208%5D,%20%0A%20%20%20%20%5B%207,%2024,%2025,%2025,%2025,%2026,%2011,%2034,%20%209,%2010,%2019,%20%203,%2011,%2030,%2019,%20%203%5D,%20%0A%20%20%20%20%5B%208,%20%201,%20%202,%20%202,%20%202,%20%202,%2020,%2030,%2013,%2021,%2022,%2023,%2021,%2022,%2022,%2023%5D,%20%0A%20%20%20%20%5B%203,%2021,%2022,%2022,%2022,%2022,%2022,%2022,%2023,%20%208,%20%204,%20%205,%20%205,%20%205,%20%206,%20%208%5D%0A%5D;%0Avar%20walkable%20=%20%5B2,%209,%2010,%2011,%2013,%2019,%2020,%2022,%2027,%2028,%2029,%2030,%2031,%2032,%2033,%2034,%2035%5D;%0A%0Avar%20mapContainer%20=%20document.getElementById(%22mapContainer%22);%0Avar%20tileSize%20=%2032;%0A%0Avar%20scaleSlider%20=%20document.getElementById(%22scaleSlider%22);%0A%0Avar%20player%20=%20document.getElementById(%22player%22);%0Avar%20playerSprite%20=%20document.getElementById(%22sprite%22);%0Avar%20playerAnimation%20=%20%22idle%22;%0Avar%20playerCurrentFrame%20=%201;%0Avar%20playerMaxFrames%20=%2010;%0Avar%20animationFrameInterval%20=%203;%0Avar%20timeTick%20=%200;%0Avar%20walkLength%20=%2032;%0A%0Avar%20currentLine%20=%20-1;%0Avar%20codeComment%20=%20false;%0Avar%20commandArray;%0Avar%20moveTimeStep%20=%20400;%0Avar%20commandStep%20=%200;%0Avar%20moveStep%20=%200;%0Avar%20playerRow%20=%202;%0Avar%20playerCol%20=%201;%0Avar%20playerX%20=%2014;%0Avar%20playerY%20=%2017;%0Avar%20treasure%20=%20document.getElementById(%22treasure%22);%0A#BEGIN_EDITABLE#var%20treasureRow%20=%208;#END_EDITABLE#%0A#BEGIN_EDITABLE#var%20treasureCol%20=%209;#END_EDITABLE#%0A%0A%0A%0Afunction%20changeScale()%20%7B%0A%20%20%20%20//console.log(scaleSlider.value);%0A%0A%20%20%20%20mapContainer.style.transform%20=%20%22scale(%22%20+%20scaleSlider.value%20+%20%22)%22;%0A%7D%0A%0Afunction%20generateMap()%20%7B%0A%20%20%20%20for%20(var%20row%20=%200;%20row%20%3C%20map.length;%20row++)%20%7B%0A%20%20%20%20%20%20%20%20for%20(var%20col%20=%200;%20col%20%3C%20map%5Brow%5D.length;%20col++)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20//console.log(map%5Brow%5D%5Bcol%5D);%0A%20%20%20%20%20%20%20%20%20%20%20%20createTileById(map%5Brow%5D%5Bcol%5D,%20row,%20col);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20mapContainer.style.transform%20=%20%22scale(1)%22;%0A%0A%20%20%20%20treasure.style.top%20=%20(treasureRow%20*%20walkLength)%20+%203%20+%20%22px%22;%0A%20%20%20%20treasure.style.left%20=%20(treasureCol%20*%20walkLength)%20+%203%20+%20%22px%22;%0A%7D%0A%0Afunction%20createTileById(id,%20row,%20col)%20%7B%0A%20%20%20%20//console.log(id);%0A%0A%20%20%20%20var%20newTile%20=%20document.createElement(%22div%22);%0A%20%20%20%20newTile.setAttribute(%22class%22,%20%22tile%20tile%22%20+%20id);%0A%20%20%20%20newTile.style.top%20=%20row%20*%20tileSize%20+%20%22px%22;%0A%20%20%20%20newTile.style.left%20=%20col%20*%20tileSize%20+%20%22px%22;%0A%0A%20%20%20%20mapContainer.appendChild(newTile);%0A%7D%0A%0Afunction%20update()%20%7B%0A%20%20%20%20timeTick++;%0A%20%20%20%20if%20(timeTick%20%3E%20animationFrameInterval)%20%7B%0A%20%20%20%20%20%20%20%20timeTick%20=%200;%0A%0A%20%20%20%20%20%20%20%20updateAnimation();%0A%20%20%20%20%7D%0A%0A%20%20%20%20requestAnimationFrame(update);%0A%7D%0A%0Afunction%20updateAnimation()%20%7B%0A%20%20%20%20playerSprite.className%20=%20playerAnimation%20+%20%22%20%22%20+%20playerAnimation%20+%20playerCurrentFrame;%0A%0A%20%20%20%20playerCurrentFrame++;%0A%20%20%20%20if%20(playerAnimation%20==%20%22idle%22%20&&%20playerCurrentFrame%20%3E%20playerMaxFrames)%20%7B%0A%20%20%20%20%20%20%20%20playerCurrentFrame%20=%201;%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(playerAnimation%20==%20%22run%22%20&&%20playerCurrentFrame%20%3E%20playerMaxFrames)%20%7B%0A%20%20%20%20%20%20%20%20playerCurrentFrame%20=%201;%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20runCommand()%20%7B%0A%20%20%20%20commandArray%20=%20editor.getValue().split(%22%5Cn%22);%0A%20%20%20%20%0A%20%20%20%20currentLine%20=%20-1;%0A%20%20%20%20getNextCommand();%0A%7D%0A%0Afunction%20getNextCommand()%20%7B%0A%20%20%20%20if%20(commandArray.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20executeCommand(commandArray.shift().trim());%0A%20%20%20%20%20%20%20%20currentLine++;%0A%20%20%20%20%20%20%20%20editor.selection.moveCursorToPosition(%7Brow:%20currentLine,%20column:%200%7D);%0A%20%20%20%20%20%20%20%20editor.selection.selectLine();%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20editor.clearSelection();%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20//alert(%22finish%20all%20commands%22);%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20executeCommand(cmd)%20%7B%0A%20%20%20%20//console.log(cmd);%0A%0A%20%20%20%20var%20tempCmds%20=%20cmd.split(%22(%22);%0A%20%20%20%20var%20cmdStr;%0A%20%20%20%20var%20cmdParameter;%0A%0A%20%20%20%20if%20(tempCmds%5B0%5D.indexOf(%22//%22)%20%3E%20-1)%20%7B%0A%20%20%20%20%20%20%20%20//%20that%20line%20is%20a%20comment%20line%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(tempCmds%5B0%5D.indexOf(%22/*%22)%20%3E%20-1)%20%7B%0A%20%20%20%20%20%20%20%20//%20start%20of%20block%20comment%0A%20%20%20%20%20%20%20%20codeComment%20=%20true;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(tempCmds%5B0%5D.indexOf(%22*/%22)%20%3E%20-1)%20%7B%0A%20%20%20%20%20%20%20%20//%20end%20of%20block%20comment%0A%20%20%20%20%20%20%20%20codeComment%20=%20false;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(!codeComment%20&&%20cmd.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20if%20(tempCmds%5B0%5D%20==%20%22moveLeft%22%20%7C%7C%20tempCmds%5B0%5D%20==%20%22moveRight%22%20%7C%7C%20tempCmds%5B0%5D%20==%20%22moveUp%22%20%7C%7C%20tempCmds%5B0%5D%20==%20%22moveDown%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cmdStr%20=%20tempCmds%5B0%5D.trim();%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20cmdParameter%20=%20tempCmds%5B1%5D.split(%22);%22)%5B0%5D.trim();%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!isNaN(cmdParameter))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//console.log(cmdStr);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//console.log(parseInt(cmdParameter));%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20commandStep%20=%20parseInt(cmdParameter);%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//eval(cmdStr%20+%20%22(%22%20+%20parseInt(commandStep)%20+%20%22)%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cmdStr%20==%20%22moveRight%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveRight,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cmdStr%20==%20%22moveLeft%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveLeft,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cmdStr%20==%20%22moveUp%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveUp,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cmdStr%20==%20%22moveDown%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveDown,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move!%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert(%22parameter%20is%20not%20a%20valid%20number%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22invalid%20command:%20%22%20+%20cmd);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20moveLeft()%20%7B%0A%20%20%20%20%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow,%20playerCol%20-%201))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerX%20-=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.left%20=%20playerX%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerCol--;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%7D%0A%0Afunction%20moveRight()%20%7B%0A%20%20%20%20%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow,%20playerCol%20+%201))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerX%20+=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.left%20=%20playerX%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerCol++;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20%0A%7D%0A%0Afunction%20moveUp()%20%7B%0A%20%20%20%20%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow%20-%201,%20playerCol))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerY%20-=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.top%20=%20playerY%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerRow--;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%7D%0A%0Afunction%20moveDown()%20%7B%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow%20+%201,%20playerCol))%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerY%20+=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.top%20=%20playerY%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerRow++;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%7D%0A%0Afunction%20checkAvailableMove(row,%20col)%20%7B%0A%20%20%20%20return%20walkable.includes(map%5Brow%5D%5Bcol%5D);%0A%7D%0A%0A%0AgenerateMap();%0A%0Aupdate();##JS_E####CODE_3E####LOGIC_3####HTML##//%20Expectation:%0Apass.if.html.editable(0).equivalent(%60%3Cdiv%20id=%22treasure%22%3E%3C/div%3E%60);##HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20treasureRow%20=%208;%60);%0Apass.if.js.editable(1).equivalent(%60var%20treasureCol%20=%209;%60);##JS_E####LOGIC_3E####STEP_3E####STEP_4####INST_4##Find%20a%20treasure%0A%0AGood%20work.%20We%20know%20where%20the%20treasure%20is.%20Let's%20help%20John%20to%20walk%20to%20the%20treasure.%0A%0AType%20the%20following%20command%20in%20the%20command%20panel%20on%20the%20right%20to%20guide%20me%20to%20the%20treasure.%0A(*)%60moveLeft(x);%60%20to%20move%20to%20the%20left%20for%20x%20unit(s).%0A(*)%60moveRight(x);%60%20to%20move%20to%20the%20right%20for%20x%20unit(s).%0A(*)%60moveUp(x);%60%20to%20move%20down%20for%20x%20unit(s).%0A(*)%60moveDown(x);%60%20to%20move%20up%20for%20x%20unit(s).##INST_4E####CODE_4####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Cmeta%20name=%22viewport%22%20content=%22width=device-width,%20initial-scale=1.0%22%3E%0A%20%20%20%20%3Cmeta%20http-equiv=%22X-UA-Compatible%22%20content=%22ie=edge%22%3E%0A%20%20%20%20%3Ctitle%3EMap%20and%20Scale%3C/title%3E%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=Source+Sans+Pro%22%20rel=%22stylesheet%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Cdiv%20class=%22appContainer%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22container%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22mapContainer%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22player%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22sprite%22%20class=%22idle%20idle10%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22treasure%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22commandContainer%22%3E%0A%3Cdiv%20id=%22editor%22%3E//%20type%20your%20command%20here...%0A%0A%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick=%22runCommand()%22%3ERun%20%3E%3E%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%3C/div%3E%20%3C!--%20end%20#appContainer%20--%3E%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%0A%0A%20%20%20%20%3Cdiv%20class=%22appContainer%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id=%22characterProfileImg%22%20src=%22https://app.bsd.education/resources/character_profile.png%22%20alt=%22%22%3E%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch3%3EI'm%20John%3C/h3%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22characterMessage%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20Help%20me%20get%20to%20the%20treasure!%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20Type%20the%20following%20command%20in%20the%20command%20panel%20on%20the%20right%20to%20guide%20me%20to%20the%20treasure.%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3EmoveLeft(x);%3C/span%3E%20to%20move%20to%20the%20left%20for%20x%20unit(s).%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3EmoveRight(x);%3C/span%3E%20to%20move%20to%20the%20right%20for%20x%20unit(s).%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3EmoveUp(x);%3C/span%3E%20to%20move%20down%20for%20x%20unit(s).%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3EmoveDown(x);%3C/span%3E%20to%20move%20up%20for%20x%20unit(s).%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.2/ace.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0A%20%20%20%20margin:%200;%0A%20%20%20%20font-family:%20'Source%20Sans%20Pro',%20sans-serif;%0A%7D%0A%0A#editor%20%7B%20%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%200;%0A%20%20%20%20right:%200;%0A%20%20%20%20bottom:%2040px;%0A%20%20%20%20left:%200;%0A%7D%0A%0A.appContainer%20%7B%0A%20%20%20%20max-width:%20680px;%0A%20%20%20%20margin:%2015px%20auto;%0A%20%20%20%20display:%20flex;%0A%20%20%20%20position:%20relative;%0A%7D%0A%0A#container%20%7B%0A%20%20%20%20width:%20395px;%0A%20%20%20%20height:%20355px;%0A%20%20%20%20overflow:%20auto;%0A%20%20%20%20box-shadow:%200%202px%204px%20rgba(0,0,0,%200.3);%0A%20%20%20%20background-color:%20white;%0A%20%20%20%20transform-origin:%20left%20top;%0A%7D%0A%0A#mapContainer%20%7B%0A%20%20%20%20width:%20512px;%0A%20%20%20%20height:%20512px;%0A%20%20%20%20background-color:%20black;%0A%20%20%20%20position:%20relative;%0A%20%20%20%20margin:%200%20auto;%0A%20%20%20%20transform-origin:%20left%20top;%0A%20%20%20%20transition:%20transform%200.25s%20ease-out;%0A%7D%0A%0A.tile%20%7B%0A%20%20%20%20width:%2032px;%0A%20%20%20%20height:%2032px;%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/tilemap.png');%0A%20%20%20%20border-width:%200.1px;%0A%20%20%20%20border-style:%20dashed;%0A%20%20%20%20border-color:%20rgba(0,0,0,0.2);%0A%20%20%20%20box-sizing:%20border-box;%0A%7D%0A%0A.tile1%20%7B%20background-position:%200%200;%20%7D%0A.tile2%20%7B%20background-position:%20-32px%200;%20%7D%0A.tile3%20%7B%20background-position:%20-64px%200;%20%7D%0A.tile4%20%7B%20background-position:%20-96px%200;%20%7D%0A.tile5%20%7B%20background-position:%20-128px%200;%20%7D%0A.tile6%20%7B%20background-position:%20-160px%200;%20%7D%0A.tile7%20%7B%20background-position:%20-224px%200;%20%7D%0A.tile8%20%7B%20background-position:%20-256px%200;%20%7D%0A.tile9%20%7B%20background-position:%20-288px%200;%20%7D%0A.tile10%20%7B%20background-position:%20-320px%200;%20%7D%0A%0A.tile11%20%7B%20background-position:%200px%20%20%20-32px;%20%7D%0A.tile12%20%7B%20background-position:%20-32px%20-32px;%20%7D%20/*%20UNUSED%20*/%0A.tile13%20%7B%20background-position:%20-64px%20-32px;%20%7D%0A.tile14%20%7B%20background-position:%20-96px%20-32px;%20%7D%0A.tile15%20%7B%20background-position:%20-128px%20-32px;%20%7D%0A.tile16%20%7B%20background-position:%20-160px%20-32px;%20%7D%0A.tile17%20%7B%20background-position:%20-224px%20-32px;%20%7D%0A.tile18%20%7B%20background-position:%20-256px%20-32px;%20%7D%0A.tile19%20%7B%20background-position:%20-288px%20-32px;%20%7D%0A.tile20%20%7B%20background-position:%20-320px%20-32px;%20%7D%0A%0A.tile21%20%7B%20background-position:%200px%20%20%20-64px;%20%7D%0A.tile22%20%7B%20background-position:%20-32px%20-64px;%20%7D%0A.tile23%20%7B%20background-position:%20-64px%20-64px;%20%7D%0A.tile24%20%7B%20background-position:%20-96px%20-64px;%20%7D%0A.tile25%20%7B%20background-position:%20-128px%20-64px;%20%7D%0A.tile26%20%7B%20background-position:%20-160px%20-64px;%20%7D%0A%0A.tile27%20%7B%20background-position:%200px%20-96px;%20%7D%0A.tile28%20%7B%20background-position:%20-32px%20-96px;%20%7D%0A.tile29%20%7B%20background-position:%20-64px%20-96px;%20%7D%0A%0A.tile30%20%7B%20background-position:%200px%20-128px;%20%7D%0A.tile31%20%7B%20background-position:%20-32px%20-128px;%20%7D%0A.tile32%20%7B%20background-position:%20-64px%20-128px;%20%7D%0A%0A.tile33%20%7B%20background-position:%200px%20-160px;%20%7D%0A.tile34%20%7B%20background-position:%20-32px%20-160px;%20%7D%0A.tile35%20%7B%20background-position:%20-64px%20-160px;%20%7D%0A%0A#player%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%2017px;%0A%20%20%20%20left:%2014px;%0A%20%20%20%20z-index:%2010;%0A%20%20%20%20width:%2032px;%0A%20%20%20%20height:%2050px;%0A%20%20%20%20transition:%20all%200.3s%20linear;%0A%7D%0A%0A#sprite%20%7B%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/character_animation.png');%0A%20%20%20%20background-repeat:%20no-repeat;%0A%20%20%20%20transform:%20scale(0.5);%0A%20%20%20%20transform-origin:%20center%20center;%0A%7D%0A%0A.idle%20%7B%0A%20%20%20%20width:%2064px;%0A%20%20%20%20height:%2098px;%0A%7D%0A%0A.idle1%20%7B%20background-position:%20-81px%200px;%20%7D%0A.idle2%20%7B%20background-position:%20-145px%200px;%20%7D%0A.idle3%20%7B%20background-position:%20-209px%200px;%20%7D%0A.idle4%20%7B%20background-position:%20-273px%200px;%20%7D%0A.idle5%20%7B%20background-position:%20-337px%200px;%20%7D%0A.idle6%20%7B%20background-position:%20-401px%200px;%20%7D%0A.idle7%20%7B%20background-position:%20-465px%200px;%20%7D%0A.idle8%20%7B%20background-position:%20-529px%200px;%20%7D%0A.idle9%20%7B%20background-position:%20-593px%200px;%20%7D%0A.idle10%20%7B%20background-position:%20-657px%200px;%20%7D%0A%0A.run%20%7B%0A%20%20%20%20width:%2083px;%0A%20%20%20%20height:%20102px;%0A%7D%0A%0A.run1%20%7B%20background-position:%2013px%20-100px;%20%7D%0A.run2%20%7B%20background-position:%20-70px%20-100px;%20%7D%0A.run3%20%7B%20background-position:%20-153px%20-100px;%20%7D%0A.run4%20%7B%20background-position:%20-236px%20-100px;%20%7D%0A.run5%20%7B%20background-position:%20-319px%20-100px;%20%7D%0A.run6%20%7B%20background-position:%20-402px%20-100px;%20%7D%0A.run7%20%7B%20background-position:%20-485px%20-100px;%20%7D%0A.run8%20%7B%20background-position:%20-568px%20-100px;%20%7D%0A.run9%20%7B%20background-position:%20-651px%20-100px;%20%7D%0A.run10%20%7B%20background-position:%20-734px%20-100px;%20%7D%0A%0A%0A#commandContainer%20%7B%0A%20%20%20%20width:%20300px;%0A%20%20%20%20margin-left:%2010px;%0A%20%20%20%20position:%20relative;%0A%7D%0A%0A#commandContainer%20button%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20bottom:%200;%0A%20%20%20%20left:%200;%0A%20%20%20%20right:%200;%0A%20%20%20%20width:%20100%25;%0A%20%20%20%20height:%2035px;%0A%20%20%20%20cursor:%20pointer;%0A%20%20%20%20background-color:%20#91c247;%0A%20%20%20%20border:%20none;%0A%20%20%20%20outline:%20none;%0A%20%20%20%20border-radius:%203px;%0A%20%20%20%20font-weight:%20bold;%0A%7D%0A%0A#commandContainer%20button:active%20%7B%0A%20%20%20%20background-color:%20#75a034;%0A%7D%0A%0A%0A#treasure%20%7B%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/treasure.png');%0A%20%20%20%20background-repeat:%20no-repeat;%0A%20%20%20%20background-size:%2025px%2025px;%0A%20%20%20%20width:%2025px;%0A%20%20%20%20height:%2025px;%0A%20%20%20%20z-index:%205;%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%20-14px;%0A%20%20%20%20left:%20-11px;%0A%7D%0A%0A#characterProfileImg%20%7B%0A%20%20%20%20width:%20100px;%0A%20%20%20%20height:%20100px;%0A%7D%0A%0Ah3%20%7B%0A%20%20%20%20text-align:%20center;%0A%20%20%20%20margin:%200;%0A%7D%0A%0A#characterMessage%20%7B%0A%20%20%20%20box-shadow:%200px%203px%205px%20rgba(0,0,0,0.3);%0A%20%20%20%20padding:%2015px;%0A%20%20%20%20border-radius:%205px;%0A%20%20%20%20flex:%201;%0A%20%20%20%20margin-left:%2030px;%0A%20%20%20%20position:%20relative;%0A%09background:%20%20#d1ddce;%0A%7D%0A%0A#characterMessage:after%20%7B%0A%09content:%20'';%0A%09position:%20absolute;%0A%09left:%200;%0A%09top:%2050px;%0A%09width:%200;%0A%09height:%200;%0A%09border:%2020px%20solid%20transparent;%0A%09border-right-color:%20#d1ddce;%0A%09border-left:%200;%0A%09margin-top:%20-20px;%0A%09margin-left:%20-20px;%0A%7D%0A%0A#characterMessage%20span%20%7B%0A%20%20%20%20padding:%205px;%0A%20%20%20%20background-color:%20white;%0A%20%20%20%20border-radius:%204px;%0A%20%20%20%20line-height:%202.2em;%0A%7D##CSS_E####JS##var%20template%20=%20%5B%0A%20%20%20%20%5B1,%20%20%202,%20%203,%20%204,%20%205,%20%206,%20%207,%20%208,%20%209,%2010%5D,%0A%20%20%20%20%5B11,%2012,%2013,%2014,%2015,%2016,%2017,%2018,%2019,%2020%5D,%0A%20%20%20%20%5B21,%2022,%2023,%2024,%2025,%2026%5D,%0A%20%20%20%20%5B27,%2028,%2029%5D,%0A%20%20%20%20%5B30,%2031,%2032%5D,%0A%20%20%20%20%5B33,%2034,%2035%5D%0A%5D;%0Avar%20map%20=%20%5B%0A%20%20%20%20%5B%207,%20%208,%2017,%2018,%20%207,%20%208,%2017,%20%2018,%207,%2014,%2015,%2016,%20%208,%20%201,%20%202,%20%203%5D,%20%0A%20%20%20%20%5B%208,%20%201,%20%202,%20%202,%20%203,%20%207,%20%201,%20%202,%20%203,%2014,%2015,%2016,%20%207,%2011,%2027,%2013%5D,%20%0A%20%20%20%20%5B%201,%2020,%2027,%2028,%2019,%20%202,%2020,%2030,%2013,%2014,%2015,%2016,%20%201,%2020,%2027,%2013%5D,%20%0A%20%20%20%20%5B11,%2035,%20%209,%2022,%2010,%2035,%20%209,%2022,%2023,%2014,%2015,%2016,%2021,%2022,%2010,%2013%5D,%20%0A%20%20%20%20%5B21,%2010,%2013,%20%208,%2021,%2010,%2013,%20%207,%20%208,%2024,%2025,%2026,%20%207,%20%208,%2011,%2013%5D,%20%0A%20%20%20%20%5B%208,%2011,%2013,%20%207,%2018,%2011,%2013,%20%201,%20%203,%20%201,%20%203,%20%208,%20%201,%20%202,%2020,%2013%5D,%20%0A%20%20%20%20%5B%207,%2011,%2013,%20%208,%20%201,%2020,%2013,%2021,%2023,%2011,%2013,%2018,%2011,%2033,%2032,%2013%5D,%20%0A%20%20%20%20%5B%2018,%2011,%2019,%20%202,%2020,%2033,%2019,%20%202,%20%202,%2020,%2019,%20%202,%2020,%2030,%2031,%2013%5D,%20%0A%20%20%20%20%5B%2017,%2021,%2022,%2022,%2022,%2022,%2010,%2027,%2030,%2031,%20%209,%2022,%2022,%2022,%2010,%2013%5D,%20%0A%20%20%20%20%5B%207,%20%204,%20%205,%20%205,%20%205,%20%206,%2021,%2022,%2010,%2032,%2013,%20%208,%20%208,%20%208,%2011,%2013%5D,%20%0A%20%20%20%20%5B%208,%2014,%2015,%2015,%2015,%2016,%2017,%2018,%2011,%2033,%2013,%20%207,%20%201,%20%202,%2020,%2013%5D,%20%0A%20%20%20%20%5B%2017,%2014,%2015,%2015,%2015,%2016,%20%208,%20%208,%2011,%2034,%2013,%2017,%2011,%2032,%20%209,%2023%5D,%20%0A%20%20%20%20%5B%2018,%2014,%2015,%2015,%2015,%2016,%20%201,%20%202,%2020,%2035,%2013,%2018,%2011,%2031,%2013,%20%208%5D,%20%0A%20%20%20%20%5B%207,%2024,%2025,%2025,%2025,%2026,%2011,%2034,%20%209,%2010,%2019,%20%203,%2011,%2030,%2019,%20%203%5D,%20%0A%20%20%20%20%5B%208,%20%201,%20%202,%20%202,%20%202,%20%202,%2020,%2030,%2013,%2021,%2022,%2023,%2021,%2022,%2022,%2023%5D,%20%0A%20%20%20%20%5B%203,%2021,%2022,%2022,%2022,%2022,%2022,%2022,%2023,%20%208,%20%204,%20%205,%20%205,%20%205,%20%206,%20%208%5D%0A%5D;%0Avar%20walkable%20=%20%5B2,%209,%2010,%2011,%2013,%2019,%2020,%2022,%2027,%2028,%2029,%2030,%2031,%2032,%2033,%2034,%2035%5D;%0A%0Avar%20mapContainer%20=%20document.getElementById(%22mapContainer%22);%0Avar%20tileSize%20=%2032;%0A%0Avar%20scaleSlider%20=%20document.getElementById(%22scaleSlider%22);%0A%0Avar%20player%20=%20document.getElementById(%22player%22);%0Avar%20playerSprite%20=%20document.getElementById(%22sprite%22);%0Avar%20playerAnimation%20=%20%22idle%22;%0Avar%20playerCurrentFrame%20=%201;%0Avar%20playerMaxFrames%20=%2010;%0Avar%20animationFrameInterval%20=%203;%0Avar%20timeTick%20=%200;%0Avar%20walkLength%20=%2032;%0A%0Avar%20currentLine%20=%20-1;%0Avar%20codeComment%20=%20false;%0Avar%20commandArray;%0Avar%20moveTimeStep%20=%20400;%0Avar%20commandStep%20=%200;%0Avar%20moveStep%20=%200;%0Avar%20playerRow%20=%202;%0Avar%20playerCol%20=%201;%0Avar%20playerX%20=%2014;%0Avar%20playerY%20=%2017;%0Avar%20treasure%20=%20document.getElementById(%22treasure%22);%0Avar%20treasureRow%20=%208;%0Avar%20treasureCol%20=%209;%0A%0A%0A%0Afunction%20changeScale()%20%7B%0A%20%20%20%20//console.log(scaleSlider.value);%0A%0A%20%20%20%20mapContainer.style.transform%20=%20%22scale(%22%20+%20scaleSlider.value%20+%20%22)%22;%0A%7D%0A%0Afunction%20generateMap()%20%7B%0A%20%20%20%20for%20(var%20row%20=%200;%20row%20%3C%20map.length;%20row++)%20%7B%0A%20%20%20%20%20%20%20%20for%20(var%20col%20=%200;%20col%20%3C%20map%5Brow%5D.length;%20col++)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20//console.log(map%5Brow%5D%5Bcol%5D);%0A%20%20%20%20%20%20%20%20%20%20%20%20createTileById(map%5Brow%5D%5Bcol%5D,%20row,%20col);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20mapContainer.style.transform%20=%20%22scale(1)%22;%0A%0A%20%20%20%20treasure.style.top%20=%20(treasureRow%20*%20walkLength)%20+%203%20+%20%22px%22;%0A%20%20%20%20treasure.style.left%20=%20(treasureCol%20*%20walkLength)%20+%203%20+%20%22px%22;%0A%7D%0A%0Afunction%20createTileById(id,%20row,%20col)%20%7B%0A%20%20%20%20//console.log(id);%0A%0A%20%20%20%20var%20newTile%20=%20document.createElement(%22div%22);%0A%20%20%20%20newTile.setAttribute(%22class%22,%20%22tile%20tile%22%20+%20id);%0A%20%20%20%20newTile.style.top%20=%20row%20*%20tileSize%20+%20%22px%22;%0A%20%20%20%20newTile.style.left%20=%20col%20*%20tileSize%20+%20%22px%22;%0A%0A%20%20%20%20mapContainer.appendChild(newTile);%0A%7D%0A%0Afunction%20update()%20%7B%0A%20%20%20%20timeTick++;%0A%20%20%20%20if%20(timeTick%20%3E%20animationFrameInterval)%20%7B%0A%20%20%20%20%20%20%20%20timeTick%20=%200;%0A%0A%20%20%20%20%20%20%20%20updateAnimation();%0A%20%20%20%20%7D%0A%0A%20%20%20%20requestAnimationFrame(update);%0A%7D%0A%0Afunction%20updateAnimation()%20%7B%0A%20%20%20%20playerSprite.className%20=%20playerAnimation%20+%20%22%20%22%20+%20playerAnimation%20+%20playerCurrentFrame;%0A%0A%20%20%20%20playerCurrentFrame++;%0A%20%20%20%20if%20(playerAnimation%20==%20%22idle%22%20&&%20playerCurrentFrame%20%3E%20playerMaxFrames)%20%7B%0A%20%20%20%20%20%20%20%20playerCurrentFrame%20=%201;%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(playerAnimation%20==%20%22run%22%20&&%20playerCurrentFrame%20%3E%20playerMaxFrames)%20%7B%0A%20%20%20%20%20%20%20%20playerCurrentFrame%20=%201;%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20runCommand()%20%7B%0A%20%20%20%20commandArray%20=%20editor.getValue().split(%22%5Cn%22);%0A%20%20%20%20%0A%20%20%20%20currentLine%20=%20-1;%0A%20%20%20%20getNextCommand();%0A%7D%0A%0Afunction%20getNextCommand()%20%7B%0A%20%20%20%20if%20(commandArray.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20executeCommand(commandArray.shift().trim());%0A%20%20%20%20%20%20%20%20currentLine++;%0A%20%20%20%20%20%20%20%20editor.selection.moveCursorToPosition(%7Brow:%20currentLine,%20column:%200%7D);%0A%20%20%20%20%20%20%20%20editor.selection.selectLine();%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20editor.clearSelection();%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20//alert(%22finish%20all%20commands%22);%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20(playerCol%20==%20treasureCol%20&&%20playerRow%20==%20treasureRow)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22I%20found%20the%20treasure%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20executeCommand(cmd)%20%7B%0A%20%20%20%20//console.log(cmd);%0A%0A%20%20%20%20var%20tempCmds%20=%20cmd.split(%22(%22);%0A%20%20%20%20var%20cmdStr;%0A%20%20%20%20var%20cmdParameter;%0A%0A%20%20%20%20if%20(tempCmds%5B0%5D.indexOf(%22//%22)%20%3E%20-1)%20%7B%0A%20%20%20%20%20%20%20%20//%20that%20line%20is%20a%20comment%20line%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(tempCmds%5B0%5D.indexOf(%22/*%22)%20%3E%20-1)%20%7B%0A%20%20%20%20%20%20%20%20//%20start%20of%20block%20comment%0A%20%20%20%20%20%20%20%20codeComment%20=%20true;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(tempCmds%5B0%5D.indexOf(%22*/%22)%20%3E%20-1)%20%7B%0A%20%20%20%20%20%20%20%20//%20end%20of%20block%20comment%0A%20%20%20%20%20%20%20%20codeComment%20=%20false;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(!codeComment%20&&%20cmd.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20if%20(tempCmds%5B0%5D%20==%20%22moveLeft%22%20%7C%7C%20tempCmds%5B0%5D%20==%20%22moveRight%22%20%7C%7C%20tempCmds%5B0%5D%20==%20%22moveUp%22%20%7C%7C%20tempCmds%5B0%5D%20==%20%22moveDown%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cmdStr%20=%20tempCmds%5B0%5D.trim();%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20cmdParameter%20=%20tempCmds%5B1%5D.split(%22);%22)%5B0%5D.trim();%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!isNaN(cmdParameter))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//console.log(cmdStr);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//console.log(parseInt(cmdParameter));%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20commandStep%20=%20parseInt(cmdParameter);%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//eval(cmdStr%20+%20%22(%22%20+%20parseInt(commandStep)%20+%20%22)%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cmdStr%20==%20%22moveRight%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveRight,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cmdStr%20==%20%22moveLeft%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveLeft,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cmdStr%20==%20%22moveUp%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveUp,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cmdStr%20==%20%22moveDown%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveDown,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move!%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert(%22parameter%20is%20not%20a%20valid%20number%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22invalid%20command:%20%22%20+%20cmd);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20moveLeft()%20%7B%0A%20%20%20%20%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow,%20playerCol%20-%201))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerX%20-=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.left%20=%20playerX%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerCol--;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%7D%0A%0Afunction%20moveRight()%20%7B%0A%20%20%20%20%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow,%20playerCol%20+%201))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerX%20+=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.left%20=%20playerX%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerCol++;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20%0A%7D%0A%0Afunction%20moveUp()%20%7B%0A%20%20%20%20%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow%20-%201,%20playerCol))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerY%20-=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.top%20=%20playerY%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerRow--;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%7D%0A%0Afunction%20moveDown()%20%7B%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow%20+%201,%20playerCol))%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerY%20+=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.top%20=%20playerY%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerRow++;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%7D%0A%0Afunction%20checkAvailableMove(row,%20col)%20%7B%0A%20%20%20%20return%20walkable.includes(map%5Brow%5D%5Bcol%5D);%0A%7D%0A%0A/*%20Editor%20*/%0Avar%20editor%20=%20ace.edit(%22editor%22);%0Aeditor.setOptions(%7B%0A%20%20%20%20autoScrollEditorIntoView:%20true,%0A%20%20%20%20copyWithEmptySelection:%20true,%0A%7D);%0Aeditor.setTheme(%22ace/theme/chrome%22);%0A//%20editor.setTheme(%22ace/theme/monokai%22);%0Aeditor.session.setMode(%22ace/mode/javascript%22);%0A%0AgenerateMap();%0A%0Aupdate();##JS_E####CODE_4E####LOGIC_4####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_4E####STEP_4E####STEP_5####INST_5##The%20map%20is%20too%20small%0A%0AGreat!%20We%20help%20John%20find%20his%20treasure.%20But%20in%20that%20treasure,%20there%20is%20another%20map%20that%20points%20to%20the%20new%20location%20of%20the%20ultimate%20treasure.%20Unfortunately,%20the%20map%20is%20too%20small%20for%20him%20to%20plan%20his%20new%20adventure.%20%0A%0ALet's%20add%20a%20scale%20control%20to%20the%20map%20so%20that%20John%20can%20clearly%20see%20the%20path%20to%20the%20treasure.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B%3Cinput%3E::#glossary/html/60b2b19d-8c84-4055-846a-1dee1212dc79%5D%0A%09(*)%5Boninput::#glossary/javascript/294c812c-6e17-4ada-a712-a307e954b7a6%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+html#scaleContainer#+2,%20create%20an%20%60%3Cinput%3E%60%20element,%20set%20the%20%60id%60%20attribute%20to%20*scaleSlider*,%20the%20%60type%60%20attribute%20to%20*range*%20and%20the%20%60oninput%60%20attribute%20to%20*changeScale()*.##INST_5E####CODE_5####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Cmeta%20name=%22viewport%22%20content=%22width=device-width,%20initial-scale=1.0%22%3E%0A%20%20%20%20%3Cmeta%20http-equiv=%22X-UA-Compatible%22%20content=%22ie=edge%22%3E%0A%20%20%20%20%3Ctitle%3EMap%20and%20Scale%3C/title%3E%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=Source+Sans+Pro%22%20rel=%22stylesheet%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Cdiv%20class=%22appContainer%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22container%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22mapContainer%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22player%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22sprite%22%20class=%22idle%20idle10%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22treasure%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22commandContainer%22%3E%0A%3Cdiv%20id=%22editor%22%3E//%20type%20your%20command%20here...%0A%0A%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick=%22runCommand()%22%3ERun%20%3E%3E%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22scaleContainer%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3EMap%20Scale%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#%3Cinput%20id=%22scaleSlider%22%20type=%22range%22%20oninput=%22changeScale()%22%3E#END_EDITABLE#%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%20%3C!--%20end%20#appContainer%20--%3E%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%0A%0A%20%20%20%20%3Cdiv%20class=%22appContainer%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id=%22characterProfileImg%22%20src=%22https://app.bsd.education/resources/character_profile.png%22%20alt=%22%22%3E%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch3%3EI'm%20John%3C/h3%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22characterMessage%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20Help%20me%20get%20to%20the%20treasure!%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20Type%20the%20following%20command%20in%20the%20command%20panel%20on%20the%20right%20to%20guide%20me%20to%20the%20treasure.%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3EmoveLeft(x);%3C/span%3E%20to%20move%20to%20the%20left%20for%20x%20unit(s).%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3EmoveRight(x);%3C/span%3E%20to%20move%20to%20the%20right%20for%20x%20unit(s).%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3EmoveUp(x);%3C/span%3E%20to%20move%20down%20for%20x%20unit(s).%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3EmoveDown(x);%3C/span%3E%20to%20move%20up%20for%20x%20unit(s).%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.2/ace.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0A%20%20%20%20margin:%200;%0A%20%20%20%20font-family:%20'Source%20Sans%20Pro',%20sans-serif;%0A%7D%0A%0A#editor%20%7B%20%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%200;%0A%20%20%20%20right:%200;%0A%20%20%20%20bottom:%2040px;%0A%20%20%20%20left:%200;%0A%7D%0A%0A.appContainer%20%7B%0A%20%20%20%20max-width:%20680px;%0A%20%20%20%20margin:%2015px%20auto;%0A%20%20%20%20display:%20flex;%0A%20%20%20%20position:%20relative;%0A%7D%0A%0A#container%20%7B%0A%20%20%20%20width:%20395px;%0A%20%20%20%20height:%20355px;%0A%20%20%20%20overflow:%20auto;%0A%20%20%20%20box-shadow:%200%202px%204px%20rgba(0,0,0,%200.3);%0A%20%20%20%20background-color:%20white;%0A%20%20%20%20transform-origin:%20left%20top;%0A%7D%0A%0A#mapContainer%20%7B%0A%20%20%20%20width:%20512px;%0A%20%20%20%20height:%20512px;%0A%20%20%20%20background-color:%20black;%0A%20%20%20%20position:%20relative;%0A%20%20%20%20margin:%200%20auto;%0A%20%20%20%20transform-origin:%20left%20top;%0A%20%20%20%20transition:%20transform%200.25s%20ease-out;%0A%7D%0A%0A.tile%20%7B%0A%20%20%20%20width:%2032px;%0A%20%20%20%20height:%2032px;%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/tilemap.png');%0A%20%20%20%20border-width:%200.1px;%0A%20%20%20%20border-style:%20dashed;%0A%20%20%20%20border-color:%20rgba(0,0,0,0.2);%0A%20%20%20%20box-sizing:%20border-box;%0A%7D%0A%0A.tile1%20%7B%20background-position:%200%200;%20%7D%0A.tile2%20%7B%20background-position:%20-32px%200;%20%7D%0A.tile3%20%7B%20background-position:%20-64px%200;%20%7D%0A.tile4%20%7B%20background-position:%20-96px%200;%20%7D%0A.tile5%20%7B%20background-position:%20-128px%200;%20%7D%0A.tile6%20%7B%20background-position:%20-160px%200;%20%7D%0A.tile7%20%7B%20background-position:%20-224px%200;%20%7D%0A.tile8%20%7B%20background-position:%20-256px%200;%20%7D%0A.tile9%20%7B%20background-position:%20-288px%200;%20%7D%0A.tile10%20%7B%20background-position:%20-320px%200;%20%7D%0A%0A.tile11%20%7B%20background-position:%200px%20%20%20-32px;%20%7D%0A.tile12%20%7B%20background-position:%20-32px%20-32px;%20%7D%20/*%20UNUSED%20*/%0A.tile13%20%7B%20background-position:%20-64px%20-32px;%20%7D%0A.tile14%20%7B%20background-position:%20-96px%20-32px;%20%7D%0A.tile15%20%7B%20background-position:%20-128px%20-32px;%20%7D%0A.tile16%20%7B%20background-position:%20-160px%20-32px;%20%7D%0A.tile17%20%7B%20background-position:%20-224px%20-32px;%20%7D%0A.tile18%20%7B%20background-position:%20-256px%20-32px;%20%7D%0A.tile19%20%7B%20background-position:%20-288px%20-32px;%20%7D%0A.tile20%20%7B%20background-position:%20-320px%20-32px;%20%7D%0A%0A.tile21%20%7B%20background-position:%200px%20%20%20-64px;%20%7D%0A.tile22%20%7B%20background-position:%20-32px%20-64px;%20%7D%0A.tile23%20%7B%20background-position:%20-64px%20-64px;%20%7D%0A.tile24%20%7B%20background-position:%20-96px%20-64px;%20%7D%0A.tile25%20%7B%20background-position:%20-128px%20-64px;%20%7D%0A.tile26%20%7B%20background-position:%20-160px%20-64px;%20%7D%0A%0A.tile27%20%7B%20background-position:%200px%20-96px;%20%7D%0A.tile28%20%7B%20background-position:%20-32px%20-96px;%20%7D%0A.tile29%20%7B%20background-position:%20-64px%20-96px;%20%7D%0A%0A.tile30%20%7B%20background-position:%200px%20-128px;%20%7D%0A.tile31%20%7B%20background-position:%20-32px%20-128px;%20%7D%0A.tile32%20%7B%20background-position:%20-64px%20-128px;%20%7D%0A%0A.tile33%20%7B%20background-position:%200px%20-160px;%20%7D%0A.tile34%20%7B%20background-position:%20-32px%20-160px;%20%7D%0A.tile35%20%7B%20background-position:%20-64px%20-160px;%20%7D%0A%0A#player%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%2017px;%0A%20%20%20%20left:%2014px;%0A%20%20%20%20z-index:%2010;%0A%20%20%20%20width:%2032px;%0A%20%20%20%20height:%2050px;%0A%20%20%20%20transition:%20all%200.3s%20linear;%0A%7D%0A%0A#sprite%20%7B%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/character_animation.png');%0A%20%20%20%20background-repeat:%20no-repeat;%0A%20%20%20%20transform:%20scale(0.5);%0A%20%20%20%20transform-origin:%20center%20center;%0A%7D%0A%0A.idle%20%7B%0A%20%20%20%20width:%2064px;%0A%20%20%20%20height:%2098px;%0A%7D%0A%0A.idle1%20%7B%20background-position:%20-81px%200px;%20%7D%0A.idle2%20%7B%20background-position:%20-145px%200px;%20%7D%0A.idle3%20%7B%20background-position:%20-209px%200px;%20%7D%0A.idle4%20%7B%20background-position:%20-273px%200px;%20%7D%0A.idle5%20%7B%20background-position:%20-337px%200px;%20%7D%0A.idle6%20%7B%20background-position:%20-401px%200px;%20%7D%0A.idle7%20%7B%20background-position:%20-465px%200px;%20%7D%0A.idle8%20%7B%20background-position:%20-529px%200px;%20%7D%0A.idle9%20%7B%20background-position:%20-593px%200px;%20%7D%0A.idle10%20%7B%20background-position:%20-657px%200px;%20%7D%0A%0A.run%20%7B%0A%20%20%20%20width:%2083px;%0A%20%20%20%20height:%20102px;%0A%7D%0A%0A.run1%20%7B%20background-position:%2013px%20-100px;%20%7D%0A.run2%20%7B%20background-position:%20-70px%20-100px;%20%7D%0A.run3%20%7B%20background-position:%20-153px%20-100px;%20%7D%0A.run4%20%7B%20background-position:%20-236px%20-100px;%20%7D%0A.run5%20%7B%20background-position:%20-319px%20-100px;%20%7D%0A.run6%20%7B%20background-position:%20-402px%20-100px;%20%7D%0A.run7%20%7B%20background-position:%20-485px%20-100px;%20%7D%0A.run8%20%7B%20background-position:%20-568px%20-100px;%20%7D%0A.run9%20%7B%20background-position:%20-651px%20-100px;%20%7D%0A.run10%20%7B%20background-position:%20-734px%20-100px;%20%7D%0A%0A%0A#commandContainer%20%7B%0A%20%20%20%20width:%20300px;%0A%20%20%20%20margin-left:%2010px;%0A%20%20%20%20position:%20relative;%0A%7D%0A%0A#commandContainer%20button%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20bottom:%200;%0A%20%20%20%20left:%200;%0A%20%20%20%20right:%200;%0A%20%20%20%20width:%20100%25;%0A%20%20%20%20height:%2035px;%0A%20%20%20%20cursor:%20pointer;%0A%20%20%20%20background-color:%20#91c247;%0A%20%20%20%20border:%20none;%0A%20%20%20%20outline:%20none;%0A%20%20%20%20border-radius:%203px;%0A%20%20%20%20font-weight:%20bold;%0A%7D%0A%0A#commandContainer%20button:active%20%7B%0A%20%20%20%20background-color:%20#75a034;%0A%7D%0A%0A%0A#treasure%20%7B%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/treasure.png');%0A%20%20%20%20background-repeat:%20no-repeat;%0A%20%20%20%20background-size:%2025px%2025px;%0A%20%20%20%20width:%2025px;%0A%20%20%20%20height:%2025px;%0A%20%20%20%20z-index:%205;%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%20-14px;%0A%20%20%20%20left:%20-11px;%0A%7D%0A%0A#characterProfileImg%20%7B%0A%20%20%20%20width:%20100px;%0A%20%20%20%20height:%20100px;%0A%7D%0A%0Ah3%20%7B%0A%20%20%20%20text-align:%20center;%0A%20%20%20%20margin:%200;%0A%7D%0A%0A#characterMessage%20%7B%0A%20%20%20%20box-shadow:%200px%203px%205px%20rgba(0,0,0,0.3);%0A%20%20%20%20padding:%2015px;%0A%20%20%20%20border-radius:%205px;%0A%20%20%20%20flex:%201;%0A%20%20%20%20margin-left:%2030px;%0A%20%20%20%20position:%20relative;%0A%09background:%20%20#d1ddce;%0A%7D%0A%0A#characterMessage:after%20%7B%0A%09content:%20'';%0A%09position:%20absolute;%0A%09left:%200;%0A%09top:%2050px;%0A%09width:%200;%0A%09height:%200;%0A%09border:%2020px%20solid%20transparent;%0A%09border-right-color:%20#d1ddce;%0A%09border-left:%200;%0A%09margin-top:%20-20px;%0A%09margin-left:%20-20px;%0A%7D%0A%0A#characterMessage%20span%20%7B%0A%20%20%20%20padding:%205px;%0A%20%20%20%20background-color:%20white;%0A%20%20%20%20border-radius:%204px;%0A%20%20%20%20line-height:%202.2em;%0A%7D%0A%0A#scaleContainer%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%2010px;%0A%20%20%20%20left:%2010px;%0A%20%20%20%20background-color:%20rgba(255,%20255,%20255,%200.7);%0A%20%20%20%20padding:%203px%2010px;%0A%20%20%20%20border-radius:%2020px;%0A%7D%0A%0A#scaleContainer%20input%20%7B%0A%20%20%20%20width:%2080px;%0A%7D##CSS_E####JS##var%20template%20=%20%5B%0A%20%20%20%20%5B1,%20%20%202,%20%203,%20%204,%20%205,%20%206,%20%207,%20%208,%20%209,%2010%5D,%0A%20%20%20%20%5B11,%2012,%2013,%2014,%2015,%2016,%2017,%2018,%2019,%2020%5D,%0A%20%20%20%20%5B21,%2022,%2023,%2024,%2025,%2026%5D,%0A%20%20%20%20%5B27,%2028,%2029%5D,%0A%20%20%20%20%5B30,%2031,%2032%5D,%0A%20%20%20%20%5B33,%2034,%2035%5D%0A%5D;%0Avar%20map%20=%20%5B%0A%20%20%20%20%5B%207,%20%208,%2017,%2018,%20%207,%20%208,%2017,%20%2018,%207,%2014,%2015,%2016,%20%208,%20%201,%20%202,%20%203%5D,%20%0A%20%20%20%20%5B%208,%20%201,%20%202,%20%202,%20%203,%20%207,%20%201,%20%202,%20%203,%2014,%2015,%2016,%20%207,%2011,%2027,%2013%5D,%20%0A%20%20%20%20%5B%201,%2020,%2027,%2028,%2019,%20%202,%2020,%2030,%2013,%2014,%2015,%2016,%20%201,%2020,%2027,%2013%5D,%20%0A%20%20%20%20%5B11,%2035,%20%209,%2022,%2010,%2035,%20%209,%2022,%2023,%2014,%2015,%2016,%2021,%2022,%2010,%2013%5D,%20%0A%20%20%20%20%5B21,%2010,%2013,%20%208,%2021,%2010,%2013,%20%207,%20%208,%2024,%2025,%2026,%20%207,%20%208,%2011,%2013%5D,%20%0A%20%20%20%20%5B%208,%2011,%2013,%20%207,%2018,%2011,%2013,%20%201,%20%203,%20%201,%20%203,%20%208,%20%201,%20%202,%2020,%2013%5D,%20%0A%20%20%20%20%5B%207,%2011,%2013,%20%208,%20%201,%2020,%2013,%2021,%2023,%2011,%2013,%2018,%2011,%2033,%2032,%2013%5D,%20%0A%20%20%20%20%5B%2018,%2011,%2019,%20%202,%2020,%2033,%2019,%20%202,%20%202,%2020,%2019,%20%202,%2020,%2030,%2031,%2013%5D,%20%0A%20%20%20%20%5B%2017,%2021,%2022,%2022,%2022,%2022,%2010,%2027,%2030,%2031,%20%209,%2022,%2022,%2022,%2010,%2013%5D,%20%0A%20%20%20%20%5B%207,%20%204,%20%205,%20%205,%20%205,%20%206,%2021,%2022,%2010,%2032,%2013,%20%208,%20%208,%20%208,%2011,%2013%5D,%20%0A%20%20%20%20%5B%208,%2014,%2015,%2015,%2015,%2016,%2017,%2018,%2011,%2033,%2013,%20%207,%20%201,%20%202,%2020,%2013%5D,%20%0A%20%20%20%20%5B%2017,%2014,%2015,%2015,%2015,%2016,%20%208,%20%208,%2011,%2034,%2013,%2017,%2011,%2032,%20%209,%2023%5D,%20%0A%20%20%20%20%5B%2018,%2014,%2015,%2015,%2015,%2016,%20%201,%20%202,%2020,%2035,%2013,%2018,%2011,%2031,%2013,%20%208%5D,%20%0A%20%20%20%20%5B%207,%2024,%2025,%2025,%2025,%2026,%2011,%2034,%20%209,%2010,%2019,%20%203,%2011,%2030,%2019,%20%203%5D,%20%0A%20%20%20%20%5B%208,%20%201,%20%202,%20%202,%20%202,%20%202,%2020,%2030,%2013,%2021,%2022,%2023,%2021,%2022,%2022,%2023%5D,%20%0A%20%20%20%20%5B%203,%2021,%2022,%2022,%2022,%2022,%2022,%2022,%2023,%20%208,%20%204,%20%205,%20%205,%20%205,%20%206,%20%208%5D%0A%5D;%0Avar%20walkable%20=%20%5B2,%209,%2010,%2011,%2013,%2019,%2020,%2022,%2027,%2028,%2029,%2030,%2031,%2032,%2033,%2034,%2035%5D;%0A%0Avar%20mapContainer%20=%20document.getElementById(%22mapContainer%22);%0Avar%20tileSize%20=%2032;%0A%0Avar%20scaleSlider%20=%20document.getElementById(%22scaleSlider%22);%0AscaleSlider.min%20=%200.7;%0AscaleSlider.max%20=%202;%0AscaleSlider.step%20=%200.1;%0AscaleSlider.value%20=%201;%0A%0Avar%20player%20=%20document.getElementById(%22player%22);%0Avar%20playerSprite%20=%20document.getElementById(%22sprite%22);%0Avar%20playerAnimation%20=%20%22idle%22;%0Avar%20playerCurrentFrame%20=%201;%0Avar%20playerMaxFrames%20=%2010;%0Avar%20animationFrameInterval%20=%203;%0Avar%20timeTick%20=%200;%0Avar%20walkLength%20=%2032;%0A%0Avar%20currentLine%20=%20-1;%0Avar%20codeComment%20=%20false;%0Avar%20commandArray;%0Avar%20moveTimeStep%20=%20400;%0Avar%20commandStep%20=%200;%0Avar%20moveStep%20=%200;%0Avar%20playerRow%20=%202;%0Avar%20playerCol%20=%201;%0Avar%20playerX%20=%2014;%0Avar%20playerY%20=%2017;%0Avar%20treasure%20=%20document.getElementById(%22treasure%22);%0Avar%20treasureRow%20=%2013;%0Avar%20treasureCol%20=%2013;%0A%0A%0A%0Afunction%20changeScale()%20%7B%0A%20%20%20%20//console.log(scaleSlider.value);%0A%0A%20%20%20%20mapContainer.style.transform%20=%20%22scale(%22%20+%20scaleSlider.value%20+%20%22)%22;%0A%7D%0A%0Afunction%20generateMap()%20%7B%0A%20%20%20%20for%20(var%20row%20=%200;%20row%20%3C%20map.length;%20row++)%20%7B%0A%20%20%20%20%20%20%20%20for%20(var%20col%20=%200;%20col%20%3C%20map%5Brow%5D.length;%20col++)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20//console.log(map%5Brow%5D%5Bcol%5D);%0A%20%20%20%20%20%20%20%20%20%20%20%20createTileById(map%5Brow%5D%5Bcol%5D,%20row,%20col);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20changeScale();%0A%0A%20%20%20%20treasure.style.top%20=%20(treasureRow%20*%20walkLength)%20+%203%20+%20%22px%22;%0A%20%20%20%20treasure.style.left%20=%20(treasureCol%20*%20walkLength)%20+%203%20+%20%22px%22;%0A%7D%0A%0Afunction%20createTileById(id,%20row,%20col)%20%7B%0A%20%20%20%20//console.log(id);%0A%0A%20%20%20%20var%20newTile%20=%20document.createElement(%22div%22);%0A%20%20%20%20newTile.setAttribute(%22class%22,%20%22tile%20tile%22%20+%20id);%0A%20%20%20%20newTile.style.top%20=%20row%20*%20tileSize%20+%20%22px%22;%0A%20%20%20%20newTile.style.left%20=%20col%20*%20tileSize%20+%20%22px%22;%0A%0A%20%20%20%20mapContainer.appendChild(newTile);%0A%7D%0A%0Afunction%20update()%20%7B%0A%20%20%20%20timeTick++;%0A%20%20%20%20if%20(timeTick%20%3E%20animationFrameInterval)%20%7B%0A%20%20%20%20%20%20%20%20timeTick%20=%200;%0A%0A%20%20%20%20%20%20%20%20updateAnimation();%0A%20%20%20%20%7D%0A%0A%20%20%20%20requestAnimationFrame(update);%0A%7D%0A%0Afunction%20updateAnimation()%20%7B%0A%20%20%20%20playerSprite.className%20=%20playerAnimation%20+%20%22%20%22%20+%20playerAnimation%20+%20playerCurrentFrame;%0A%0A%20%20%20%20playerCurrentFrame++;%0A%20%20%20%20if%20(playerAnimation%20==%20%22idle%22%20&&%20playerCurrentFrame%20%3E%20playerMaxFrames)%20%7B%0A%20%20%20%20%20%20%20%20playerCurrentFrame%20=%201;%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(playerAnimation%20==%20%22run%22%20&&%20playerCurrentFrame%20%3E%20playerMaxFrames)%20%7B%0A%20%20%20%20%20%20%20%20playerCurrentFrame%20=%201;%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20runCommand()%20%7B%0A%20%20%20%20commandArray%20=%20editor.getValue().split(%22%5Cn%22);%0A%20%20%20%20%0A%20%20%20%20currentLine%20=%20-1;%0A%20%20%20%20getNextCommand();%0A%7D%0A%0Afunction%20getNextCommand()%20%7B%0A%20%20%20%20if%20(commandArray.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20executeCommand(commandArray.shift().trim());%0A%20%20%20%20%20%20%20%20currentLine++;%0A%20%20%20%20%20%20%20%20editor.selection.moveCursorToPosition(%7Brow:%20currentLine,%20column:%200%7D);%0A%20%20%20%20%20%20%20%20editor.selection.selectLine();%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20editor.clearSelection();%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20//alert(%22finish%20all%20commands%22);%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20(playerCol%20==%20treasureCol%20&&%20playerRow%20==%20treasureRow)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22I%20found%20the%20treasure%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20executeCommand(cmd)%20%7B%0A%20%20%20%20//console.log(cmd);%0A%0A%20%20%20%20var%20tempCmds%20=%20cmd.split(%22(%22);%0A%20%20%20%20var%20cmdStr;%0A%20%20%20%20var%20cmdParameter;%0A%0A%20%20%20%20if%20(tempCmds%5B0%5D.indexOf(%22//%22)%20%3E%20-1)%20%7B%0A%20%20%20%20%20%20%20%20//%20that%20line%20is%20a%20comment%20line%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(tempCmds%5B0%5D.indexOf(%22/*%22)%20%3E%20-1)%20%7B%0A%20%20%20%20%20%20%20%20//%20start%20of%20block%20comment%0A%20%20%20%20%20%20%20%20codeComment%20=%20true;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(tempCmds%5B0%5D.indexOf(%22*/%22)%20%3E%20-1)%20%7B%0A%20%20%20%20%20%20%20%20//%20end%20of%20block%20comment%0A%20%20%20%20%20%20%20%20codeComment%20=%20false;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(!codeComment%20&&%20cmd.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20if%20(tempCmds%5B0%5D%20==%20%22moveLeft%22%20%7C%7C%20tempCmds%5B0%5D%20==%20%22moveRight%22%20%7C%7C%20tempCmds%5B0%5D%20==%20%22moveUp%22%20%7C%7C%20tempCmds%5B0%5D%20==%20%22moveDown%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cmdStr%20=%20tempCmds%5B0%5D.trim();%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20cmdParameter%20=%20tempCmds%5B1%5D.split(%22);%22)%5B0%5D.trim();%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!isNaN(cmdParameter))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//console.log(cmdStr);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//console.log(parseInt(cmdParameter));%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20commandStep%20=%20parseInt(cmdParameter);%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//eval(cmdStr%20+%20%22(%22%20+%20parseInt(commandStep)%20+%20%22)%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cmdStr%20==%20%22moveRight%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveRight,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cmdStr%20==%20%22moveLeft%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveLeft,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cmdStr%20==%20%22moveUp%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveUp,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cmdStr%20==%20%22moveDown%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveDown,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move!%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert(%22parameter%20is%20not%20a%20valid%20number%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22invalid%20command:%20%22%20+%20cmd);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20moveLeft()%20%7B%0A%20%20%20%20%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow,%20playerCol%20-%201))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerX%20-=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.left%20=%20playerX%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerCol--;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%7D%0A%0Afunction%20moveRight()%20%7B%0A%20%20%20%20%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow,%20playerCol%20+%201))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerX%20+=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.left%20=%20playerX%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerCol++;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20%0A%7D%0A%0Afunction%20moveUp()%20%7B%0A%20%20%20%20%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow%20-%201,%20playerCol))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerY%20-=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.top%20=%20playerY%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerRow--;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%7D%0A%0Afunction%20moveDown()%20%7B%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow%20+%201,%20playerCol))%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerY%20+=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.top%20=%20playerY%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerRow++;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%7D%0A%0Afunction%20checkAvailableMove(row,%20col)%20%7B%0A%20%20%20%20return%20walkable.includes(map%5Brow%5D%5Bcol%5D);%0A%7D%0A%0A/*%20Editor%20*/%0Avar%20editor%20=%20ace.edit(%22editor%22);%0Aeditor.setOptions(%7B%0A%20%20%20%20autoScrollEditorIntoView:%20true,%0A%20%20%20%20copyWithEmptySelection:%20true,%0A%7D);%0Aeditor.setTheme(%22ace/theme/chrome%22);%0A//%20editor.setTheme(%22ace/theme/monokai%22);%0Aeditor.session.setMode(%22ace/mode/javascript%22);%0A%0AgenerateMap();%0A%0Aupdate();##JS_E####CODE_5E####LOGIC_5####HTML##//%20Expectation:%0Apass.if.html.editable(0).equivalent(%60%3Cinput%20id=%22scaleSlider%22%20type=%22range%22%20oninput=%22changeScale()%22%3E%60);##HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_5E####STEP_5E####STEP_6####INST_6##Plan%20your%20journey%0A%0AExcellence%20work.%20John%20can%20now%20use%20the%20scale%20slider%20to%20zoom%20in%20and%20out%20on%20the%20map%20but%20he%20has%20a%20limited%20food%20supply%20for%20this%20journey.%20He%20can%20only%20walk%20for%2030%20steps%20before%20the%20supply%20runs%20out.%0A%0ACan%20you%20help%20him%20make%20a%20plan%20to%20reach%20the%20treasure%20in%2030%20steps?##INST_6E####CODE_6####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Cmeta%20name=%22viewport%22%20content=%22width=device-width,%20initial-scale=1.0%22%3E%0A%20%20%20%20%3Cmeta%20http-equiv=%22X-UA-Compatible%22%20content=%22ie=edge%22%3E%0A%20%20%20%20%3Ctitle%3EMap%20and%20Scale%3C/title%3E%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=Source+Sans+Pro%22%20rel=%22stylesheet%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Cdiv%20class=%22appContainer%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22container%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22mapContainer%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22player%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22sprite%22%20class=%22idle%20idle10%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22treasure%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22commandContainer%22%3E%0A%3Cdiv%20id=%22editor%22%3E//%20type%20your%20command%20here...%0A%0A%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick=%22runCommand()%22%3ERun%20%3E%3E%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22scaleContainer%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3EMap%20Scale%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id=%22scaleSlider%22%20type=%22range%22%20oninput=%22changeScale()%22%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%20%3C!--%20end%20#appContainer%20--%3E%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%0A%0A%20%20%20%20%3Cdiv%20class=%22appContainer%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id=%22characterProfileImg%22%20src=%22https://app.bsd.education/resources/character_profile.png%22%20alt=%22%22%3E%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch3%3EI'm%20John%3C/h3%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22characterMessage%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20Help%20me%20get%20to%20the%20treasure!%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20Type%20the%20following%20command%20in%20the%20command%20panel%20on%20the%20right%20to%20guide%20me%20to%20the%20treasure.%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3EmoveLeft(x);%3C/span%3E%20to%20move%20to%20the%20left%20for%20x%20unit(s).%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3EmoveRight(x);%3C/span%3E%20to%20move%20to%20the%20right%20for%20x%20unit(s).%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3EmoveUp(x);%3C/span%3E%20to%20move%20down%20for%20x%20unit(s).%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3EmoveDown(x);%3C/span%3E%20to%20move%20up%20for%20x%20unit(s).%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.2/ace.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0A%20%20%20%20margin:%200;%0A%20%20%20%20font-family:%20'Source%20Sans%20Pro',%20sans-serif;%0A%7D%0A%0A#editor%20%7B%20%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%200;%0A%20%20%20%20right:%200;%0A%20%20%20%20bottom:%2040px;%0A%20%20%20%20left:%200;%0A%7D%0A%0A.appContainer%20%7B%0A%20%20%20%20max-width:%20680px;%0A%20%20%20%20margin:%2015px%20auto;%0A%20%20%20%20display:%20flex;%0A%20%20%20%20position:%20relative;%0A%7D%0A%0A#container%20%7B%0A%20%20%20%20width:%20395px;%0A%20%20%20%20height:%20355px;%0A%20%20%20%20overflow:%20auto;%0A%20%20%20%20box-shadow:%200%202px%204px%20rgba(0,0,0,%200.3);%0A%20%20%20%20background-color:%20white;%0A%20%20%20%20transform-origin:%20left%20top;%0A%7D%0A%0A#mapContainer%20%7B%0A%20%20%20%20width:%20512px;%0A%20%20%20%20height:%20512px;%0A%20%20%20%20background-color:%20black;%0A%20%20%20%20position:%20relative;%0A%20%20%20%20margin:%200%20auto;%0A%20%20%20%20transform-origin:%20left%20top;%0A%20%20%20%20transition:%20transform%200.25s%20ease-out;%0A%7D%0A%0A.tile%20%7B%0A%20%20%20%20width:%2032px;%0A%20%20%20%20height:%2032px;%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/tilemap.png');%0A%20%20%20%20border-width:%200.1px;%0A%20%20%20%20border-style:%20dashed;%0A%20%20%20%20border-color:%20rgba(0,0,0,0.2);%0A%20%20%20%20box-sizing:%20border-box;%0A%7D%0A%0A.tile1%20%7B%20background-position:%200%200;%20%7D%0A.tile2%20%7B%20background-position:%20-32px%200;%20%7D%0A.tile3%20%7B%20background-position:%20-64px%200;%20%7D%0A.tile4%20%7B%20background-position:%20-96px%200;%20%7D%0A.tile5%20%7B%20background-position:%20-128px%200;%20%7D%0A.tile6%20%7B%20background-position:%20-160px%200;%20%7D%0A.tile7%20%7B%20background-position:%20-224px%200;%20%7D%0A.tile8%20%7B%20background-position:%20-256px%200;%20%7D%0A.tile9%20%7B%20background-position:%20-288px%200;%20%7D%0A.tile10%20%7B%20background-position:%20-320px%200;%20%7D%0A%0A.tile11%20%7B%20background-position:%200px%20%20%20-32px;%20%7D%0A.tile12%20%7B%20background-position:%20-32px%20-32px;%20%7D%20/*%20UNUSED%20*/%0A.tile13%20%7B%20background-position:%20-64px%20-32px;%20%7D%0A.tile14%20%7B%20background-position:%20-96px%20-32px;%20%7D%0A.tile15%20%7B%20background-position:%20-128px%20-32px;%20%7D%0A.tile16%20%7B%20background-position:%20-160px%20-32px;%20%7D%0A.tile17%20%7B%20background-position:%20-224px%20-32px;%20%7D%0A.tile18%20%7B%20background-position:%20-256px%20-32px;%20%7D%0A.tile19%20%7B%20background-position:%20-288px%20-32px;%20%7D%0A.tile20%20%7B%20background-position:%20-320px%20-32px;%20%7D%0A%0A.tile21%20%7B%20background-position:%200px%20%20%20-64px;%20%7D%0A.tile22%20%7B%20background-position:%20-32px%20-64px;%20%7D%0A.tile23%20%7B%20background-position:%20-64px%20-64px;%20%7D%0A.tile24%20%7B%20background-position:%20-96px%20-64px;%20%7D%0A.tile25%20%7B%20background-position:%20-128px%20-64px;%20%7D%0A.tile26%20%7B%20background-position:%20-160px%20-64px;%20%7D%0A%0A.tile27%20%7B%20background-position:%200px%20-96px;%20%7D%0A.tile28%20%7B%20background-position:%20-32px%20-96px;%20%7D%0A.tile29%20%7B%20background-position:%20-64px%20-96px;%20%7D%0A%0A.tile30%20%7B%20background-position:%200px%20-128px;%20%7D%0A.tile31%20%7B%20background-position:%20-32px%20-128px;%20%7D%0A.tile32%20%7B%20background-position:%20-64px%20-128px;%20%7D%0A%0A.tile33%20%7B%20background-position:%200px%20-160px;%20%7D%0A.tile34%20%7B%20background-position:%20-32px%20-160px;%20%7D%0A.tile35%20%7B%20background-position:%20-64px%20-160px;%20%7D%0A%0A#player%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%2017px;%0A%20%20%20%20left:%2014px;%0A%20%20%20%20z-index:%2010;%0A%20%20%20%20width:%2032px;%0A%20%20%20%20height:%2050px;%0A%20%20%20%20transition:%20all%200.3s%20linear;%0A%7D%0A%0A#sprite%20%7B%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/character_animation.png');%0A%20%20%20%20background-repeat:%20no-repeat;%0A%20%20%20%20transform:%20scale(0.5);%0A%20%20%20%20transform-origin:%20center%20center;%0A%7D%0A%0A.idle%20%7B%0A%20%20%20%20width:%2064px;%0A%20%20%20%20height:%2098px;%0A%7D%0A%0A.idle1%20%7B%20background-position:%20-81px%200px;%20%7D%0A.idle2%20%7B%20background-position:%20-145px%200px;%20%7D%0A.idle3%20%7B%20background-position:%20-209px%200px;%20%7D%0A.idle4%20%7B%20background-position:%20-273px%200px;%20%7D%0A.idle5%20%7B%20background-position:%20-337px%200px;%20%7D%0A.idle6%20%7B%20background-position:%20-401px%200px;%20%7D%0A.idle7%20%7B%20background-position:%20-465px%200px;%20%7D%0A.idle8%20%7B%20background-position:%20-529px%200px;%20%7D%0A.idle9%20%7B%20background-position:%20-593px%200px;%20%7D%0A.idle10%20%7B%20background-position:%20-657px%200px;%20%7D%0A%0A.run%20%7B%0A%20%20%20%20width:%2083px;%0A%20%20%20%20height:%20102px;%0A%7D%0A%0A.run1%20%7B%20background-position:%2013px%20-100px;%20%7D%0A.run2%20%7B%20background-position:%20-70px%20-100px;%20%7D%0A.run3%20%7B%20background-position:%20-153px%20-100px;%20%7D%0A.run4%20%7B%20background-position:%20-236px%20-100px;%20%7D%0A.run5%20%7B%20background-position:%20-319px%20-100px;%20%7D%0A.run6%20%7B%20background-position:%20-402px%20-100px;%20%7D%0A.run7%20%7B%20background-position:%20-485px%20-100px;%20%7D%0A.run8%20%7B%20background-position:%20-568px%20-100px;%20%7D%0A.run9%20%7B%20background-position:%20-651px%20-100px;%20%7D%0A.run10%20%7B%20background-position:%20-734px%20-100px;%20%7D%0A%0A%0A#commandContainer%20%7B%0A%20%20%20%20width:%20300px;%0A%20%20%20%20margin-left:%2010px;%0A%20%20%20%20position:%20relative;%0A%7D%0A%0A#commandContainer%20button%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20bottom:%200;%0A%20%20%20%20left:%200;%0A%20%20%20%20right:%200;%0A%20%20%20%20width:%20100%25;%0A%20%20%20%20height:%2035px;%0A%20%20%20%20cursor:%20pointer;%0A%20%20%20%20background-color:%20#91c247;%0A%20%20%20%20border:%20none;%0A%20%20%20%20outline:%20none;%0A%20%20%20%20border-radius:%203px;%0A%20%20%20%20font-weight:%20bold;%0A%7D%0A%0A#commandContainer%20button:active%20%7B%0A%20%20%20%20background-color:%20#75a034;%0A%7D%0A%0A%0A#treasure%20%7B%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/treasure.png');%0A%20%20%20%20background-repeat:%20no-repeat;%0A%20%20%20%20background-size:%2025px%2025px;%0A%20%20%20%20width:%2025px;%0A%20%20%20%20height:%2025px;%0A%20%20%20%20z-index:%205;%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%20-14px;%0A%20%20%20%20left:%20-11px;%0A%7D%0A%0A#characterProfileImg%20%7B%0A%20%20%20%20width:%20100px;%0A%20%20%20%20height:%20100px;%0A%7D%0A%0Ah3%20%7B%0A%20%20%20%20text-align:%20center;%0A%20%20%20%20margin:%200;%0A%7D%0A%0A#characterMessage%20%7B%0A%20%20%20%20box-shadow:%200px%203px%205px%20rgba(0,0,0,0.3);%0A%20%20%20%20padding:%2015px;%0A%20%20%20%20border-radius:%205px;%0A%20%20%20%20flex:%201;%0A%20%20%20%20margin-left:%2030px;%0A%20%20%20%20position:%20relative;%0A%09background:%20%20#d1ddce;%0A%7D%0A%0A#characterMessage:after%20%7B%0A%09content:%20'';%0A%09position:%20absolute;%0A%09left:%200;%0A%09top:%2050px;%0A%09width:%200;%0A%09height:%200;%0A%09border:%2020px%20solid%20transparent;%0A%09border-right-color:%20#d1ddce;%0A%09border-left:%200;%0A%09margin-top:%20-20px;%0A%09margin-left:%20-20px;%0A%7D%0A%0A#characterMessage%20span%20%7B%0A%20%20%20%20padding:%205px;%0A%20%20%20%20background-color:%20white;%0A%20%20%20%20border-radius:%204px;%0A%20%20%20%20line-height:%202.2em;%0A%7D%0A%0A#scaleContainer%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%2010px;%0A%20%20%20%20left:%2010px;%0A%20%20%20%20background-color:%20rgba(255,%20255,%20255,%200.7);%0A%20%20%20%20padding:%203px%2010px;%0A%20%20%20%20border-radius:%2020px;%0A%7D%0A%0A#scaleContainer%20input%20%7B%0A%20%20%20%20width:%2080px;%0A%7D##CSS_E####JS##var%20template%20=%20%5B%0A%20%20%20%20%5B1,%20%20%202,%20%203,%20%204,%20%205,%20%206,%20%207,%20%208,%20%209,%2010%5D,%0A%20%20%20%20%5B11,%2012,%2013,%2014,%2015,%2016,%2017,%2018,%2019,%2020%5D,%0A%20%20%20%20%5B21,%2022,%2023,%2024,%2025,%2026%5D,%0A%20%20%20%20%5B27,%2028,%2029%5D,%0A%20%20%20%20%5B30,%2031,%2032%5D,%0A%20%20%20%20%5B33,%2034,%2035%5D%0A%5D;%0Avar%20map%20=%20%5B%0A%20%20%20%20%5B%207,%20%208,%2017,%2018,%20%207,%20%208,%2017,%20%2018,%207,%2014,%2015,%2016,%20%208,%20%201,%20%202,%20%203%5D,%20%0A%20%20%20%20%5B%208,%20%201,%20%202,%20%202,%20%203,%20%207,%20%201,%20%202,%20%203,%2014,%2015,%2016,%20%207,%2011,%2027,%2013%5D,%20%0A%20%20%20%20%5B%201,%2020,%2027,%2028,%2019,%20%202,%2020,%2030,%2013,%2014,%2015,%2016,%20%201,%2020,%2027,%2013%5D,%20%0A%20%20%20%20%5B11,%2035,%20%209,%2022,%2010,%2035,%20%209,%2022,%2023,%2014,%2015,%2016,%2021,%2022,%2010,%2013%5D,%20%0A%20%20%20%20%5B21,%2010,%2013,%20%208,%2021,%2010,%2013,%20%207,%20%208,%2024,%2025,%2026,%20%207,%20%208,%2011,%2013%5D,%20%0A%20%20%20%20%5B%208,%2011,%2013,%20%207,%2018,%2011,%2013,%20%201,%20%203,%20%201,%20%203,%20%208,%20%201,%20%202,%2020,%2013%5D,%20%0A%20%20%20%20%5B%207,%2011,%2013,%20%208,%20%201,%2020,%2013,%2021,%2023,%2011,%2013,%2018,%2011,%2033,%2032,%2013%5D,%20%0A%20%20%20%20%5B%2018,%2011,%2019,%20%202,%2020,%2033,%2019,%20%202,%20%202,%2020,%2019,%20%202,%2020,%2030,%2031,%2013%5D,%20%0A%20%20%20%20%5B%2017,%2021,%2022,%2022,%2022,%2022,%2010,%2027,%2030,%2031,%20%209,%2022,%2022,%2022,%2010,%2013%5D,%20%0A%20%20%20%20%5B%207,%20%204,%20%205,%20%205,%20%205,%20%206,%2021,%2022,%2010,%2032,%2013,%20%208,%20%208,%20%208,%2011,%2013%5D,%20%0A%20%20%20%20%5B%208,%2014,%2015,%2015,%2015,%2016,%2017,%2018,%2011,%2033,%2013,%20%207,%20%201,%20%202,%2020,%2013%5D,%20%0A%20%20%20%20%5B%2017,%2014,%2015,%2015,%2015,%2016,%20%208,%20%208,%2011,%2034,%2013,%2017,%2011,%2032,%20%209,%2023%5D,%20%0A%20%20%20%20%5B%2018,%2014,%2015,%2015,%2015,%2016,%20%201,%20%202,%2020,%2035,%2013,%2018,%2011,%2031,%2013,%20%208%5D,%20%0A%20%20%20%20%5B%207,%2024,%2025,%2025,%2025,%2026,%2011,%2034,%20%209,%2010,%2019,%20%203,%2011,%2030,%2019,%20%203%5D,%20%0A%20%20%20%20%5B%208,%20%201,%20%202,%20%202,%20%202,%20%202,%2020,%2030,%2013,%2021,%2022,%2023,%2021,%2022,%2022,%2023%5D,%20%0A%20%20%20%20%5B%203,%2021,%2022,%2022,%2022,%2022,%2022,%2022,%2023,%20%208,%20%204,%20%205,%20%205,%20%205,%20%206,%20%208%5D%0A%5D;%0Avar%20walkable%20=%20%5B2,%209,%2010,%2011,%2013,%2019,%2020,%2022,%2027,%2028,%2029,%2030,%2031,%2032,%2033,%2034,%2035%5D;%0A%0Avar%20mapContainer%20=%20document.getElementById(%22mapContainer%22);%0Avar%20tileSize%20=%2032;%0A%0Avar%20scaleSlider%20=%20document.getElementById(%22scaleSlider%22);%0AscaleSlider.min%20=%200.7;%0AscaleSlider.max%20=%202;%0AscaleSlider.step%20=%200.1;%0AscaleSlider.value%20=%201;%0A%0Avar%20player%20=%20document.getElementById(%22player%22);%0Avar%20playerSprite%20=%20document.getElementById(%22sprite%22);%0Avar%20playerAnimation%20=%20%22idle%22;%0Avar%20playerCurrentFrame%20=%201;%0Avar%20playerMaxFrames%20=%2010;%0Avar%20animationFrameInterval%20=%203;%0Avar%20timeTick%20=%200;%0Avar%20walkLength%20=%2032;%0A%0Avar%20currentLine%20=%20-1;%0Avar%20codeComment%20=%20false;%0Avar%20commandArray;%0Avar%20moveTimeStep%20=%20400;%0Avar%20commandStep%20=%200;%0Avar%20moveStep%20=%200;%0Avar%20playerRow%20=%202;%0Avar%20playerCol%20=%201;%0Avar%20playerX%20=%2014;%0Avar%20playerY%20=%2017;%0Avar%20treasure%20=%20document.getElementById(%22treasure%22);%0Avar%20treasureRow%20=%2013;%0Avar%20treasureCol%20=%2013;%0A%0A%0A%0Afunction%20changeScale()%20%7B%0A%20%20%20%20//console.log(scaleSlider.value);%0A%0A%20%20%20%20mapContainer.style.transform%20=%20%22scale(%22%20+%20scaleSlider.value%20+%20%22)%22;%0A%7D%0A%0Afunction%20generateMap()%20%7B%0A%20%20%20%20for%20(var%20row%20=%200;%20row%20%3C%20map.length;%20row++)%20%7B%0A%20%20%20%20%20%20%20%20for%20(var%20col%20=%200;%20col%20%3C%20map%5Brow%5D.length;%20col++)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20//console.log(map%5Brow%5D%5Bcol%5D);%0A%20%20%20%20%20%20%20%20%20%20%20%20createTileById(map%5Brow%5D%5Bcol%5D,%20row,%20col);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20changeScale();%0A%0A%20%20%20%20treasure.style.top%20=%20(treasureRow%20*%20walkLength)%20+%203%20+%20%22px%22;%0A%20%20%20%20treasure.style.left%20=%20(treasureCol%20*%20walkLength)%20+%203%20+%20%22px%22;%0A%7D%0A%0Afunction%20createTileById(id,%20row,%20col)%20%7B%0A%20%20%20%20//console.log(id);%0A%0A%20%20%20%20var%20newTile%20=%20document.createElement(%22div%22);%0A%20%20%20%20newTile.setAttribute(%22class%22,%20%22tile%20tile%22%20+%20id);%0A%20%20%20%20newTile.style.top%20=%20row%20*%20tileSize%20+%20%22px%22;%0A%20%20%20%20newTile.style.left%20=%20col%20*%20tileSize%20+%20%22px%22;%0A%0A%20%20%20%20mapContainer.appendChild(newTile);%0A%7D%0A%0Afunction%20update()%20%7B%0A%20%20%20%20timeTick++;%0A%20%20%20%20if%20(timeTick%20%3E%20animationFrameInterval)%20%7B%0A%20%20%20%20%20%20%20%20timeTick%20=%200;%0A%0A%20%20%20%20%20%20%20%20updateAnimation();%0A%20%20%20%20%7D%0A%0A%20%20%20%20requestAnimationFrame(update);%0A%7D%0A%0Afunction%20updateAnimation()%20%7B%0A%20%20%20%20playerSprite.className%20=%20playerAnimation%20+%20%22%20%22%20+%20playerAnimation%20+%20playerCurrentFrame;%0A%0A%20%20%20%20playerCurrentFrame++;%0A%20%20%20%20if%20(playerAnimation%20==%20%22idle%22%20&&%20playerCurrentFrame%20%3E%20playerMaxFrames)%20%7B%0A%20%20%20%20%20%20%20%20playerCurrentFrame%20=%201;%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(playerAnimation%20==%20%22run%22%20&&%20playerCurrentFrame%20%3E%20playerMaxFrames)%20%7B%0A%20%20%20%20%20%20%20%20playerCurrentFrame%20=%201;%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20runCommand()%20%7B%0A%20%20%20%20commandArray%20=%20editor.getValue().split(%22%5Cn%22);%0A%20%20%20%20%0A%20%20%20%20currentLine%20=%20-1;%0A%20%20%20%20getNextCommand();%0A%7D%0A%0Afunction%20getNextCommand()%20%7B%0A%20%20%20%20if%20(commandArray.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20executeCommand(commandArray.shift().trim());%0A%20%20%20%20%20%20%20%20currentLine++;%0A%20%20%20%20%20%20%20%20editor.selection.moveCursorToPosition(%7Brow:%20currentLine,%20column:%200%7D);%0A%20%20%20%20%20%20%20%20editor.selection.selectLine();%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20editor.clearSelection();%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20//alert(%22finish%20all%20commands%22);%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20(playerCol%20==%20treasureCol%20&&%20playerRow%20==%20treasureRow)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22I%20found%20the%20treasure%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20executeCommand(cmd)%20%7B%0A%20%20%20%20//console.log(cmd);%0A%0A%20%20%20%20var%20tempCmds%20=%20cmd.split(%22(%22);%0A%20%20%20%20var%20cmdStr;%0A%20%20%20%20var%20cmdParameter;%0A%0A%20%20%20%20if%20(tempCmds%5B0%5D.indexOf(%22//%22)%20%3E%20-1)%20%7B%0A%20%20%20%20%20%20%20%20//%20that%20line%20is%20a%20comment%20line%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(tempCmds%5B0%5D.indexOf(%22/*%22)%20%3E%20-1)%20%7B%0A%20%20%20%20%20%20%20%20//%20start%20of%20block%20comment%0A%20%20%20%20%20%20%20%20codeComment%20=%20true;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(tempCmds%5B0%5D.indexOf(%22*/%22)%20%3E%20-1)%20%7B%0A%20%20%20%20%20%20%20%20//%20end%20of%20block%20comment%0A%20%20%20%20%20%20%20%20codeComment%20=%20false;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(!codeComment%20&&%20cmd.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20if%20(tempCmds%5B0%5D%20==%20%22moveLeft%22%20%7C%7C%20tempCmds%5B0%5D%20==%20%22moveRight%22%20%7C%7C%20tempCmds%5B0%5D%20==%20%22moveUp%22%20%7C%7C%20tempCmds%5B0%5D%20==%20%22moveDown%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cmdStr%20=%20tempCmds%5B0%5D.trim();%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20cmdParameter%20=%20tempCmds%5B1%5D.split(%22);%22)%5B0%5D.trim();%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!isNaN(cmdParameter))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//console.log(cmdStr);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//console.log(parseInt(cmdParameter));%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20commandStep%20=%20parseInt(cmdParameter);%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//eval(cmdStr%20+%20%22(%22%20+%20parseInt(commandStep)%20+%20%22)%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cmdStr%20==%20%22moveRight%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveRight,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cmdStr%20==%20%22moveLeft%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveLeft,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cmdStr%20==%20%22moveUp%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveUp,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cmdStr%20==%20%22moveDown%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveDown,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move!%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert(%22parameter%20is%20not%20a%20valid%20number%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22invalid%20command:%20%22%20+%20cmd);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20moveLeft()%20%7B%0A%20%20%20%20%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow,%20playerCol%20-%201))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerX%20-=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.left%20=%20playerX%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerCol--;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%7D%0A%0Afunction%20moveRight()%20%7B%0A%20%20%20%20%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow,%20playerCol%20+%201))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerX%20+=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.left%20=%20playerX%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerCol++;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20%0A%7D%0A%0Afunction%20moveUp()%20%7B%0A%20%20%20%20%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow%20-%201,%20playerCol))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerY%20-=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.top%20=%20playerY%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerRow--;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%7D%0A%0Afunction%20moveDown()%20%7B%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow%20+%201,%20playerCol))%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerY%20+=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.top%20=%20playerY%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerRow++;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%7D%0A%0Afunction%20checkAvailableMove(row,%20col)%20%7B%0A%20%20%20%20return%20walkable.includes(map%5Brow%5D%5Bcol%5D);%0A%7D%0A%0A/*%20Editor%20*/%0Avar%20editor%20=%20ace.edit(%22editor%22);%0Aeditor.setOptions(%7B%0A%20%20%20%20autoScrollEditorIntoView:%20true,%0A%20%20%20%20copyWithEmptySelection:%20true,%0A%7D);%0Aeditor.setTheme(%22ace/theme/chrome%22);%0A//%20editor.setTheme(%22ace/theme/monokai%22);%0Aeditor.session.setMode(%22ace/mode/javascript%22);%0A%0AgenerateMap();%0A%0Aupdate();##JS_E####CODE_6E####LOGIC_6####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_6E####STEP_6E####STEP_7####INST_7##Summary%0A%0AGreat%20job!%0A%0AYou%20have%20completed%20this%20project,%20here%20is%20a%20recap:%0A%0A%5B-%0A%09(*)%5Bborder::#glossary/css/927c1e89-ccfb-47d4-b25f-85238c30e1f7%5D%20is%20used%20to%20draw%20a%20border%20line%20of%20the%20element.%0A%09(*)%5B%3Cdiv%3E::#glossary/html/6f45e8ff-64d2-4528-827a-9d2722b8449d%5D%20is%20used%20to%20group%20elements%20together%20and%20to%20create%20a%20section%20on%20a%20web%20page.%0A%09(*)%5Bid::#glossary/html/05c870d4-8500-4dbd-98ef-92fd1f6d84a1%5D%20is%20a%20way%20to%20identify%20or%20target%20a%20single%20element%20on%20a%20web%20page.%0A%09(*)%5Bvariables::#glossary/javascript/ba0d9cd6-b0c1-4087-8760-a9f09b0d8d52%5D%20are%20used%20to%20store%20and%20track%20information.%0A%09(*)%5B%3Cinput%3E::#glossary/html/60b2b19d-8c84-4055-846a-1dee1212dc79%5D%20is%20used%20to%20create%20input%20element%20for%20users%20to%20enter%20data.%0A%09(*)%5Boninput::#glossary/javascript/294c812c-6e17-4ada-a712-a307e954b7a6%5D%20event%20executes%20a%20JavaScript%20when%20a%20user%20write%20or%20change%20something%20in%20an%20%3Cinput%3E%20element.%0A-%5D##INST_7E####CODE_7####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Cmeta%20name=%22viewport%22%20content=%22width=device-width,%20initial-scale=1.0%22%3E%0A%20%20%20%20%3Cmeta%20http-equiv=%22X-UA-Compatible%22%20content=%22ie=edge%22%3E%0A%20%20%20%20%3Ctitle%3EMap%20and%20Scale%3C/title%3E%0A%20%20%20%20%3Clink%20href=%22https://fonts.googleapis.com/css?family=Source+Sans+Pro%22%20rel=%22stylesheet%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Cdiv%20class=%22appContainer%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22container%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22mapContainer%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22player%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22sprite%22%20class=%22idle%20idle10%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22treasure%22%3E%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22commandContainer%22%3E%0A%3Cdiv%20id=%22editor%22%3E//%20type%20your%20command%20here...%0A%0A%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onclick=%22runCommand()%22%3ERun%20%3E%3E%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22scaleContainer%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%3EMap%20Scale%3C/label%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20id=%22scaleSlider%22%20type=%22range%22%20oninput=%22changeScale()%22%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%20%3C!--%20end%20#appContainer%20--%3E%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%0A%0A%20%20%20%20%3Cdiv%20class=%22appContainer%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id=%22characterProfileImg%22%20src=%22https://app.bsd.education/resources/character_profile.png%22%20alt=%22%22%3E%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch3%3EI'm%20John%3C/h3%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22characterMessage%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20Help%20me%20get%20to%20the%20treasure!%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20Type%20the%20following%20command%20in%20the%20command%20panel%20on%20the%20right%20to%20guide%20me%20to%20the%20treasure.%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3EmoveLeft(x);%3C/span%3E%20to%20move%20to%20the%20left%20for%20x%20unit(s).%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3EmoveRight(x);%3C/span%3E%20to%20move%20to%20the%20right%20for%20x%20unit(s).%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3EmoveUp(x);%3C/span%3E%20to%20move%20down%20for%20x%20unit(s).%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3EmoveDown(x);%3C/span%3E%20to%20move%20up%20for%20x%20unit(s).%3Cbr%20/%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.2/ace.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0A%20%20%20%20margin:%200;%0A%20%20%20%20font-family:%20'Source%20Sans%20Pro',%20sans-serif;%0A%7D%0A%0A#editor%20%7B%20%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%200;%0A%20%20%20%20right:%200;%0A%20%20%20%20bottom:%2040px;%0A%20%20%20%20left:%200;%0A%7D%0A%0A.appContainer%20%7B%0A%20%20%20%20max-width:%20680px;%0A%20%20%20%20margin:%2015px%20auto;%0A%20%20%20%20display:%20flex;%0A%20%20%20%20position:%20relative;%0A%7D%0A%0A#container%20%7B%0A%20%20%20%20width:%20395px;%0A%20%20%20%20height:%20355px;%0A%20%20%20%20overflow:%20auto;%0A%20%20%20%20box-shadow:%200%202px%204px%20rgba(0,0,0,%200.3);%0A%20%20%20%20background-color:%20white;%0A%20%20%20%20transform-origin:%20left%20top;%0A%7D%0A%0A#mapContainer%20%7B%0A%20%20%20%20width:%20512px;%0A%20%20%20%20height:%20512px;%0A%20%20%20%20background-color:%20black;%0A%20%20%20%20position:%20relative;%0A%20%20%20%20margin:%200%20auto;%0A%20%20%20%20transform-origin:%20left%20top;%0A%20%20%20%20transition:%20transform%200.25s%20ease-out;%0A%7D%0A%0A.tile%20%7B%0A%20%20%20%20width:%2032px;%0A%20%20%20%20height:%2032px;%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/tilemap.png');%0A%20%20%20%20border-width:%200.1px;%0A%20%20%20%20border-style:%20dashed;%0A%20%20%20%20border-color:%20rgba(0,0,0,0.2);%0A%20%20%20%20box-sizing:%20border-box;%0A%7D%0A%0A.tile1%20%7B%20background-position:%200%200;%20%7D%0A.tile2%20%7B%20background-position:%20-32px%200;%20%7D%0A.tile3%20%7B%20background-position:%20-64px%200;%20%7D%0A.tile4%20%7B%20background-position:%20-96px%200;%20%7D%0A.tile5%20%7B%20background-position:%20-128px%200;%20%7D%0A.tile6%20%7B%20background-position:%20-160px%200;%20%7D%0A.tile7%20%7B%20background-position:%20-224px%200;%20%7D%0A.tile8%20%7B%20background-position:%20-256px%200;%20%7D%0A.tile9%20%7B%20background-position:%20-288px%200;%20%7D%0A.tile10%20%7B%20background-position:%20-320px%200;%20%7D%0A%0A.tile11%20%7B%20background-position:%200px%20%20%20-32px;%20%7D%0A.tile12%20%7B%20background-position:%20-32px%20-32px;%20%7D%20/*%20UNUSED%20*/%0A.tile13%20%7B%20background-position:%20-64px%20-32px;%20%7D%0A.tile14%20%7B%20background-position:%20-96px%20-32px;%20%7D%0A.tile15%20%7B%20background-position:%20-128px%20-32px;%20%7D%0A.tile16%20%7B%20background-position:%20-160px%20-32px;%20%7D%0A.tile17%20%7B%20background-position:%20-224px%20-32px;%20%7D%0A.tile18%20%7B%20background-position:%20-256px%20-32px;%20%7D%0A.tile19%20%7B%20background-position:%20-288px%20-32px;%20%7D%0A.tile20%20%7B%20background-position:%20-320px%20-32px;%20%7D%0A%0A.tile21%20%7B%20background-position:%200px%20%20%20-64px;%20%7D%0A.tile22%20%7B%20background-position:%20-32px%20-64px;%20%7D%0A.tile23%20%7B%20background-position:%20-64px%20-64px;%20%7D%0A.tile24%20%7B%20background-position:%20-96px%20-64px;%20%7D%0A.tile25%20%7B%20background-position:%20-128px%20-64px;%20%7D%0A.tile26%20%7B%20background-position:%20-160px%20-64px;%20%7D%0A%0A.tile27%20%7B%20background-position:%200px%20-96px;%20%7D%0A.tile28%20%7B%20background-position:%20-32px%20-96px;%20%7D%0A.tile29%20%7B%20background-position:%20-64px%20-96px;%20%7D%0A%0A.tile30%20%7B%20background-position:%200px%20-128px;%20%7D%0A.tile31%20%7B%20background-position:%20-32px%20-128px;%20%7D%0A.tile32%20%7B%20background-position:%20-64px%20-128px;%20%7D%0A%0A.tile33%20%7B%20background-position:%200px%20-160px;%20%7D%0A.tile34%20%7B%20background-position:%20-32px%20-160px;%20%7D%0A.tile35%20%7B%20background-position:%20-64px%20-160px;%20%7D%0A%0A#player%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%2017px;%0A%20%20%20%20left:%2014px;%0A%20%20%20%20z-index:%2010;%0A%20%20%20%20width:%2032px;%0A%20%20%20%20height:%2050px;%0A%20%20%20%20transition:%20all%200.3s%20linear;%0A%7D%0A%0A#sprite%20%7B%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/character_animation.png');%0A%20%20%20%20background-repeat:%20no-repeat;%0A%20%20%20%20transform:%20scale(0.5);%0A%20%20%20%20transform-origin:%20center%20center;%0A%7D%0A%0A.idle%20%7B%0A%20%20%20%20width:%2064px;%0A%20%20%20%20height:%2098px;%0A%7D%0A%0A.idle1%20%7B%20background-position:%20-81px%200px;%20%7D%0A.idle2%20%7B%20background-position:%20-145px%200px;%20%7D%0A.idle3%20%7B%20background-position:%20-209px%200px;%20%7D%0A.idle4%20%7B%20background-position:%20-273px%200px;%20%7D%0A.idle5%20%7B%20background-position:%20-337px%200px;%20%7D%0A.idle6%20%7B%20background-position:%20-401px%200px;%20%7D%0A.idle7%20%7B%20background-position:%20-465px%200px;%20%7D%0A.idle8%20%7B%20background-position:%20-529px%200px;%20%7D%0A.idle9%20%7B%20background-position:%20-593px%200px;%20%7D%0A.idle10%20%7B%20background-position:%20-657px%200px;%20%7D%0A%0A.run%20%7B%0A%20%20%20%20width:%2083px;%0A%20%20%20%20height:%20102px;%0A%7D%0A%0A.run1%20%7B%20background-position:%2013px%20-100px;%20%7D%0A.run2%20%7B%20background-position:%20-70px%20-100px;%20%7D%0A.run3%20%7B%20background-position:%20-153px%20-100px;%20%7D%0A.run4%20%7B%20background-position:%20-236px%20-100px;%20%7D%0A.run5%20%7B%20background-position:%20-319px%20-100px;%20%7D%0A.run6%20%7B%20background-position:%20-402px%20-100px;%20%7D%0A.run7%20%7B%20background-position:%20-485px%20-100px;%20%7D%0A.run8%20%7B%20background-position:%20-568px%20-100px;%20%7D%0A.run9%20%7B%20background-position:%20-651px%20-100px;%20%7D%0A.run10%20%7B%20background-position:%20-734px%20-100px;%20%7D%0A%0A%0A#commandContainer%20%7B%0A%20%20%20%20width:%20300px;%0A%20%20%20%20margin-left:%2010px;%0A%20%20%20%20position:%20relative;%0A%7D%0A%0A#commandContainer%20button%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20bottom:%200;%0A%20%20%20%20left:%200;%0A%20%20%20%20right:%200;%0A%20%20%20%20width:%20100%25;%0A%20%20%20%20height:%2035px;%0A%20%20%20%20cursor:%20pointer;%0A%20%20%20%20background-color:%20#91c247;%0A%20%20%20%20border:%20none;%0A%20%20%20%20outline:%20none;%0A%20%20%20%20border-radius:%203px;%0A%20%20%20%20font-weight:%20bold;%0A%7D%0A%0A#commandContainer%20button:active%20%7B%0A%20%20%20%20background-color:%20#75a034;%0A%7D%0A%0A%0A#treasure%20%7B%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/treasure.png');%0A%20%20%20%20background-repeat:%20no-repeat;%0A%20%20%20%20background-size:%2025px%2025px;%0A%20%20%20%20width:%2025px;%0A%20%20%20%20height:%2025px;%0A%20%20%20%20z-index:%205;%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%20-14px;%0A%20%20%20%20left:%20-11px;%0A%7D%0A%0A#characterProfileImg%20%7B%0A%20%20%20%20width:%20100px;%0A%20%20%20%20height:%20100px;%0A%7D%0A%0Ah3%20%7B%0A%20%20%20%20text-align:%20center;%0A%20%20%20%20margin:%200;%0A%7D%0A%0A#characterMessage%20%7B%0A%20%20%20%20box-shadow:%200px%203px%205px%20rgba(0,0,0,0.3);%0A%20%20%20%20padding:%2015px;%0A%20%20%20%20border-radius:%205px;%0A%20%20%20%20flex:%201;%0A%20%20%20%20margin-left:%2030px;%0A%20%20%20%20position:%20relative;%0A%09background:%20%20#d1ddce;%0A%7D%0A%0A#characterMessage:after%20%7B%0A%09content:%20'';%0A%09position:%20absolute;%0A%09left:%200;%0A%09top:%2050px;%0A%09width:%200;%0A%09height:%200;%0A%09border:%2020px%20solid%20transparent;%0A%09border-right-color:%20#d1ddce;%0A%09border-left:%200;%0A%09margin-top:%20-20px;%0A%09margin-left:%20-20px;%0A%7D%0A%0A#characterMessage%20span%20%7B%0A%20%20%20%20padding:%205px;%0A%20%20%20%20background-color:%20white;%0A%20%20%20%20border-radius:%204px;%0A%20%20%20%20line-height:%202.2em;%0A%7D%0A%0A#scaleContainer%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20top:%2010px;%0A%20%20%20%20left:%2010px;%0A%20%20%20%20background-color:%20rgba(255,%20255,%20255,%200.7);%0A%20%20%20%20padding:%203px%2010px;%0A%20%20%20%20border-radius:%2020px;%0A%7D%0A%0A#scaleContainer%20input%20%7B%0A%20%20%20%20width:%2080px;%0A%7D##CSS_E####JS##var%20template%20=%20%5B%0A%20%20%20%20%5B1,%20%20%202,%20%203,%20%204,%20%205,%20%206,%20%207,%20%208,%20%209,%2010%5D,%0A%20%20%20%20%5B11,%2012,%2013,%2014,%2015,%2016,%2017,%2018,%2019,%2020%5D,%0A%20%20%20%20%5B21,%2022,%2023,%2024,%2025,%2026%5D,%0A%20%20%20%20%5B27,%2028,%2029%5D,%0A%20%20%20%20%5B30,%2031,%2032%5D,%0A%20%20%20%20%5B33,%2034,%2035%5D%0A%5D;%0Avar%20map%20=%20%5B%0A%20%20%20%20%5B%207,%20%208,%2017,%2018,%20%207,%20%208,%2017,%20%2018,%207,%2014,%2015,%2016,%20%208,%20%201,%20%202,%20%203%5D,%20%0A%20%20%20%20%5B%208,%20%201,%20%202,%20%202,%20%203,%20%207,%20%201,%20%202,%20%203,%2014,%2015,%2016,%20%207,%2011,%2027,%2013%5D,%20%0A%20%20%20%20%5B%201,%2020,%2027,%2028,%2019,%20%202,%2020,%2030,%2013,%2014,%2015,%2016,%20%201,%2020,%2027,%2013%5D,%20%0A%20%20%20%20%5B11,%2035,%20%209,%2022,%2010,%2035,%20%209,%2022,%2023,%2014,%2015,%2016,%2021,%2022,%2010,%2013%5D,%20%0A%20%20%20%20%5B21,%2010,%2013,%20%208,%2021,%2010,%2013,%20%207,%20%208,%2024,%2025,%2026,%20%207,%20%208,%2011,%2013%5D,%20%0A%20%20%20%20%5B%208,%2011,%2013,%20%207,%2018,%2011,%2013,%20%201,%20%203,%20%201,%20%203,%20%208,%20%201,%20%202,%2020,%2013%5D,%20%0A%20%20%20%20%5B%207,%2011,%2013,%20%208,%20%201,%2020,%2013,%2021,%2023,%2011,%2013,%2018,%2011,%2033,%2032,%2013%5D,%20%0A%20%20%20%20%5B%2018,%2011,%2019,%20%202,%2020,%2033,%2019,%20%202,%20%202,%2020,%2019,%20%202,%2020,%2030,%2031,%2013%5D,%20%0A%20%20%20%20%5B%2017,%2021,%2022,%2022,%2022,%2022,%2010,%2027,%2030,%2031,%20%209,%2022,%2022,%2022,%2010,%2013%5D,%20%0A%20%20%20%20%5B%207,%20%204,%20%205,%20%205,%20%205,%20%206,%2021,%2022,%2010,%2032,%2013,%20%208,%20%208,%20%208,%2011,%2013%5D,%20%0A%20%20%20%20%5B%208,%2014,%2015,%2015,%2015,%2016,%2017,%2018,%2011,%2033,%2013,%20%207,%20%201,%20%202,%2020,%2013%5D,%20%0A%20%20%20%20%5B%2017,%2014,%2015,%2015,%2015,%2016,%20%208,%20%208,%2011,%2034,%2013,%2017,%2011,%2032,%20%209,%2023%5D,%20%0A%20%20%20%20%5B%2018,%2014,%2015,%2015,%2015,%2016,%20%201,%20%202,%2020,%2035,%2013,%2018,%2011,%2031,%2013,%20%208%5D,%20%0A%20%20%20%20%5B%207,%2024,%2025,%2025,%2025,%2026,%2011,%2034,%20%209,%2010,%2019,%20%203,%2011,%2030,%2019,%20%203%5D,%20%0A%20%20%20%20%5B%208,%20%201,%20%202,%20%202,%20%202,%20%202,%2020,%2030,%2013,%2021,%2022,%2023,%2021,%2022,%2022,%2023%5D,%20%0A%20%20%20%20%5B%203,%2021,%2022,%2022,%2022,%2022,%2022,%2022,%2023,%20%208,%20%204,%20%205,%20%205,%20%205,%20%206,%20%208%5D%0A%5D;%0Avar%20walkable%20=%20%5B2,%209,%2010,%2011,%2013,%2019,%2020,%2022,%2027,%2028,%2029,%2030,%2031,%2032,%2033,%2034,%2035%5D;%0A%0Avar%20mapContainer%20=%20document.getElementById(%22mapContainer%22);%0Avar%20tileSize%20=%2032;%0A%0Avar%20scaleSlider%20=%20document.getElementById(%22scaleSlider%22);%0AscaleSlider.min%20=%200.7;%0AscaleSlider.max%20=%202;%0AscaleSlider.step%20=%200.1;%0AscaleSlider.value%20=%201;%0A%0Avar%20player%20=%20document.getElementById(%22player%22);%0Avar%20playerSprite%20=%20document.getElementById(%22sprite%22);%0Avar%20playerAnimation%20=%20%22idle%22;%0Avar%20playerCurrentFrame%20=%201;%0Avar%20playerMaxFrames%20=%2010;%0Avar%20animationFrameInterval%20=%203;%0Avar%20timeTick%20=%200;%0Avar%20walkLength%20=%2032;%0A%0Avar%20currentLine%20=%20-1;%0Avar%20codeComment%20=%20false;%0Avar%20commandArray;%0Avar%20moveTimeStep%20=%20400;%0Avar%20commandStep%20=%200;%0Avar%20moveStep%20=%200;%0Avar%20playerRow%20=%202;%0Avar%20playerCol%20=%201;%0Avar%20playerX%20=%2014;%0Avar%20playerY%20=%2017;%0Avar%20treasure%20=%20document.getElementById(%22treasure%22);%0Avar%20treasureRow%20=%2013;%0Avar%20treasureCol%20=%2013;%0A%0A%0A%0Afunction%20changeScale()%20%7B%0A%20%20%20%20//console.log(scaleSlider.value);%0A%0A%20%20%20%20mapContainer.style.transform%20=%20%22scale(%22%20+%20scaleSlider.value%20+%20%22)%22;%0A%7D%0A%0Afunction%20generateMap()%20%7B%0A%20%20%20%20for%20(var%20row%20=%200;%20row%20%3C%20map.length;%20row++)%20%7B%0A%20%20%20%20%20%20%20%20for%20(var%20col%20=%200;%20col%20%3C%20map%5Brow%5D.length;%20col++)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20//console.log(map%5Brow%5D%5Bcol%5D);%0A%20%20%20%20%20%20%20%20%20%20%20%20createTileById(map%5Brow%5D%5Bcol%5D,%20row,%20col);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20changeScale();%0A%0A%20%20%20%20treasure.style.top%20=%20(treasureRow%20*%20walkLength)%20+%203%20+%20%22px%22;%0A%20%20%20%20treasure.style.left%20=%20(treasureCol%20*%20walkLength)%20+%203%20+%20%22px%22;%0A%7D%0A%0Afunction%20createTileById(id,%20row,%20col)%20%7B%0A%20%20%20%20//console.log(id);%0A%0A%20%20%20%20var%20newTile%20=%20document.createElement(%22div%22);%0A%20%20%20%20newTile.setAttribute(%22class%22,%20%22tile%20tile%22%20+%20id);%0A%20%20%20%20newTile.style.top%20=%20row%20*%20tileSize%20+%20%22px%22;%0A%20%20%20%20newTile.style.left%20=%20col%20*%20tileSize%20+%20%22px%22;%0A%0A%20%20%20%20mapContainer.appendChild(newTile);%0A%7D%0A%0Afunction%20update()%20%7B%0A%20%20%20%20timeTick++;%0A%20%20%20%20if%20(timeTick%20%3E%20animationFrameInterval)%20%7B%0A%20%20%20%20%20%20%20%20timeTick%20=%200;%0A%0A%20%20%20%20%20%20%20%20updateAnimation();%0A%20%20%20%20%7D%0A%0A%20%20%20%20requestAnimationFrame(update);%0A%7D%0A%0Afunction%20updateAnimation()%20%7B%0A%20%20%20%20playerSprite.className%20=%20playerAnimation%20+%20%22%20%22%20+%20playerAnimation%20+%20playerCurrentFrame;%0A%0A%20%20%20%20playerCurrentFrame++;%0A%20%20%20%20if%20(playerAnimation%20==%20%22idle%22%20&&%20playerCurrentFrame%20%3E%20playerMaxFrames)%20%7B%0A%20%20%20%20%20%20%20%20playerCurrentFrame%20=%201;%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(playerAnimation%20==%20%22run%22%20&&%20playerCurrentFrame%20%3E%20playerMaxFrames)%20%7B%0A%20%20%20%20%20%20%20%20playerCurrentFrame%20=%201;%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20runCommand()%20%7B%0A%20%20%20%20commandArray%20=%20editor.getValue().split(%22%5Cn%22);%0A%20%20%20%20%0A%20%20%20%20currentLine%20=%20-1;%0A%20%20%20%20getNextCommand();%0A%7D%0A%0Afunction%20getNextCommand()%20%7B%0A%20%20%20%20if%20(commandArray.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20executeCommand(commandArray.shift().trim());%0A%20%20%20%20%20%20%20%20currentLine++;%0A%20%20%20%20%20%20%20%20editor.selection.moveCursorToPosition(%7Brow:%20currentLine,%20column:%200%7D);%0A%20%20%20%20%20%20%20%20editor.selection.selectLine();%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20editor.clearSelection();%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20//alert(%22finish%20all%20commands%22);%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20(playerCol%20==%20treasureCol%20&&%20playerRow%20==%20treasureRow)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22I%20found%20the%20treasure%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20executeCommand(cmd)%20%7B%0A%20%20%20%20//console.log(cmd);%0A%0A%20%20%20%20var%20tempCmds%20=%20cmd.split(%22(%22);%0A%20%20%20%20var%20cmdStr;%0A%20%20%20%20var%20cmdParameter;%0A%0A%20%20%20%20if%20(tempCmds%5B0%5D.indexOf(%22//%22)%20%3E%20-1)%20%7B%0A%20%20%20%20%20%20%20%20//%20that%20line%20is%20a%20comment%20line%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(tempCmds%5B0%5D.indexOf(%22/*%22)%20%3E%20-1)%20%7B%0A%20%20%20%20%20%20%20%20//%20start%20of%20block%20comment%0A%20%20%20%20%20%20%20%20codeComment%20=%20true;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(tempCmds%5B0%5D.indexOf(%22*/%22)%20%3E%20-1)%20%7B%0A%20%20%20%20%20%20%20%20//%20end%20of%20block%20comment%0A%20%20%20%20%20%20%20%20codeComment%20=%20false;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(!codeComment%20&&%20cmd.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20if%20(tempCmds%5B0%5D%20==%20%22moveLeft%22%20%7C%7C%20tempCmds%5B0%5D%20==%20%22moveRight%22%20%7C%7C%20tempCmds%5B0%5D%20==%20%22moveUp%22%20%7C%7C%20tempCmds%5B0%5D%20==%20%22moveDown%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cmdStr%20=%20tempCmds%5B0%5D.trim();%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20cmdParameter%20=%20tempCmds%5B1%5D.split(%22);%22)%5B0%5D.trim();%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!isNaN(cmdParameter))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//console.log(cmdStr);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//console.log(parseInt(cmdParameter));%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20commandStep%20=%20parseInt(cmdParameter);%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//eval(cmdStr%20+%20%22(%22%20+%20parseInt(commandStep)%20+%20%22)%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cmdStr%20==%20%22moveRight%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveRight,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cmdStr%20==%20%22moveLeft%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveLeft,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cmdStr%20==%20%22moveUp%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveUp,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cmdStr%20==%20%22moveDown%22)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveStep%20=%200;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveInterval%20=%20setInterval(moveDown,%20moveTimeStep);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move!%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alert(%22parameter%20is%20not%20a%20valid%20number%22);%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22invalid%20command:%20%22%20+%20cmd);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20moveLeft()%20%7B%0A%20%20%20%20%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow,%20playerCol%20-%201))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerX%20-=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.left%20=%20playerX%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerCol--;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%7D%0A%0Afunction%20moveRight()%20%7B%0A%20%20%20%20%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow,%20playerCol%20+%201))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerX%20+=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.left%20=%20playerX%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerCol++;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20%0A%7D%0A%0Afunction%20moveUp()%20%7B%0A%20%20%20%20%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow%20-%201,%20playerCol))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerY%20-=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.top%20=%20playerY%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerRow--;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%7D%0A%0Afunction%20moveDown()%20%7B%0A%20%20%20%20if%20(moveStep%20==%20commandStep)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20getNextCommand();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20(checkAvailableMove(playerRow%20+%201,%20playerCol))%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22run%22;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20moveStep++;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerY%20+=%20walkLength;%0A%20%20%20%20%20%20%20%20%20%20%20%20player.style.top%20=%20playerY%20+%20%22px%22;%0A%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playerRow++;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(moveInterval);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerAnimation%20=%20%22idle%22;%0A%20%20%20%20%20%20%20%20%20%20%20%20alert(%22can%20not%20move%20there!%22);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%7D%0A%0Afunction%20checkAvailableMove(row,%20col)%20%7B%0A%20%20%20%20return%20walkable.includes(map%5Brow%5D%5Bcol%5D);%0A%7D%0A%0A/*%20Editor%20*/%0Avar%20editor%20=%20ace.edit(%22editor%22);%0Aeditor.setOptions(%7B%0A%20%20%20%20autoScrollEditorIntoView:%20true,%0A%20%20%20%20copyWithEmptySelection:%20true,%0A%7D);%0Aeditor.setTheme(%22ace/theme/chrome%22);%0A//%20editor.setTheme(%22ace/theme/monokai%22);%0Aeditor.session.setMode(%22ace/mode/javascript%22);%0A%0AgenerateMap();%0A%0Aupdate();##JS_E####CODE_7E####LOGIC_7####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_7E####STEP_7E##