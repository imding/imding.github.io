11##STEP_1####INST_1##Introduction%0A%0AA%20fractal%20is%20a%20never-ending%20pattern.%20The%20patterns%20used%20can%20be%20different%20sizes%20and%20directions,%20but%20they%20are%20used%20over%20and%20over%20to%20create%20an%20ongoing%20pattern.%20%0A%0AWe%20can%20see%20many%20fractals%20in%20nature,%20for%20example%20snowflakes.%20%0A%0AIn%20this%20project,%20we%20will%20be%20looking%20at%20the%20*L-system%20fractal*,%20which%20can%20be%20used%20to%20create%20visualisations%20of%20trees.%0A%0AHere%20are%20some%20examples%20of%20what%20can%20be%20done%20using%20L-system%20fractals:%0A%5Bimg::https://upload.wikimedia.org/wikipedia/commons/7/74/Dragon_trees.jpg%5D##INST_1E####CODE_1####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22/%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%09%3Ccanvas%20id=%22canvas%22%3E%3C/canvas%3E%0A%09%3Cpre%20id=%22info%22%3E%3C/pre%3E%0A%09%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##body%20%7B%0A%20%20%20%20margin:%200;%0A%20%20%20%20overflow:%20hidden;%0A%7D%0A%0Acanvas%20%7B%0A%20%20%20%20background:%20silver;%0A%7D%0A%0A#info%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20bottom:%200;%0A%20%20%20%20width:%20100%25;%0A%20%20%20%20color:%20white;%0A%20%20%20%20font-family:%20Monospace;%0A%20%20%20%20font-size:%2012px;%0A%20%20%20%20text-align:%20center;%0A%7D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20canvas%20=%20document.getElementById('canvas');%0D%0Avar%20context%20=%20canvas.getContext('2d');%0D%0Avar%20counter%20=%200;%0D%0A%0D%0Avar%20w%20=%20window.innerWidth;%0D%0Avar%20h%20=%20window.innerHeight;%0D%0A%0D%0Acanvas.width%20=%20w;%0D%0Acanvas.height%20=%20h;%0D%0A%0D%0Aclass%20Tree%20%7B%0D%0A%20%20%20%20constructor()%20%7B%0D%0A%20%20%20%20%20%20%20%20this.trunk_length%20=%20100;%0D%0A%20%20%20%20%20%20%20%20this.trunk_width%20=%2015;%0D%0A%20%20%20%20%20%20%20%20this.length_reduce%20=%202%20/%203;%0D%0A%20%20%20%20%20%20%20%20this.width_reduce%20=%203%20/%204;%0D%0A%20%20%20%20%20%20%20%20this.left_branch%20=%20-45;%0D%0A%20%20%20%20%20%20%20%20this.right_branch%20=%2045;%0D%0A%20%20%20%20%20%20%20%20this.min_length%20=%2015;%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.branch_color%20=%20%22#767461%22;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.context%20=%20context;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20create(x,%20y)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20this.branch(x,%20y,%20this.trunk_length,%20this.trunk_width);%0D%0A%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20branch(x,%20y,%20length,%20width)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(counter%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20length%20*=%20(this.length_reduce);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20this.context.fillStyle%20=%20this.branch_color;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(length%20%3E%20this.min_length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20counter++;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20width%20*=%20this.width_reduce;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.fillRect(x,%20y,%20width,%20-length);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.translate(x,%20y%20-%20length);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20draw%20left%20branch%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.rotate(this.left_branch%20*%20(Math.PI%20/%20180));%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.branch(0,%200,%20length,%20width);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20draw%20right%20branch%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.rotate(this.right_branch%20*%20(Math.PI%20/%20180));%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.branch(0,%200,%20length,%20width);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20draw()%20%7B%0D%0A%20%20%20%20//ground%0D%0A%20%20%20%20context.fillStyle%20=%20%22#767461%22;%0D%0A%20%20%20%20context.fillRect(0,%200,%20w,%20h);%0D%0A%0D%0A%20%20%20%20//sky%0D%0A%20%20%20%20context.fillStyle%20=%20%22#ADD8C7%22;%0D%0A%20%20%20%20context.fillRect(0,%200,%20w,%20h%20-%2050);%0D%0A%0D%0A%20%20%20%20var%20bigTree%20=%20new%20Tree();%0D%0A%20%20%20%20bigTree.create(w%20/%202,%20h%20-%2050);%0D%0A%7D%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20w%20=%20window.innerWidth;%0D%0A%20%20%20%20h%20=%20window.innerHeight;%0D%0A%20%20%20%20canvas.width%20=%20w;%0D%0A%20%20%20%20canvas.height%20=%20h;%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20function%20()%20%7B%0D%0A%20%20%20%20resize();%0D%0A%20%20%20%20draw();%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20function()%20%7B%0D%0A%20%20%20%20draw();%0D%0A%20%20%20%20info.textContent%20=%20%60Branch%20count:%20$%7Bcounter%7D%60;%0D%0A%7D;%0D%0A#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_1E####LOGIC_1####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_1E####STEP_1E####STEP_2####INST_2##The%20algorithm%0A%0AA%20fractal%20is%20never%20ending%20because%20it's%20not%20created%20manually,%20rather%20it%20is%20created%20by%20the%20computer%20repeating%20a%20set%20of%20instructions,%20we%20call%20these%20instructions%20*the%20algorithm*.%0A%0AYou%20can%20find%20the%20algorithm%20for%20our%20L-system%20fractal%20on%20+js#class#%20-%20js#on%20draw#-2.%0A%0ATo%20run%20the%20algorithm%20and%20visualise%20the%20fractal,%20we%20need%20to%20make%20a%20copy%20of%20the%20*Tree*%20object%20(%20+js#class#%20)%20so%20we%20can%20use%20its%20*create*%20and%20*branch*%20functions.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#new%5D%0A%09(*)%5B#js#object%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20resize#-3,%20create%20a%20variable%20called%20*bigTree*%20to%20store%20a%20copy%20of%20the%20*Tree*%20object.##INST_2E####CODE_2####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22/%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%09%3Ccanvas%20id=%22canvas%22%3E%3C/canvas%3E%0A%09%3Cpre%20id=%22info%22%3E%3C/pre%3E%0A%09%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A##HTML_E####CSS##body%20%7B%0A%20%20%20%20margin:%200;%0A%20%20%20%20overflow:%20hidden;%0A%7D%0A%0Acanvas%20%7B%0A%20%20%20%20background:%20silver;%0A%7D%0A%0A#info%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20bottom:%200;%0A%20%20%20%20width:%20100%25;%0A%20%20%20%20color:%20white;%0A%20%20%20%20font-family:%20Monospace;%0A%20%20%20%20font-size:%2012px;%0A%20%20%20%20text-align:%20center;%0A%7D%0A##CSS_E####JS##var%20canvas%20=%20document.getElementById('canvas');%0D%0Avar%20context%20=%20canvas.getContext('2d');%0D%0Avar%20counter%20=%200;%0D%0A%0D%0Avar%20w%20=%20window.innerWidth;%0D%0Avar%20h%20=%20window.innerHeight;%0D%0A%0D%0Acanvas.width%20=%20w;%0D%0Acanvas.height%20=%20h;%0D%0A%0D%0Aclass%20Tree%20%7B%0D%0A%20%20%20%20constructor()%20%7B%0D%0A%20%20%20%20%20%20%20%20this.trunk_length%20=%20100;%0D%0A%20%20%20%20%20%20%20%20this.trunk_width%20=%2015;%0D%0A%20%20%20%20%20%20%20%20this.length_reduce%20=%202%20/%203;%0D%0A%20%20%20%20%20%20%20%20this.width_reduce%20=%203%20/%204;%0D%0A%20%20%20%20%20%20%20%20this.left_branch%20=%20-45;%0D%0A%20%20%20%20%20%20%20%20this.right_branch%20=%2045;%0D%0A%20%20%20%20%20%20%20%20this.min_length%20=%2015;%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.branch_color%20=%20%22#767461%22;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.context%20=%20context;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20create(x,%20y)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20this.branch(x,%20y,%20this.trunk_length,%20this.trunk_width);%0D%0A%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20branch(x,%20y,%20length,%20width)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(counter%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20length%20*=%20(this.length_reduce);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20this.context.fillStyle%20=%20this.branch_color;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(length%20%3E%20this.min_length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20counter++;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20width%20*=%20this.width_reduce;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.fillRect(x,%20y,%20width,%20-length);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.translate(x,%20y%20-%20length);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20draw%20left%20branch%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.rotate(this.left_branch%20*%20(Math.PI%20/%20180));%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.branch(0,%200,%20length,%20width);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20draw%20right%20branch%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.rotate(this.right_branch%20*%20(Math.PI%20/%20180));%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.branch(0,%200,%20length,%20width);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20draw()%20%7B%0D%0A%20%20%20%20//ground%0D%0A%20%20%20%20context.fillStyle%20=%20%22#767461%22;%0D%0A%20%20%20%20context.fillRect(0,%200,%20w,%20h);%0D%0A%0D%0A%20%20%20%20//sky%0D%0A%20%20%20%20context.fillStyle%20=%20%22#ADD8C7%22;%0D%0A%20%20%20%20context.fillRect(0,%200,%20w,%20h%20-%2050);%0D%0A%0D%0A%20%20%20%20#BEGIN_EDITABLE#var%20bigTree%20=%20new%20Tree();#END_EDITABLE#%0D%0A%7D%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20w%20=%20window.innerWidth;%0D%0A%20%20%20%20h%20=%20window.innerHeight;%0D%0A%20%20%20%20canvas.width%20=%20w;%0D%0A%20%20%20%20canvas.height%20=%20h;%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20function%20()%20%7B%0D%0A%20%20%20%20resize();%0D%0A%20%20%20%20draw();%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20function()%20%7B%0D%0A%20%20%20%20draw();%0D%0A%20%20%20%20info.textContent%20=%20%60Branch%20count:%20$%7Bcounter%7D%60;%0D%0A%7D;%0D%0A##JS_E####CODE_2E####LOGIC_2####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20bigTree%20=%20new%20Tree();%60);##JS_E####LOGIC_2E####STEP_2E####STEP_3####INST_3##Position%20the%20fractal%0A%0AWe%20can%20now%20use%20the%20*create*%20function%20on%20the%20*bigTree*%20variable,%20which%20can%20be%20called%20to%20draw%20the%20fractal%20and%20position%20it%20on%20the%20page.%0A%0AThe%20drawing%20part%20is%20handled%20by%20the%20algorithm%20but%20we%20need%20to%20provide%20the%20horizontal%20and%20vertical%20positions,%20*x*%20and%20*y*.%0A%5Bimg::https://app.bsd.education/resources/humanities_fractal_root_pos.png%5D%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#function%20arguments%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20resize#-3,%20call%20and%20pass%20the%20correct%20*x*%20and%20*y*%20values%20to%20the%20*create*%20function%20on%20the%20*bigTree*%20variable.##INST_3E####CODE_3####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22/%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%09%3Ccanvas%20id=%22canvas%22%3E%3C/canvas%3E%0A%09%3Cpre%20id=%22info%22%3E%3C/pre%3E%0A%09%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A##HTML_E####CSS##body%20%7B%0A%20%20%20%20margin:%200;%0A%20%20%20%20overflow:%20hidden;%0A%7D%0A%0Acanvas%20%7B%0A%20%20%20%20background:%20silver;%0A%7D%0A%0A#info%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20bottom:%200;%0A%20%20%20%20width:%20100%25;%0A%20%20%20%20color:%20white;%0A%20%20%20%20font-family:%20Monospace;%0A%20%20%20%20font-size:%2012px;%0A%20%20%20%20text-align:%20center;%0A%7D%0A##CSS_E####JS##var%20canvas%20=%20document.getElementById('canvas');%0D%0Avar%20context%20=%20canvas.getContext('2d');%0D%0Avar%20counter%20=%200;%0D%0A%0D%0Avar%20w%20=%20window.innerWidth;%0D%0Avar%20h%20=%20window.innerHeight;%0D%0A%0D%0Acanvas.width%20=%20w;%0D%0Acanvas.height%20=%20h;%0D%0A%0D%0Aclass%20Tree%20%7B%0D%0A%20%20%20%20constructor()%20%7B%0D%0A%20%20%20%20%20%20%20%20this.trunk_length%20=%20100;%0D%0A%20%20%20%20%20%20%20%20this.trunk_width%20=%2015;%0D%0A%20%20%20%20%20%20%20%20this.length_reduce%20=%202%20/%203;%0D%0A%20%20%20%20%20%20%20%20this.width_reduce%20=%203%20/%204;%0D%0A%20%20%20%20%20%20%20%20this.left_branch%20=%20-45;%0D%0A%20%20%20%20%20%20%20%20this.right_branch%20=%2045;%0D%0A%20%20%20%20%20%20%20%20this.min_length%20=%2015;%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.branch_color%20=%20%22#767461%22;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.context%20=%20context;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20create(x,%20y)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20this.branch(x,%20y,%20this.trunk_length,%20this.trunk_width);%0D%0A%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20branch(x,%20y,%20length,%20width)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(counter%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20length%20*=%20(this.length_reduce);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20this.context.fillStyle%20=%20this.branch_color;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(length%20%3E%20this.min_length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20counter++;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20width%20*=%20this.width_reduce;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.fillRect(x,%20y,%20width,%20-length);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.translate(x,%20y%20-%20length);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20draw%20left%20branch%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.rotate(this.left_branch%20*%20(Math.PI%20/%20180));%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.branch(0,%200,%20length,%20width);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20draw%20right%20branch%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.rotate(this.right_branch%20*%20(Math.PI%20/%20180));%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.branch(0,%200,%20length,%20width);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20draw()%20%7B%0D%0A%20%20%20%20//ground%0D%0A%20%20%20%20context.fillStyle%20=%20%22#767461%22;%0D%0A%20%20%20%20context.fillRect(0,%200,%20w,%20h);%0D%0A%0D%0A%20%20%20%20//sky%0D%0A%20%20%20%20context.fillStyle%20=%20%22#ADD8C7%22;%0D%0A%20%20%20%20context.fillRect(0,%200,%20w,%20h%20-%2050);%0D%0A%0D%0A%20%20%20%20var%20bigTree%20=%20new%20Tree();%0D%0A%20%20%20%20#BEGIN_EDITABLE#bigTree.create(w%20/%202,%20h%20-%2050);#END_EDITABLE#%0D%0A%7D%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20w%20=%20window.innerWidth;%0D%0A%20%20%20%20h%20=%20window.innerHeight;%0D%0A%20%20%20%20canvas.width%20=%20w;%0D%0A%20%20%20%20canvas.height%20=%20h;%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20function%20()%20%7B%0D%0A%20%20%20%20resize();%0D%0A%20%20%20%20draw();%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20function()%20%7B%0D%0A%20%20%20%20draw();%0D%0A%20%20%20%20info.textContent%20=%20%60Branch%20count:%20$%7Bcounter%7D%60;%0D%0A%7D;%0D%0A##JS_E####CODE_3E####LOGIC_3####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60bigTree.create(w%20/%202,%20h%20-%2050);%60);##JS_E####LOGIC_3E####STEP_3E####STEP_4####INST_4##Rules%20of%20the%20fractal%0A%0AOur%20version%20of%20the%20L-system%20fractal%20works%20by%20repeatedly%20adding%20two%20branches%20to%20the%20previous%20branch,%20starting%20from%20the%20trunk.%0A%0A%5Bimg::https://app.bsd.education/resources/humanities_fractal_l-system.png%5D%0A%0ABut%20as%20you%20can%20see%20it%20only%20created%2031%20branches,%20this%20is%20determined%20by%20the%20algorithm,%20which%20specifies%20the%20following:%0A%5B-%0A%09(*)the%20first%20branch%20(%20i.e.%20the%20trunk%20)%20is%20*100%20pixels*%20long%20(%20+js#class#+2%20).%0A%09(*)each%20additional%20branch%20is%20*2/3*%20as%20long%20as%20the%20previous%20branch%20(%20+js#2%20/%203#%20).%0A%09(*)the%20length%20of%20all%20branches%20must%20be%20*15%20pixels*%20or%20more%20(%20+js#class#+10%20).%0A-%5D%0A%0AIf%20we%20want%20more%20branches%20to%20be%20created,%20which%20is%20to%20increase%20the%20number%20of%20times%20a%20branch%20is%20allowed%20to%20fork%20into%20new%20branches%20while%20sticking%20to%20the%20above%20rules,%20making%20the%20trunk%20longer%20can%20help%20us%20do%20that.%0A%0A(***)%0A%0A(!)On%20+js#class#+2,%20increase%20the%20trunk%20length%20to%20*160*.##INST_4E####CODE_4####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22/%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%09%3Ccanvas%20id=%22canvas%22%3E%3C/canvas%3E%0A%09%3Cpre%20id=%22info%22%3E%3C/pre%3E%0A%09%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A##HTML_E####CSS##body%20%7B%0A%20%20%20%20margin:%200;%0A%20%20%20%20overflow:%20hidden;%0A%7D%0A%0Acanvas%20%7B%0A%20%20%20%20background:%20silver;%0A%7D%0A%0A#info%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20bottom:%200;%0A%20%20%20%20width:%20100%25;%0A%20%20%20%20color:%20white;%0A%20%20%20%20font-family:%20Monospace;%0A%20%20%20%20font-size:%2012px;%0A%20%20%20%20text-align:%20center;%0A%7D%0A##CSS_E####JS##var%20canvas%20=%20document.getElementById('canvas');%0D%0Avar%20context%20=%20canvas.getContext('2d');%0D%0Avar%20counter%20=%200;%0D%0A%0D%0Avar%20w%20=%20window.innerWidth;%0D%0Avar%20h%20=%20window.innerHeight;%0D%0A%0D%0Acanvas.width%20=%20w;%0D%0Acanvas.height%20=%20h;%0D%0A%0D%0Aclass%20Tree%20%7B%0D%0A%20%20%20%20constructor()%20%7B%0D%0A%20%20%20%20%20%20%20%20this.trunk_length%20=%20#BEGIN_EDITABLE#100#END_EDITABLE#;%0D%0A%20%20%20%20%20%20%20%20this.trunk_width%20=%2015;%0D%0A%20%20%20%20%20%20%20%20this.length_reduce%20=%202%20/%203;%0D%0A%20%20%20%20%20%20%20%20this.width_reduce%20=%203%20/%204;%0D%0A%20%20%20%20%20%20%20%20this.left_branch%20=%20-45;%0D%0A%20%20%20%20%20%20%20%20this.right_branch%20=%2045;%0D%0A%20%20%20%20%20%20%20%20this.min_length%20=%2015;%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.branch_color%20=%20%22#767461%22;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.context%20=%20context;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20create(x,%20y)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20this.branch(x,%20y,%20this.trunk_length,%20this.trunk_width);%0D%0A%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20branch(x,%20y,%20length,%20width)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(counter%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20length%20*=%20(this.length_reduce);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20this.context.fillStyle%20=%20this.branch_color;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(length%20%3E%20this.min_length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20counter++;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20width%20*=%20this.width_reduce;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.fillRect(x,%20y,%20width,%20-length);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.translate(x,%20y%20-%20length);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20draw%20left%20branch%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.rotate(this.left_branch%20*%20(Math.PI%20/%20180));%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.branch(0,%200,%20length,%20width);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20draw%20right%20branch%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.rotate(this.right_branch%20*%20(Math.PI%20/%20180));%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.branch(0,%200,%20length,%20width);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20draw()%20%7B%0D%0A%20%20%20%20//ground%0D%0A%20%20%20%20context.fillStyle%20=%20%22#767461%22;%0D%0A%20%20%20%20context.fillRect(0,%200,%20w,%20h);%0D%0A%0D%0A%20%20%20%20//sky%0D%0A%20%20%20%20context.fillStyle%20=%20%22#ADD8C7%22;%0D%0A%20%20%20%20context.fillRect(0,%200,%20w,%20h%20-%2050);%0D%0A%0D%0A%20%20%20%20var%20bigTree%20=%20new%20Tree();%0D%0A%20%20%20%20bigTree.create(w%20/%202,%20h%20-%2050);%0D%0A%7D%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20w%20=%20window.innerWidth;%0D%0A%20%20%20%20h%20=%20window.innerHeight;%0D%0A%20%20%20%20canvas.width%20=%20w;%0D%0A%20%20%20%20canvas.height%20=%20h;%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20function%20()%20%7B%0D%0A%20%20%20%20resize();%0D%0A%20%20%20%20draw();%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20function()%20%7B%0D%0A%20%20%20%20draw();%0D%0A%20%20%20%20info.textContent%20=%20%60Branch%20count:%20$%7Bcounter%7D%60;%0D%0A%7D;##JS_E####CODE_4E####LOGIC_4####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60160%60);##JS_E####LOGIC_4E####STEP_4E####STEP_5####INST_5##Branch%20angles%0A%0ANow%20we%20have%20more%20branches%20to%20work%20with,%20let's%20examine%20the%20angles%20at%20which%20real%20trees%20branch%20off%20(%20feel%20free%20to%20do%20your%20own%20research%20for%20images%20of%20trees%20).%0A%0A%5Bimg::https://app.bsd.education/resources/humanities_fractal_branch_angles.png%5D%0A%0AWhile%20it's%20not%20always%20the%20goal%20to%20accurately%20recreate%20things%20in%20the%20world%20when%20creating%20art,%20it%20is%20important%20to%20observe%20the%20world%20and%20be%20inspired%20by%20the%20observations.%0A%0AIn%20comparison%20to%20the%20image%20above,%20it's%20apparent%20that%20our%20fractal%20%20branches%20off%20at%20too%20great%20an%20angle,%20let's%20fix%20that.%0A%0A(***)%0A%0A(!)On%20+js#3%20/%204#+1,%20change%20the%20left%20branching%20angles%20to%20*-35*.%0A(!)On%20+js#3%20/%204#+2,%20change%20the%20right%20branching%20angles%20to%20*35*.##INST_5E####CODE_5####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22/%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%09%3Ccanvas%20id=%22canvas%22%3E%3C/canvas%3E%0A%09%3Cpre%20id=%22info%22%3E%3C/pre%3E%0A%09%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A##HTML_E####CSS##body%20%7B%0A%20%20%20%20margin:%200;%0A%20%20%20%20overflow:%20hidden;%0A%7D%0A%0Acanvas%20%7B%0A%20%20%20%20background:%20silver;%0A%7D%0A%0A#info%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20bottom:%200;%0A%20%20%20%20width:%20100%25;%0A%20%20%20%20color:%20white;%0A%20%20%20%20font-family:%20Monospace;%0A%20%20%20%20font-size:%2012px;%0A%20%20%20%20text-align:%20center;%0A%7D%0A##CSS_E####JS##var%20canvas%20=%20document.getElementById('canvas');%0D%0Avar%20context%20=%20canvas.getContext('2d');%0D%0Avar%20counter%20=%200;%0D%0A%0D%0Avar%20w%20=%20window.innerWidth;%0D%0Avar%20h%20=%20window.innerHeight;%0D%0A%0D%0Acanvas.width%20=%20w;%0D%0Acanvas.height%20=%20h;%0D%0A%0D%0Aclass%20Tree%20%7B%0D%0A%20%20%20%20constructor()%20%7B%0D%0A%20%20%20%20%20%20%20%20this.trunk_length%20=%20160;%0D%0A%20%20%20%20%20%20%20%20this.trunk_width%20=%2015;%0D%0A%20%20%20%20%20%20%20%20this.length_reduce%20=%202%20/%203;%0D%0A%20%20%20%20%20%20%20%20this.width_reduce%20=%203%20/%204;%0D%0A%20%20%20%20%20%20%20%20this.left_branch%20=%20#BEGIN_EDITABLE#-45#END_EDITABLE#;%0D%0A%20%20%20%20%20%20%20%20this.right_branch%20=%20#BEGIN_EDITABLE#45#END_EDITABLE#;%0D%0A%20%20%20%20%20%20%20%20this.min_length%20=%2015;%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.branch_color%20=%20%22#767461%22;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.context%20=%20context;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20create(x,%20y)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20this.branch(x,%20y,%20this.trunk_length,%20this.trunk_width);%0D%0A%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20branch(x,%20y,%20length,%20width)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(counter%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20length%20*=%20(this.length_reduce);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20this.context.fillStyle%20=%20this.branch_color;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(length%20%3E%20this.min_length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20counter++;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20width%20*=%20this.width_reduce;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.fillRect(x,%20y,%20width,%20-length);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.translate(x,%20y%20-%20length);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20draw%20left%20branch%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.rotate(this.left_branch%20*%20(Math.PI%20/%20180));%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.branch(0,%200,%20length,%20width);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20draw%20right%20branch%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.rotate(this.right_branch%20*%20(Math.PI%20/%20180));%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.branch(0,%200,%20length,%20width);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20draw()%20%7B%0D%0A%20%20%20%20//ground%0D%0A%20%20%20%20context.fillStyle%20=%20%22#767461%22;%0D%0A%20%20%20%20context.fillRect(0,%200,%20w,%20h);%0D%0A%0D%0A%20%20%20%20//sky%0D%0A%20%20%20%20context.fillStyle%20=%20%22#ADD8C7%22;%0D%0A%20%20%20%20context.fillRect(0,%200,%20w,%20h%20-%2050);%0D%0A%0D%0A%20%20%20%20var%20bigTree%20=%20new%20Tree();%0D%0A%20%20%20%20bigTree.create(w%20/%202,%20h%20-%2050);%0D%0A%7D%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20w%20=%20window.innerWidth;%0D%0A%20%20%20%20h%20=%20window.innerHeight;%0D%0A%20%20%20%20canvas.width%20=%20w;%0D%0A%20%20%20%20canvas.height%20=%20h;%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20function%20()%20%7B%0D%0A%20%20%20%20resize();%0D%0A%20%20%20%20draw();%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20function()%20%7B%0D%0A%20%20%20%20draw();%0D%0A%20%20%20%20info.textContent%20=%20%60Branch%20count:%20$%7Bcounter%7D%60;%0D%0A%7D;##JS_E####CODE_5E####LOGIC_5####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60-35%60);%0Apass.if.js.editable(1).equivalent(%6035%60);##JS_E####LOGIC_5E####STEP_5E####STEP_6####INST_6##Shoots%20and%20leaves%0A%0AOur%20fractal%20tree%20is%20now%20looking%20much%20more%20natural%20than%20previously,%20but%20we're%20still%20missing%20the%20leaves%20at%20the%20tip%20of%20the%20branches.%0A%0AThis%20is%20because%20the%20minimum%20length%20of%20a%20branch%20is%20*15%20pixels*%20(%20as%20specified%20on%20+js#min_length%20=%2015;#%20),%20but%20shoots%20and%20leaves%20must%20be%20less%20than%20*15%20pixels*%20and%20*10%20pixels*%20respectively%20(%20as%20specified%20on%20+js#shoots_length%20=#%20&%20js#leaves_length%20=#%20).%0A%0AIf%20we%20want%20to%20have%20shoots%20and%20leaves,%20we%20must%20allow%20branches%20to%20become%20less%20than%2015%20and%2010%20pixels.%0A%0A(***)%0A%0A(!)On%20+js#min_length%20=#,%20change%20the%20minimum%20length%20of%20branches%20to%20*8*%20pixels.##INST_6E####CODE_6####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22/%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%09%3Ccanvas%20id=%22canvas%22%3E%3C/canvas%3E%0A%09%3Cpre%20id=%22info%22%3E%3C/pre%3E%0A%09%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A##HTML_E####CSS##body%20%7B%0A%20%20%20%20margin:%200;%0A%20%20%20%20overflow:%20hidden;%0A%7D%0A%0Acanvas%20%7B%0A%20%20%20%20background:%20silver;%0A%7D%0A%0A#info%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20bottom:%200;%0A%20%20%20%20width:%20100%25;%0A%20%20%20%20color:%20white;%0A%20%20%20%20font-family:%20Monospace;%0A%20%20%20%20font-size:%2012px;%0A%20%20%20%20text-align:%20center;%0A%7D%0A##CSS_E####JS##var%20canvas%20=%20document.getElementById('canvas');%0D%0Avar%20context%20=%20canvas.getContext('2d');%0D%0Avar%20counter%20=%200;%0D%0A%0D%0Avar%20w%20=%20window.innerWidth;%0D%0Avar%20h%20=%20window.innerHeight;%0D%0A%0D%0Acanvas.width%20=%20w;%0D%0Acanvas.height%20=%20h;%0D%0A%0D%0Aclass%20Tree%20%7B%0D%0A%20%20%20%20constructor()%20%7B%0D%0A%20%20%20%20%20%20%20%20this.trunk_length%20=%20160;%0D%0A%20%20%20%20%20%20%20%20this.trunk_width%20=%2015;%0D%0A%20%20%20%20%20%20%20%20this.length_reduce%20=%202%20/%203;%0D%0A%20%20%20%20%20%20%20%20this.width_reduce%20=%203%20/%204;%0D%0A%20%20%20%20%20%20%20%20this.left_branch%20=%20-35;%0D%0A%20%20%20%20%20%20%20%20this.right_branch%20=%2035;%0D%0A%20%20%20%20%20%20%20%20this.shoots_length%20=%2015;%0D%0A%20%20%20%20%20%20%20%20this.leaves_length%20=%2010;%0D%0A%20%20%20%20%20%20%20%20this.min_length%20=%20#BEGIN_EDITABLE#15#END_EDITABLE#;%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.branch_color%20=%20%22#767461%22;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.context%20=%20context;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20create(x,%20y)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20this.branch(x,%20y,%20this.trunk_length,%20this.trunk_width);%0D%0A%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20branch(x,%20y,%20length,%20width)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(counter%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20length%20*=%20(this.length_reduce);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20this.context.fillStyle%20=%20this.branch_color;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(length%20%3E=%20this.min_length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20counter++;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(length%20%3E%20this.shoots_length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%20*=%20this.width_reduce;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(length%20%3C=%20this.leaves_length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.context.fillStyle%20=%20this.leaves_color;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.context.fillStyle%20=%20this.shoots_color;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.fillRect(x,%20y,%20width,%20-length);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.translate(x,%20y%20-%20length);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20draw%20left%20branch%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.rotate(this.left_branch%20*%20(Math.PI%20/%20180));%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.branch(0,%200,%20length,%20width);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20draw%20right%20branch%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.rotate(this.right_branch%20*%20(Math.PI%20/%20180));%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.branch(0,%200,%20length,%20width);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20draw()%20%7B%0D%0A%20%20%20%20//ground%0D%0A%20%20%20%20context.fillStyle%20=%20%22#767461%22;%0D%0A%20%20%20%20context.fillRect(0,%200,%20w,%20h);%0D%0A%0D%0A%20%20%20%20//sky%0D%0A%20%20%20%20context.fillStyle%20=%20%22#ADD8C7%22;%0D%0A%20%20%20%20context.fillRect(0,%200,%20w,%20h%20-%2050);%0D%0A%0D%0A%20%20%20%20var%20bigTree%20=%20new%20Tree();%0D%0A%20%20%20%20bigTree.create(w%20/%202,%20h%20-%2050);%0D%0A%7D%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20w%20=%20window.innerWidth;%0D%0A%20%20%20%20h%20=%20window.innerHeight;%0D%0A%20%20%20%20canvas.width%20=%20w;%0D%0A%20%20%20%20canvas.height%20=%20h;%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20function%20()%20%7B%0D%0A%20%20%20%20resize();%0D%0A%20%20%20%20draw();%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20function()%20%7B%0D%0A%20%20%20%20draw();%0D%0A%20%20%20%20info.textContent%20=%20%60Branch%20count:%20$%7Bcounter%7D%60;%0D%0A%7D;##JS_E####CODE_6E####LOGIC_6####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%608%60);##JS_E####LOGIC_6E####STEP_6E####STEP_7####INST_7##Shoots%20and%20leaves%20color%0A%0ASince%20we%20have%20not%20yet%20specified%20the%20color%20for%20shoots%20and%20leaves,%20they%20have%20been%20given%20the%20same%20color%20as%20the%20other%20branches.%0A%0AWe%20can%20look%20at%20+js#branch_color%20=#%20to%20see%20how%20we%20can%20store%20the%20color%20information%20for%20the%20shoots%20and%20leaves.%0A%0A(*)In%20the%20*Tree*%20class,%20you%20will%20see%20multiple%20instances%20of%20the%20%60this%60%20keyword,%20it%20is%20a%20JavaScript%20object%20that%20we%20use%20to%20store%20all%20the%20information%20about%20the%20tree.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#object%5D%0A%09(*)%5B#css#hex%20code%5D%0A%09(*)%5Bstring#js#Data%20type%20-%20string%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#8;#+3,%20add%20a%20new%20property%20to%20*this*%20called%20*shoots_color*%20to%20store%20the%20hex%20code%20*#008000*%20as%20a%20string.%0A(!)On%20+js#8;#+4,%20add%20a%20new%20property%20to%20*this*%20called%20*leaves_color*%20to%20store%20the%20hex%20code%20*#800080*%20as%20a%20string.##INST_7E####CODE_7####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22/%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%09%3Ccanvas%20id=%22canvas%22%3E%3C/canvas%3E%0A%09%3Cpre%20id=%22info%22%3E%3C/pre%3E%0A%09%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A##HTML_E####CSS##body%20%7B%0A%20%20%20%20margin:%200;%0A%20%20%20%20overflow:%20hidden;%0A%7D%0A%0Acanvas%20%7B%0A%20%20%20%20background:%20silver;%0A%7D%0A%0A#info%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20bottom:%200;%0A%20%20%20%20width:%20100%25;%0A%20%20%20%20color:%20white;%0A%20%20%20%20font-family:%20Monospace;%0A%20%20%20%20font-size:%2012px;%0A%20%20%20%20text-align:%20center;%0A%7D%0A##CSS_E####JS##var%20canvas%20=%20document.getElementById('canvas');%0D%0Avar%20context%20=%20canvas.getContext('2d');%0D%0Avar%20counter%20=%200;%0D%0A%0D%0Avar%20w%20=%20window.innerWidth;%0D%0Avar%20h%20=%20window.innerHeight;%0D%0A%0D%0Acanvas.width%20=%20w;%0D%0Acanvas.height%20=%20h;%0D%0A%0D%0Aclass%20Tree%20%7B%0D%0A%20%20%20%20constructor()%20%7B%0D%0A%20%20%20%20%20%20%20%20this.trunk_length%20=%20160;%0D%0A%20%20%20%20%20%20%20%20this.trunk_width%20=%2015;%0D%0A%20%20%20%20%20%20%20%20this.length_reduce%20=%202%20/%203;%0D%0A%20%20%20%20%20%20%20%20this.width_reduce%20=%203%20/%204;%0D%0A%20%20%20%20%20%20%20%20this.left_branch%20=%20-35;%0D%0A%20%20%20%20%20%20%20%20this.right_branch%20=%2035;%0D%0A%20%20%20%20%20%20%20%20this.shoots_length%20=%2015;%0D%0A%20%20%20%20%20%20%20%20this.leaves_length%20=%2010;%0D%0A%20%20%20%20%20%20%20%20this.min_length%20=%208;%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.branch_color%20=%20%22#767461%22;%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#this.shoots_color%20=%20%22#008000%22;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#this.leaves_color%20=%20%22#800080%22;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.context%20=%20context;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20create(x,%20y)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20this.branch(x,%20y,%20this.trunk_length,%20this.trunk_width);%0D%0A%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20branch(x,%20y,%20length,%20width)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(counter%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20length%20*=%20(this.length_reduce);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20this.context.fillStyle%20=%20this.branch_color;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(length%20%3E=%20this.min_length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20counter++;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(length%20%3E%20this.shoots_length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%20*=%20this.width_reduce;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(length%20%3C=%20this.leaves_length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.context.fillStyle%20=%20this.leaves_color;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.context.fillStyle%20=%20this.shoots_color;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.fillRect(x,%20y,%20width,%20-length);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.translate(x,%20y%20-%20length);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20draw%20left%20branch%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.rotate(this.left_branch%20*%20(Math.PI%20/%20180));%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.branch(0,%200,%20length,%20width);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20draw%20right%20branch%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.rotate(this.right_branch%20*%20(Math.PI%20/%20180));%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.branch(0,%200,%20length,%20width);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20draw()%20%7B%0D%0A%20%20%20%20//ground%0D%0A%20%20%20%20context.fillStyle%20=%20%22#767461%22;%0D%0A%20%20%20%20context.fillRect(0,%200,%20w,%20h);%0D%0A%0D%0A%20%20%20%20//sky%0D%0A%20%20%20%20context.fillStyle%20=%20%22#ADD8C7%22;%0D%0A%20%20%20%20context.fillRect(0,%200,%20w,%20h%20-%2050);%0D%0A%0D%0A%20%20%20%20var%20bigTree%20=%20new%20Tree();%0D%0A%20%20%20%20bigTree.create(w%20/%202,%20h%20-%2050);%0D%0A%7D%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20w%20=%20window.innerWidth;%0D%0A%20%20%20%20h%20=%20window.innerHeight;%0D%0A%20%20%20%20canvas.width%20=%20w;%0D%0A%20%20%20%20canvas.height%20=%20h;%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20function%20()%20%7B%0D%0A%20%20%20%20resize();%0D%0A%20%20%20%20draw();%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20function()%20%7B%0D%0A%20%20%20%20draw();%0D%0A%20%20%20%20info.textContent%20=%20%60Branch%20count:%20$%7Bcounter%7D%60;%0D%0A%7D;##JS_E####CODE_7E####LOGIC_7####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60this.shoots_color%20=%20%22#008000%22;%60);%0Apass.if.js.editable(1).equivalent(%60this.leaves_color%20=%20%22#800080%22;%60);##JS_E####LOGIC_7E####STEP_7E####STEP_8####INST_8##Pattern%20variation%0A%0ASymmetry%20can%20be%20found%20everywhere%20in%20nature,%20but%20the%20same%20can%20be%20said%20about%20variation.%0A%0AGoing%20back%20to%20real%20world%20observation%20once%20again,%20it%20would%20be%20practically%20impossible%20to%20grow%20a%20tree%20that%20is%20as%20symmetrical%20as%20our%20fractal%20tree.%0A%0ATo%20make%20our%20tree%20look%20even%20more%20natural,%20we'll%20add%20some%20variation%20to%20the%20branch%20lengths%20and%20angles%20using%20the%20*randomise*%20function%20we've%20prepared%20for%20you.%0A%0A(*)The%20*randomise*%20function%20randomly%20changes%20an%20input%20number%20by%20a%20certain%20percentage,%20for%20example,%20to%20randomise%20the%20number%2010%20by%2020%25%20(%20i.e.%20produce%20a%20random%20number%20between%208%20and%2012%20),%20you%20can%20write%20%60randomise(10,%2020)%60.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#function%5D%0A%09(*)%5B#js#function%20arguments%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#draw%20left#+2,%20randomise%20*leftAngle*%20by%20*25%25*.%0A(!)On%20+js#draw%20right#+2,%20randomise%20*rightAngle*%20by%20*25%25*.%0A(!)On%20+js#draw%20left#+3%20&%20js#draw%20right#+3,%20randomise%20*length*%20by%20*10%25*.##INST_8E####CODE_8####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22/%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%09%3Ccanvas%20id=%22canvas%22%3E%3C/canvas%3E%0A%09%3Cpre%20id=%22info%22%3E%3C/pre%3E%0A%09%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A##HTML_E####CSS##body%20%7B%0A%20%20%20%20margin:%200;%0A%20%20%20%20overflow:%20hidden;%0A%7D%0A%0Acanvas%20%7B%0A%20%20%20%20background:%20silver;%0A%7D%0A%0A#info%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20bottom:%200;%0A%20%20%20%20width:%20100%25;%0A%20%20%20%20color:%20white;%0A%20%20%20%20font-family:%20Monospace;%0A%20%20%20%20font-size:%2012px;%0A%20%20%20%20text-align:%20center;%0A%7D%0A##CSS_E####JS##var%20canvas%20=%20document.getElementById('canvas');%0D%0Avar%20context%20=%20canvas.getContext('2d');%0D%0Avar%20counter%20=%200;%0D%0A%0D%0Avar%20w%20=%20window.innerWidth;%0D%0Avar%20h%20=%20window.innerHeight;%0D%0A%0D%0Avar%20randomise%20=%20(input,%20val)%20=%3E%20%7B%0D%0A%20%20%20%20var%20range%20=%20(min,%20max,%20int%20=%20false)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20val%20/=%20100;%0D%0A%20%20%20%20return%20input%20*%20range(1%20-%20val,%201%20+%20val);%0D%0A%7D;%0D%0A%0D%0Acanvas.width%20=%20w;%0D%0Acanvas.height%20=%20h;%0D%0A%0D%0Aclass%20Tree%20%7B%0D%0A%20%20%20%20constructor()%20%7B%0D%0A%20%20%20%20%20%20%20%20this.trunk_length%20=%20160;%0D%0A%20%20%20%20%20%20%20%20this.trunk_width%20=%2015;%0D%0A%20%20%20%20%20%20%20%20this.length_reduce%20=%202%20/%203;%0D%0A%20%20%20%20%20%20%20%20this.width_reduce%20=%203%20/%204;%0D%0A%20%20%20%20%20%20%20%20this.left_branch%20=%20-35;%0D%0A%20%20%20%20%20%20%20%20this.right_branch%20=%2035;%0D%0A%20%20%20%20%20%20%20%20this.shoots_length%20=%2015;%0D%0A%20%20%20%20%20%20%20%20this.leaves_length%20=%2010;%0D%0A%20%20%20%20%20%20%20%20this.min_length%20=%208;%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.branch_color%20=%20%22#767461%22;%0D%0A%20%20%20%20%20%20%20%20this.shoots_color%20=%20%22#008000%22;%0D%0A%20%20%20%20%20%20%20%20this.leaves_color%20=%20%22#800080%22;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.context%20=%20context;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20create(x,%20y)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20this.branch(x,%20y,%20this.trunk_length,%20this.trunk_width);%0D%0A%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20branch(x,%20y,%20length,%20width)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(counter%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20length%20*=%20this.length_reduce;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20var%20leftAngle%20=%20this.left_branch%20*%20(Math.PI%20/%20180);%0D%0A%20%20%20%20%20%20%20%20var%20rightAngle%20=%20this.right_branch%20*%20(Math.PI%20/%20180);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.context.fillStyle%20=%20this.branch_color;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(length%20%3E%20this.min_length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20counter++;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(length%20%3E%20this.shoots_length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%20*=%20this.width_reduce;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(length%20%3C=%20this.leaves_length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.context.fillStyle%20=%20this.leaves_color;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.context.fillStyle%20=%20this.shoots_color;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.fillRect(x,%20y,%20width,%20-length);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.translate(x,%20y%20-%20length);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20draw%20left%20branch%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.rotate(#BEGIN_EDITABLE#leftAngle#END_EDITABLE#);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.branch(0,%200,%20#BEGIN_EDITABLE#length#END_EDITABLE#,%20width);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20draw%20right%20branch%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.rotate(#BEGIN_EDITABLE#rightAngle#END_EDITABLE#);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.branch(0,%200,%20#BEGIN_EDITABLE#length#END_EDITABLE#,%20width);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20draw()%20%7B%0D%0A%20%20%20%20//ground%0D%0A%20%20%20%20context.fillStyle%20=%20%22#767461%22;%0D%0A%20%20%20%20context.fillRect(0,%200,%20w,%20h);%0D%0A%0D%0A%20%20%20%20//sky%0D%0A%20%20%20%20context.fillStyle%20=%20%22#ADD8C7%22;%0D%0A%20%20%20%20context.fillRect(0,%200,%20w,%20h%20-%2050);%0D%0A%0D%0A%20%20%20%20var%20bigTree%20=%20new%20Tree();%0D%0A%20%20%20%20bigTree.create(w%20/%202,%20h%20-%2050);%0D%0A%7D%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20w%20=%20window.innerWidth;%0D%0A%20%20%20%20h%20=%20window.innerHeight;%0D%0A%20%20%20%20canvas.width%20=%20w;%0D%0A%20%20%20%20canvas.height%20=%20h;%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20function%20()%20%7B%0D%0A%20%20%20%20resize();%0D%0A%20%20%20%20draw();%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20function()%20%7B%0D%0A%20%20%20%20draw();%0D%0A%20%20%20%20info.textContent%20=%20%60Branch%20count:%20$%7Bcounter%7D%60;%0D%0A%7D;##JS_E####CODE_8E####LOGIC_8####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60randomise(leftAngle,%2025)%60);%0Apass.if.js.editable(1).equivalent(%60randomise(length,%2010)%60);%0Apass.if.js.editable(2).equivalent(%60randomise(rightAngle,%2025)%60);%0Apass.if.js.editable(3).equivalent(%60randomise(length,%2010)%60);##JS_E####LOGIC_8E####STEP_8E####STEP_9####INST_9##Final%20tweaks%0A%0AGoing%20back%20and%20tweaking%20your%20work%20so%20that%20it%20is%20just%20the%20way%20you%20imagined%20is%20commonplace%20in%20both%20coding%20and%20art.%0A%0AIn%20our%20case,%20after%20randomising%20the%20branch%20angles,%20the%20initial%20angle%20of%2035%20seems%20a%20little%20too%20big%20-%20our%20branches%20are%20too%20wide%20spread%20compared%20to%20what%20we%20would%20observe%20in%20nature.%0A%0ALet's%20make%20the%20final%20adjustments.%0A%0A(***)%0A%0A(!)On%20+js#3%20/%204#+1,%20change%20the%20left%20branching%20angles%20to%20*-28*.%0A(!)On%20+js#3%20/%204#+2,%20change%20the%20right%20branching%20angles%20to%20*28*.##INST_9E####CODE_9####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22/%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%09%3Ccanvas%20id=%22canvas%22%3E%3C/canvas%3E%0A%09%3Cpre%20id=%22info%22%3E%3C/pre%3E%0A%09%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A##HTML_E####CSS##body%20%7B%0A%20%20%20%20margin:%200;%0A%20%20%20%20overflow:%20hidden;%0A%7D%0A%0Acanvas%20%7B%0A%20%20%20%20background:%20silver;%0A%7D%0A%0A#info%20%7B%0A%20%20%20%20position:%20absolute;%0A%20%20%20%20bottom:%200;%0A%20%20%20%20width:%20100%25;%0A%20%20%20%20color:%20white;%0A%20%20%20%20font-family:%20Monospace;%0A%20%20%20%20font-size:%2012px;%0A%20%20%20%20text-align:%20center;%0A%7D%0A##CSS_E####JS##var%20canvas%20=%20document.getElementById('canvas');%0D%0Avar%20context%20=%20canvas.getContext('2d');%0D%0Avar%20counter%20=%200;%0D%0A%0D%0Avar%20w%20=%20window.innerWidth;%0D%0Avar%20h%20=%20window.innerHeight;%0D%0A%0D%0Avar%20randomise%20=%20(input,%20val)%20=%3E%20%7B%0D%0A%20%20%20%20var%20range%20=%20(min,%20max,%20int%20=%20false)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20val%20/=%20100;%0D%0A%20%20%20%20return%20input%20*%20range(1%20-%20val,%201%20+%20val);%0D%0A%7D;%0D%0A%0D%0Acanvas.width%20=%20w;%0D%0Acanvas.height%20=%20h;%0D%0A%0D%0Aclass%20Tree%20%7B%0D%0A%20%20%20%20constructor()%20%7B%0D%0A%20%20%20%20%20%20%20%20this.trunk_length%20=%20160;%0D%0A%20%20%20%20%20%20%20%20this.trunk_width%20=%2015;%0D%0A%20%20%20%20%20%20%20%20this.length_reduce%20=%202%20/%203;%0D%0A%20%20%20%20%20%20%20%20this.width_reduce%20=%203%20/%204;%0D%0A%20%20%20%20%20%20%20%20this.left_branch%20=%20#BEGIN_EDITABLE#-35#END_EDITABLE#;%0D%0A%20%20%20%20%20%20%20%20this.right_branch%20=%20#BEGIN_EDITABLE#35#END_EDITABLE#;%0D%0A%20%20%20%20%20%20%20%20this.shoots_length%20=%2015;%0D%0A%20%20%20%20%20%20%20%20this.leaves_length%20=%2010;%0D%0A%20%20%20%20%20%20%20%20this.min_length%20=%208;%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.branch_color%20=%20%22#767461%22;%0D%0A%20%20%20%20%20%20%20%20this.shoots_color%20=%20%22#008000%22;%0D%0A%20%20%20%20%20%20%20%20this.leaves_color%20=%20%22#800080%22;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.context%20=%20context;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20create(x,%20y)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20this.branch(x,%20y,%20this.trunk_length,%20this.trunk_width);%0D%0A%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20branch(x,%20y,%20length,%20width)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(counter%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20length%20*=%20this.length_reduce;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20var%20leftAngle%20=%20this.left_branch%20*%20(Math.PI%20/%20180);%0D%0A%20%20%20%20%20%20%20%20var%20rightAngle%20=%20this.right_branch%20*%20(Math.PI%20/%20180);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.context.fillStyle%20=%20this.branch_color;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(length%20%3E%20this.min_length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20counter++;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(length%20%3E%20this.shoots_length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%20*=%20this.width_reduce;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(length%20%3C=%20this.leaves_length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.context.fillStyle%20=%20this.leaves_color;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.context.fillStyle%20=%20this.shoots_color;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.fillRect(x,%20y,%20width,%20-length);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.translate(x,%20y%20-%20length);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20draw%20left%20branch%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.rotate(randomise(leftAngle,%2025));%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.branch(0,%200,%20randomise(length,%2010),%20width);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20draw%20right%20branch%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.rotate(randomise(rightAngle,%2025));%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.branch(0,%200,%20randomise(length,%2010),%20width);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20draw()%20%7B%0D%0A%20%20%20%20//ground%0D%0A%20%20%20%20context.fillStyle%20=%20%22#767461%22;%0D%0A%20%20%20%20context.fillRect(0,%200,%20w,%20h);%0D%0A%0D%0A%20%20%20%20//sky%0D%0A%20%20%20%20context.fillStyle%20=%20%22#ADD8C7%22;%0D%0A%20%20%20%20context.fillRect(0,%200,%20w,%20h%20-%2050);%0D%0A%0D%0A%20%20%20%20var%20bigTree%20=%20new%20Tree();%0D%0A%20%20%20%20bigTree.create(w%20/%202,%20h%20-%2050);%0D%0A%7D%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20w%20=%20window.innerWidth;%0D%0A%20%20%20%20h%20=%20window.innerHeight;%0D%0A%20%20%20%20canvas.width%20=%20w;%0D%0A%20%20%20%20canvas.height%20=%20h;%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20function%20()%20%7B%0D%0A%20%20%20%20resize();%0D%0A%20%20%20%20draw();%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20function()%20%7B%0D%0A%20%20%20%20draw();%0D%0A%20%20%20%20info.textContent%20=%20%60Branch%20count:%20$%7Bcounter%7D%60;%0D%0A%7D;##JS_E####CODE_9E####LOGIC_9####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60-28%60);%0Apass.if.js.editable(1).equivalent(%6028%60);##JS_E####LOGIC_9E####STEP_9E####STEP_10####INST_10##Application%20of%20fractal%20art%0A%0ABeing%20able%20to%20quickly%20create%20practically%20unlimited%20number%20of%20different%20variations%20of%20trees%20can%20be%20incredibly%20useful,%20for%20example,%20if%20we%20wanted%20to%20make%20a%20school%20poster%20about%20forests,%20especially%20when%20the%20alternative%20is%20likely%20to%20hand-make%20each%20tree%20in%20Photoshop%20or%20Illustrator.%0A%0A%5Bimg::https://app.bsd.education/resources/humanities_fractal_variation.png%5D%0A%0ABut%20it%20is%20important%20to%20always%20carry%20out%20observation%20and%20judge%20our%20own%20work%20by%20it.%0A%0A(***)%0A%0A(!)Generate%20at%20least%205%20trees,%20judge%20whether%20or%20not%20the%20tree%20looks%20natural%20and%20why.%0A(*)*Tip*:%20use%20the%20*New%20Tree*%20button%20at%20the%20bottom%20left%20of%20the%20output%20panel.##INST_10E####CODE_10####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22/%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Cbutton%20id=%22newTree%22%3ENew%20Tree%3C/button%3E%0A%09%3Ccanvas%20id=%22canvas%22%3E%3C/canvas%3E%0A%09%3Cpre%20id=%22info%22%3E%3C/pre%3E%0A%09%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Acanvas%20%7B%0D%0A%20%20%20%20background:%20silver;%0D%0A%7D%0D%0A%0D%0A#info%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-family:%20Monospace;%0D%0A%20%20%20%20font-size:%2012px;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%7D%0D%0A%0D%0A#newTree%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20bottom:%208px;%0D%0A%20%20%20%20left:%208px;%0D%0A%20%20%20%20width:%20auto;%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%09border:%20none;%0D%0A%20%20%09border-radius:%2010px;%0D%0A%20%20%20%20background-color:%20#ADD8C7;%0D%0A%20%20%20%20color:%20#767461;%0D%0A%20%20%09cursor:%20pointer;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20canvas%20=%20document.getElementById('canvas');%0D%0Avar%20context%20=%20canvas.getContext('2d');%0D%0Avar%20counter%20=%200;%0D%0A%0D%0Avar%20w%20=%20window.innerWidth;%0D%0Avar%20h%20=%20window.innerHeight;%0D%0A%0D%0Avar%20randomise%20=%20(input,%20val)%20=%3E%20%7B%0D%0A%20%20%20%20var%20range%20=%20(min,%20max,%20int%20=%20false)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20val%20/=%20100;%0D%0A%20%20%20%20return%20input%20*%20range(1%20-%20val,%201%20+%20val);%0D%0A%7D;%0D%0A%0D%0Avar%20n%20=%200;%0D%0A%0D%0Acanvas.width%20=%20w;%0D%0Acanvas.height%20=%20h;%0D%0A%0D%0Aclass%20Tree%20%7B%0D%0A%20%20%20%20constructor()%20%7B%0D%0A%20%20%20%20%20%20%20%20this.trunk_length%20=%20160;%0D%0A%20%20%20%20%20%20%20%20this.trunk_width%20=%2015;%0D%0A%20%20%20%20%20%20%20%20this.length_reduce%20=%202%20/%203;%0D%0A%20%20%20%20%20%20%20%20this.width_reduce%20=%203%20/%204;%0D%0A%20%20%20%20%20%20%20%20this.left_branch%20=%20-28;%0D%0A%20%20%20%20%20%20%20%20this.right_branch%20=%2028;%0D%0A%20%20%20%20%20%20%20%20this.shoots_length%20=%2015;%0D%0A%20%20%20%20%20%20%20%20this.leaves_length%20=%2010;%0D%0A%20%20%20%20%20%20%20%20this.min_length%20=%208;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.branch_color%20=%20%22#767461%22;%0D%0A%20%20%20%20%20%20%20%20this.shoots_color%20=%20%22#008000%22;%0D%0A%20%20%20%20%20%20%20%20this.leaves_color%20=%20%22#800080%22;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.context%20=%20context;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20create(x,%20y)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20this.branch(x,%20y,%20this.trunk_length,%20this.trunk_width);%0D%0A%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20branch(x,%20y,%20length,%20width)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(counter%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20length%20*=%20this.length_reduce;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20var%20leftAngle%20=%20this.left_branch%20*%20(Math.PI%20/%20180);%0D%0A%20%20%20%20%20%20%20%20var%20rightAngle%20=%20this.right_branch%20*%20(Math.PI%20/%20180);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.context.fillStyle%20=%20this.branch_color;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(length%20%3E%20this.min_length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20counter++;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(length%20%3E%20this.shoots_length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%20*=%20this.width_reduce;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(length%20%3C=%20this.leaves_length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.context.fillStyle%20=%20this.leaves_color;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.context.fillStyle%20=%20this.shoots_color;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.fillRect(x,%20y,%20width,%20-length);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.translate(x,%20y%20-%20length);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20draw%20left%20branch%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.rotate(randomise(leftAngle,%2025));%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.branch(0,%200,%20randomise(length,%2010),%20width);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20draw%20right%20branch%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.rotate(randomise(rightAngle,%2025));%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.branch(0,%200,%20randomise(length,%2010),%20width);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20draw()%20%7B%0D%0A%20%20%20%20counter%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//ground%0D%0A%20%20%20%20context.fillStyle%20=%20%22#767461%22;%0D%0A%20%20%20%20context.fillRect(0,%200,%20w,%20h);%0D%0A%0D%0A%20%20%20%20//sky%0D%0A%20%20%20%20context.fillStyle%20=%20%22#ADD8C7%22;%0D%0A%20%20%20%20context.fillRect(0,%200,%20w,%20h%20-%2050);%0D%0A%0D%0A%20%20%20%20var%20bigTree%20=%20new%20Tree();%0D%0A%20%20%20%20bigTree.create(w%20/%202,%20h%20-%2050);%0D%0A%20%20%20%20%0D%0A%20%20%20%20info.textContent%20=%20%60Branch%20count:%20$%7Bcounter%7D%60;%0D%0A%20%20%20%20%0D%0A%20%20%20%20n++;%0D%0A%7D%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20w%20=%20window.innerWidth;%0D%0A%20%20%20%20h%20=%20window.innerHeight;%0D%0A%20%20%20%20canvas.width%20=%20w;%0D%0A%20%20%20%20canvas.height%20=%20h;%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20function%20()%20%7B%0D%0A%20%20%20%20resize();%0D%0A%20%20%20%20draw();%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20function()%20%7B%0D%0A%20%20%20%20draw();%0D%0A%20%20%20%20newTree.onclick%20=%20draw;%0D%0A%7D;%0D%0A##JS_E####CODE_10E####LOGIC_10####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.on(%60draw%60).var(%60n%20%3E%205%60);##JS_E####LOGIC_10E####STEP_10E####STEP_11####INST_11##Summary%0A%0AGreat%20job!%0A%0AYou%20have%20completed%20this%20project,%20here%20is%20a%20recap:%0A%0A%5B-%0A%09(*)%5B#js#object%5D%20was%20used%20to%20store%20all%20the%20information%20about%20a%20tree.%0A%09(*)%5B#css#hex%20code%5D%20was%20used%20to%20specify%20the%20color%20for%20the%20shoots%20and%20leaves.%0A%09(*)we%20used%20the%20*randomise*%20pre-built%20%5B#js#function%5D%20to%20randomise%20the%20branch%20lengths%20and%20angles.%0A-%5D##INST_11E####CODE_11####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22/%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Cbutton%20id=%22newTree%22%3ENew%20Tree%3C/button%3E%0A%09%3Ccanvas%20id=%22canvas%22%3E%3C/canvas%3E%0A%09%3Cpre%20id=%22info%22%3E%3C/pre%3E%0A%09%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Acanvas%20%7B%0D%0A%20%20%20%20background:%20silver;%0D%0A%7D%0D%0A%0D%0A#info%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20bottom:%200;%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-family:%20Monospace;%0D%0A%20%20%20%20font-size:%2012px;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%7D%0D%0A%0D%0A#newTree%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20bottom:%208px;%0D%0A%20%20%20%20left:%208px;%0D%0A%20%20%20%20width:%20auto;%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%09border:%20none;%0D%0A%20%20%09border-radius:%2010px;%0D%0A%20%20%20%20background-color:%20#ADD8C7;%0D%0A%20%20%20%20color:%20#767461;%0D%0A%20%20%09cursor:%20pointer;%0D%0A%20%20%20%20z-index:%201;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20canvas%20=%20document.getElementById('canvas');%0D%0Avar%20context%20=%20canvas.getContext('2d');%0D%0Avar%20counter%20=%200;%0D%0A%0D%0Avar%20w%20=%20window.innerWidth;%0D%0Avar%20h%20=%20window.innerHeight;%0D%0A%0D%0Avar%20randomise%20=%20(input,%20val)%20=%3E%20%7B%0D%0A%20%20%20%20var%20range%20=%20(min,%20max,%20int%20=%20false)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20val%20/=%20100;%0D%0A%20%20%20%20return%20input%20*%20range(1%20-%20val,%201%20+%20val);%0D%0A%7D;%0D%0A%0D%0Acanvas.width%20=%20w;%0D%0Acanvas.height%20=%20h;%0D%0A%0D%0Aclass%20Tree%20%7B%0D%0A%20%20%20%20constructor()%20%7B%0D%0A%20%20%20%20%20%20%20%20this.trunk_length%20=%20160;%0D%0A%20%20%20%20%20%20%20%20this.trunk_width%20=%2015;%0D%0A%20%20%20%20%20%20%20%20this.length_reduce%20=%202%20/%203;%0D%0A%20%20%20%20%20%20%20%20this.width_reduce%20=%203%20/%204;%0D%0A%20%20%20%20%20%20%20%20this.left_branch%20=%20-28;%0D%0A%20%20%20%20%20%20%20%20this.right_branch%20=%2028;%0D%0A%20%20%20%20%20%20%20%20this.shoots_length%20=%2015;%0D%0A%20%20%20%20%20%20%20%20this.leaves_length%20=%2010;%0D%0A%20%20%20%20%20%20%20%20this.min_length%20=%208;%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.branch_color%20=%20%22#767461%22;%0D%0A%20%20%20%20%20%20%20%20this.shoots_color%20=%20%22#008000%22;%0D%0A%20%20%20%20%20%20%20%20this.leaves_color%20=%20%22#800080%22;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.context%20=%20context;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20create(x,%20y)%20%7B%0D%0A%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20this.branch(x,%20y,%20this.trunk_length,%20this.trunk_width);%0D%0A%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20branch(x,%20y,%20length,%20width)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(counter%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20length%20*=%20this.length_reduce;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20var%20leftAngle%20=%20this.left_branch%20*%20(Math.PI%20/%20180);%0D%0A%20%20%20%20%20%20%20%20var%20rightAngle%20=%20this.right_branch%20*%20(Math.PI%20/%20180);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20this.context.fillStyle%20=%20this.branch_color;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(length%20%3E%20this.min_length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20counter++;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(length%20%3E%20this.shoots_length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%20*=%20this.width_reduce;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(length%20%3C=%20this.leaves_length)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.context.fillStyle%20=%20this.leaves_color;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this.context.fillStyle%20=%20this.shoots_color;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.fillRect(x,%20y,%20width,%20-length);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.translate(x,%20y%20-%20length);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20draw%20left%20branch%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.rotate(randomise(leftAngle,%2025));%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.branch(0,%200,%20randomise(length,%2010),%20width);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20draw%20right%20branch%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.save();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.rotate(randomise(rightAngle,%2025));%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.branch(0,%200,%20randomise(length,%2010),%20width);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20this.context.restore();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20draw()%20%7B%0D%0A%20%20%20%20counter%20=%200;%0D%0A%20%20%20%20%0D%0A%20%20%20%20//ground%0D%0A%20%20%20%20context.fillStyle%20=%20%22#767461%22;%0D%0A%20%20%20%20context.fillRect(0,%200,%20w,%20h);%0D%0A%0D%0A%20%20%20%20//sky%0D%0A%20%20%20%20context.fillStyle%20=%20%22#ADD8C7%22;%0D%0A%20%20%20%20context.fillRect(0,%200,%20w,%20h%20-%2050);%0D%0A%0D%0A%20%20%20%20var%20bigTree%20=%20new%20Tree();%0D%0A%20%20%20%20bigTree.create(w%20/%202,%20h%20-%2050);%0D%0A%20%20%20%20%0D%0A%20%20%20%20info.textContent%20=%20%60Branch%20count:%20$%7Bcounter%7D%60;%0D%0A%7D%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20w%20=%20window.innerWidth;%0D%0A%20%20%20%20h%20=%20window.innerHeight;%0D%0A%20%20%20%20canvas.width%20=%20w;%0D%0A%20%20%20%20canvas.height%20=%20h;%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20function%20()%20%7B%0D%0A%20%20%20%20resize();%0D%0A%20%20%20%20draw();%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20function()%20%7B%0D%0A%20%20%20%20draw();%0D%0A%20%20%20%20newTree.onclick%20=%20draw;%0D%0A%7D;%0D%0A#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_11E####LOGIC_11####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_11E####STEP_11E##