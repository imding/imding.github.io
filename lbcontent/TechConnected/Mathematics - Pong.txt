19##STEP_1####INST_1##Introduction%0A%0APong%20is%20one%20of%20the%20oldest%20games%20ever%20made.%0A%0AIn%20this%20project,%20we%20will%20be%20creating%20some%20of%20the%20game%20mechanics%20of%20this%20classic%20arcade%20game.%0A%0A(***)%0A%0A(!)Play%20the%20game%20and%20score%20at%20least%201%20point%20against%20the%20AI.##INST_1E####CODE_1####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22style.css%22%20rel=%22stylesheet%22%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch1%3EPong%3C/h1%3E%0D%0A%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22gameArea%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22ball%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22playerPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22aiPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20id=%22playerScore%22%3E0%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20id=%22aiScore%22%3E0%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22playPause%22%3EPLAY%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cp%3EMove%20mouse%20in%20the%20game%20area%20to%20control%20your%20pad%3C/p%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E##HTML_E####CSS##@import%20url(%22https://fonts.googleapis.com/css?family=VT323%22);%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody,%20html%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Ah1%20%7B%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20font-size:%2060px;%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%7D%0D%0A%0D%0Ap%20%7B%0D%0A%20%20%20%20margin-top:%2010px;%0D%0A%20%20%20%20color:%20gray;%0D%0A%20%20%20%20font-size:%2018px;%0D%0A%7D%0D%0A%0D%0Aspan%20%7B%0D%0A%20%20%20%20font-size:%2036px;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20padding:%205px%2020px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20color:%20silver;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2036px;%0D%0A%20%20%20%20background-color:%20#111;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20outline:%20none;%0D%0A%7D%0D%0A%0D%0A#gameArea%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20margin:%2010px%20auto;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%20%20%20%20cursor:%20none;%0D%0A%7D%0D%0A%0D%0A#playerPad,%20#aiPad,%20#ball%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#playerScore%20%7B%0D%0A%20%20%20%20margin-right:%2010px;%0D%0A%20%20%20%20color:%20dodgerblue;%0D%0A%7D%0D%0A%0D%0A#aiScore%20%7B%0D%0A%20%20%20%20color:%20tomato;%0D%0A%7D%0D%0A%0D%0A#playerPad,%20#aiPad%20%7B%0D%0A%20%20%20%20border-radius:%205px;%0D%0A%7D%0D%0A%0D%0A#playerPad%20%7B%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%7D%0D%0A%0D%0A#aiPad%20%7B%0D%0A%20%20%20%20background-color:%20tomato;%0D%0A%20%20%20%20transition:%20top%200.2s%20linear;%0D%0A%7D%0D%0A%0D%0A#ball%20%7B%0D%0A%20%20%20%20background-color:%20silver;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%7D##CSS_E####JS##%0Avar%20gameWidth%20=%20500;%0Avar%20gameHeight%20=%20400;%0A%0Avar%20padWidth%20=%2010;%0Avar%20padHeight%20=%2080;%0Avar%20playerPadX%20=%2010;%0Avar%20aiPadX%20=%20gameWidth%20-%20padWidth%20-%20playerPadX;%0A%0Avar%20ballSize%20=%2015;%0Avar%20ballX%20=%20(gameWidth%20-%20ballSize)%20/%202;%0Avar%20ballY%20=%20(gameHeight%20-%20ballSize)%20/%202;%0A%0Avar%20maxSpeed%20=%2015;%0Avar%20speed%20=%2010;%0Avar%20speedX%20=%206;%0Avar%20speedY%20=%208;%0A%0Avar%20aiError%20=%2060;%0Avar%20aiTurn;%0A%0Avar%20playing%20=%20false;%0Avar%20paused%20=%20false;%0Avar%20lostBall%20=%20false;%0A%0Awindow.onload%20=%20initGame;%0A%0Afunction%20initGame()%20%7B%0A%20%20%20%20document.querySelectorAll('*').forEach(el%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20el.setPosition%20=%20(x,%20y)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20el.style.left%20=%20%60$%7Bx%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20el.style.top%20=%20%60$%7B(y)%7Dpx%60;%0A%20%20%20%20%20%20%20%20%7D;%0A%20%20%20%20%20%20%20%20el.setSize%20=%20(w,%20h)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20el.style.width%20=%20%60$%7Bw%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20el.style.height%20=%20%60$%7BNumber.isFinite(h)%20?%20h%20:%20w%7Dpx%60;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D);%0A%0A%20%20%20%20var%20padStartingY%20=%20(gameHeight%20-%20padHeight)%20/%202;%0A%20%20%20%20%0A%20%20%20%20gameArea.setSize(gameWidth,%20gameHeight);%0A%20%20%20%20playerPad.setSize(padWidth,%20padHeight);%0A%20%20%20%20aiPad.setSize(padWidth,%20padHeight);%0A%20%20%20%20ball.setSize(ballSize);%0A%0A%20%20%20%20playerPad.setPosition(playerPadX,%20padStartingY);%0A%20%20%20%20aiPad.setPosition(aiPadX,%20padStartingY);%0A%20%20%20%20ball.setPosition(ballX,%20ballY);%0A%0A%20%20%20%20playPause.onclick%20=%20startGame;%0A%20%20%20%20gameArea.onmousemove%20=%20updatePlayerPad;%0A%7D%0A%0Afunction%20startGame()%20%7B%0A%20%20%20%20if%20(playing)%20%7B%0A%20%20%20%20%20%20%20%20if%20(paused)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PAUSE';%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20playPause.innerText%20=%20'RESUME';%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20paused%20=%20!paused;%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20playing%20=%20true;%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PAUSE';%0A%0A%20%20%20%20%20%20%20%20randomizeSpeed();%0A%20%20%20%20%20%20%20%20randomizeDir();%0A%20%20%20%20%20%20%20%20render();%0A%20%20%20%20%7D%20%20%20%0A%7D%0A%0Afunction%20animatePong()%20%7B%0A%20%20%20%20ballX%20+=%20speedX;%0A%20%20%20%20ballY%20+=%20speedY;%0A%0A%20%20%20%20checkWallRebound();%0A%20%20%20%20checkPadRebound();%0A%20%20%20%20updateAiPad();%0A%20%20%20%20checkLoss();%0A%0A%20%20%20%20ball.setPosition(ballX,%20ballY);%0A%7D%0A%0Afunction%20updatePlayerPad()%20%7B%0A%20%20%20%20if%20(playing%20&&%20!paused)%20%7B%0A%20%20%20%20%20%20%20%20var%20mouseY%20=%20event.offsetY;%0A%0A%20%20%20%20%20%20%20%20if%20(mouseY%20%3E%200%20&&%20mouseY%20%3C%20gameHeight)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20playerPadY%20=%20mouseY%20-%20padHeight%20/%202;%0A%20%20%20%20%20%20%20%20%20%20%20%20playerPadY%20=%20Math.max(playerPadY,%205);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerPadY%20=%20Math.min(playerPadY,%20gameHeight%20-%20padHeight%20-%205);%0A%20%20%20%20%20%20%20%20%20%20%20%20playerPad.setPosition(playerPadX,%20playerPadY);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20updateAiPad()%20%7B%0A%20%20%20%20if%20(aiTurn)%20%7B%0A%20%20%20%20%20%20%20%20//%20%20determine%20whether%20ball%20has%20moved%20pass%2080%25%20across%20its%20container%0A%20%20%20%20%20%20%20%20var%20inRange%20=%20ballX%20%3E%20gameWidth%20*%200.8;%0A%0A%20%20%20%20%20%20%20%20if%20(inRange)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20maxTop%20=%20gameHeight%20-%20padHeight;%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20distance%20=%20aiPadX%20-%20ballX%20-%20ballSize;%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20eta%20=%20distance%20/%20speedX;%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20estimate%20=%20ballY%20+%20speedY%20*%20eta;%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20aiPadY%20=%20estimate%20-%20padHeight%20/%202;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20aiPadY%20=%20aiPadY%20+%20randomRange(aiError,%20-aiError);%0A%20%20%20%20%20%20%20%20%20%20%20%20aiPadY%20=%20Math.max(aiPadY,%205);%0A%20%20%20%20%20%20%20%20%20%20%20%20aiPadY%20=%20Math.min(aiPadY,%20maxTop%20-%205);%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20aiPad.setPosition(aiPadX,%20aiPadY);%0A%20%20%20%20%20%20%20%20%20%20%20%20aiTurn%20=%20false;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log(%60AI%20moves%20to%20$%7BMath.round(aiPadY)%7Dpx.%60);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20checkWallRebound()%20%7B%0A%20%20%20%20var%20maxY%20=%20gameHeight%20-%20ballSize;%0A%0A%20%20%20%20if%20(ballY%20%3C%200%20%7C%7C%20ballY%20%3E%20maxY)%20%7B%0A%20%20%20%20%20%20%20%20randomizeSpeed();%0A%20%20%20%20%20%20%20%20speedY%20*=%20-1;%0A%20%20%20%20%20%20%20%20ballY%20=%20ballY%20%3E%200%20?%20maxY%20:%200;%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20checkPadRebound()%20%7B%0A%20%20%20%20//%20%20check%20whether%20ball%20has%20moved%20passed%20the%20player%20pad%0A%20%20%20%20if%20(ballX%20%3C=%20playerPadX%20+%20padWidth)%20%7B%0A%20%20%20%20%20%20%20%20checkPadCollision(playerPad);%0A%20%20%20%20%7D%0A%20%20%20%20//%20%20check%20whether%20ball%20has%20moved%20passed%20the%20AI%20pad%0A%20%20%20%20else%20if%20(ballX%20%3E=%20aiPadX%20-%20ballSize)%20%7B%0A%20%20%20%20%20%20%20%20checkPadCollision(aiPad);%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20checkLoss()%20%7B%0A%20%20%20%20if%20(ballX%20%3C=%20-ballSize)%20%7B%0A%20%20%20%20%20%20%20%20aiScore.innerText%20=%20parseInt(aiScore.innerText)%20+%201;%0A%20%20%20%20%20%20%20%20aiError%20/=%200.9;%0A%20%20%20%20%20%20%20%20resetGame();%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(ballX%20%3E=%20gameWidth)%20%7B%0A%20%20%20%20%20%20%20%20playerScore.innerText%20=%20parseInt(playerScore.innerText)%20+%201;%0A%20%20%20%20%20%20%20%20aiError%20*=%200.9;%0A%20%20%20%20%20%20%20%20resetGame();%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20resetGame()%20%7B%0A%20%20%20%20ballX%20=%20(gameWidth%20-%20ballSize)%20/%202;%0A%20%20%20%20ballY%20=%20(gameHeight%20-%20ballSize)%20/%202;%0A%0A%20%20%20%20playing%20=%20false;%0A%20%20%20%20lostBall%20=%20false;%0A%0A%20%20%20%20playPause.innerText%20=%20'PLAY';%0A%7D%0A%0Afunction%20checkPadCollision(pad)%20%7B%0A%20%20%20%20var%20lowerTop%20=%20pad.offsetTop%20-%20ballSize;%0A%20%20%20%20var%20upperTop%20=%20pad.offsetTop%20+%20padHeight;%0A%20%20%20%20var%20contact%20=%20ballY%20%3E=%20lowerTop%20&&%20ballY%20%3C=%20upperTop;%0A%20%20%20%20var%20ballRadius%20=%20ballSize%20/%202;%0A%20%20%20%20//%20%20determine%20whether%20contact%20if%20a%20valid%20catch%0A%20%20%20%20var%20validCatch%20=%20ballY%20%3E=%20lowerTop%20+%20ballRadius%20&&%20ballY%20%3C=%20upperTop%20-%20ballRadius;%0A%0A%20%20%20%20if%20(contact)%20%7B%0A%20%20%20%20%20%20%20%20if%20(lostBall)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20reverse%20vertical%20movement%0A%20%20%20%20%20%20%20%20%20%20%20%20speedY%20*=%20-1;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20(validCatch)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20randomizeSpeed();%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20reverse%20horizontal%20movement%0A%20%20%20%20%20%20%20%20%20%20%20%20speedX%20*=%20-1;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(pad%20==%20playerPad)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%20increase%20ball%20movement%20speed%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20+=%200.2;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%20clamp%20at%20maximum%20speed%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%20Math.min(speed,%20maxSpeed);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%20correct%20any%20clipping%20by%20the%20player%20pad%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ballX%20=%20playerPadX%20+%20padWidth;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20aiTurn%20=%20true;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(pad%20==%20aiPad)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%20correct%20any%20clipping%20by%20the%20AI%20pad%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ballX%20=%20aiPadX%20-%20ballSize;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20lostBall%20=%20true;%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20randomizeSpeed()%20%7B%0A%20%20%20%20//%20%20store%20current%20vertical%20direction%20of%20the%20ball%0A%20%20%20%20var%20xDir%20=%20speedX%20/%20Math.abs(speedX);%0A%20%20%20%20var%20yDir%20=%20speedY%20/%20Math.abs(speedY);%0A%0A%20%20%20%20speedX%20=%20xDir%20*%20randomize(speed%20/%201.5,%2030);%0A%20%20%20%20speedY%20=%20yDir%20*%20Math.sqrt(speed%20**%202%20-%20speedX%20**%202);%0A%7D%0A%0Afunction%20randomizeDir()%20%7B%0A%20%20%20%20var%20randomDir%20=%20n%20=%3E%20n%20*%20(Math.random()%20%3E=%200.5%20?%201%20:%20-1);%0A%20%20%20%20speedX%20=%20randomDir(speedX);%0A%20%20%20%20speedY%20=%20randomDir(speedY);%0A%20%20%20%20aiTurn%20=%20speedX%20%3E%200;%0A%7D%0A%0Avar%20timePrevFrame%20=%20Date.now();%0A%0Afunction%20render()%20%7B%0A%20%20%20%20if%20(!playing)%20return;%0A%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0A%0A%20%20%20%20if%20(elapsed%20%3E%2033)%20%7B%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%2033);%0A%0A%20%20%20%20%20%20%20%20if%20(!paused)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20requestAnimationFrame(animatePong);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20requestAnimationFrame(render);%0A%7D%0A%0Afunction%20randomize(n,%20perc)%20%7B%0A%20%20%20%20const%20sign%20=%20Math.random()%20%3E=%200.5%20?%201%20:%20-1;%0A%20%20%20%20const%20noise%20=%20n%20*%20Math.random()%20*%20perc%20/%20100;%0A%20%20%20%20return%20n%20+%20(noise%20*%20sign);%0A%7D%0A%0Afunction%20randomRange(min,%20max,%20int%20=%20false)%20%7B%0A%20%20%20%20const%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0A%7D%0A##JS_E####CODE_1E####LOGIC_1####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.on(%60checkLoss%60).var(%60playerScore.innerText%20%3E=%201%60);##JS_E####LOGIC_1E####STEP_1E####STEP_2####INST_2##Generic%20step%0A%0A*Current%20Progress*%0A%0A*The%20Problem*%0A%0A*Solution*%0A%0A(---)%0A%0A%5B-%0A%09(*)%0A%09(*)%0A-%5D%0A%0A(***)%0A%0A(!)On%20+type#key#,%20%0A%0A(!)On%20+type#key#,%20%0A%0A(!)On%20+type#key#,%20##INST_2E####CODE_2####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22style.css%22%20rel=%22stylesheet%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch1%3EPong%3C/h1%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22gameArea%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22ball%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22playerPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22aiPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20id=%22playerScore%22%3E0%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20id=%22aiScore%22%3E0%3C/span%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22playPause%22%3EPLAY%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cp%3EMove%20mouse%20in%20the%20game%20area%20to%20control%20your%20pad%3C/p%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##@import%20url(%22https://fonts.googleapis.com/css?family=VT323%22);%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20box-sizing:%20border-box;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody,%20html%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background-color:%20#333;%0D%0A%7D%0D%0A%0D%0Ah1%20%7B%0D%0A%20%20%20%20color:%20ghostwhite;%0D%0A%20%20%20%20font-size:%2060px;%0D%0A%20%20%20%20font-weight:%20normal;%0D%0A%7D%0D%0A%0D%0Ap%20%7B%0D%0A%20%20%20%20margin-top:%2010px;%0D%0A%20%20%20%20color:%20gray;%0D%0A%20%20%20%20font-size:%2018px;%0D%0A%7D%0D%0A%0D%0Aspan%20%7B%0D%0A%20%20%20%20font-size:%2036px;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20padding:%205px%2020px;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20color:%20limegreen;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2036px;%0D%0A%20%20%20%20background-color:%20#111;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20outline:%20none;%0D%0A%7D%0D%0A%0D%0A#gameArea%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20margin:%2010px%20auto;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20background-color:%20black;%0D%0A%7D%0D%0A%0D%0A#playerPad,%20#aiPad,%20#ball%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#playerScore%20%7B%0D%0A%20%20%20%20margin-right:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%7D%0D%0A%0D%0A#aiScore%20%7B%0D%0A%20%20%20%20color:%20tomato;%0D%0A%7D%0D%0A%0D%0A#playerPad%20%7B%0D%0A%20%20%20%20background-color:%20white;%0D%0A%7D%0D%0A%0D%0A#aiPad%20%7B%0D%0A%20%20%20%20background-color:%20tomato;%0D%0A%7D%0D%0A%0D%0A#ball%20%7B%0D%0A%20%20%20%20background-color:%20gray;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%7D##CSS_E####JS##%0Avar%20gameWidth%20=%20500;%0Avar%20gameHeight%20=%20400;%0A%0Avar%20padWidth%20=%2010;%0Avar%20padHeight%20=%2080;%0A%0Avar%20ballRadius%20=%2025;%0A%0AinitGame();%0A%0A%0A%0A%0A%0A%0A%0A%0Afunction%20initGame()%20%7B%0A%20%20%20%20setSize(gameArea,%20gameWidth,%20gameHeight);%0A%20%20%20%20setSize(playerPad,%20padWidth,%20padHeight);%0A%20%20%20%20setSize(aiPad,%20padWidth,%20padHeight);%0A%20%20%20%20setSize(ball,%20ballRadius);%0A%20%20%20%20%0A%20%20%20%20setPosition(playerPad,%2010,%200);%0A%20%20%20%20setPosition(aiPad,%20gameWidth%20-%20padWidth%20-%2010,%200);%0A%20%20%20%20setPosition(ball,%20(gameWidth%20-%20ballRadius)%20/%202,%20(gameHeight%20-%20ballRadius)%20/%202);%0A%7D%0A%0Afunction%20setSize(el,%20w,%20h)%20%7B%0A%20%20%20%20el.style.width%20=%20%60$%7Bw%7Dpx%60;%0A%20%20%20%20el.style.height%20=%20%60$%7Bh%20%7C%7C%20w%7Dpx%60;%0A%7D%0A%0Afunction%20setPosition(el,%20x,%20y)%20%7B%0A%20%20%20%20el.style.left%20=%20%60$%7Bx%7Dpx%60;%0A%20%20%20%20el.style.top%20=%20%60$%7By%7Dpx%60;%0A%7D##JS_E####CODE_2E####LOGIC_2####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_2E####STEP_2E####STEP_3####INST_3##Player%20pad%20control%0A%0AIn%20the%20HTML%20tab,%20we've%20set%20up%20some%20of%20the%20game%20interface%20already.%0A%0AEverything%20in%20our%20game%20is%20inside%20the%20%60%3Cdiv%3E%60%20element%20with%20the%20ID%20name%20*pong*%20(%20+html#pong#%20),%20which%20currently%20contains%20a%20stationary%20player%20pad.%0A%0ATo%20make%20it%20controllable%20by%20the%20player,%20we%20need%20to%20be%20able%20to%20detect%20mouse%20movements%20on%20our%20page%20using%20the%20%60onmousemove%60%20event%20listener.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#onmousemove%5D%0A%09(*)%5B#js#function%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#JavaScript#+2,%20handle%20the%20%60document.onmousemove%60%20event%20using%20the%20*updatePlayerPadPosition*%20function.%0A%0A(!)On%20+js#JavaScript#+4,%20create%20a%20function%20called%20*updatePlayerPadPosition*.##INST_3E####CODE_3####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22style.css%22%20rel=%22stylesheet%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22playPause%22%3EPLAY%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cp%20id=%22instruction%22%3EMove%20mouse%20up%20and%20down%20to%20control%20your%20pad%3C/p%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22pong%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22playerPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##@import%20url(%22https://fonts.googleapis.com/css?family=VT323%22);%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2036px;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0A#game,%0D%0A#playerPad%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#pong%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20300px;%0D%0A%20%20%20%20background-color:%20#091B36;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#playerPad%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%20%20%20%20height:%2080px;%0D%0A%20%20%20%20top:%20110px;%0D%0A%20%20%20%20left:%2010px;%0D%0A%20%20%20%20background-color:%20limegreen;%0D%0A%7D%0D%0A%0D%0A#playPause%20%7B%0D%0A%20%20%20%20width:%20150px;%0D%0A%20%20%20%20top:%205%25;%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20color:%20skyblue;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2030px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0A#instruction%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20color:%20darkgray;%0D%0A%20%20%20%20top:%2010%25;%0D%0A%20%20%20%20font-size:%2024px;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##//%20%20JavaScript%0D%0A%0D%0A#BEGIN_EDITABLE#document.onmousemove%20=%20updatePlayerPadPosition;#END_EDITABLE#%0D%0A%0D%0A#BEGIN_EDITABLE#function%20updatePlayerPadPosition()%20%7B%7D#END_EDITABLE#%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Awindow.onload%20=%20window.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%20%20%20%20%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%7D##JS_E####CODE_3E####LOGIC_3####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60document.onmousemove%20=%20updatePlayerPadPosition;%60).or(%60window.onmousemove%20=%20updatePlayerPadPosition;%60);%0Apass.if.js.editable(1).equivalent(%60function%20updatePlayerPadPosition()%20%7B%7D%60);##JS_E####LOGIC_3E####STEP_3E####STEP_4####INST_4##Player%20pad%20position%20-%201/3%0A%0ABefore%20we%20can%20position%20the%20player%20pad,%20we%20need%20the%20expressions%20for%20calculating%20the%20mouse%20position%20in%20relation%20to%20the%20%60%3Cdiv%20id='pong'%3E%60%20element,%20we'll%20do%20this%20in%20two%20steps.%0A%0AFirst,%20we%20need%20to%20know%20the%20distance%20between%20the%20top%20edges%20of%20the%20window%20and%20the%20%60%3Cdiv%20id='pong'%3E%60%20element,%20i.e.%20*containerTop*.%0A%5Bimg::https://app.bsd.education/resources/mathematics_pong_containerTop.png%5D%0A%0AThen,%20we%20can%20use%20this%20distance%20to%20express%20the%20cursor%20position%20and%20store%20it%20in%20*cursorTop*.%0A%5Bimg::https://app.bsd.education/resources/mathematics_pong_cursorTop.png%5D%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#arithmetic%20operators%5D%0A%09(*)%5B#js#offsetTop%5D%0A%09(*)%5B#js#clientY%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20updatePlayer#+2,%20create%20a%20variable%20called%20*containerTop*%20to%20store%20the%20expression%20for%20calculating%20the%20top%20position%20of%20the%20pong%20container.%0A%0A(!)On%20+js#on%20updatePlayer#+3,%20create%20a%20variable%20called%20*cursorTop*%20to%20store%20the%20express%20for%20calculating%20the%20top%20position%20of%20the%20cursor.%0A##INST_4E####CODE_4####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22style.css%22%20rel=%22stylesheet%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22playPause%22%3EPLAY%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cp%20id=%22instruction%22%3EMove%20mouse%20up%20and%20down%20to%20control%20your%20pad%3C/p%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22pong%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22playerPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##@import%20url(%22https://fonts.googleapis.com/css?family=VT323%22);%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2036px;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0A#game,%0D%0A#playerPad%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#pong%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20300px;%0D%0A%20%20%20%20background-color:%20#091B36;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#playerPad%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%20%20%20%20height:%2080px;%0D%0A%20%20%20%20top:%20110px;%0D%0A%20%20%20%20left:%2010px;%0D%0A%20%20%20%20background-color:%20limegreen;%0D%0A%7D%0D%0A%0D%0A#playPause%20%7B%0D%0A%20%20%20%20width:%20150px;%0D%0A%20%20%20%20top:%205%25;%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20color:%20skyblue;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2030px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0A#instruction%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20color:%20darkgray;%0D%0A%20%20%20%20top:%2010%25;%0D%0A%20%20%20%20font-size:%2024px;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0D%0A%0D%0Adocument.onmousemove%20=%20updatePlayerPadPosition;%0D%0AplayPause.onclick%20=%20playOrPause;%0D%0A%0D%0Afunction%20updatePlayerPadPosition()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#var%20containerTop%20=%20pong.offsetTop%20+%20game.offsetTop;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#var%20cursorTop%20=%20event.clientY%20-%20containerTop;#END_EDITABLE#%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playOrPause()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PLAY')%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PAUSE';%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PLAY';%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Awindow.onload%20=%20window.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%20%20%20%20%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%7D##JS_E####CODE_4E####LOGIC_4####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20containerTop%20=%20pong.offsetTop%20+%20game.offsetTop;%60);%0Apass.if.js.editable(1).equivalent(%60var%20cursorTop%20=%20event.clientY%20-%20containerTop;%60);##JS_E####LOGIC_4E####STEP_4E####STEP_5####INST_5##Player%20pad%20position%20-%202/3%0A%0ANext%20we%20need%20to%20determine%20the%20top%20position%20for%20the%20player%20pad%20using%20the%20cursor%20position.%0A%0AWe%20want%20the%20middle%20of%20the%20pad%20to%20be%20aligned%20with%20the%20cursor's%20vertical%20position,%20as%20shown%20in%20the%20image%20below:%0A%5Bimg::https://app.bsd.education/resources/mathematics_pong_padTop.png%5D%0A%0ATo%20work%20this%20out,%20we%20will%20need%20the%20cursor's%20top%20position,%20which%20we%20worked%20out%20and%20stored%20in%20*cursorTop*,%20and%20the%20*offsetHeight*%20of%20the%20%60%3Cdiv%20id='playerPad'%3E%60%20element.%0A%0AThen%20we%20can%20store%20the%20result%20in%20*padTop*%20and%20assign%20it%20as%20the%20top%20position%20of%20the%20%60%3Cdiv%20id='playerPad'%3E%60%20element%20using%20the%20%60.style%60%20syntax.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#arithmetic%20operators%5D%0A%09(*)%5B#js#offsetHeight%5D%0A%09(*)%5B#js#style%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20updatePlayer#+4,%20calculate%20the%20top%20position%20of%20the%20player%20pad%20and%20store%20it%20using%20a%20new%20variable%20called%20*padTop*.%0A%0A(!)On%20+js#on%20updatePlayer#+6,%20use%20*padTop*%20as%20the%20top%20position%20for%20the%20*playerPad*%20element.%0A(*)*Tip*:%20don't%20forget%20to%20add%20*%22px%22*%20as%20the%20unit.##INST_5E####CODE_5####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22style.css%22%20rel=%22stylesheet%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22playPause%22%3EPLAY%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cp%20id=%22instruction%22%3EMove%20mouse%20up%20and%20down%20to%20control%20your%20pad%3C/p%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22pong%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22playerPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##@import%20url(%22https://fonts.googleapis.com/css?family=VT323%22);%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2036px;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0A#game,%0D%0A#playerPad%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#pong%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20300px;%0D%0A%20%20%20%20background-color:%20#091B36;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#playerPad%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%20%20%20%20height:%2080px;%0D%0A%20%20%20%20top:%20110px;%0D%0A%20%20%20%20left:%2010px;%0D%0A%20%20%20%20background-color:%20limegreen;%0D%0A%7D%0D%0A%0D%0A#playPause%20%7B%0D%0A%20%20%20%20width:%20150px;%0D%0A%20%20%20%20top:%205%25;%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20color:%20skyblue;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2030px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0A#instruction%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20color:%20darkgray;%0D%0A%20%20%20%20top:%2010%25;%0D%0A%20%20%20%20font-size:%2024px;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0D%0A%0D%0Adocument.onmousemove%20=%20updatePlayerPadPosition;%0D%0AplayPause.onclick%20=%20playOrPause;%0D%0A%0D%0Afunction%20updatePlayerPadPosition()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20containerTop%20=%20pong.offsetTop%20+%20game.offsetTop;%0D%0A%20%20%20%20%20%20%20%20var%20cursorTop%20=%20event.clientY%20-%20containerTop;%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#var%20padTop%20=%20cursorTop%20-%20playerPad.offsetHeight%20/%202;#END_EDITABLE#%0D%0A%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#playerPad.style.top%20=%20padTop%20+%20%22px%22;#END_EDITABLE#%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playOrPause()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PLAY')%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PAUSE';%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PLAY';%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Awindow.onload%20=%20window.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%20%20%20%20%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%7D##JS_E####CODE_5E####LOGIC_5####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20padTop%20=%20cursorTop%20-%20playerPad.offsetHeight%20/%202;%60).or(%60var%20padTop%20=%20cursorTop%20-%20playerPad.offsetHeight%20*%200.5;%60).or(%60var%20padTop%20=%20cursorTop%20-%200.5%20*%20playerPad.offsetHeight;%60);%0Apass.if.js.editable(1).equivalent(%60playerPad.style.top%20=%20padTop%20+%20%22px%22;%60);##JS_E####LOGIC_5E####STEP_5E####STEP_6####INST_6##Player%20pad%20position%20-%203/3%0A%0AThe%20player%20pad%20now%20follows%20the%20vertical%20position%20of%20the%20cursor%20after%20the%20%22PLAY%22%20button%20is%20clicked,%20however,%20it%20does%20so%20even%20when%20the%20cursor%20is%20outside%20of%20the%20*pong*%20element.%0A%5Bimg::https://app.bsd.education/resources/mathematics_pong_unclamped_pad_control.gif%5D%0A%0ATo%20fix%20this,%20we%20need%20to%20first%20work%20out%20the%20maximum%20value%20for%20*padTop*,%20which%20occurs%20when%20the%20pad%20is%20touching%20the%20lower%20edge%20of%20the%20%60%3Cdiv%20id='pong'%3E%60%20element.%0A%5Bimg::https://app.bsd.education/resources/mathematics_pong_player_maxTop.png%5D%0A%0AThen,%20we%20select%20the%20smaller%20value%20between%20*maxTop*%20and%20*padTop*%20as%20the%20new%20value%20for%20*padTop*%20using%20the%20%60Math.min%60%20syntax.%0A%0AFinally,%20we%20select%20the%20bigger%20value%20between%20*padTop*%20and%200%20as%20the%20new%20value%20for%20*padTop*%20using%20the%20%60Math.max%60%20syntax.%0A%0AThis%20will%20ensure%20that%20*padTop*%20is%20always%20bigger%20than%200%20and%20smaller%20than%20*maxTop*.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#arithmetic%20operators%5D%0A%09(*)%5B#js#Math.max%5D%0A%09(*)%5B#js#Math.min%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20updatePlayer#+5,%20calculate%20the%20maximum%20top%20position%20for%20the%20*playerPad*%20element%20and%20store%20it%20using%20a%20new%20variable%20called%20*maxTop*.%0A%0A(!)On%20+js#on%20updatePlayer#+7,%20assign%20the%20smaller%20value%20between%20*padTop*%20and%20*maxTop*%20to%20*padTop*.%0A%0A(!)On%20+js#on%20updatePlayer#+8,%20assign%20the%20bigger%20value%20between%20*padTop*%20and%20*0*%20to%20*padTop*.##INST_6E####CODE_6####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22style.css%22%20rel=%22stylesheet%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22playPause%22%3EPLAY%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cp%20id=%22instruction%22%3EMove%20mouse%20up%20and%20down%20to%20control%20your%20pad%3C/p%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22pong%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22playerPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##@import%20url(%22https://fonts.googleapis.com/css?family=VT323%22);%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2036px;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0A#game,%0D%0A#playerPad%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#pong%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20300px;%0D%0A%20%20%20%20background-color:%20#091B36;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#playerPad%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%20%20%20%20height:%2080px;%0D%0A%20%20%20%20top:%20110px;%0D%0A%20%20%20%20left:%2010px;%0D%0A%20%20%20%20background-color:%20limegreen;%0D%0A%7D%0D%0A%0D%0A#playPause%20%7B%0D%0A%20%20%20%20width:%20150px;%0D%0A%20%20%20%20top:%205%25;%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20color:%20skyblue;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2030px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0A#instruction%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20color:%20darkgray;%0D%0A%20%20%20%20top:%2010%25;%0D%0A%20%20%20%20font-size:%2024px;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0D%0A%0D%0Adocument.onmousemove%20=%20updatePlayerPadPosition;%0D%0AplayPause.onclick%20=%20playOrPause;%0D%0A%0D%0Afunction%20updatePlayerPadPosition()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20containerTop%20=%20pong.offsetTop%20+%20game.offsetTop;%0D%0A%20%20%20%20%20%20%20%20var%20cursorTop%20=%20event.clientY%20-%20containerTop;%0D%0A%20%20%20%20%20%20%20%20var%20padTop%20=%20cursorTop%20-%20playerPad.offsetHeight%20/%202;%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#var%20maxTop%20=%20pong.offsetHeight%20-%20playerPad.offsetHeight;#END_EDITABLE#%0D%0A%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#padTop%20=%20Math.min(padTop,%20maxTop);#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#padTop%20=%20Math.max(padTop,%200);#END_EDITABLE#%0D%0A%0D%0A%20%20%20%20%20%20%20%20playerPad.style.top%20=%20padTop%20+%20%22px%22;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playOrPause()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PLAY')%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PAUSE';%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PLAY';%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Awindow.onload%20=%20window.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%20%20%20%20%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%7D##JS_E####CODE_6E####LOGIC_6####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20maxTop%20=%20pong.offsetHeight%20-%20playerPad.offsetHeight;%60);%0Apass.if.js.editable(1).equivalent(%60padTop%20=%20Math.min(padTop,%20maxTop);%60).or(%60padTop%20=%20Math.min(maxTop,%20padTop);%60);%0Apass.if.js.editable(2).equivalent(%60padTop%20=%20Math.max(padTop,%200);%60).or(%60padTop%20=%20Math.max(0,%20padTop);%60);##JS_E####LOGIC_6E####STEP_6E####STEP_7####INST_7##The%20ball%0A%0AWe're%20done%20with%20the%20player%20pad,%20now%20we%20need%20to%20add%20the%20ball%20to%20our%20game.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#html#%3Cdiv%3E%5D%0A%09(*)%5B#html#id%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+html#playerPad#-1,%20create%20a%20%60%3Cdiv%3E%60%20element%20and%20set%20the%20%60id%60%20attribute%20to%20*ball*.##INST_7E####CODE_7####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22style.css%22%20rel=%22stylesheet%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22playPause%22%3EPLAY%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cp%20id=%22instruction%22%3EMove%20mouse%20up%20and%20down%20to%20control%20your%20pad%3C/p%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22pong%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#%3Cdiv%20id=%22ball%22%3E%3C/div%3E#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22playerPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E##HTML_E####CSS##@import%20url(%22https://fonts.googleapis.com/css?family=VT323%22);%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2036px;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0A#game,%0D%0A#playerPad,%0D%0A#ball%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#pong%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20300px;%0D%0A%20%20%20%20background-color:%20#091B36;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#playerPad%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%20%20%20%20height:%2080px;%0D%0A%20%20%20%20top:%20110px;%0D%0A%20%20%20%20left:%2010px;%0D%0A%20%20%20%20background-color:%20limegreen;%0D%0A%7D%0D%0A%0D%0A#ball%20%7B%0D%0A%20%20%20%20width:%2020px;%0D%0A%20%20%20%20height:%2020px;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20top:%20140px;%0D%0A%20%20%20%20left:%20240px;%0D%0A%20%20%20%20background-color:%20skyblue;%0D%0A%7D%0D%0A%0D%0A#playPause%20%7B%0D%0A%20%20%20%20width:%20150px;%0D%0A%20%20%20%20top:%205%25;%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20color:%20skyblue;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2030px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0A#instruction%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20color:%20darkgray;%0D%0A%20%20%20%20top:%2010%25;%0D%0A%20%20%20%20font-size:%2024px;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##//%20%20JavaScript%0D%0A%0D%0Avar%20ballLeft%20=%20240;%0D%0Avar%20ballTop%20=%20140;%0D%0A%0D%0Adocument.onmousemove%20=%20updatePlayerPadPosition;%0D%0AplayPause.onclick%20=%20playOrPause;%0D%0A%0D%0Afunction%20updatePlayerPadPosition()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20containerTop%20=%20pong.offsetTop%20+%20game.offsetTop;%0D%0A%20%20%20%20%20%20%20%20var%20cursorTop%20=%20event.clientY%20-%20containerTop;%0D%0A%20%20%20%20%20%20%20%20var%20padTop%20=%20cursorTop%20-%20playerPad.offsetHeight%20/%202;%0D%0A%20%20%20%20%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20playerPad.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.min(padTop,%20maxTop);%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.max(padTop,%200);%0D%0A%0D%0A%20%20%20%20%20%20%20%20playerPad.style.top%20=%20padTop%20+%20%22px%22;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playOrPause()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PLAY')%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PAUSE';%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PLAY';%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Awindow.onload%20=%20window.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%20%20%20%20%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_7E####LOGIC_7####HTML##//%20Expectation:%0Apass.if.html.editable(0).equivalent(%60%3Cdiv%20id=%22ball%22%3E%3C/div%3E%60);##HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_7E####STEP_7E####STEP_8####INST_8##Speed%20variables%20for%20the%20ball%0A%0AThe%20pong%20game%20works%20by%20repeatedly%20redrawing%20all%20of%20the%20graphics%20many%20times%20every%20second%20(%20the%20number%20of%20draws%20per%20second%20is%20known%20as%20*frame%20rate*%20).%20Different%20elements%20move%20to%20different%20positions%20in%20each%20frame,%20and%20if%20the%20frame%20rate%20is%20high%20enough,%20we%20see%20motion.%0A%5Bimg::https://app.bsd.education/resources/mathematics_pong_framerate.gif%5D%0A%0AIn%20order%20to%20know%20where%20to%20position%20the%20ball%20in%20each%20frame,%20we%20need%20its%20starting%20position%20(%20provided%20on%20+js#ballLeft#%20&%20js#ballTop#%20)%20and%20the%20speed%20for%20both%20the%20horizontal%20and%20vertical%20axis.%0A%0A(*)*Note*:%20we%20will%20set%20the%20speed%20of%20the%20ball%20to%2010,%20meaning%20it%20will%20move%2010%20pixels%20per%20second,%20but%20leave%20the%20x%20and%20y%20speeds%20at%200%20initially,%20because%20we%20want%20to%20randomize%20one%20of%20them%20and%20calculate%20the%20other%20to%20make%20up%20for%20a%20total%20of%2010%20pixels%20per%20second.%20This%20will%20make%20our%20ball%20shoot%20off%20at%20a%20slightly%20different%20angle%20every%20game,%20making%20the%20game%20more%20interesting%20to%20play.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20ballLeft#+2,%20create%20a%20variable%20called%20*ballSpeed*%20to%20store%20the%20number%20*10*.%0A%0A(!)On%20+js#var%20ballLeft#+3,%20create%20a%20variable%20called%20*ballSpeedX*%20to%20store%20the%20number%20*0*.%0A%0A(!)On%20+js#var%20ballLeft#+4,%20create%20a%20variable%20called%20*ballSpeedY*%20to%20store%20the%20number%20*0*.##INST_8E####CODE_8####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22style.css%22%20rel=%22stylesheet%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22playPause%22%3EPLAY%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cp%20id=%22instruction%22%3EMove%20mouse%20up%20and%20down%20to%20control%20your%20pad%3C/p%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22pong%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22ball%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22playerPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##@import%20url(%22https://fonts.googleapis.com/css?family=VT323%22);%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2036px;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0A#game,%0D%0A#playerPad,%0D%0A#ball%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#pong%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20300px;%0D%0A%20%20%20%20background-color:%20#091B36;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#playerPad%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%20%20%20%20height:%2080px;%0D%0A%20%20%20%20top:%20110px;%0D%0A%20%20%20%20left:%2010px;%0D%0A%20%20%20%20background-color:%20limegreen;%0D%0A%7D%0D%0A%0D%0A#ball%20%7B%0D%0A%20%20%20%20width:%2020px;%0D%0A%20%20%20%20height:%2020px;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20top:%20140px;%0D%0A%20%20%20%20left:%20240px;%0D%0A%20%20%20%20background-color:%20skyblue;%0D%0A%7D%0D%0A%0D%0A#playPause%20%7B%0D%0A%20%20%20%20width:%20150px;%0D%0A%20%20%20%20top:%205%25;%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20color:%20skyblue;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2030px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0A#instruction%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20color:%20darkgray;%0D%0A%20%20%20%20top:%2010%25;%0D%0A%20%20%20%20font-size:%2024px;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0D%0A%0D%0Avar%20ballLeft%20=%20240;%0D%0Avar%20ballTop%20=%20140;%0D%0A#BEGIN_EDITABLE#var%20ballSpeed%20=%2010;#END_EDITABLE#%0D%0A#BEGIN_EDITABLE#var%20ballSpeedX%20=%200;#END_EDITABLE#%0D%0A#BEGIN_EDITABLE#var%20ballSpeedY%20=%200;#END_EDITABLE#%0D%0A%0D%0Adocument.onmousemove%20=%20updatePlayerPadPosition;%0D%0AplayPause.onclick%20=%20playOrPause;%0D%0A%0D%0Afunction%20updatePlayerPadPosition()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20containerTop%20=%20pong.offsetTop%20+%20game.offsetTop;%0D%0A%20%20%20%20%20%20%20%20var%20cursorTop%20=%20event.clientY%20-%20containerTop;%0D%0A%20%20%20%20%20%20%20%20var%20padTop%20=%20cursorTop%20-%20playerPad.offsetHeight%20/%202;%0D%0A%20%20%20%20%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20playerPad.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.min(padTop,%20maxTop);%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.max(padTop,%200);%0D%0A%0D%0A%20%20%20%20%20%20%20%20playerPad.style.top%20=%20padTop%20+%20%22px%22;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playOrPause()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PLAY')%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PAUSE';%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PLAY';%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Awindow.onload%20=%20window.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%20%20%20%20%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%7D##JS_E####CODE_8E####LOGIC_8####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20ballSpeed%20=%2010;%60);%0Apass.if.js.editable(1).equivalent(%60var%20ballSpeedX%20=%200;%60);%0Apass.if.js.editable(2).equivalent(%60var%20ballSpeedY%20=%200;%60);##JS_E####LOGIC_8E####STEP_8E####STEP_9####INST_9##Ball%20position%20update%0A%0AWe've%20added%20the%20*render*%20function%20for%20you,%20which%20is%20responsible%20for%20calling%20the%20*animatePong*%20function%20as%20close%20to%2030%20times%20per%20second%20as%20possible.%20We%20will%20be%20updating%20the%20positions%20of%20every%20element%20in%20this%20function,%20starting%20with%20the%20ball.%0A%0AThe%20starting%20position%20of%20the%20ball%20is%20stored%20in%20the%20variables%20*ballLeft*%20and%20*ballTop*.%20Currently%20they're%20240%20and%20140.%0A%5Bimg::https://app.bsd.education/resources/mathematics_pong_ball_positions.png%5D%0A%0ATo%20move%20it%20every%20frame,%20we%20simply%20need%20to%20increase%20*ballLeft*%20and%20*ballTop*%20using%20the%20speed%20variables,%20and%20update%20the%20*left*%20and%20*top*%20positions%20of%20the%20*ball*%20element%20using%20the%20%60.style%60%20syntax.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#arithmetic%20operators%5D%0A%09(*)%5B#js#style%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20anim#+1,%20increase%20the%20value%20of%20*ballLeft*%20by%20the%20value%20of%20*ballSpeedX*.%0A%0A(!)On%20+js#on%20anim#+2,%20increase%20the%20value%20of%20the%20*ballTop*%20by%20the%20value%20of%20*ballSpeedY*.%0A%0A(!)On%20+js#on%20anim#+4,%20change%20the%20value%20of%20*ball.style.left*%20to%20*ballLeft*%20(%20don't%20forget%20the%20%22px%22%20unit%20).%0A%0A(!)On%20+js#on%20anim#+5,%20change%20the%20value%20of%20*ball.style.top*%20to%20*ballTop*%20(%20don't%20forget%20the%20%22px%22%20unit%20).##INST_9E####CODE_9####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22style.css%22%20rel=%22stylesheet%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22playPause%22%3EPLAY%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cp%20id=%22instruction%22%3EMove%20mouse%20up%20and%20down%20to%20control%20your%20pad%3C/p%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22pong%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22ball%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22playerPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##@import%20url(%22https://fonts.googleapis.com/css?family=VT323%22);%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2036px;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0A#game,%0D%0A#playerPad,%0D%0A#ball%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#pong%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20300px;%0D%0A%20%20%20%20background-color:%20#091B36;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#playerPad%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%20%20%20%20height:%2080px;%0D%0A%20%20%20%20top:%20110px;%0D%0A%20%20%20%20left:%2010px;%0D%0A%20%20%20%20background-color:%20limegreen;%0D%0A%7D%0D%0A%0D%0A#ball%20%7B%0D%0A%20%20%20%20width:%2020px;%0D%0A%20%20%20%20height:%2020px;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20top:%20140px;%0D%0A%20%20%20%20left:%20240px;%0D%0A%20%20%20%20background-color:%20skyblue;%0D%0A%7D%0D%0A%0D%0A#playPause%20%7B%0D%0A%20%20%20%20width:%20150px;%0D%0A%20%20%20%20top:%205%25;%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20color:%20skyblue;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2030px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0A#instruction%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20color:%20darkgray;%0D%0A%20%20%20%20top:%2010%25;%0D%0A%20%20%20%20font-size:%2024px;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0D%0A%0D%0Avar%20ballLeft%20=%20240;%0D%0Avar%20ballTop%20=%20140;%0D%0Avar%20ballSpeed%20=%2010;%0D%0Avar%20ballSpeedX%20=%200;%0D%0Avar%20ballSpeedY%20=%200;%0D%0A%0D%0Avar%20maxFPS%20=%2030;%0D%0Avar%20frameInterval%20=%201000%20/%20maxFPS;%0D%0Avar%20timePrevFrame%20=%20Date.now();%0D%0A%0D%0Adocument.onmousemove%20=%20updatePlayerPadPosition;%0D%0AplayPause.onclick%20=%20playOrPause;%0D%0A%0D%0Arender();%0D%0A%0D%0Afunction%20render()%20%7B%0D%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0D%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(elapsed%20%3E%20frameInterval)%20%7B%0D%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%20frameInterval);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20requestAnimationFrame(animatePong);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20requestAnimationFrame(render);%0D%0A%7D%0D%0A%0D%0Afunction%20animatePong()%20%7B%0D%0A%20%20%20%20#BEGIN_EDITABLE#ballLeft%20+=%20ballSpeedX;#END_EDITABLE#%0D%0A%20%20%20%20#BEGIN_EDITABLE#ballTop%20+=%20ballSpeedY;#END_EDITABLE#%0D%0A%20%20%20%20%0D%0A%20%20%20%20#BEGIN_EDITABLE#ball.style.left%20=%20ballLeft%20+%20%22px%22;#END_EDITABLE#%0D%0A%20%20%20%20#BEGIN_EDITABLE#ball.style.top%20=%20ballTop%20+%20%22px%22;#END_EDITABLE#%0D%0A%7D%0D%0A%0D%0Afunction%20updatePlayerPadPosition()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20containerTop%20=%20pong.offsetTop%20+%20game.offsetTop;%0D%0A%20%20%20%20%20%20%20%20var%20cursorTop%20=%20event.clientY%20-%20containerTop;%0D%0A%20%20%20%20%20%20%20%20var%20padTop%20=%20cursorTop%20-%20playerPad.offsetHeight%20/%202;%0D%0A%20%20%20%20%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20playerPad.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.min(padTop,%20maxTop);%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.max(padTop,%200);%0D%0A%0D%0A%20%20%20%20%20%20%20%20playerPad.style.top%20=%20padTop%20+%20%22px%22;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playOrPause()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PLAY')%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PAUSE';%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PLAY';%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Awindow.onload%20=%20window.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%20%20%20%20%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%7D##JS_E####CODE_9E####LOGIC_9####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60ballLeft%20+=%20ballSpeedX;%60).or(%60ballLeft%20=%20ballLeft%20+%20ballSpeedX;%60).or(%60ballLeft%20=%20ballSpeedX%20+%20ballLeft;%60);%0Apass.if.js.editable(1).equivalent(%60ballTop%20+=%20ballSpeedY;%60).or(%60ballTop%20=%20ballTop%20+%20ballSpeedY;%60).or(%60ballTop%20=%20ballSpeedY%20+%20ballTop;%60);%0Apass.if.js.editable(2).equivalent(%60ball.style.left%20=%20ballLeft%20+%20%22px%22;%60);%0Apass.if.js.editable(3).equivalent(%60ball.style.top%20=%20ballTop%20+%20%22px%22;%60);##JS_E####LOGIC_9E####STEP_9E####STEP_10####INST_10##Random%20speed%0A%0AThe%20pong%20ball%20is%20still%20not%20moving%20when%20we%20click%20the%20play%20button,%20this%20is%20because%20both%20*ballSpeedX*%20and%20*ballSpeedY*%20are%20zero,%20hence%20*ballLeft*%20and%20*ballTop*%20aren't%20changing.%0A%0AFunction%20*playOrPause*%20runs%20every%20time%20we%20click%20the%20play%20button,%20we%20can%20give%20*ballSpeedX*%20and%20*ballSpeedY*%20some%20values%20here.%0A%5B-%0A%09(*)*ballSpeedX*%20will%20be%20a%20random%20value%20between%2050%25%20and%2080%25%20of%20*ballSpeed*.%20We%20have%20provided%20the%20*randomRange*%20function%20for%20generating%20random%20numbers,%20e.g.%20%60randomRange(1,%205)%60%20will%20generate%20a%20random%20number%20between%201%20and%205.%0A%09(*)*ballSpeedY*%20can%20then%20be%20calculated%20using%20*Pythagoras%20theorem*.%20You%20can%20use%20the%20%60Math.pow%60%20syntax%20to%20square%20a%20value%20and%20the%20%60Math.sqrt%60%20syntax%20to%20find%20the%20square%20root%20of%20a%20value.%0A-%5D%0A%5Bimg::https://app.bsd.education/resources/mathematics_pong_ballSpeedY.png%5D%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#function%20arguments%5D%0A%09(*)%5B#js#arithmetic%20operators%5D%0A%09(*)%5B#js#Math.pow%5D%0A%09(*)%5B#js#Math.sqrt%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#zero#+2,%20multiply%20*ballSpeed*%20by%20a%20random%20number%20between%20*0.5*%20and%20*0.8*%20and%20store%20the%20result%20in%20*ballSpeedX*.%0A%0A(!)On%20+js#zero#+3,%20calculate%20and%20store%20the%20correct%20value%20for%20*ballSpeedY*.%0A##INST_10E####CODE_10####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22style.css%22%20rel=%22stylesheet%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22playPause%22%3EPLAY%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cp%20id=%22instruction%22%3EMove%20mouse%20up%20and%20down%20to%20control%20your%20pad%3C/p%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22pong%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22ball%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22playerPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##@import%20url(%22https://fonts.googleapis.com/css?family=VT323%22);%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2036px;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0A#game,%0D%0A#playerPad,%0D%0A#ball%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#pong%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20300px;%0D%0A%20%20%20%20background-color:%20#091B36;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#playerPad%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%20%20%20%20height:%2080px;%0D%0A%20%20%20%20top:%20110px;%0D%0A%20%20%20%20left:%2010px;%0D%0A%20%20%20%20background-color:%20limegreen;%0D%0A%7D%0D%0A%0D%0A#ball%20%7B%0D%0A%20%20%20%20width:%2020px;%0D%0A%20%20%20%20height:%2020px;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20top:%20140px;%0D%0A%20%20%20%20left:%20240px;%0D%0A%20%20%20%20background-color:%20skyblue;%0D%0A%7D%0D%0A%0D%0A#playPause%20%7B%0D%0A%20%20%20%20width:%20150px;%0D%0A%20%20%20%20top:%205%25;%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20color:%20skyblue;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2030px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0A#instruction%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20color:%20darkgray;%0D%0A%20%20%20%20top:%2010%25;%0D%0A%20%20%20%20font-size:%2024px;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0D%0A%0D%0Avar%20ballLeft%20=%20240;%0D%0Avar%20ballTop%20=%20140;%0D%0Avar%20ballSpeed%20=%2010;%0D%0Avar%20ballSpeedX%20=%200;%0D%0Avar%20ballSpeedY%20=%200;%0D%0A%0D%0Avar%20maxFPS%20=%2030;%0D%0Avar%20frameInterval%20=%201000%20/%20maxFPS;%0D%0Avar%20timePrevFrame%20=%20Date.now();%0D%0A%0D%0Adocument.onmousemove%20=%20updatePlayerPadPosition;%0D%0AplayPause.onclick%20=%20playOrPause;%0D%0A%0D%0Arender();%0D%0A%0D%0Afunction%20render()%20%7B%0D%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0D%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(elapsed%20%3E%20frameInterval)%20%7B%0D%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%20frameInterval);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20requestAnimationFrame(animatePong);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20requestAnimationFrame(render);%0D%0A%7D%0D%0A%0D%0Afunction%20animatePong()%20%7B%0D%0A%20%20%20%20ballLeft%20+=%20ballSpeedX;%0D%0A%20%20%20%20ballTop%20+=%20ballSpeedY;%0D%0A%20%20%20%20%0D%0A%20%20%20%20ball.style.left%20=%20ballLeft%20+%20%22px%22;%0D%0A%20%20%20%20ball.style.top%20=%20ballTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20updatePlayerPadPosition()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20containerTop%20=%20pong.offsetTop%20+%20game.offsetTop;%0D%0A%20%20%20%20%20%20%20%20var%20cursorTop%20=%20event.clientY%20-%20containerTop;%0D%0A%20%20%20%20%20%20%20%20var%20padTop%20=%20cursorTop%20-%20playerPad.offsetHeight%20/%202;%0D%0A%20%20%20%20%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20playerPad.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.min(padTop,%20maxTop);%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.max(padTop,%200);%0D%0A%0D%0A%20%20%20%20%20%20%20%20playerPad.style.top%20=%20padTop%20+%20%22px%22;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playOrPause()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PLAY')%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PAUSE';%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20check%20whether%20speed%20is%20zero%0D%0A%20%20%20%20%20%20%20%20if%20(ballSpeedX%20===%200%20&&%20ballSpeedY%20===%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#ballSpeedX%20=%20randomRange(0.5,%200.8)%20*%20ballSpeed;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#ballSpeedY%20=%20Math.sqrt(ballSpeed%20**%202%20-%20ballSpeedX%20**%202);#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PLAY';%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Afunction%20randomRange(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20const%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Awindow.onload%20=%20window.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%20%20%20%20%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%7D##JS_E####CODE_10E####LOGIC_10####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60ballSpeedX%20=%20randomRange(0.5,%200.8)%20*%20ballSpeed;%60).or(%60ballSpeedX%20=%20ballSpeed%20*%20randomRange(0.5,%200.8);%60);%0Apass.if.js.editable(1).equivalent(%60ballSpeedY%20=%20Math.sqrt(ballSpeed%20**%202%20-%20ballSpeedX%20**%202);%60).or(%60ballSpeedY%20=%20Math.sqrt(Math.pow(ballSpeed,%202)%20-%20Math.pow(ballSpeedX,%202));%60);##JS_E####LOGIC_10E####STEP_10E####STEP_11####INST_11##Check%20for%20wall%20rebound%0A%0AOur%20next%20challenge%20is%20to%20reverse%20the%20vertical%20speed%20of%20the%20ball%20when%20it%20hits%20the%20top%20or%20bottom%20edge%20of%20the%20*pong*%20container.%0A%0ASince%20we%20don't%20know%20when%20a%20wall%20collision%20may%20occur,%20we%20need%20to%20check%20for%20it%20every%20frame,%20in%20the%20*animatePong*%20function.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#function%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20anim#+4,%20call%20the%20*checkWallRebound*%20function.%0A%0A(!)On%20+js#on%20updatePlayer#-2,%20create%20a%20function%20called%20*checkWallRebound*.##INST_11E####CODE_11####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22style.css%22%20rel=%22stylesheet%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22playPause%22%3EPLAY%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cp%20id=%22instruction%22%3EMove%20mouse%20up%20and%20down%20to%20control%20your%20pad%3C/p%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22pong%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22ball%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22playerPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##@import%20url(%22https://fonts.googleapis.com/css?family=VT323%22);%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2036px;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0A#game,%0D%0A#playerPad,%0D%0A#ball%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#pong%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20300px;%0D%0A%20%20%20%20background-color:%20#091B36;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#playerPad%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%20%20%20%20height:%2080px;%0D%0A%20%20%20%20top:%20110px;%0D%0A%20%20%20%20left:%2010px;%0D%0A%20%20%20%20background-color:%20limegreen;%0D%0A%7D%0D%0A%0D%0A#ball%20%7B%0D%0A%20%20%20%20width:%2020px;%0D%0A%20%20%20%20height:%2020px;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20top:%20140px;%0D%0A%20%20%20%20left:%20240px;%0D%0A%20%20%20%20background-color:%20skyblue;%0D%0A%7D%0D%0A%0D%0A#playPause%20%7B%0D%0A%20%20%20%20width:%20150px;%0D%0A%20%20%20%20top:%205%25;%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20color:%20skyblue;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2030px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0A#instruction%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20color:%20darkgray;%0D%0A%20%20%20%20top:%2010%25;%0D%0A%20%20%20%20font-size:%2024px;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0D%0Avar%20playPause%20=%20document.querySelector('#playPause');%0D%0Avar%20pong%20=%20document.querySelector('#pong');%0D%0Avar%20playerPad%20=%20document.querySelector('#playerPad');%0D%0Avar%20ball%20=%20document.querySelector('#ball');%0D%0A%0D%0Avar%20ballLeft%20=%20240;%0D%0Avar%20ballTop%20=%20140;%0D%0Avar%20ballSpeed%20=%2010;%0D%0Avar%20ballSpeedX%20=%200;%0D%0Avar%20ballSpeedY%20=%200;%0D%0A%0D%0Avar%20maxFPS%20=%2030;%0D%0Avar%20frameInterval%20=%201000%20/%20maxFPS;%0D%0Avar%20timePrevFrame%20=%20Date.now();%0D%0A%0D%0Adocument.onmousemove%20=%20updatePlayerPadPosition;%0D%0AplayPause.onclick%20=%20playOrPause;%0D%0A%0D%0Arender();%0D%0A%0D%0Afunction%20render()%20%7B%0D%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0D%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(elapsed%20%3E%20frameInterval)%20%7B%0D%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%20frameInterval);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20requestAnimationFrame(animatePong);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20requestAnimationFrame(render);%0D%0A%7D%0D%0A%0D%0Afunction%20animatePong()%20%7B%0D%0A%20%20%20%20ballLeft%20+=%20ballSpeedX;%0D%0A%20%20%20%20ballTop%20+=%20ballSpeedY;%0D%0A%20%20%20%20%0D%0A%20%20%20%20#BEGIN_EDITABLE#checkWallRebound();#END_EDITABLE#%0D%0A%20%20%20%20%0D%0A%20%20%20%20ball.style.left%20=%20ballLeft%20+%20%22px%22;%0D%0A%20%20%20%20ball.style.top%20=%20ballTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0A#BEGIN_EDITABLE#function%20checkWallRebound()%20%7B%7D#END_EDITABLE#%0D%0A%0D%0Afunction%20updatePlayerPadPosition()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20containerTop%20=%20pong.offsetTop%20+%20game.offsetTop;%0D%0A%20%20%20%20%20%20%20%20var%20cursorTop%20=%20event.clientY%20-%20containerTop;%0D%0A%20%20%20%20%20%20%20%20var%20padTop%20=%20cursorTop%20-%20playerPad.offsetHeight%20/%202;%0D%0A%20%20%20%20%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20playerPad.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.min(padTop,%20maxTop);%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.max(padTop,%200);%0D%0A%0D%0A%20%20%20%20%20%20%20%20playerPad.style.top%20=%20padTop%20+%20%22px%22;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playOrPause()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PLAY')%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PAUSE';%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20check%20whether%20speed%20is%20zero%0D%0A%20%20%20%20%20%20%20%20if%20(ballSpeedX%20===%200%20&&%20ballSpeedY%20===%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ballSpeedX%20=%20randomRange(0.5,%200.8)%20*%20ballSpeed;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ballSpeedY%20=%20Math.sqrt(ballSpeed%20**%202%20-%20ballSpeedX%20**%202);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PLAY';%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Afunction%20randomRange(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20const%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Awindow.onload%20=%20window.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%20%20%20%20%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%7D##JS_E####CODE_11E####LOGIC_11####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60checkWallRebound();%60);%0Apass.if.js.editable(1).equivalent(%60function%20checkWallRebound()%20%7B%7D%60);##JS_E####LOGIC_11E####STEP_11E####STEP_12####INST_12##Upper%20and%20lower%20position%20limit%0A%0AIn%20the%20*checkWallRebound*%20function,%20we%20must%20check%20for%20two%20things:%20is%20the%20ball%20colliding%20with%20the%20top%20and%20bottom%20edges.%0A%0AThe%20first%20one%20is%20simple,%20we%20know%20it's%20colliding%20with%20the%20top%20edge%20if%20its%20top%20position%20is%20less%20than%20or%20equal%20to%20zero.%0A%0AThe%20second%20one%20requires%20some%20calculation,%20using%20the%20height%20of%20the%20*pong*%20container%20and%20the%20*ball*%20element.%0A%5Bimg::https://app.bsd.education/resources/mathematics_pong_ball_maxTop.png%5D%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#offsetHeight%5D%0A%09(*)%5B#js#arithmetic%20operators%5D%0A%09(*)%5B#js#if%5D%0A%09(*)%5B#js#logic%20operators%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20checkWall#+1,%20create%20a%20variable%20called%20*maxTop*%20to%20store%20the%20maximum%20top%20position%20for%20the%20ball%20before%20hitting%20the%20bottom%20edge.%0A%0A(!)On%20+js#boundaries#+1,%20create%20an%20%60if%60%20statement%20to%20check%20whether%20*ballTop*%20is%20less%20than%20or%20equal%20to%20*0*,%20or,%20*ballTop*%20is%20greater%20than%20or%20equal%20to%20*maxTop*.##INST_12E####CODE_12####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22style.css%22%20rel=%22stylesheet%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22playPause%22%3EPLAY%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cp%20id=%22instruction%22%3EMove%20mouse%20up%20and%20down%20to%20control%20your%20pad%3C/p%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22pong%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22ball%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22playerPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##@import%20url(%22https://fonts.googleapis.com/css?family=VT323%22);%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2036px;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0A#game,%0D%0A#playerPad,%0D%0A#ball%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#pong%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20300px;%0D%0A%20%20%20%20background-color:%20#091B36;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#playerPad%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%20%20%20%20height:%2080px;%0D%0A%20%20%20%20top:%20110px;%0D%0A%20%20%20%20left:%2010px;%0D%0A%20%20%20%20background-color:%20limegreen;%0D%0A%7D%0D%0A%0D%0A#ball%20%7B%0D%0A%20%20%20%20width:%2020px;%0D%0A%20%20%20%20height:%2020px;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20top:%20140px;%0D%0A%20%20%20%20left:%20240px;%0D%0A%20%20%20%20background-color:%20skyblue;%0D%0A%7D%0D%0A%0D%0A#playPause%20%7B%0D%0A%20%20%20%20width:%20150px;%0D%0A%20%20%20%20top:%205%25;%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20color:%20skyblue;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2030px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0A#instruction%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20color:%20darkgray;%0D%0A%20%20%20%20top:%2010%25;%0D%0A%20%20%20%20font-size:%2024px;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0D%0Avar%20playPause%20=%20document.querySelector('#playPause');%0D%0Avar%20pong%20=%20document.querySelector('#pong');%0D%0Avar%20playerPad%20=%20document.querySelector('#playerPad');%0D%0Avar%20ball%20=%20document.querySelector('#ball');%0D%0A%0D%0Avar%20ballLeft%20=%20240;%0D%0Avar%20ballTop%20=%20140;%0D%0Avar%20ballSpeed%20=%2010;%0D%0Avar%20ballSpeedX%20=%200;%0D%0Avar%20ballSpeedY%20=%200;%0D%0A%0D%0Avar%20maxFPS%20=%2030;%0D%0Avar%20frameInterval%20=%201000%20/%20maxFPS;%0D%0Avar%20timePrevFrame%20=%20Date.now();%0D%0A%0D%0Adocument.onmousemove%20=%20updatePlayerPadPosition;%0D%0AplayPause.onclick%20=%20playOrPause;%0D%0A%0D%0Arender();%0D%0A%0D%0Afunction%20render()%20%7B%0D%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0D%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(elapsed%20%3E%20frameInterval)%20%7B%0D%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%20frameInterval);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20requestAnimationFrame(animatePong);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20requestAnimationFrame(render);%0D%0A%7D%0D%0A%0D%0Afunction%20animatePong()%20%7B%0D%0A%20%20%20%20ballLeft%20+=%20ballSpeedX;%0D%0A%20%20%20%20ballTop%20+=%20ballSpeedY;%0D%0A%20%20%20%20%0D%0A%20%20%20%20checkWallRebound();%0D%0A%20%20%20%20%0D%0A%20%20%20%20ball.style.left%20=%20ballLeft%20+%20%22px%22;%0D%0A%20%20%20%20ball.style.top%20=%20ballTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20checkWallRebound()%20%7B%0D%0A%20%20%20%20#BEGIN_EDITABLE#var%20maxTop%20=%20pong.offsetHeight%20-%20ball.offsetHeight;#END_EDITABLE#%0D%0A%0D%0A%20%20%20%20//%20%20check%20whether%20top%20position%20of%20the%20ball%20is%20beyond%20the%20top%20or%20bottom%20boundaries%0D%0A%20%20%20%20#BEGIN_EDITABLE#if%20(ballTop%20%3C=%200%20%7C%7C%20ballTop%20%3E=%20maxTop)%20%7B%7D#END_EDITABLE#%0D%0A%7D%0D%0A%0D%0Afunction%20updatePlayerPadPosition()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20containerTop%20=%20pong.offsetTop%20+%20game.offsetTop;%0D%0A%20%20%20%20%20%20%20%20var%20cursorTop%20=%20event.clientY%20-%20containerTop;%0D%0A%20%20%20%20%20%20%20%20var%20padTop%20=%20cursorTop%20-%20playerPad.offsetHeight%20/%202;%0D%0A%20%20%20%20%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20playerPad.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.min(padTop,%20maxTop);%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.max(padTop,%200);%0D%0A%0D%0A%20%20%20%20%20%20%20%20playerPad.style.top%20=%20padTop%20+%20%22px%22;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playOrPause()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PLAY')%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PAUSE';%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20check%20whether%20speed%20is%20zero%0D%0A%20%20%20%20%20%20%20%20if%20(ballSpeedX%20===%200%20&&%20ballSpeedY%20===%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ballSpeedX%20=%20randomRange(0.5,%200.8)%20*%20ballSpeed;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ballSpeedY%20=%20Math.sqrt(ballSpeed%20**%202%20-%20ballSpeedX%20**%202);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PLAY';%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Afunction%20randomRange(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20const%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Awindow.onload%20=%20window.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%20%20%20%20%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%7D##JS_E####CODE_12E####LOGIC_12####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20maxTop%20=%20pong.offsetHeight%20-%20ball.offsetHeight;%60);%0Apass.if.js.editable(1).equivalent(%60if%20(ballTop%20%3C=%200%20%7C%7C%20ballTop%20%3E=%20maxTop)%20%7B%7D%60).or(%60if%20(0%20%3E=%20ballTop%20%7C%7C%20maxTop%20%3C=%20ballTop)%20%7B%7D%60).or(%60if%20(ballTop%20%3E=%20maxTop%20%7C%7C%20ballTop%20%3C=%200)%20%7B%7D%60).or(%60if%20(maxTop%20%3C=%20ballTop%20%7C%7C%200%20%3E=%20ballTop)%20%7B%7D%60);##JS_E####LOGIC_12E####STEP_12E####STEP_13####INST_13##Reverse%20vertical%20speed%0A%0AInside%20the%20conditional%20statement,%20we%20need%20to%20negate%20the%20value%20of%20the%20variable%20*ballSpeedY*,%20so%20that%20when%20it%20is%20added%20to%20*ballTop*%20in%20the%20next%20frame,%20it'll%20reverse%20the%20balls%20direction.%0A%0AIn%20addition,%20we%20should%20adjust%20the%20value%20of%20*ballTop*%20so%20it's%20not%20smaller%20than%200%20nor%20bigger%20than%20the%20value%20of%20*maxTop*,%20otherwise%20the%20ball%20will%20be%20clipped%20by%20the%20container%20during%20the%20frame%20where%20collision%20was%20detected.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#arithmetic%20operators%5D%0A%09(*)%5B#js#Math.max%5D%0A%09(*)%5B#js#Math.min%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20checkWall#+6,%20negate%20the%20value%20of%20*ballSpeedY*.%0A%0A(!)On%20+js#on%20checkWall#+8,%20assign%20the%20bigger%20value%20between%20*ballTop*%20and%20*0*%20to%20*ballTop*.%0A%0A(!)On%20+js#on%20checkWall#+10,%20assign%20the%20smaller%20value%20between%20*ballTop*%20and%20*maxTop*%20to%20*ballTop*.##INST_13E####CODE_13####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22style.css%22%20rel=%22stylesheet%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22playPause%22%3EPLAY%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cp%20id=%22instruction%22%3EMove%20mouse%20up%20and%20down%20to%20control%20your%20pad%3C/p%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22pong%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22ball%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22playerPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##@import%20url(%22https://fonts.googleapis.com/css?family=VT323%22);%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2036px;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0A#game,%0D%0A#playerPad,%0D%0A#ball%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#pong%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20300px;%0D%0A%20%20%20%20background-color:%20#091B36;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#playerPad%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%20%20%20%20height:%2080px;%0D%0A%20%20%20%20top:%20110px;%0D%0A%20%20%20%20left:%2010px;%0D%0A%20%20%20%20background-color:%20limegreen;%0D%0A%7D%0D%0A%0D%0A#ball%20%7B%0D%0A%20%20%20%20width:%2020px;%0D%0A%20%20%20%20height:%2020px;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20top:%20140px;%0D%0A%20%20%20%20left:%20240px;%0D%0A%20%20%20%20background-color:%20skyblue;%0D%0A%7D%0D%0A%0D%0A#playPause%20%7B%0D%0A%20%20%20%20width:%20150px;%0D%0A%20%20%20%20top:%205%25;%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20color:%20skyblue;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2030px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0A#instruction%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20color:%20darkgray;%0D%0A%20%20%20%20top:%2010%25;%0D%0A%20%20%20%20font-size:%2024px;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0D%0Avar%20playPause%20=%20document.querySelector('#playPause');%0D%0Avar%20pong%20=%20document.querySelector('#pong');%0D%0Avar%20playerPad%20=%20document.querySelector('#playerPad');%0D%0Avar%20ball%20=%20document.querySelector('#ball');%0D%0A%0D%0Avar%20ballLeft%20=%20240;%0D%0Avar%20ballTop%20=%20140;%0D%0Avar%20ballSpeed%20=%2010;%0D%0Avar%20ballSpeedX%20=%200;%0D%0Avar%20ballSpeedY%20=%200;%0D%0A%0D%0Avar%20maxFPS%20=%2030;%0D%0Avar%20frameInterval%20=%201000%20/%20maxFPS;%0D%0Avar%20timePrevFrame%20=%20Date.now();%0D%0A%0D%0Adocument.onmousemove%20=%20updatePlayerPadPosition;%0D%0AplayPause.onclick%20=%20playOrPause;%0D%0A%0D%0Arender();%0D%0A%0D%0Afunction%20render()%20%7B%0D%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0D%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(elapsed%20%3E%20frameInterval)%20%7B%0D%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%20frameInterval);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20requestAnimationFrame(animatePong);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20requestAnimationFrame(render);%0D%0A%7D%0D%0A%0D%0Afunction%20animatePong()%20%7B%0D%0A%20%20%20%20ballLeft%20+=%20ballSpeedX;%0D%0A%20%20%20%20ballTop%20+=%20ballSpeedY;%0D%0A%20%20%20%20%0D%0A%20%20%20%20checkWallRebound();%0D%0A%20%20%20%20%0D%0A%20%20%20%20ball.style.left%20=%20ballLeft%20+%20%22px%22;%0D%0A%20%20%20%20ball.style.top%20=%20ballTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20checkWallRebound()%20%7B%0D%0A%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20ball.offsetHeight;%0D%0A%0D%0A%20%20%20%20//%20%20check%20whether%20top%20position%20of%20the%20ball%20is%20beyond%20the%20top%20or%20bottom%20boundaries%0D%0A%20%20%20%20if%20(ballTop%20%3C=%200%20%7C%7C%20ballTop%20%3E=%20maxTop)%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20reverse%20vertical%20movement%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#ballSpeedY%20*=%20-1;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20//%20%20clamp%20top%20position%20to%20no%20smaller%20than%200%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#ballTop%20=%20Math.max(ballTop,%200);#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20//%20%20clamp%20top%20postion%20no%20bigger%20than%20maxTop%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#ballTop%20=%20Math.min(ballTop,%20maxTop);#END_EDITABLE#%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updatePlayerPadPosition()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20containerTop%20=%20pong.offsetTop%20+%20game.offsetTop;%0D%0A%20%20%20%20%20%20%20%20var%20cursorTop%20=%20event.clientY%20-%20containerTop;%0D%0A%20%20%20%20%20%20%20%20var%20padTop%20=%20cursorTop%20-%20playerPad.offsetHeight%20/%202;%0D%0A%20%20%20%20%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20playerPad.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.min(padTop,%20maxTop);%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.max(padTop,%200);%0D%0A%0D%0A%20%20%20%20%20%20%20%20playerPad.style.top%20=%20padTop%20+%20%22px%22;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playOrPause()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PLAY')%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PAUSE';%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20check%20whether%20speed%20is%20zero%0D%0A%20%20%20%20%20%20%20%20if%20(ballSpeedX%20===%200%20&&%20ballSpeedY%20===%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ballSpeedX%20=%20randomRange(0.5,%200.8)%20*%20ballSpeed;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ballSpeedY%20=%20Math.sqrt(ballSpeed%20**%202%20-%20ballSpeedX%20**%202);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PLAY';%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Afunction%20randomRange(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20const%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Awindow.onload%20=%20window.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%20%20%20%20%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%7D##JS_E####CODE_13E####LOGIC_13####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60ballSpeedY%20*=%20-1;%60).or(%60ballSpeedY%20=%20ballSpeedY%20*%20-1;%60).or(%60ballSpeedY%20=%20-1%20*%20ballSpeedY;%60).or(%60ballSpeedY%20=%20-ballSpeedY;%60);%0Apass.if.js.editable(1).equivalent(%60ballTop%20=%20Math.max(ballTop,%200);%60).or(%60ballTop%20=%20Math.max(0,%20ballTop);%60);%0Apass.if.js.editable(2).equivalent(%60ballTop%20=%20Math.min(ballTop,%20maxTop);%60).or(%60ballTop%20=%20Math.min(maxTop,%20ballTop);%60);##JS_E####LOGIC_13E####STEP_13E####STEP_14####INST_14##Pad%20collision%20zones%0A%0AWe've%20added%20in%20the%20AI%20pad%20along%20with%20the%20*updateAiPadPosition*%20function%20which%20enables%20it%20to%20attempt%20catching%20the%20ball%20when%20it's%20near.%0A%5Bimg::https://app.bsd.education/resources/mathematics_pong_updateAiPadPosition.gif%5D%0A%0AHowever,%20we%20still%20need%20to%20create%20the%20rebound%20behaviour%20for%20the%20pads.%20This%20can%20be%20done%20in%20a%20few%20steps,%20the%20first%20of%20which%20is%20to%20define%20the%20zones%20where%20the%20ball%20*may*%20collide%20with%20a%20pad.%0A%0AThen,%20we%20can%20check%20if%20the%20ball%20is%20in%20one%20of%20these%20zones%20during%20every%20frame%20using%20a%20function%20called%20*checkPadRebound*.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#arithmetic%20operators%5D%0A%09(*)%5B#js#offsetLeft%5D%20&%20%5B#js#offsetWidth%5D%0A%09(*)%5B#js#function%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20maxFPS#-3,%20calculate%20the%20minimum%20left%20position%20for%20the%20ball%20before%20it%20may%20collide%20with%20the%20player%20pad%20and%20store%20the%20result%20in%20a%20new%20variable%20called%20*minLeft*.%0A%0A(!)On%20+js#var%20maxFPS#-2,%20calculate%20the%20maximum%20left%20position%20for%20the%20ball%20before%20it%20may%20collide%20with%20the%20AI%20pad%20and%20store%20the%20result%20in%20a%20new%20variable%20called%20*maxLeft*.%0A%0A(!)On%20+js#on%20anim#+6,%20call%20the%20*checkPadRebound*%20function.%0A%0A(!)On%20+js#on%20updatePlayer#-2,%20create%20a%20function%20called%20*checkPadRebound*.##INST_14E####CODE_14####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22style.css%22%20rel=%22stylesheet%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22playPause%22%3EPLAY%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cp%20id=%22instruction%22%3EMove%20mouse%20up%20and%20down%20to%20control%20your%20pad%3C/p%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22pong%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22ball%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22playerPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22aiPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##@import%20url(%22https://fonts.googleapis.com/css?family=VT323%22);%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2036px;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0A#game,%0D%0A#playerPad,%0D%0A#aiPad,%0D%0A#ball%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#pong%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20300px;%0D%0A%20%20%20%20background-color:%20#091B36;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#playerPad%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%20%20%20%20height:%2080px;%0D%0A%20%20%20%20top:%20110px;%0D%0A%20%20%20%20left:%2010px;%0D%0A%20%20%20%20background-color:%20limegreen;%0D%0A%7D%0D%0A%0D%0A#aiPad%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%20%20%20%20height:%2080px;%0D%0A%20%20%20%20top:%20110px;%0D%0A%20%20%20%20right:%2010px;%0D%0A%20%20%20%20background-color:%20slateblue;%0D%0A%20%20%20%20transition:%20top%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0A#ball%20%7B%0D%0A%20%20%20%20width:%2020px;%0D%0A%20%20%20%20height:%2020px;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20top:%20140px;%0D%0A%20%20%20%20left:%20240px;%0D%0A%20%20%20%20background-color:%20skyblue;%0D%0A%7D%0D%0A%0D%0A#playPause%20%7B%0D%0A%20%20%20%20width:%20150px;%0D%0A%20%20%20%20top:%205%25;%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20color:%20skyblue;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2030px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0A#instruction%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20color:%20darkgray;%0D%0A%20%20%20%20top:%2010%25;%0D%0A%20%20%20%20font-size:%2024px;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##//%20%20JavaScript%0D%0Avar%20playPause%20=%20document.querySelector('#playPause');%0D%0Avar%20pong%20=%20document.querySelector('#pong');%0D%0Avar%20playerPad%20=%20document.querySelector('#playerPad');%0D%0Avar%20aiPad%20=%20document.querySelector('#aiPad');%0D%0Avar%20ball%20=%20document.querySelector('#ball');%0D%0A%0D%0Avar%20ballLeft%20=%20240;%0D%0Avar%20ballTop%20=%20140;%0D%0Avar%20ballSpeed%20=%2010;%0D%0Avar%20ballSpeedX%20=%200;%0D%0Avar%20ballSpeedY%20=%200;%0D%0A%0D%0Avar%20aiError%20=%2040;%0D%0Avar%20aiTurn%20=%20true;%0D%0A%0D%0A#BEGIN_EDITABLE#var%20minLeft%20=%20playerPad.offsetLeft%20+%20playerPad.offsetWidth;#END_EDITABLE#%0D%0A#BEGIN_EDITABLE#var%20maxLeft%20=%20aiPad.offsetLeft%20-%20ball.offsetWidth;#END_EDITABLE#%0D%0A%0D%0Avar%20maxFPS%20=%2030;%0D%0Avar%20frameInterval%20=%201000%20/%20maxFPS;%0D%0Avar%20timePrevFrame%20=%20Date.now();%0D%0A%0D%0Adocument.onmousemove%20=%20updatePlayerPadPosition;%0D%0AplayPause.onclick%20=%20playOrPause;%0D%0A%0D%0Arender();%0D%0A%0D%0Afunction%20render()%20%7B%0D%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0D%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(elapsed%20%3E%20frameInterval)%20%7B%0D%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%20frameInterval);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20requestAnimationFrame(animatePong);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20requestAnimationFrame(render);%0D%0A%7D%0D%0A%0D%0Afunction%20animatePong()%20%7B%0D%0A%20%20%20%20ballLeft%20+=%20ballSpeedX;%0D%0A%20%20%20%20ballTop%20+=%20ballSpeedY;%0D%0A%20%20%20%20%0D%0A%20%20%20%20updateAiPadPosition();%0D%0A%20%20%20%20checkWallRebound();%0D%0A%20%20%20%20#BEGIN_EDITABLE#checkPadRebound();#END_EDITABLE#%0D%0A%20%20%20%20%0D%0A%20%20%20%20ball.style.left%20=%20ballLeft%20+%20%22px%22;%0D%0A%20%20%20%20ball.style.top%20=%20ballTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20updateAiPadPosition()%20%7B%0D%0A%20%20%20%20if%20(aiTurn)%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20determine%20whether%20ball%20has%20moved%20pass%2080%25%20across%20its%20container%0D%0A%20%20%20%20%20%20%20%20var%20inRange%20=%20ballLeft%20%3E%20pong.offsetWidth%20*%200.8;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(inRange)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20aiPad.offsetHeight;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20distance%20=%20aiPad.offsetLeft%20-%20ballLeft%20-%20ball.offsetWidth;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20eta%20=%20distance%20/%20ballSpeedX;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20estimate%20=%20ballTop%20+%20ballSpeedY%20*%20eta;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20padTop%20=%20estimate%20-%20aiPad.offsetHeight%20/%202;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20padTop%20=%20padTop%20+%20randomRange(aiError,%20-aiError);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20padTop%20=%20Math.max(padTop,%200);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20padTop%20=%20Math.min(padTop,%20maxTop);%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20aiPad.style.top%20=%20padTop%20+%20'px';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20aiTurn%20=%20false;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log(%60AI%20moves%20to%20$%7BpadTop%7Dpx.%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkWallRebound()%20%7B%0D%0A%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20ball.offsetHeight;%0D%0A%0D%0A%20%20%20%20//%20%20check%20whether%20top%20position%20of%20the%20ball%20is%20beyond%20the%20top%20or%20bottom%20boundaries%0D%0A%20%20%20%20if%20(ballTop%20%3C=%200%20%7C%7C%20ballTop%20%3E=%20maxTop)%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20reverse%20vertical%20movement%0D%0A%20%20%20%20%20%20%20%20ballSpeedY%20*=%20-1;%0D%0A%20%20%20%20%20%20%20%20//%20%20clamp%20top%20position%20to%20no%20smaller%20than%200%0D%0A%20%20%20%20%20%20%20%20ballTop%20=%20Math.max(ballTop,%200);%0D%0A%20%20%20%20%20%20%20%20//%20%20clamp%20top%20postion%20no%20bigger%20than%20maxTop%0D%0A%20%20%20%20%20%20%20%20ballTop%20=%20Math.min(ballTop,%20maxTop);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A#BEGIN_EDITABLE#function%20checkPadRebound()%20%7B%7D#END_EDITABLE#%0D%0A%0D%0Afunction%20updatePlayerPadPosition()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20containerTop%20=%20pong.offsetTop%20+%20game.offsetTop;%0D%0A%20%20%20%20%20%20%20%20var%20cursorTop%20=%20event.clientY%20-%20containerTop;%0D%0A%20%20%20%20%20%20%20%20var%20padTop%20=%20cursorTop%20-%20playerPad.offsetHeight%20/%202;%0D%0A%20%20%20%20%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20playerPad.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.min(padTop,%20maxTop);%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.max(padTop,%200);%0D%0A%0D%0A%20%20%20%20%20%20%20%20playerPad.style.top%20=%20padTop%20+%20%22px%22;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playOrPause()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PLAY')%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PAUSE';%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20check%20whether%20speed%20is%20zero%0D%0A%20%20%20%20%20%20%20%20if%20(ballSpeedX%20===%200%20&&%20ballSpeedY%20===%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ballSpeedX%20=%20randomRange(0.5,%200.8)%20*%20ballSpeed;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ballSpeedY%20=%20Math.sqrt(ballSpeed%20**%202%20-%20ballSpeedX%20**%202);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PLAY';%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Afunction%20randomRange(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20const%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Awindow.onload%20=%20window.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%20%20%20%20%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%7D##JS_E####CODE_14E####LOGIC_14####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20minLeft%20=%20playerPad.offsetLeft%20+%20playerPad.offsetWidth;%60).or(%60var%20minLeft%20=%20playerPad.offsetWidth%20+%20playerPad.offsetLeft;%60);%0Apass.if.js.editable(1).equivalent(%60var%20maxLeft%20=%20aiPad.offsetLeft%20-%20ball.offsetWidth;%60);%0Apass.if.js.editable(2).equivalent(%60checkPadRebound();%60);%0Apass.if.js.editable(3).equivalent(%60function%20checkPadCollision(pad)%20%7B%7D%60);##JS_E####LOGIC_14E####STEP_14E####STEP_15####INST_15##Check%20ball%20position%20against%20collision%20zone%0A%0AIn%20the%20*checkPadRebound*%20function,%20we%20can%20now%20check%20if%20the%20ball%20is%20in%20one%20of%20the%20two%20collision%20zones%20we%20defined%20in%20the%20previous%20step.%0A%0AWe%20can%20do%20this%20by%20comparing%20the%20value%20of%20*ballLeft*%20with%20*minLeft*%20and%20*maxLeft*.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#conditional%20statements%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20checkPadRebound#+2,%20create%20an%20%60if%60%20statement%20to%20check%20whether%20*ballLeft*%20is%20smaller%20than%20or%20equal%20to%20*minLeft*.%0A%0A(!)On%20+js#on%20checkPadRebound#+4,%20create%20an%20%60else%20if%60%20statement%20to%20check%20whether%20*ballLeft*%20is%20greater%20than%20or%20equal%20to%20*maxLeft*.##INST_15E####CODE_15####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22style.css%22%20rel=%22stylesheet%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22playPause%22%3EPLAY%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cp%20id=%22instruction%22%3EMove%20mouse%20up%20and%20down%20to%20control%20your%20pad%3C/p%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22pong%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22ball%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22playerPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22aiPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##@import%20url(%22https://fonts.googleapis.com/css?family=VT323%22);%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2036px;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0A#game,%0D%0A#playerPad,%0D%0A#aiPad,%0D%0A#ball%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#pong%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20300px;%0D%0A%20%20%20%20background-color:%20#091B36;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#playerPad%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%20%20%20%20height:%2080px;%0D%0A%20%20%20%20top:%20110px;%0D%0A%20%20%20%20left:%2010px;%0D%0A%20%20%20%20background-color:%20limegreen;%0D%0A%7D%0D%0A%0D%0A#aiPad%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%20%20%20%20height:%2080px;%0D%0A%20%20%20%20top:%20110px;%0D%0A%20%20%20%20right:%2010px;%0D%0A%20%20%20%20background-color:%20slateblue;%0D%0A%20%20%20%20transition:%20top%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0A#ball%20%7B%0D%0A%20%20%20%20width:%2020px;%0D%0A%20%20%20%20height:%2020px;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20top:%20140px;%0D%0A%20%20%20%20left:%20240px;%0D%0A%20%20%20%20background-color:%20skyblue;%0D%0A%7D%0D%0A%0D%0A#playPause%20%7B%0D%0A%20%20%20%20width:%20150px;%0D%0A%20%20%20%20top:%205%25;%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20color:%20skyblue;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2030px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0A#instruction%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20color:%20darkgray;%0D%0A%20%20%20%20top:%2010%25;%0D%0A%20%20%20%20font-size:%2024px;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0D%0Avar%20playPause%20=%20document.querySelector('#playPause');%0D%0Avar%20pong%20=%20document.querySelector('#pong');%0D%0Avar%20playerPad%20=%20document.querySelector('#playerPad');%0D%0Avar%20aiPad%20=%20document.querySelector('#aiPad');%0D%0Avar%20ball%20=%20document.querySelector('#ball');%0D%0A%0D%0Avar%20ballLeft%20=%20240;%0D%0Avar%20ballTop%20=%20140;%0D%0Avar%20ballSpeed%20=%2010;%0D%0Avar%20ballSpeedX%20=%200;%0D%0Avar%20ballSpeedY%20=%200;%0D%0A%0D%0Avar%20aiError%20=%2040;%0D%0Avar%20aiTurn%20=%20true;%0D%0A%0D%0Avar%20minLeft%20=%20playerPad.offsetLeft%20+%20playerPad.offsetWidth;%0D%0Avar%20maxLeft%20=%20aiPad.offsetLeft%20-%20ball.offsetWidth;%0D%0A%0D%0Avar%20maxFPS%20=%2030;%0D%0Avar%20frameInterval%20=%201000%20/%20maxFPS;%0D%0Avar%20timePrevFrame%20=%20Date.now();%0D%0A%0D%0Adocument.onmousemove%20=%20updatePlayerPadPosition;%0D%0AplayPause.onclick%20=%20playOrPause;%0D%0A%0D%0Arender();%0D%0A%0D%0Afunction%20render()%20%7B%0D%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0D%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(elapsed%20%3E%20frameInterval)%20%7B%0D%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%20frameInterval);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20requestAnimationFrame(animatePong);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20requestAnimationFrame(render);%0D%0A%7D%0D%0A%0D%0Afunction%20animatePong()%20%7B%0D%0A%20%20%20%20ballLeft%20+=%20ballSpeedX;%0D%0A%20%20%20%20ballTop%20+=%20ballSpeedY;%0D%0A%20%20%20%20%0D%0A%20%20%20%20updateAiPadPosition();%0D%0A%20%20%20%20checkWallRebound();%0D%0A%20%20%20%20checkPadRebound();%0D%0A%20%20%20%20%0D%0A%20%20%20%20ball.style.left%20=%20ballLeft%20+%20%22px%22;%0D%0A%20%20%20%20ball.style.top%20=%20ballTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20updateAiPadPosition()%20%7B%0D%0A%20%20%20%20if%20(aiTurn)%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20determine%20whether%20ball%20has%20moved%20pass%2080%25%20across%20its%20container%0D%0A%20%20%20%20%20%20%20%20var%20inRange%20=%20ballLeft%20%3E%20pong.offsetWidth%20*%200.8;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(inRange)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20aiPad.offsetHeight;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20distance%20=%20aiPad.offsetLeft%20-%20ballLeft%20-%20ball.offsetWidth;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20eta%20=%20distance%20/%20ballSpeedX;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20estimate%20=%20ballTop%20+%20ballSpeedY%20*%20eta;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20padTop%20=%20estimate%20-%20aiPad.offsetHeight%20/%202;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20padTop%20=%20padTop%20+%20randomRange(aiError,%20-aiError);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20padTop%20=%20Math.max(padTop,%200);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20padTop%20=%20Math.min(padTop,%20maxTop);%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20aiPad.style.top%20=%20padTop%20+%20'px';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20aiTurn%20=%20false;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log(%60AI%20moves%20to%20$%7BpadTop%7Dpx.%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkWallRebound()%20%7B%0D%0A%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20ball.offsetHeight;%0D%0A%0D%0A%20%20%20%20//%20%20check%20whether%20top%20position%20of%20the%20ball%20is%20beyond%20the%20top%20or%20bottom%20boundaries%0D%0A%20%20%20%20if%20(ballTop%20%3C=%200%20%7C%7C%20ballTop%20%3E=%20maxTop)%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20reverse%20vertical%20movement%0D%0A%20%20%20%20%20%20%20%20ballSpeedY%20*=%20-1;%0D%0A%20%20%20%20%20%20%20%20//%20%20clamp%20top%20position%20to%20no%20smaller%20than%200%0D%0A%20%20%20%20%20%20%20%20ballTop%20=%20Math.max(ballTop,%200);%0D%0A%20%20%20%20%20%20%20%20//%20%20clamp%20top%20postion%20no%20bigger%20than%20maxTop%0D%0A%20%20%20%20%20%20%20%20ballTop%20=%20Math.min(ballTop,%20maxTop);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkPadRebound()%20%7B%0D%0A%20%20%20%20//%20%20check%20whether%20ball%20has%20moved%20passed%20the%20player%20pad%0D%0A%20%20%20%20#BEGIN_EDITABLE#if%20(ballLeft%20%3C=%20minLeft)%20%7B%7D#END_EDITABLE#%0D%0A%20%20%20%20//%20%20check%20whether%20ball%20has%20moved%20passed%20the%20AI%20pad%0D%0A%20%20%20%20#BEGIN_EDITABLE#else%20if%20(ballLeft%20%3E=%20maxLeft)%20%7B%7D#END_EDITABLE#%0D%0A%7D%0D%0A%0D%0Afunction%20updatePlayerPadPosition()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20containerTop%20=%20pong.offsetTop%20+%20game.offsetTop;%0D%0A%20%20%20%20%20%20%20%20var%20cursorTop%20=%20event.clientY%20-%20containerTop;%0D%0A%20%20%20%20%20%20%20%20var%20padTop%20=%20cursorTop%20-%20playerPad.offsetHeight%20/%202;%0D%0A%20%20%20%20%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20playerPad.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.min(padTop,%20maxTop);%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.max(padTop,%200);%0D%0A%0D%0A%20%20%20%20%20%20%20%20playerPad.style.top%20=%20padTop%20+%20%22px%22;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playOrPause()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PLAY')%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PAUSE';%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20check%20whether%20speed%20is%20zero%0D%0A%20%20%20%20%20%20%20%20if%20(ballSpeedX%20===%200%20&&%20ballSpeedY%20===%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ballSpeedX%20=%20randomRange(0.5,%200.8)%20*%20ballSpeed;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ballSpeedY%20=%20Math.sqrt(ballSpeed%20**%202%20-%20ballSpeedX%20**%202);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PLAY';%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Afunction%20randomRange(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20const%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Awindow.onload%20=%20window.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%20%20%20%20%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%7D##JS_E####CODE_15E####LOGIC_15####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60if%20(ballLeft%20%3C=%20minLeft)%20%7B%7D%60).or(%60if%20(minLeft%20%3E=%20ballLeft)%20%7B%7D%60);%0Apass.if.js.editable(1).equivalent(%60else%20if%20(ballLeft%20%3E=%20maxLeft)%20%7B%7D%60).or(%60else%20if%20(maxLeft%20%3C=%20ballLeft)%20%7B%7D%60);##JS_E####LOGIC_15E####STEP_15E####STEP_16####INST_16##Pad%20collision%20-%201/2%0A%0ADepending%20on%20which%20collision%20zone%20the%20ball%20is%20in,%20we%20need%20to%20check%20for%20collision%20with%20the%20corresponding%20pad.%0A%5B-%0A%09(*)when%20*ballLeft*%20is%20smaller%20than%20or%20equal%20to%20*minLeft*,%20we%20check%20if%20the%20ball%20is%20colliding%20with%20the%20player%20pad.%0A%09(*)when%20*ballLeft*%20is%20greater%20than%20or%20equal%20to%20*maxLeft*,%20we%20check%20if%20the%20ball%20is%20colliding%20with%20the%20AI%20pad.%0A-%5D%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#function%20arguments%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20checkPadRebound#+3,%20call%20and%20pass%20*playerPad*%20to%20the%20*checkPadCollision*%20function.%0A%0A(!)On%20+js#on%20checkPadRebound#+7,%20call%20and%20pass%20*aiPad*%20to%20the%20*checkPadCollision*%20function.%0A%0A(!)On%20+js#on%20updatePlayer#-2,%20create%20a%20function%20called%20*checkPadCollision*%20that%20accepts%20the%20*pad*%20argument.##INST_16E####CODE_16####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22style.css%22%20rel=%22stylesheet%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22playPause%22%3EPLAY%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cp%20id=%22instruction%22%3EMove%20mouse%20up%20and%20down%20to%20control%20your%20pad%3C/p%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22pong%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22ball%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22playerPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22aiPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##@import%20url(%22https://fonts.googleapis.com/css?family=VT323%22);%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2036px;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0A#game,%0D%0A#playerPad,%0D%0A#aiPad,%0D%0A#ball%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#pong%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20300px;%0D%0A%20%20%20%20background-color:%20#091B36;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#playerPad%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%20%20%20%20height:%2080px;%0D%0A%20%20%20%20top:%20110px;%0D%0A%20%20%20%20left:%2010px;%0D%0A%20%20%20%20background-color:%20limegreen;%0D%0A%7D%0D%0A%0D%0A#aiPad%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%20%20%20%20height:%2080px;%0D%0A%20%20%20%20top:%20110px;%0D%0A%20%20%20%20right:%2010px;%0D%0A%20%20%20%20background-color:%20slateblue;%0D%0A%20%20%20%20transition:%20top%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0A#ball%20%7B%0D%0A%20%20%20%20width:%2020px;%0D%0A%20%20%20%20height:%2020px;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20top:%20140px;%0D%0A%20%20%20%20left:%20240px;%0D%0A%20%20%20%20background-color:%20skyblue;%0D%0A%7D%0D%0A%0D%0A#playPause%20%7B%0D%0A%20%20%20%20width:%20150px;%0D%0A%20%20%20%20top:%205%25;%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20color:%20skyblue;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2030px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0A#instruction%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20color:%20darkgray;%0D%0A%20%20%20%20top:%2010%25;%0D%0A%20%20%20%20font-size:%2024px;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0D%0Avar%20playPause%20=%20document.querySelector('#playPause');%0D%0Avar%20pong%20=%20document.querySelector('#pong');%0D%0Avar%20playerPad%20=%20document.querySelector('#playerPad');%0D%0Avar%20aiPad%20=%20document.querySelector('#aiPad');%0D%0Avar%20ball%20=%20document.querySelector('#ball');%0D%0A%0D%0Avar%20ballLeft%20=%20240;%0D%0Avar%20ballTop%20=%20140;%0D%0Avar%20ballSpeed%20=%2010;%0D%0Avar%20ballSpeedX%20=%200;%0D%0Avar%20ballSpeedY%20=%200;%0D%0A%0D%0Avar%20aiError%20=%2040;%0D%0Avar%20aiTurn%20=%20true;%0D%0A%0D%0Avar%20minLeft%20=%20playerPad.offsetLeft%20+%20playerPad.offsetWidth;%0D%0Avar%20maxLeft%20=%20aiPad.offsetLeft%20-%20ball.offsetWidth;%0D%0A%0D%0Avar%20maxFPS%20=%2030;%0D%0Avar%20frameInterval%20=%201000%20/%20maxFPS;%0D%0Avar%20timePrevFrame%20=%20Date.now();%0D%0A%0D%0Adocument.onmousemove%20=%20updatePlayerPadPosition;%0D%0AplayPause.onclick%20=%20playOrPause;%0D%0A%0D%0Arender();%0D%0A%0D%0Afunction%20render()%20%7B%0D%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0D%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(elapsed%20%3E%20frameInterval)%20%7B%0D%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%20frameInterval);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20requestAnimationFrame(animatePong);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20requestAnimationFrame(render);%0D%0A%7D%0D%0A%0D%0Afunction%20animatePong()%20%7B%0D%0A%20%20%20%20ballLeft%20+=%20ballSpeedX;%0D%0A%20%20%20%20ballTop%20+=%20ballSpeedY;%0D%0A%20%20%20%20%0D%0A%20%20%20%20updateAiPadPosition();%0D%0A%20%20%20%20checkWallRebound();%0D%0A%20%20%20%20checkPadRebound();%0D%0A%20%20%20%20%0D%0A%20%20%20%20ball.style.left%20=%20ballLeft%20+%20%22px%22;%0D%0A%20%20%20%20ball.style.top%20=%20ballTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20updateAiPadPosition()%20%7B%0D%0A%20%20%20%20if%20(aiTurn)%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20determine%20whether%20ball%20has%20moved%20pass%2080%25%20across%20its%20container%0D%0A%20%20%20%20%20%20%20%20var%20inRange%20=%20ballLeft%20%3E%20pong.offsetWidth%20*%200.8;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(inRange)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20aiPad.offsetHeight;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20distance%20=%20aiPad.offsetLeft%20-%20ballLeft%20-%20ball.offsetWidth;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20eta%20=%20distance%20/%20ballSpeedX;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20estimate%20=%20ballTop%20+%20ballSpeedY%20*%20eta;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20padTop%20=%20estimate%20-%20aiPad.offsetHeight%20/%202;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20padTop%20=%20padTop%20+%20randomRange(aiError,%20-aiError);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20padTop%20=%20Math.max(padTop,%200);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20padTop%20=%20Math.min(padTop,%20maxTop);%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20aiPad.style.top%20=%20padTop%20+%20'px';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20aiTurn%20=%20false;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log(%60AI%20moves%20to%20$%7BpadTop%7Dpx.%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkWallRebound()%20%7B%0D%0A%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20ball.offsetHeight;%0D%0A%0D%0A%20%20%20%20//%20%20check%20whether%20top%20position%20of%20the%20ball%20is%20beyond%20the%20top%20or%20bottom%20boundaries%0D%0A%20%20%20%20if%20(ballTop%20%3C=%200%20%7C%7C%20ballTop%20%3E=%20maxTop)%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20reverse%20vertical%20movement%0D%0A%20%20%20%20%20%20%20%20ballSpeedY%20*=%20-1;%0D%0A%20%20%20%20%20%20%20%20//%20%20clamp%20top%20position%20to%20no%20smaller%20than%200%0D%0A%20%20%20%20%20%20%20%20ballTop%20=%20Math.max(ballTop,%200);%0D%0A%20%20%20%20%20%20%20%20//%20%20clamp%20top%20postion%20no%20bigger%20than%20maxTop%0D%0A%20%20%20%20%20%20%20%20ballTop%20=%20Math.min(ballTop,%20maxTop);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkPadRebound()%20%7B%0D%0A%20%20%20%20//%20%20check%20whether%20ball%20has%20moved%20passed%20the%20player%20pad%0D%0A%20%20%20%20if%20(ballLeft%20%3C=%20minLeft)%20%7B%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#checkPadCollision(playerPad);#END_EDITABLE#%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20//%20%20check%20whether%20ball%20has%20moved%20passed%20the%20AI%20pad%0D%0A%20%20%20%20else%20if%20(ballLeft%20%3E=%20maxLeft)%20%7B%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#checkPadCollision(aiPad);#END_EDITABLE#%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A#BEGIN_EDITABLE#function%20checkPadCollision(pad)%20%7B%7D#END_EDITABLE#%0D%0A%0D%0Afunction%20updatePlayerPadPosition()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20containerTop%20=%20pong.offsetTop%20+%20game.offsetTop;%0D%0A%20%20%20%20%20%20%20%20var%20cursorTop%20=%20event.clientY%20-%20containerTop;%0D%0A%20%20%20%20%20%20%20%20var%20padTop%20=%20cursorTop%20-%20playerPad.offsetHeight%20/%202;%0D%0A%20%20%20%20%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20playerPad.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.min(padTop,%20maxTop);%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.max(padTop,%200);%0D%0A%0D%0A%20%20%20%20%20%20%20%20playerPad.style.top%20=%20padTop%20+%20%22px%22;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playOrPause()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PLAY')%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PAUSE';%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20check%20whether%20speed%20is%20zero%0D%0A%20%20%20%20%20%20%20%20if%20(ballSpeedX%20===%200%20&&%20ballSpeedY%20===%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ballSpeedX%20=%20randomRange(0.5,%200.8)%20*%20ballSpeed;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ballSpeedY%20=%20Math.sqrt(ballSpeed%20**%202%20-%20ballSpeedX%20**%202);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PLAY';%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Afunction%20randomRange(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20const%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Awindow.onload%20=%20window.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%20%20%20%20%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%7D##JS_E####CODE_16E####LOGIC_16####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60checkPadCollision(playerPad);%60);%0Apass.if.js.editable(1).equivalent(%60checkPadCollision(aiPad);%60);%0Apass.if.js.editable(2).equivalent(%60function%20checkPadCollision(pad)%20%7B%7D%60);##JS_E####LOGIC_16E####STEP_16E####STEP_17####INST_17##Pad%20collision%20-%202/2%0A%0AInside%20the%20*checkPadCollision*%20function,%20the%20variable%20*pad*%20represents%20either%20the%20player%20or%20the%20AI%20pad%20depending%20on%20when%20the%20function%20is%20called%20(%20+js#on%20checkPadRebound#+3%20&%20js#on%20checkPadRebound#+7%20),%20we'll%20use%20this%20variable%20to%20find%20out%20whether%20the%20ball%20is%20colliding%20with%20a%20pad.%0A%0AThe%20collision%20zones%20we%20defined%20before%20only%20considered%20%20horizontal%20position%20of%20the%20ball%20(%20+js#var%20minLeft#%20&%20js#var%20maxLeft#%20),%20now%20we%20will%20do%20the%20same%20for%20the%20vertical%20position.%0A%0A%5Bimg::https://app.bsd.education/resources/mathematics_pong_lowerTop_upperTop.png%5D%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#offsetTop%5D%20&%20%5B#js#offsetHeight%5D%0A%09(*)%5Barithmetic#js#arithmetic%20operators%5D,%20%5Brelational#js#relational%20operators%5D%20&%20%5B#js#logic%20operators%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#(pad)#+1,%20calculate%20the%20minimum%20top%20position%20for%20the%20*ball*%20element%20to%20collide%20with%20a%20pad%20and%20store%20it%20in%20a%20new%20variable%20called%20*lowerTop*.%0A%0A(!)On%20+js#(pad)#+2,%20calculate%20the%20maximum%20top%20position%20for%20the%20*ball*%20element%20to%20collide%20with%20a%20pad%20and%20store%20it%20in%20a%20new%20variable%20called%20*upperTop*.%0A%0A(!)On%20+js#(pad)#+3,%20create%20a%20new%20variable%20called%20*contact*%20to%20store%20whether%20*ballTop*%20is%20greater%20than%20or%20equal%20to%20*lowerTop*,%20and,%20*ballTop*%20is%20smaller%20than%20or%20equal%20to%20*upperTop*.##INST_17E####CODE_17####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22style.css%22%20rel=%22stylesheet%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22playPause%22%3EPLAY%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cp%20id=%22instruction%22%3EMove%20mouse%20up%20and%20down%20to%20control%20your%20pad%3C/p%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22pong%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22ball%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22playerPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22aiPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##@import%20url(%22https://fonts.googleapis.com/css?family=VT323%22);%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2036px;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0A#game,%0D%0A#playerPad,%0D%0A#aiPad,%0D%0A#ball%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#pong%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20300px;%0D%0A%20%20%20%20background-color:%20#091B36;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#playerPad%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%20%20%20%20height:%2080px;%0D%0A%20%20%20%20top:%20110px;%0D%0A%20%20%20%20left:%2010px;%0D%0A%20%20%20%20background-color:%20limegreen;%0D%0A%7D%0D%0A%0D%0A#aiPad%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%20%20%20%20height:%2080px;%0D%0A%20%20%20%20top:%20110px;%0D%0A%20%20%20%20right:%2010px;%0D%0A%20%20%20%20background-color:%20slateblue;%0D%0A%20%20%20%20transition:%20top%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0A#ball%20%7B%0D%0A%20%20%20%20width:%2020px;%0D%0A%20%20%20%20height:%2020px;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20top:%20140px;%0D%0A%20%20%20%20left:%20240px;%0D%0A%20%20%20%20background-color:%20skyblue;%0D%0A%7D%0D%0A%0D%0A#playPause%20%7B%0D%0A%20%20%20%20width:%20150px;%0D%0A%20%20%20%20top:%205%25;%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20color:%20skyblue;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2030px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0A#instruction%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20color:%20darkgray;%0D%0A%20%20%20%20top:%2010%25;%0D%0A%20%20%20%20font-size:%2024px;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0D%0Avar%20playPause%20=%20document.querySelector('#playPause');%0D%0Avar%20pong%20=%20document.querySelector('#pong');%0D%0Avar%20playerPad%20=%20document.querySelector('#playerPad');%0D%0Avar%20aiPad%20=%20document.querySelector('#aiPad');%0D%0Avar%20ball%20=%20document.querySelector('#ball');%0D%0A%0D%0Avar%20ballLeft%20=%20240;%0D%0Avar%20ballTop%20=%20140;%0D%0Avar%20ballSpeed%20=%2010;%0D%0Avar%20ballSpeedX%20=%200;%0D%0Avar%20ballSpeedY%20=%200;%0D%0A%0D%0Avar%20aiError%20=%2040;%0D%0Avar%20aiTurn%20=%20true;%0D%0A%0D%0Avar%20minLeft%20=%20playerPad.offsetLeft%20+%20playerPad.offsetWidth;%0D%0Avar%20maxLeft%20=%20aiPad.offsetLeft%20-%20ball.offsetWidth;%0D%0A%0D%0Avar%20maxFPS%20=%2030;%0D%0Avar%20frameInterval%20=%201000%20/%20maxFPS;%0D%0Avar%20timePrevFrame%20=%20Date.now();%0D%0A%0D%0Adocument.onmousemove%20=%20updatePlayerPadPosition;%0D%0AplayPause.onclick%20=%20playOrPause;%0D%0A%0D%0Arender();%0D%0A%0D%0Afunction%20render()%20%7B%0D%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0D%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(elapsed%20%3E%20frameInterval)%20%7B%0D%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%20frameInterval);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20requestAnimationFrame(animatePong);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20requestAnimationFrame(render);%0D%0A%7D%0D%0A%0D%0Afunction%20animatePong()%20%7B%0D%0A%20%20%20%20ballLeft%20+=%20ballSpeedX;%0D%0A%20%20%20%20ballTop%20+=%20ballSpeedY;%0D%0A%20%20%20%20%0D%0A%20%20%20%20updateAiPadPosition();%0D%0A%20%20%20%20checkWallRebound();%0D%0A%20%20%20%20checkPadRebound();%0D%0A%20%20%20%20%0D%0A%20%20%20%20ball.style.left%20=%20ballLeft%20+%20%22px%22;%0D%0A%20%20%20%20ball.style.top%20=%20ballTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20updateAiPadPosition()%20%7B%0D%0A%20%20%20%20if%20(aiTurn)%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20determine%20whether%20ball%20has%20moved%20pass%2080%25%20across%20its%20container%0D%0A%20%20%20%20%20%20%20%20var%20inRange%20=%20ballLeft%20%3E%20pong.offsetWidth%20*%200.8;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(inRange)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20aiPad.offsetHeight;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20distance%20=%20aiPad.offsetLeft%20-%20ballLeft%20-%20ball.offsetWidth;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20eta%20=%20distance%20/%20ballSpeedX;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20estimate%20=%20ballTop%20+%20ballSpeedY%20*%20eta;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20padTop%20=%20estimate%20-%20aiPad.offsetHeight%20/%202;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20padTop%20=%20padTop%20+%20randomRange(aiError,%20-aiError);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20padTop%20=%20Math.max(padTop,%200);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20padTop%20=%20Math.min(padTop,%20maxTop);%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20aiPad.style.top%20=%20padTop%20+%20'px';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20aiTurn%20=%20false;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log(%60AI%20moves%20to%20$%7BpadTop%7Dpx.%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkWallRebound()%20%7B%0D%0A%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20ball.offsetHeight;%0D%0A%0D%0A%20%20%20%20//%20%20check%20whether%20top%20position%20of%20the%20ball%20is%20beyond%20the%20top%20or%20bottom%20boundaries%0D%0A%20%20%20%20if%20(ballTop%20%3C=%200%20%7C%7C%20ballTop%20%3E=%20maxTop)%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20reverse%20vertical%20movement%0D%0A%20%20%20%20%20%20%20%20ballSpeedY%20*=%20-1;%0D%0A%20%20%20%20%20%20%20%20//%20%20clamp%20top%20position%20to%20no%20smaller%20than%200%0D%0A%20%20%20%20%20%20%20%20ballTop%20=%20Math.max(ballTop,%200);%0D%0A%20%20%20%20%20%20%20%20//%20%20clamp%20top%20postion%20no%20bigger%20than%20maxTop%0D%0A%20%20%20%20%20%20%20%20ballTop%20=%20Math.min(ballTop,%20maxTop);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkPadRebound()%20%7B%0D%0A%20%20%20%20//%20%20check%20whether%20ball%20has%20moved%20passed%20the%20player%20pad%0D%0A%20%20%20%20if%20(ballLeft%20%3C=%20minLeft)%20%7B%0D%0A%20%20%20%20%20%20%20%20checkPadCollision(playerPad);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20//%20%20check%20whether%20ball%20has%20moved%20passed%20the%20AI%20pad%0D%0A%20%20%20%20else%20if%20(ballLeft%20%3E=%20maxLeft)%20%7B%0D%0A%20%20%20%20%20%20%20%20checkPadCollision(aiPad);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkPadCollision(pad)%20%7B%0D%0A%20%20%20%20#BEGIN_EDITABLE#var%20lowerTop%20=%20pad.offsetTop%20-%20ball.offsetHeight;#END_EDITABLE#%0D%0A%20%20%20%20#BEGIN_EDITABLE#var%20upperTop%20=%20pad.offsetTop%20+%20pad.offsetHeight;#END_EDITABLE#%0D%0A%20%20%20%20#BEGIN_EDITABLE#var%20contact%20=%20ballTop%20%3E=%20lowerTop%20&&%20ballTop%20%3C=%20upperTop;#END_EDITABLE#%0D%0A%7D%0D%0A%0D%0Afunction%20updatePlayerPadPosition()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20containerTop%20=%20pong.offsetTop%20+%20game.offsetTop;%0D%0A%20%20%20%20%20%20%20%20var%20cursorTop%20=%20event.clientY%20-%20containerTop;%0D%0A%20%20%20%20%20%20%20%20var%20padTop%20=%20cursorTop%20-%20playerPad.offsetHeight%20/%202;%0D%0A%20%20%20%20%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20playerPad.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.min(padTop,%20maxTop);%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.max(padTop,%200);%0D%0A%0D%0A%20%20%20%20%20%20%20%20playerPad.style.top%20=%20padTop%20+%20%22px%22;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playOrPause()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PLAY')%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PAUSE';%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20check%20whether%20speed%20is%20zero%0D%0A%20%20%20%20%20%20%20%20if%20(ballSpeedX%20===%200%20&&%20ballSpeedY%20===%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ballSpeedX%20=%20randomRange(0.5,%200.8)%20*%20ballSpeed;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ballSpeedY%20=%20Math.sqrt(ballSpeed%20**%202%20-%20ballSpeedX%20**%202);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PLAY';%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Afunction%20randomRange(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20const%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Awindow.onload%20=%20window.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%20%20%20%20%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%7D##JS_E####CODE_17E####LOGIC_17####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20lowerTop%20=%20pad.offsetTop%20-%20ball.offsetHeight;%60);%0Apass.if.js.editable(1).equivalent(%60var%20upperTop%20=%20pad.offsetTop%20+%20pad.offsetHeight;%60).or(%60var%20upperTop%20=%20pad.offsetHeight%20+%20pad.offsetTop;%60);%0Apass.if.js.editable(2).equivalent(%60var%20contact%20=%20ballTop%20%3E=%20lowerTop%20&&%20ballTop%20%3C=%20upperTop;%60).or(%60var%20contact%20=%20lowerTop%20%3C=%20ballTop%20&&%20upperTop%20%3E=%20ballTop;%60).or(%60var%20contact%20=%20lowerTop%20%3C=%20ballTop%20&&%20ballTop%20%3C=%20upperTop;%60).or(%60var%20contact%20=%20ballTop%20%3E=%20lowerTop%20&&%20upperTop%20%3E=%20ballTop;%60).or(%60var%20contact%20=%20ballTop%20%3C=%20upperTop%20&&%20ballTop%20%3E=%20lowerTop;%60).or(%60var%20contact%20=%20upperTop%20%3E=%20ballTop%20&&%20lowerTop%20%3C=%20ballTop;%60).or(%60var%20contact%20=%20ballTop%20%3C=%20upperTop%20&&%20lowerTop%20%3C=%20ballTop;%60).or(%60var%20contact%20=%20upperTop%20%3E=%20ballTop%20&&%20ballTop%20%3E=%20lowerTop;%60);##JS_E####LOGIC_17E####STEP_17E####STEP_18####INST_18##Reverse%20horizontal%20movement%0A%0AWe%20have%20added%20some%20more%20code%20to%20the%20*checkPadCollision*%20function:%0A%0A(*)+js#var%20ballRadius#%20&%20js#var%20valid#%20-%20not%20all%20collision%20with%20a%20pad%20is%20a%20valid%20catch%20(%20see%20example%20below%20),%20we%20determine%20and%20store%20this%20in%20*validCatch*.%20%0A%5Bimg::https://app.bsd.education/resources/mathematics_pong_invalid_catch.gif%5D%0A(*)+js#var%20valid#+2%20&%20js#(validCatch)#,%20we%20check%20whether%20the%20ball%20is%20colliding%20with%20a%20pad,%20as%20well%20as%20whether%20the%20catch%20is%20a%20valid%20one.%0A%0AIf%20both%20of%20*contact*%20and%20*validCatch*%20is%20true,%20the%20ball%20should%20reverse%20its%20horizontal%20movement,%20we%20can%20do%20this%20by%20negating%20the%20*ballSpeedX*%20variable.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#arithmetic%20operators%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#(validCatch)#+3,%20negate%20the%20value%20of%20*ballSpeedX*.##INST_18E####CODE_18####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22style.css%22%20rel=%22stylesheet%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22playPause%22%3EPLAY%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cp%20id=%22instruction%22%3EMove%20mouse%20up%20and%20down%20to%20control%20your%20pad%3C/p%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22pong%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22ball%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22playerPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22aiPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##@import%20url(%22https://fonts.googleapis.com/css?family=VT323%22);%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2036px;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0A#game,%0D%0A#playerPad,%0D%0A#aiPad,%0D%0A#ball%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#pong%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20300px;%0D%0A%20%20%20%20background-color:%20#091B36;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#playerPad%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%20%20%20%20height:%2080px;%0D%0A%20%20%20%20top:%20110px;%0D%0A%20%20%20%20left:%2010px;%0D%0A%20%20%20%20background-color:%20limegreen;%0D%0A%7D%0D%0A%0D%0A#aiPad%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%20%20%20%20height:%2080px;%0D%0A%20%20%20%20top:%20110px;%0D%0A%20%20%20%20right:%2010px;%0D%0A%20%20%20%20background-color:%20slateblue;%0D%0A%20%20%20%20transition:%20top%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0A#ball%20%7B%0D%0A%20%20%20%20width:%2020px;%0D%0A%20%20%20%20height:%2020px;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20top:%20140px;%0D%0A%20%20%20%20left:%20240px;%0D%0A%20%20%20%20background-color:%20skyblue;%0D%0A%7D%0D%0A%0D%0A#playPause%20%7B%0D%0A%20%20%20%20width:%20150px;%0D%0A%20%20%20%20top:%205%25;%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20color:%20skyblue;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2030px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0A#instruction%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20color:%20darkgray;%0D%0A%20%20%20%20top:%2010%25;%0D%0A%20%20%20%20font-size:%2024px;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0D%0Avar%20playPause%20=%20document.querySelector('#playPause');%0D%0Avar%20pong%20=%20document.querySelector('#pong');%0D%0Avar%20playerPad%20=%20document.querySelector('#playerPad');%0D%0Avar%20aiPad%20=%20document.querySelector('#aiPad');%0D%0Avar%20ball%20=%20document.querySelector('#ball');%0D%0A%0D%0Avar%20ballLeft%20=%20240;%0D%0Avar%20ballTop%20=%20140;%0D%0Avar%20ballSpeed%20=%2010;%0D%0Avar%20ballSpeedX%20=%200;%0D%0Avar%20ballSpeedY%20=%200;%0D%0Avar%20maxSpeed%20=%2015;%0D%0A%0D%0Avar%20aiError%20=%2040;%0D%0Avar%20aiTurn%20=%20true;%0D%0A%0D%0Avar%20lostBall%20=%20false;%0D%0A%0D%0Avar%20minLeft%20=%20playerPad.offsetLeft%20+%20playerPad.offsetWidth;%0D%0Avar%20maxLeft%20=%20aiPad.offsetLeft%20-%20ball.offsetWidth;%0D%0A%0D%0Avar%20maxFPS%20=%2030;%0D%0Avar%20frameInterval%20=%201000%20/%20maxFPS;%0D%0Avar%20timePrevFrame%20=%20Date.now();%0D%0A%0D%0Adocument.onmousemove%20=%20updatePlayerPadPosition;%0D%0AplayPause.onclick%20=%20playOrPause;%0D%0A%0D%0Arender();%0D%0A%0D%0Afunction%20render()%20%7B%0D%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0D%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(elapsed%20%3E%20frameInterval)%20%7B%0D%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%20frameInterval);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20requestAnimationFrame(animatePong);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20requestAnimationFrame(render);%0D%0A%7D%0D%0A%0D%0Afunction%20animatePong()%20%7B%0D%0A%20%20%20%20ballLeft%20+=%20ballSpeedX;%0D%0A%20%20%20%20ballTop%20+=%20ballSpeedY;%0D%0A%20%20%20%20%0D%0A%20%20%20%20checkLoss();%0D%0A%20%20%20%20updateAiPadPosition();%0D%0A%20%20%20%20checkWallRebound();%0D%0A%20%20%20%20checkPadRebound();%0D%0A%20%20%20%20%0D%0A%20%20%20%20ball.style.left%20=%20ballLeft%20+%20%22px%22;%0D%0A%20%20%20%20ball.style.top%20=%20ballTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20checkLoss()%20%7B%0D%0A%20%20%20%20if%20(ballLeft%20+%20ball.offsetWidth%20%3C%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20aiError%20/=%200.9;%0D%0A%20%20%20%20%20%20%20%20resetPong();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(ballLeft%20%3E%20pong.offsetWidth)%20%7B%0D%0A%20%20%20%20%20%20%20%20aiError%20*=%200.9;%0D%0A%20%20%20%20%20%20%20%20resetPong();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20resetPong()%20%7B%0D%0A%20%20%20%20ballTop%20=%20140;%0D%0A%20%20%20%20ballLeft%20=%20240;%0D%0A%20%20%20%20ballSpeedX%20=%200;%0D%0A%20%20%20%20ballSpeedY%20=%200;%0D%0A%20%20%20%20lostBall%20=%20false;%0D%0A%0D%0A%20%20%20%20playPause.innerText%20=%20%22PLAY%22;%0D%0A%7D%0D%0A%0D%0Afunction%20updateAiPadPosition()%20%7B%0D%0A%20%20%20%20if%20(aiTurn)%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20determine%20whether%20ball%20has%20moved%20pass%2080%25%20across%20its%20container%0D%0A%20%20%20%20%20%20%20%20var%20inRange%20=%20ballLeft%20%3E%20pong.offsetWidth%20*%200.8;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(inRange)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20aiPad.offsetHeight;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20distance%20=%20aiPad.offsetLeft%20-%20ballLeft%20-%20ball.offsetWidth;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20eta%20=%20distance%20/%20ballSpeedX;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20estimate%20=%20ballTop%20+%20ballSpeedY%20*%20eta;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20padTop%20=%20estimate%20-%20aiPad.offsetHeight%20/%202;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20padTop%20=%20padTop%20+%20randomRange(aiError,%20-aiError);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20padTop%20=%20Math.max(padTop,%200);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20padTop%20=%20Math.min(padTop,%20maxTop);%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20aiPad.style.top%20=%20padTop%20+%20'px';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20aiTurn%20=%20false;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log(%60AI%20moves%20to%20$%7BpadTop%7Dpx.%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkWallRebound()%20%7B%0D%0A%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20ball.offsetHeight;%0D%0A%0D%0A%20%20%20%20//%20%20check%20whether%20top%20position%20of%20the%20ball%20is%20beyond%20the%20top%20or%20bottom%20boundaries%0D%0A%20%20%20%20if%20(ballTop%20%3C=%200%20%7C%7C%20ballTop%20%3E=%20maxTop)%20%7B%0D%0A%20%20%20%20%20%20%20%20randomiseSpeed();%0D%0A%20%20%20%20%20%20%20%20//%20%20reverse%20vertical%20movement%0D%0A%20%20%20%20%20%20%20%20ballSpeedY%20*=%20-1;%0D%0A%20%20%20%20%20%20%20%20//%20%20clamp%20top%20position%20to%20no%20smaller%20than%200%0D%0A%20%20%20%20%20%20%20%20ballTop%20=%20Math.max(ballTop,%200);%0D%0A%20%20%20%20%20%20%20%20//%20%20clamp%20top%20postion%20no%20bigger%20than%20maxTop%0D%0A%20%20%20%20%20%20%20%20ballTop%20=%20Math.min(ballTop,%20maxTop);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20randomiseSpeed()%20%7B%0D%0A%20%20%20%20//%20%20store%20movement%20directions%20before%20randomising%0D%0A%20%20%20%20var%20hDir%20=%20ballSpeedX%20/%20Math.abs(ballSpeedX);%0D%0A%20%20%20%20var%20vDir%20=%20ballSpeedY%20/%20Math.abs(ballSpeedY);%0D%0A%0D%0A%20%20%20%20//%20%20apply%20random%20modifier%20to%20horizontal%20speed%20of%20the%20ball%0D%0A%20%20%20%20ballSpeedX%20*=%20randomRange(0.9,%201.1);%0D%0A%20%20%20%20//%20%20clamp%20the%20horizontal%20speed%20to%20no%20smaller%20than%20half%20the%20overalll%20speed%0D%0A%20%20%20%20ballSpeedX%20=%20hDir%20*%20Math.max(ballSpeedX,%20ballSpeed%20/%202);%0D%0A%20%20%20%20//%20%20adjust%20the%20vertical%20speed%20to%20maintain%20overall%20speed%0D%0A%20%20%20%20ballSpeedY%20=%20vDir%20*%20Math.sqrt(ballSpeed%20**%202%20-%20ballSpeedX%20**%202);%0D%0A%7D%0D%0A%0D%0Afunction%20checkPadRebound()%20%7B%0D%0A%20%20%20%20//%20%20check%20whether%20ball%20has%20moved%20passed%20the%20player%20pad%0D%0A%20%20%20%20if%20(ballLeft%20%3C=%20minLeft)%20%7B%0D%0A%20%20%20%20%20%20%20%20checkPadCollision(playerPad);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20//%20%20check%20whether%20ball%20has%20moved%20passed%20the%20AI%20pad%0D%0A%20%20%20%20else%20if%20(ballLeft%20%3E=%20maxLeft)%20%7B%0D%0A%20%20%20%20%20%20%20%20checkPadCollision(aiPad);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkPadCollision(pad)%20%7B%0D%0A%20%20%20%20var%20lowerTop%20=%20pad.offsetTop%20-%20ball.offsetHeight;%0D%0A%20%20%20%20var%20upperTop%20=%20pad.offsetTop%20+%20pad.offsetHeight;%0D%0A%20%20%20%20var%20contact%20=%20ballTop%20%3E=%20lowerTop%20&&%20ballTop%20%3C=%20upperTop;%0D%0A%20%20%20%20var%20ballRadius%20=%20ball.offsetHeight%20/%202;%0D%0A%20%20%20%20//%20%20determine%20whether%20contact%20if%20a%20valid%20catch%0D%0A%20%20%20%20var%20validCatch%20=%20ballTop%20%3E=%20lowerTop%20+%20ballRadius%20&&%20ballTop%20%3C=%20upperTop%20-%20ballRadius;%0D%0A%0D%0A%20%20%20%20if%20(contact)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(lostBall)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20reverse%20vertical%20movement%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ballSpeedY%20*=%20-1;%20%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(validCatch)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20randomiseSpeed();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20reverse%20horizontal%20movement%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#ballSpeedX%20*=%20-1;#END_EDITABLE#%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(pad%20==%20playerPad)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%20increase%20ball%20movement%20speed%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ballSpeed%20+=%200.1;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%20clamp%20at%20maximum%20speed%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ballSpeed%20=%20Math.min(ballSpeed,%20maxSpeed);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%20correct%20any%20clipping%20by%20the%20player%20pad%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ballLeft%20=%20minLeft;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20aiTurn%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(pad%20==%20aiPad)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%20correct%20any%20clipping%20by%20the%20AI%20pad%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ballLeft%20=%20maxLeft;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20lostBall%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updatePlayerPadPosition()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20containerTop%20=%20pong.offsetTop%20+%20game.offsetTop;%0D%0A%20%20%20%20%20%20%20%20var%20cursorTop%20=%20event.clientY%20-%20containerTop;%0D%0A%20%20%20%20%20%20%20%20var%20padTop%20=%20cursorTop%20-%20playerPad.offsetHeight%20/%202;%0D%0A%20%20%20%20%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20playerPad.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.min(padTop,%20maxTop);%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.max(padTop,%200);%0D%0A%0D%0A%20%20%20%20%20%20%20%20playerPad.style.top%20=%20padTop%20+%20%22px%22;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playOrPause()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PLAY')%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PAUSE';%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20check%20whether%20speed%20is%20zero%0D%0A%20%20%20%20%20%20%20%20if%20(ballSpeedX%20===%200%20&&%20ballSpeedY%20===%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ballSpeedX%20=%20randomRange(0.5,%200.8)%20*%20ballSpeed;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ballSpeedY%20=%20Math.sqrt(ballSpeed%20**%202%20-%20ballSpeedX%20**%202);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20randomiseDirection();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PLAY';%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20randomiseDirection()%20%7B%0D%0A%20%20%20%20var%20moveLeft%20=%20Math.random()%20%3E%200.5;%0D%0A%20%20%20%20var%20moveUp%20=%20Math.random()%20%3E%200.5;%0D%0A%20%20%20%20%0D%0A%20%20%20%20aiTurn%20=%20!moveLeft;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(moveLeft)%20%7B%0D%0A%20%20%20%20%20%20%20%20ballSpeedX%20*=%20-1;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(moveUp)%20%7B%0D%0A%20%20%20%20%20%20%20%20ballSpeedY%20*=%20-1;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Afunction%20randomRange(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20const%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Awindow.onload%20=%20window.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%20%20%20%20%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%7D##JS_E####CODE_18E####LOGIC_18####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60ballSpeedX%20*=%20-1;%60).or(%60ballSpeedX%20=%20ballSpeedX%20*%20-1;%60).or(%60ballSpeedX%20=%20-ballSpeedX;%60);##JS_E####LOGIC_18E####STEP_18E####STEP_19####INST_19##Summary%0A%0AGreat%20job!%0A%0AYou%20have%20completed%20this%20project,%20here%20is%20a%20recap:%0A%0A%5B-%0A%09(*)We%20used%20%5Bvariables#js#variable%5D%20to%20store%20information%20required%20for%20the%20many%20calculations.%0A%09(*)We%20created%20and%20called%20%5Bfunctions#js#function%5D%20to%20solve%20specific%20problems.%0A%09(*)The%20control%20for%20the%20player%20pad%20was%20achieved%20using%20the%20%5B#js#onmousemove%5D%20event%20listener.%0A%09(*)%5B#js#Math.max%5D%20&%20%5B#js#Math.min%5D%20were%20used%20to%20clamp%20values.%0A%09(*)%5B#js#Math.sqrt%5D%20was%20used%20to%20calculate%20the%20speed%20of%20the%20ball%20on%20the%20Y-axis.%0A-%5D##INST_19E####CODE_19####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Clink%20href=%22style.css%22%20rel=%22stylesheet%22%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22playPause%22%3EPLAY%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cp%20id=%22instruction%22%3EMove%20mouse%20up%20and%20down%20to%20control%20your%20pad%3C/p%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22pong%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22ball%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22playerPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id=%22aiPad%22%3E%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##@import%20url(%22https://fonts.googleapis.com/css?family=VT323%22);%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2036px;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0A#game,%0D%0A#playerPad,%0D%0A#aiPad,%0D%0A#ball%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#pong%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20300px;%0D%0A%20%20%20%20background-color:%20#091B36;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#playerPad%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%20%20%20%20height:%2080px;%0D%0A%20%20%20%20top:%20110px;%0D%0A%20%20%20%20left:%2010px;%0D%0A%20%20%20%20background-color:%20limegreen;%0D%0A%7D%0D%0A%0D%0A#aiPad%20%7B%0D%0A%20%20%20%20width:%2010px;%0D%0A%20%20%20%20height:%2080px;%0D%0A%20%20%20%20top:%20110px;%0D%0A%20%20%20%20right:%2010px;%0D%0A%20%20%20%20background-color:%20slateblue;%0D%0A%20%20%20%20transition:%20top%200.2s%20ease-in-out;%0D%0A%7D%0D%0A%0D%0A#ball%20%7B%0D%0A%20%20%20%20width:%2020px;%0D%0A%20%20%20%20height:%2020px;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20top:%20140px;%0D%0A%20%20%20%20left:%20240px;%0D%0A%20%20%20%20background-color:%20skyblue;%0D%0A%7D%0D%0A%0D%0A#playPause%20%7B%0D%0A%20%20%20%20width:%20150px;%0D%0A%20%20%20%20top:%205%25;%0D%0A%20%20%20%20background-color:%20black;%0D%0A%20%20%20%20color:%20skyblue;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20font-size:%2030px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%7D%0D%0A%0D%0A#instruction%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20color:%20darkgray;%0D%0A%20%20%20%20top:%2010%25;%0D%0A%20%20%20%20font-size:%2024px;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0D%0Avar%20playPause%20=%20document.querySelector('#playPause');%0D%0Avar%20pong%20=%20document.querySelector('#pong');%0D%0Avar%20playerPad%20=%20document.querySelector('#playerPad');%0D%0Avar%20aiPad%20=%20document.querySelector('#aiPad');%0D%0Avar%20ball%20=%20document.querySelector('#ball');%0D%0A%0D%0Avar%20ballLeft%20=%20240;%0D%0Avar%20ballTop%20=%20140;%0D%0Avar%20ballSpeed%20=%2010;%0D%0Avar%20ballSpeedX%20=%200;%0D%0Avar%20ballSpeedY%20=%200;%0D%0Avar%20maxSpeed%20=%2015;%0D%0A%0D%0Avar%20aiError%20=%2040;%0D%0Avar%20aiTurn%20=%20true;%0D%0A%0D%0Avar%20lostBall%20=%20false;%0D%0A%0D%0Avar%20minLeft%20=%20playerPad.offsetLeft%20+%20playerPad.offsetWidth;%0D%0Avar%20maxLeft%20=%20aiPad.offsetLeft%20-%20ball.offsetWidth;%0D%0A%0D%0Avar%20maxFPS%20=%2030;%0D%0Avar%20frameInterval%20=%201000%20/%20maxFPS;%0D%0Avar%20timePrevFrame%20=%20Date.now();%0D%0A%0D%0Adocument.onmousemove%20=%20updatePlayerPadPosition;%0D%0AplayPause.onclick%20=%20playOrPause;%0D%0A%0D%0Arender();%0D%0A%0D%0Afunction%20render()%20%7B%0D%0A%20%20%20%20var%20timeThisFrame%20=%20Date.now();%0D%0A%20%20%20%20var%20elapsed%20=%20timeThisFrame%20-%20timePrevFrame;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(elapsed%20%3E%20frameInterval)%20%7B%0D%0A%20%20%20%20%20%20%20%20timePrevFrame%20=%20timeThisFrame%20-%20(elapsed%20%25%20frameInterval);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20requestAnimationFrame(animatePong);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20requestAnimationFrame(render);%0D%0A%7D%0D%0A%0D%0Afunction%20animatePong()%20%7B%0D%0A%20%20%20%20ballLeft%20+=%20ballSpeedX;%0D%0A%20%20%20%20ballTop%20+=%20ballSpeedY;%0D%0A%20%20%20%20%0D%0A%20%20%20%20checkLoss();%0D%0A%20%20%20%20updateAiPadPosition();%0D%0A%20%20%20%20checkWallRebound();%0D%0A%20%20%20%20checkPadRebound();%0D%0A%20%20%20%20%0D%0A%20%20%20%20ball.style.left%20=%20ballLeft%20+%20%22px%22;%0D%0A%20%20%20%20ball.style.top%20=%20ballTop%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20checkLoss()%20%7B%0D%0A%20%20%20%20if%20(ballLeft%20+%20ball.offsetWidth%20%3C%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20aiError%20/=%200.9;%0D%0A%20%20%20%20%20%20%20%20resetPong();%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(ballLeft%20%3E%20pong.offsetWidth)%20%7B%0D%0A%20%20%20%20%20%20%20%20aiError%20*=%200.9;%0D%0A%20%20%20%20%20%20%20%20resetPong();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20resetPong()%20%7B%0D%0A%20%20%20%20ballTop%20=%20140;%0D%0A%20%20%20%20ballLeft%20=%20240;%0D%0A%20%20%20%20ballSpeedX%20=%200;%0D%0A%20%20%20%20ballSpeedY%20=%200;%0D%0A%20%20%20%20lostBall%20=%20false;%0D%0A%0D%0A%20%20%20%20playPause.innerText%20=%20%22PLAY%22;%0D%0A%7D%0D%0A%0D%0Afunction%20updateAiPadPosition()%20%7B%0D%0A%20%20%20%20if%20(aiTurn)%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20determine%20whether%20ball%20has%20moved%20pass%2080%25%20across%20its%20container%0D%0A%20%20%20%20%20%20%20%20var%20inRange%20=%20ballLeft%20%3E%20pong.offsetWidth%20*%200.8;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(inRange)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20aiPad.offsetHeight;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20distance%20=%20aiPad.offsetLeft%20-%20ballLeft%20-%20ball.offsetWidth;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20eta%20=%20distance%20/%20ballSpeedX;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20estimate%20=%20ballTop%20+%20ballSpeedY%20*%20eta;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20padTop%20=%20estimate%20-%20aiPad.offsetHeight%20/%202;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20padTop%20=%20padTop%20+%20randomRange(aiError,%20-aiError);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20padTop%20=%20Math.max(padTop,%200);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20padTop%20=%20Math.min(padTop,%20maxTop);%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20aiPad.style.top%20=%20padTop%20+%20'px';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20aiTurn%20=%20false;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log(%60AI%20moves%20to%20$%7BpadTop%7Dpx.%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkWallRebound()%20%7B%0D%0A%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20ball.offsetHeight;%0D%0A%0D%0A%20%20%20%20//%20%20check%20whether%20top%20position%20of%20the%20ball%20is%20beyond%20the%20top%20or%20bottom%20boundaries%0D%0A%20%20%20%20if%20(ballTop%20%3C=%200%20%7C%7C%20ballTop%20%3E=%20maxTop)%20%7B%0D%0A%20%20%20%20%20%20%20%20randomiseSpeed();%0D%0A%20%20%20%20%20%20%20%20//%20%20reverse%20vertical%20movement%0D%0A%20%20%20%20%20%20%20%20ballSpeedY%20*=%20-1;%0D%0A%20%20%20%20%20%20%20%20//%20%20clamp%20top%20position%20to%20no%20smaller%20than%200%0D%0A%20%20%20%20%20%20%20%20ballTop%20=%20Math.max(ballTop,%200);%0D%0A%20%20%20%20%20%20%20%20//%20%20clamp%20top%20postion%20no%20bigger%20than%20maxTop%0D%0A%20%20%20%20%20%20%20%20ballTop%20=%20Math.min(ballTop,%20maxTop);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20randomiseSpeed()%20%7B%0D%0A%20%20%20%20//%20%20store%20movement%20directions%20before%20randomising%0D%0A%20%20%20%20var%20hDir%20=%20ballSpeedX%20/%20Math.abs(ballSpeedX);%0D%0A%20%20%20%20var%20vDir%20=%20ballSpeedY%20/%20Math.abs(ballSpeedY);%0D%0A%0D%0A%20%20%20%20//%20%20apply%20random%20modifier%20to%20horizontal%20speed%20of%20the%20ball%0D%0A%20%20%20%20ballSpeedX%20*=%20randomRange(0.9,%201.1);%0D%0A%20%20%20%20//%20%20clamp%20the%20horizontal%20speed%20to%20no%20smaller%20than%20half%20the%20overalll%20speed%0D%0A%20%20%20%20ballSpeedX%20=%20hDir%20*%20Math.max(ballSpeedX,%20ballSpeed%20/%202);%0D%0A%20%20%20%20//%20%20adjust%20the%20vertical%20speed%20to%20maintain%20overall%20speed%0D%0A%20%20%20%20ballSpeedY%20=%20vDir%20*%20Math.sqrt(ballSpeed%20**%202%20-%20ballSpeedX%20**%202);%0D%0A%7D%0D%0A%0D%0Afunction%20checkPadRebound()%20%7B%0D%0A%20%20%20%20//%20%20check%20whether%20ball%20has%20moved%20passed%20the%20player%20pad%0D%0A%20%20%20%20if%20(ballLeft%20%3C=%20minLeft)%20%7B%0D%0A%20%20%20%20%20%20%20%20checkPadCollision(playerPad);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20//%20%20check%20whether%20ball%20has%20moved%20passed%20the%20AI%20pad%0D%0A%20%20%20%20else%20if%20(ballLeft%20%3E=%20maxLeft)%20%7B%0D%0A%20%20%20%20%20%20%20%20checkPadCollision(aiPad);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkPadCollision(pad)%20%7B%0D%0A%20%20%20%20var%20lowerTop%20=%20pad.offsetTop%20-%20ball.offsetHeight;%0D%0A%20%20%20%20var%20upperTop%20=%20pad.offsetTop%20+%20pad.offsetHeight;%0D%0A%20%20%20%20var%20contact%20=%20ballTop%20%3E=%20lowerTop%20&&%20ballTop%20%3C=%20upperTop;%0D%0A%20%20%20%20var%20ballRadius%20=%20ball.offsetHeight%20/%202;%0D%0A%20%20%20%20//%20%20determine%20whether%20contact%20if%20a%20valid%20catch%0D%0A%20%20%20%20var%20validCatch%20=%20ballTop%20%3E=%20lowerTop%20+%20ballRadius%20&&%20ballTop%20%3C=%20upperTop%20-%20ballRadius;%0D%0A%0D%0A%20%20%20%20if%20(contact)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(lostBall)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20reverse%20vertical%20movement%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ballSpeedY%20*=%20-1;%20%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(validCatch)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20randomiseSpeed();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20reverse%20horizontal%20movement%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ballSpeedX%20*=%20-1;%0D%0A%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(pad%20==%20playerPad)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%20increase%20ball%20movement%20speed%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ballSpeed%20+=%200.1;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%20clamp%20at%20maximum%20speed%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ballSpeed%20=%20Math.min(ballSpeed,%20maxSpeed);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%20correct%20any%20clipping%20by%20the%20player%20pad%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ballLeft%20=%20minLeft;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20aiTurn%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(pad%20==%20aiPad)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20%20correct%20any%20clipping%20by%20the%20AI%20pad%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ballLeft%20=%20maxLeft;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20lostBall%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updatePlayerPadPosition()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PAUSE')%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20containerTop%20=%20pong.offsetTop%20+%20game.offsetTop;%0D%0A%20%20%20%20%20%20%20%20var%20cursorTop%20=%20event.clientY%20-%20containerTop;%0D%0A%20%20%20%20%20%20%20%20var%20padTop%20=%20cursorTop%20-%20playerPad.offsetHeight%20/%202;%0D%0A%20%20%20%20%20%20%20%20var%20maxTop%20=%20pong.offsetHeight%20-%20playerPad.offsetHeight;%0D%0A%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.min(padTop,%20maxTop);%0D%0A%20%20%20%20%20%20%20%20padTop%20=%20Math.max(padTop,%200);%0D%0A%0D%0A%20%20%20%20%20%20%20%20playerPad.style.top%20=%20padTop%20+%20%22px%22;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20playOrPause()%20%7B%0D%0A%20%20%20%20if%20(playPause.innerText%20==%20'PLAY')%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PAUSE';%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20%20check%20whether%20speed%20is%20zero%0D%0A%20%20%20%20%20%20%20%20if%20(ballSpeedX%20===%200%20&&%20ballSpeedY%20===%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ballSpeedX%20=%20randomRange(0.5,%200.8)%20*%20ballSpeed;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ballSpeedY%20=%20Math.sqrt(ballSpeed%20**%202%20-%20ballSpeedX%20**%202);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20randomiseDirection();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20playPause.innerText%20=%20'PLAY';%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20randomiseDirection()%20%7B%0D%0A%20%20%20%20var%20moveLeft%20=%20Math.random()%20%3E%200.5;%0D%0A%20%20%20%20var%20moveUp%20=%20Math.random()%20%3E%200.5;%0D%0A%20%20%20%20%0D%0A%20%20%20%20aiTurn%20=%20!moveLeft;%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(moveLeft)%20%7B%0D%0A%20%20%20%20%20%20%20%20ballSpeedX%20*=%20-1;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20if%20(moveUp)%20%7B%0D%0A%20%20%20%20%20%20%20%20ballSpeedY%20*=%20-1;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Afunction%20randomRange(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20const%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Awindow.onload%20=%20window.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%20%20%20%20%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_19E####LOGIC_19####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_19E####STEP_19E##