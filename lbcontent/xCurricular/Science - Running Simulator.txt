16##STEP_1####INST_1##Introduction%0A%0A%0A%0A(***)%0A%0A(!)Start%20the%20race.##INST_1E####CODE_1####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%09%3Clink%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch4%3ERUNNING%20SIMULATOR%3C/h4%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20LEDDER?%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Ch4%20id=%22stopwatch%22%3E00:00:00%3C/h4%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22world%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22https://app.bsd.education/resources/science_running_simulator_ground.png%22%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22start%22%20disabled%3EGo!%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22jog%22%3EJog%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22run%22%3ERun%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22sprint%22%3ESprint%3C/button%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##/*%20CSS%20*/%0D%0A*%20%7B%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20font-family:%20sans-serif;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Ah4,%20h6%20%7B%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Ah6%20%7B%0D%0A%20%20%20%20margin:%205px%200%200%200;%0D%0A%7D%0D%0A%0D%0Ap%20%7B%0D%0A%20%20%20%20color:%20#ffbf00;%0D%0A%20%20%20%20font-size:%2014px;%0D%0A%20%20%20%20line-height:%2018px;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Aimg,%20#energy%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#game,%20.cherry%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#popup%20%3E%20button%20%7B%0D%0A%20%20%20%20width:%20100px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%206px;%0D%0A%20%20%20%20font-weight:%20bold;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2060px;%0D%0A%20%20%20%20margin:%200%2010px;%0D%0A%20%20%20%20border:%20gray%205px%20solid;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20cursor:%20pointer%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20background:%20darkgray;%0D%0A%7D%0D%0A%0D%0A#world%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20240px;%0D%0A%20%20%20%20margin:%2020px%200;%0D%0A%20%20%20%20background:%20skyblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#cloud%20%7B%0D%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0D%0A%7D%0D%0A%0D%0A#energy%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2010px;%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#progress%20%7B%0D%0A%20%20%20%20width:%2080%25;%0D%0A%20%20%20%20height:%2015px;%0D%0A%7D%0D%0A%0D%0A#ground%20%7B%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%7D%0D%0A%0D%0A#popup%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width%20:%20260px;%0D%0A%20%20%20%20height:%20110px;%0D%0A%20%20%20%20left:%20calc(50%25%20-%20130px);%0D%0A%20%20%20%20margin-top:%2010px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20box-shadow:%200%200%202px%202px%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background:%20rgba(0,%200,%200,%200.5);%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##//%20JavaScript%0D%0Avar%20start,%20world,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0A%0D%0A//%20starting%20mode:%200%20is%20idle,%201%20is%20jog,%202%20is%20run,%203%20is%20sprint%0D%0Avar%20mode%20=%200;%0D%0Avar%20paused%20=%20true;%0D%0Avar%20exhausted%20=%20false;%0D%0Avar%20cherries%20=%20%5B0.3,%200.7%5D;%0D%0Avar%20clouds%20=%20%5B%5D;%0D%0Avar%20link%20=%20%7B%0D%0A%20%20%20%20ready:%20%22https://app.bsd.education/resources/science_running_simulator_ready.gif%22,%0D%0A%20%20%20%20jog:%20%22https://app.bsd.education/resources/science_running_simulator_jog.gif%22,%0D%0A%20%20%20%20run:%20%22https://app.bsd.education/resources/science_running_simulator_run.gif%22,%0D%0A%20%20%20%20sprint:%20%22https://app.bsd.education/resources/science_running_simulator_sprint.gif%22,%0D%0A%20%20%20%20exhausted:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%20%20%20%20finish:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20stopwatch%20=%20document.querySelector(%22#stopwatch%22);%0D%0A%20%20%20%20progress%20=%20document.querySelector(%22#progress%22);%0D%0A%20%20%20%20energy%20=%20document.querySelector(%22#energy%22);%0D%0A%20%20%20%20info%20=%20document.querySelector(%22#info%22);%0D%0A%20%20%20%20world%20=%20document.querySelector(%22#world%22);%0D%0A%20%20%20%20start%20=%20document.querySelector(%22#start%22);%0D%0A%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%205000;%0D%0A%0D%0A%20%20%20%20loadAnimation();%0D%0A%20%20%20%20requestAnimationFrame(updateWorld);%0D%0A%0D%0A%20%20%20%20resize();%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link.ready;%0D%0A%0D%0A%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20world.appendChild(runner);%0D%0A%0D%0A%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%20%20%20%20createCloud();%0D%0A%0D%0A%20%20%20%20start.onclick%20=%20startRace;%0D%0A%20%20%20%20%0D%0A%20%20%20%20jog.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20run.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22run%22);%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20sprint.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22sprint%22);%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%7D%0D%0A%0D%0Afunction%20startRace()%20%7B%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.max%20=%20100;%0D%0A%20%20%20%20timer%20=%20Date.now();%0D%0A%20%20%20%20paused%20=%20false;%0D%0A%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20start.disabled%20=%20true;%0D%0A%7D%0D%0A%0D%0Afunction%20loadAnimation(n%20=%200)%20%7B%0D%0A%20%20%20%20var%20img%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20var%20src%20=%20Object.values(link)%5Bn%5D;%0D%0A%0D%0A%20%20%20%20img.src%20=%20src;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Loading:%20%3Cspan%20style='color:green'%3E%22%20+%20src.match(/%5Cw+%5C.gif/i)%5B0%5D%20+%20%22%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20img.onload%20=%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(n%20%3C%20Object.values(link).length%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20loadAnimation(n%20+%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20iniWorld();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20updateWorld(timestamp)%20%7B%0D%0A%20%20%20%20if%20(!lastUpdate)%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20delta%20=%20timestamp%20-%20lastUpdate;%0D%0A%20%20%20%20updateClouds();%0D%0A%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(progress.value%20==%20progress.max)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(%22finish%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20finisher();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateStopWatch();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updatePerformance();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateCherry();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateRunnerPos();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D%0D%0A%0D%0Afunction%20updatePerformance()%20%7B%0D%0A%20%20%20%20energy.value%20+=%20energyGain;%0D%0A%0D%0A%20%20%20%20if%20(energy.value%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted%20&&%20energy.value%20%3E%2060)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20exhausted%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20progress.value%20+=%20delta%20*%20speed;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22exhausted%22);%0D%0A%20%20%20%20%20%20%20%20exhausted%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateCherry()%20%7B%0D%0A%20%20%20%20//%20%20check%20whether%20runner%20progress%20percentage%20is%20greater%20than%0D%0A%20%20%20%20//%20%20the%20first%20cherry%20position%20value%0D%0A%20%20%20%20if%20(progress.value%20/%20progress.max%20%3E=%20cherries%5B0%5D)%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20image%20element%0D%0A%20%20%20%20%20%20%20%20var%20cherry%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20attributes%0D%0A%20%20%20%20%20%20%20%20cherry.className%20=%20%22cherry%22;%0D%0A%20%20%20%20%20%20%20%20cherry.src%20=%20%22https://app.bsd.education/resources/science_running_simulator_cherry.png%22;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20cherry.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20add%20image%20to%20HTML%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.appendChild(cherry);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20style%20image%20size%20and%20position%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cherry.style.width%20=%20%2230px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cherry.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cherry.style.left%20=%20%22100%25%22;%0D%0A%20%20%20%20%20%20%20%20%7D;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20//%20%20remove%20the%20first%20item%20from%20cherries%20array%0D%0A%20%20%20%20%20%20%20%20cherries.splice(0,%201);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20iterate%20through%20all%20cherry%20images%0D%0A%20%20%20%20document.querySelectorAll(%22.cherry%22).forEach(cherry%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20cherry.style.left%20=%20(cherry.offsetLeft%20-%20delta%20*%20speed)%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20//%20%20check%20if%20cherry%20collides%20with%20runner%0D%0A%20%20%20%20%20%20%20%20if%20(cherry.offsetLeft%20%3C%20runner.offsetLeft%20+%20runner.offsetWidth)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.removeChild(cherry);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energy.value%20=%20Math.min(energy.value%20+%2050,%20energy.max);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20updateRunnerPos()%20%7B%0D%0A%20%20%20%20if%20(runner.offsetLeft%20!=%20world.clientWidth%20*%20runnerPos%20&&%20!exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20offset%20=%20(runner.offsetLeft%20-%20world.clientWidth%20*%20runnerPos)%20*%20delta%20/%201000;%0D%0A%20%20%20%20%20%20%20%20move(runner,%20offset);%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateStopWatch()%20%7B%0D%0A%20%20%20%20var%20elapsed%20=%20Date.now()%20-%20timer;%0D%0A%20%20%20%20var%20m%20=%20Math.floor(elapsed%20/%2060000%20%25%2060);%0D%0A%20%20%20%20var%20s%20=%20Math.floor(elapsed%20/%201000%20%25%2060);%0D%0A%20%20%20%20var%20ms%20=%20Math.floor(elapsed%20/%2010%20%25%20100);%0D%0A%0D%0A%20%20%20%20stopwatch.innerHTML%20=%20pad(m)%20+%20%22:%22%20+%20pad(s)%20+%20%22:%22%20+%20pad(ms);%0D%0A%7D%0D%0A%0D%0Afunction%20createCloud()%20%7B%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20cloud%20=%20document.createElement(%22img%22),%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20d%20=%20range(-15,%2080);%0D%0A%0D%0A%20%20%20%20%20%20%20%20cloud.src%20=%20%22https://app.bsd.education/resources/science_running_simulator_cloud.png%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20cloud.onload%20=%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.top%20=%20d%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.left%20=%20world.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.width%20=%20remap(d,%20-15,%2080,%2080,%2040)%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.appendChild(cloud);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.unshift(cloud);%0D%0A%20%20%20%20%20%20%20%20%7D;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20requestAnimationFrame(()%20=%3E%20setTimeout(createCloud,%20cloudSeed()%20*%201000));%0D%0A%7D%0D%0A%0D%0Afunction%20cloudSeed()%20%7B%0D%0A%20%20%20%20return%20range(3,%2010)%20/%20remap(speed,%200,%200.15,%201,%204);%0D%0A%7D%0D%0A%0D%0Afunction%20updateClouds()%20%7B%0D%0A%20%20%20%20clouds.forEach(function%20(c,%20i)%20%7B%0D%0A%20%20%20%20%20%20%20%20move(c,%20Math.max(delta%20*%20speed,%200.5)%20*%20c.offsetWidth%20/%2080);%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(c.offsetLeft%20%3C=%20-c.offsetWidth)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.removeChild(c);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.splice(i,%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20setMode(m)%20%7B%0D%0A%20%20%20%20if%20(!exhausted%20&&%20!paused%20&&%20mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20mode%20=%20m%20;%0D%0A%20%20%20%20%20%20%20%20runner.src%20=%20link%5Bmode%5D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20start%20jogging%0D%0A%20%20%20%20%20%20%20%20if%20(mode%20==%20%22jog%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.3;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.06;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3EJOGGING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20start%20running%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22run%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.4;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.1;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.08;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ERUNNING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20start%20sprinting%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22sprint%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.55;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.15;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.2;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ESPRINTING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20become%20exhausted%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22exhausted%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:firebrick'%3EEXHAUSHTED%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20finisher%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22finish%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20paused%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EFINISHER!%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert(%22You're%20exhausted,%20wait%20until%20your%20energy%20recovers%20to%2060%25.%22);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('Click%20%22Go!%22%20to%20start%20the%20race.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20finisher()%20%7B%0D%0A%20%20%20%20var%20popup%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20var%20resetButton%20=%20document.createElement(%22button%22);%0D%0A%0D%0A%20%20%20%20popup.id%20=%20%22popup%22;%0D%0A%20%20%20%20popup.innerHTML%20=%20%22%3Cp%3ECongratulations!%20You%20have%20finished%20the%20race.%3C/p%3E%22;%0D%0A%20%20%20%20resetButton.id%20=%20%22reset%22;%0D%0A%20%20%20%20resetButton.innerHTML%20=%20%22REPLAY%22;%0D%0A%20%20%20%20resetButton.onclick%20=%20reset;%0D%0A%20%20%20%20world.appendChild(popup);%0D%0A%20%20%20%20popup.appendChild(resetButton);%0D%0A%7D%0D%0A%0D%0Afunction%20reset()%20%7B%0D%0A%20%20%20%20world.removeChild(popup);%0D%0A%20%20%20%20runner.src%20=%20link.ready;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20stopwatch.innerHTML%20=%20%2200:00:00%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Afunction%20pos(e,%20p)%20%7B%0D%0A%20%20%20%20return%20parseFloat(window.getComputedStyle(e).getPropertyValue(p));%0D%0A%7D%0D%0A%0D%0Afunction%20move(e,%20d)%20%7B%0D%0A%20%20%20%20e.style.left%20=%20pos(e,%20%22left%22)%20-%20d%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20clamp(v,%20min,%20max)%20%7B%0D%0A%20%20%20%20return%20Math.max(min,%20Math.min(v,%20max));%0D%0A%7D%0D%0A%0D%0Afunction%20range(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20var%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Afunction%20remap(v,%20iMin,%20iMax,%20oMin,%20oMax)%20%7B%0D%0A%20%20%20%20return%20oMin%20+%20(v%20-%20iMin)%20*%20(oMax%20-%20oMin)%20/%20(iMax%20-%20iMin);%0D%0A%7D%0D%0A%0D%0Afunction%20pad(n)%20%7B%0D%0A%20%20%20%20return%20n.toString().length%20==%202%20?%20n%20:%20'0'%20+%20n.toString();%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.transform%20=%20%60scale($%7BgameRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20game.offsetWidth%20:%20window.innerHeight%20/%20game.offsetHeight%7D)%60;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_1E####LOGIC_1####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.on(%60startRace%60);##JS_E####LOGIC_1E####STEP_1E####STEP_2####INST_2##The%20progress%20element%0A%0AStep%20context.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#html#%3Ch6%3E%5D%0A%09(*)%5B#html#%3Cprogress%3E%5D%0A%09(*)%5B#html#id%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+html#world#+1,%20create%20an%20%60%3Ch6%3E%60%20element%20and%20add%20the%20text%20*Progress*%20between%20the%20tags.%0A%0A(!)On%20+html#world#+2,%20create%20a%20%60%3Cprogress%3E%60%20element%20and%20set%20the%20%60id%60%20attribute%20to%20*progress*.%0A%0A(%3E%3Escript.js)%0A%0A(!)On%20+js#%5C#ground#+2,%20%20##INST_2E####CODE_2####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%09%3Clink%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch4%3ERUNNING%20SIMULATOR%3C/h4%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20RACE?%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22world%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#%3Ch6%3EProgress%3C/h6%3E#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#%3Cprogress%20id=%22progress%22%3E%3C/progress%3E#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22https://app.bsd.education/resources/science_running_simulator_ground.png%22%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E##HTML_E####CSS##/*%20CSS%20*/%0D%0A*%20%7B%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20font-family:%20sans-serif;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Ah4,%20h6%20%7B%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Ah6%20%7B%0D%0A%20%20%20%20margin:%205px%200%200%200;%0D%0A%7D%0D%0A%0D%0Ap%20%7B%0D%0A%20%20%20%20color:%20#ffbf00;%0D%0A%20%20%20%20font-size:%2014px;%0D%0A%20%20%20%20line-height:%2018px;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Aimg,%20#energy%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#game,%20.cherry%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#popup%20%3E%20button%20%7B%0D%0A%20%20%20%20width:%20100px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%206px;%0D%0A%20%20%20%20font-weight:%20bold;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2060px;%0D%0A%20%20%20%20margin:%200%2010px;%0D%0A%20%20%20%20border:%20gray%205px%20solid;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20cursor:%20pointer%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20background:%20darkgray;%0D%0A%7D%0D%0A%0D%0A#world%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20240px;%0D%0A%20%20%20%20margin:%2020px%200;%0D%0A%20%20%20%20background:%20skyblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#cloud%20%7B%0D%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0D%0A%7D%0D%0A%0D%0A#energy%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2010px;%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#progress%20%7B%0D%0A%20%20%20%20width:%2080%25;%0D%0A%20%20%20%20height:%2015px;%0D%0A%7D%0D%0A%0D%0A#ground%20%7B%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%7D%0D%0A%0D%0A#popup%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width%20:%20260px;%0D%0A%20%20%20%20height:%20110px;%0D%0A%20%20%20%20left:%20calc(50%25%20-%20130px);%0D%0A%20%20%20%20margin-top:%2010px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20box-shadow:%200%200%202px%202px%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background:%20rgba(0,%200,%200,%200.5);%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##//%20JavaScript%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20resize();%0D%0A%7D;%0D%0A%0D%0Awindow.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.transform%20=%20%60scale($%7BgameRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20game.offsetWidth%20:%20window.innerHeight%20/%20game.offsetHeight%7D)%60;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_2E####LOGIC_2####HTML##//%20Expectation:%0Apass.if.html.editable(0).equivalent(%60%3Ch6%3EProgress%3C/h6%3E%60);%0Apass.if.html.editable(1).equivalent(%60%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%60);##HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_2E####STEP_2E####STEP_3####INST_3##Progress%20current%20and%20max%20values%0A%0AStep%20context.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#value%5D%0A%09(*)%5B#js#max%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#%5C#ground#+2,%20assign%20the%20number%20*0*%20as%20the%20displayed%20value%20of%20the%20*progress*%20element.%0A%0A(!)On%20+js#%5C#ground#+3,%20assign%20the%20number%20*5000*%20as%20the%20maximum%20value%20of%20the%20*progress*%20element.##INST_3E####CODE_3####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%09%3Clink%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch4%3ERUNNING%20SIMULATOR%3C/h4%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20RACE?%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22world%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22https://app.bsd.education/resources/science_running_simulator_ground.png%22%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##/*%20CSS%20*/%0D%0A*%20%7B%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20font-family:%20sans-serif;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Ah4,%20h6%20%7B%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Ah6%20%7B%0D%0A%20%20%20%20margin:%205px%200%200%200;%0D%0A%7D%0D%0A%0D%0Ap%20%7B%0D%0A%20%20%20%20color:%20#ffbf00;%0D%0A%20%20%20%20font-size:%2014px;%0D%0A%20%20%20%20line-height:%2018px;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Aimg,%20#energy%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#game,%20.cherry%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#popup%20%3E%20button%20%7B%0D%0A%20%20%20%20width:%20100px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%206px;%0D%0A%20%20%20%20font-weight:%20bold;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2060px;%0D%0A%20%20%20%20margin:%200%2010px;%0D%0A%20%20%20%20border:%20gray%205px%20solid;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20cursor:%20pointer%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20background:%20darkgray;%0D%0A%7D%0D%0A%0D%0A#world%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20240px;%0D%0A%20%20%20%20margin:%2020px%200;%0D%0A%20%20%20%20background:%20skyblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#cloud%20%7B%0D%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0D%0A%7D%0D%0A%0D%0A#energy%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2010px;%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#progress%20%7B%0D%0A%20%20%20%20width:%2080%25;%0D%0A%20%20%20%20height:%2015px;%0D%0A%7D%0D%0A%0D%0A#ground%20%7B%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%7D%0D%0A%0D%0A#popup%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width%20:%20260px;%0D%0A%20%20%20%20height:%20110px;%0D%0A%20%20%20%20left:%20calc(50%25%20-%20130px);%0D%0A%20%20%20%20margin-top:%2010px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20box-shadow:%200%200%202px%202px%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background:%20rgba(0,%200,%200,%200.5);%0D%0A%7D%0D%0A##CSS_E####JS##//%20JavaScript%0D%0Avar%20progress;%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20progress%20=%20document.querySelector(%22#progress%22);%0D%0A%0D%0A%20%20%20%20#BEGIN_EDITABLE#progress.value%20=%200;#END_EDITABLE#%0D%0A%20%20%20%20#BEGIN_EDITABLE#progress.max%20=%205000;#END_EDITABLE#%0D%0A%0D%0A%20%20%20%20resize();%0D%0A%7D;%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Awindow.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.transform%20=%20%60scale($%7BgameRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20game.offsetWidth%20:%20window.innerHeight%20/%20game.offsetHeight%7D)%60;%0D%0A%7D%0D%0A##JS_E####CODE_3E####LOGIC_3####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60progress.value%20=%200;%60);%0Apass.if.js.editable(1).equivalent(%60progress.max%20=%205000;%60);##JS_E####LOGIC_3E####STEP_3E####STEP_4####INST_4##Runner%20energy%20bar%0A%0AStep%20context.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#html#%3Cprogress%3E%5D%0A%09(*)%5B#html#id%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+html#info#+1,%20create%20a%20%60%3Cprogress%3E%60%20element%20and%20set%20the%20%60id%60%20attribute%20to%20*energy*.%0A%0A(%3E%3Escript.js)%0A%0A(!)On%20+js#on%20start#+1,%20assign%20the%20number%20*100*%20as%20the%20display%20value%20of%20the%20*energy*%20element.%0A%0A(!)On%20+js#on%20start#+2,%20assign%20the%20number%20*100*%20as%20the%20maximum%20value%20of%20the%20*energy*%20element.##INST_4E####CODE_4####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%09%3Clink%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch4%3ERUNNING%20SIMULATOR%3C/h4%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20RACE?%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22world%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#%3Cprogress%20id=%22energy%22%3E%3C/progress%3E#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22https://app.bsd.education/resources/science_running_simulator_ground.png%22%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22start%22%20disabled%3EGo!%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22jog%22%3EJog%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22run%22%3ERun%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22sprint%22%3ESprint%3C/button%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E##HTML_E####CSS##/*%20CSS%20*/%0D%0A*%20%7B%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20font-family:%20sans-serif;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Ah4,%20h6%20%7B%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Ah6%20%7B%0D%0A%20%20%20%20margin:%205px%200%200%200;%0D%0A%7D%0D%0A%0D%0Ap%20%7B%0D%0A%20%20%20%20color:%20#ffbf00;%0D%0A%20%20%20%20font-size:%2014px;%0D%0A%20%20%20%20line-height:%2018px;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Aimg,%20#energy%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#game,%20.cherry%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#popup%20%3E%20button%20%7B%0D%0A%20%20%20%20width:%20100px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%206px;%0D%0A%20%20%20%20font-weight:%20bold;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2060px;%0D%0A%20%20%20%20margin:%200%2010px;%0D%0A%20%20%20%20border:%20gray%205px%20solid;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20cursor:%20pointer%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20background:%20darkgray;%0D%0A%7D%0D%0A%0D%0A#world%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20240px;%0D%0A%20%20%20%20margin:%2020px%200;%0D%0A%20%20%20%20background:%20skyblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#cloud%20%7B%0D%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0D%0A%7D%0D%0A%0D%0A#energy%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2010px;%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#progress%20%7B%0D%0A%20%20%20%20width:%2080%25;%0D%0A%20%20%20%20height:%2015px;%0D%0A%7D%0D%0A%0D%0A#ground%20%7B%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%7D%0D%0A%0D%0A#popup%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width%20:%20260px;%0D%0A%20%20%20%20height:%20110px;%0D%0A%20%20%20%20left:%20calc(50%25%20-%20130px);%0D%0A%20%20%20%20margin-top:%2010px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20box-shadow:%200%200%202px%202px%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background:%20rgba(0,%200,%200,%200.5);%0D%0A%7D%0D%0A##CSS_E####JS##//%20JavaScript%0D%0Avar%20start,%20world,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0A%0D%0Avar%20paused%20=%20true;%0D%0Avar%20link%20=%20%7B%0D%0A%20%20%20%20ready:%20%22https://app.bsd.education/resources/science_running_simulator_ready.gif%22,%0D%0A%20%20%20%20jog:%20%22https://app.bsd.education/resources/science_running_simulator_jog.gif%22,%0D%0A%20%20%20%20run:%20%22https://app.bsd.education/resources/science_running_simulator_run.gif%22,%0D%0A%20%20%20%20sprint:%20%22https://app.bsd.education/resources/science_running_simulator_sprint.gif%22,%0D%0A%20%20%20%20exhausted:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%20%20%20%20finish:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20progress%20=%20document.querySelector(%22#progress%22);%0D%0A%20%20%20%20energy%20=%20document.querySelector(%22#energy%22);%0D%0A%20%20%20%20info%20=%20document.querySelector(%22#info%22);%0D%0A%20%20%20%20world%20=%20document.querySelector(%22#world%22);%0D%0A%20%20%20%20start%20=%20document.querySelector(%22#start%22);%0D%0A%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%205000;%0D%0A%0D%0A%20%20%20%20loadAnimation();%0D%0A%0D%0A%20%20%20%20resize();%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link.ready;%0D%0A%0D%0A%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20world.appendChild(runner);%0D%0A%0D%0A%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%7D%0D%0A%0D%0Afunction%20startRace()%20%7B%0D%0A%20%20%20%20#BEGIN_EDITABLE#energy.value%20=%20100;#END_EDITABLE#%0D%0A%20%20%20%20#BEGIN_EDITABLE#energy.max%20=%20100;#END_EDITABLE#%0D%0A%7D%0D%0A%0D%0Afunction%20loadAnimation(n%20=%200)%20%7B%0D%0A%20%20%20%20var%20img%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20var%20src%20=%20Object.values(link)%5Bn%5D;%0D%0A%0D%0A%20%20%20%20img.src%20=%20src;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Loading:%20%3Cspan%20style='color:green'%3E%22%20+%20src.match(/%5Cw+%5C.gif/i)%5B0%5D%20+%20%22%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20img.onload%20=%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(n%20%3C%20Object.values(link).length%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20loadAnimation(n%20+%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20iniWorld();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Awindow.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.transform%20=%20%60scale($%7BgameRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20game.offsetWidth%20:%20window.innerHeight%20/%20game.offsetHeight%7D)%60;%0D%0A%7D%0D%0A##JS_E####CODE_4E####LOGIC_4####HTML##//%20Expectation:%0Apass.if.html.editable(0).equivalent(%60%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%60);##HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60energy.value%20=%20100;%60);%0Apass.if.js.editable(1).equivalent(%60energy.max%20=%20100;%60);##JS_E####LOGIC_4E####STEP_4E####STEP_5####INST_5##Jogging%20mode%0A%0AStep%20context.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#onclick%5D%0A%09(*)%5B#js#function%20arguments%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#jog.onclick#-2,%20handle%20the%20%60start.onclick%60%20event%20using%20the%20*startRace*%20function.%0A%0A(!)On%20+js#on%20startRace#+5,%20call%20and%20pass%20*%22jog%22*%20to%20the%20*setMode*%20function.##INST_5E####CODE_5####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%09%3Clink%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch4%3ERUNNING%20SIMULATOR%3C/h4%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20RACE?%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22world%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22https://app.bsd.education/resources/science_running_simulator_ground.png%22%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22start%22%20disabled%3EGo!%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22jog%22%3EJog%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22run%22%3ERun%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22sprint%22%3ESprint%3C/button%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##/*%20CSS%20*/%0D%0A*%20%7B%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20font-family:%20sans-serif;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Ah4,%20h6%20%7B%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Ah6%20%7B%0D%0A%20%20%20%20margin:%205px%200%200%200;%0D%0A%7D%0D%0A%0D%0Ap%20%7B%0D%0A%20%20%20%20color:%20#ffbf00;%0D%0A%20%20%20%20font-size:%2014px;%0D%0A%20%20%20%20line-height:%2018px;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Aimg,%20#energy%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#game,%20.cherry%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#popup%20%3E%20button%20%7B%0D%0A%20%20%20%20width:%20100px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%206px;%0D%0A%20%20%20%20font-weight:%20bold;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2060px;%0D%0A%20%20%20%20margin:%200%2010px;%0D%0A%20%20%20%20border:%20gray%205px%20solid;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20cursor:%20pointer%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20background:%20darkgray;%0D%0A%7D%0D%0A%0D%0A#world%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20240px;%0D%0A%20%20%20%20margin:%2020px%200;%0D%0A%20%20%20%20background:%20skyblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#cloud%20%7B%0D%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0D%0A%7D%0D%0A%0D%0A#energy%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2010px;%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#progress%20%7B%0D%0A%20%20%20%20width:%2080%25;%0D%0A%20%20%20%20height:%2015px;%0D%0A%7D%0D%0A%0D%0A#ground%20%7B%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%7D%0D%0A%0D%0A#popup%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width%20:%20260px;%0D%0A%20%20%20%20height:%20110px;%0D%0A%20%20%20%20left:%20calc(50%25%20-%20130px);%0D%0A%20%20%20%20margin-top:%2010px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20box-shadow:%200%200%202px%202px%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background:%20rgba(0,%200,%200,%200.5);%0D%0A%7D%0D%0A##CSS_E####JS##//%20JavaScript%0D%0Avar%20start,%20world,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0A%0D%0A//%20starting%20mode:%200%20is%20idle,%201%20is%20jog,%202%20is%20run,%203%20is%20sprint%0D%0Avar%20mode%20=%200;%0D%0Avar%20paused%20=%20true;%0D%0Avar%20exhausted%20=%20false;%0D%0Avar%20link%20=%20%7B%0D%0A%20%20%20%20ready:%20%22https://app.bsd.education/resources/science_running_simulator_ready.gif%22,%0D%0A%20%20%20%20jog:%20%22https://app.bsd.education/resources/science_running_simulator_jog.gif%22,%0D%0A%20%20%20%20run:%20%22https://app.bsd.education/resources/science_running_simulator_run.gif%22,%0D%0A%20%20%20%20sprint:%20%22https://app.bsd.education/resources/science_running_simulator_sprint.gif%22,%0D%0A%20%20%20%20exhausted:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%20%20%20%20finish:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20progress%20=%20document.querySelector(%22#progress%22);%0D%0A%20%20%20%20energy%20=%20document.querySelector(%22#energy%22);%0D%0A%20%20%20%20info%20=%20document.querySelector(%22#info%22);%0D%0A%20%20%20%20world%20=%20document.querySelector(%22#world%22);%0D%0A%20%20%20%20start%20=%20document.querySelector(%22#start%22);%0D%0A%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%205000;%0D%0A%0D%0A%20%20%20%20loadAnimation();%0D%0A%0D%0A%20%20%20%20resize();%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link.ready;%0D%0A%0D%0A%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20world.appendChild(runner);%0D%0A%0D%0A%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20#BEGIN_EDITABLE#start.onclick%20=%20startRace;#END_EDITABLE#%0D%0A%20%20%20%20%0D%0A%20%20%20%20jog.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20startRace()%20%7B%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.max%20=%20100;%0D%0A%20%20%20%20paused%20=%20false;%0D%0A%20%20%20%20#BEGIN_EDITABLE#setMode(%22jog%22);#END_EDITABLE#%0D%0A%20%20%20%20start.disabled%20=%20true;%0D%0A%7D%0D%0A%0D%0Afunction%20loadAnimation(n%20=%200)%20%7B%0D%0A%20%20%20%20var%20img%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20var%20src%20=%20Object.values(link)%5Bn%5D;%0D%0A%0D%0A%20%20%20%20img.src%20=%20src;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Loading:%20%3Cspan%20style='color:green'%3E%22%20+%20src.match(/%5Cw+%5C.gif/i)%5B0%5D%20+%20%22%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20img.onload%20=%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(n%20%3C%20Object.values(link).length%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20loadAnimation(n%20+%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20iniWorld();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Afunction%20pos(e,%20p)%20%7B%0D%0A%20%20%20%20return%20parseFloat(window.getComputedStyle(e).getPropertyValue(p));%0D%0A%7D%0D%0A%0D%0Afunction%20move(e,%20d)%20%7B%0D%0A%20%20%20%20e.style.left%20=%20pos(e,%20%22left%22)%20-%20d%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20range(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20var%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Afunction%20remap(v,%20iMin,%20iMax,%20oMin,%20oMax)%20%7B%0D%0A%20%20%20%20return%20oMin%20+%20(v%20-%20iMin)%20*%20(oMax%20-%20oMin)%20/%20(iMax%20-%20iMin);%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.transform%20=%20%60scale($%7BgameRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20game.offsetWidth%20:%20window.innerHeight%20/%20game.offsetHeight%7D)%60;%0D%0A%7D%0D%0A##JS_E####CODE_5E####LOGIC_5####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60start.onclick%20=%20startRace;%60);%0Apass.if.js.editable(1).equivalent(%60setMode(%22jog%22);%60);##JS_E####LOGIC_5E####STEP_5E####STEP_6####INST_6##Race%20progress%20update%20-%201/2%0A%0AStep%20context.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#conditional%20statements%5D%0A%09(*)%5B#js#relational%20operators%5D%0A%09(*)%5B#js#value%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#updateRunnerPos();#-1,%20call%20the%20*updatePerformance*%20function.%0A%0A(!)On%20+js#on%20updatePerform#+1,%20create%20an%20%60if%60%20statement%20to%20check%20whether%20the%20displayed%20value%20of%20the%20*energy*%20element%20is%20greater%20than%20*0*.%0A%0A(!)On%20+js#on%20updatePerform#+2,%20create%20an%20%60else%20%60%20statement.##INST_6E####CODE_6####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%09%3Clink%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch4%3ERUNNING%20SIMULATOR%3C/h4%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20RACE?%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22world%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22https://app.bsd.education/resources/science_running_simulator_ground.png%22%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22start%22%20disabled%3EGo!%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22jog%22%3EJog%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22run%22%3ERun%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22sprint%22%3ESprint%3C/button%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A*%20%7B%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20font-family:%20sans-serif;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Ah4,%20h6%20%7B%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Ah6%20%7B%0D%0A%20%20%20%20margin:%205px%200%200%200;%0D%0A%7D%0D%0A%0D%0Ap%20%7B%0D%0A%20%20%20%20color:%20#ffbf00;%0D%0A%20%20%20%20font-size:%2014px;%0D%0A%20%20%20%20line-height:%2018px;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Aimg,%20#energy%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#game,%20.cherry%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#popup%20%3E%20button%20%7B%0D%0A%20%20%20%20width:%20100px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%206px;%0D%0A%20%20%20%20font-weight:%20bold;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2060px;%0D%0A%20%20%20%20margin:%200%2010px;%0D%0A%20%20%20%20border:%20gray%205px%20solid;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20cursor:%20pointer%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20background:%20darkgray;%0D%0A%7D%0D%0A%0D%0A#world%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20240px;%0D%0A%20%20%20%20margin:%2020px%200;%0D%0A%20%20%20%20background:%20skyblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#cloud%20%7B%0D%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0D%0A%7D%0D%0A%0D%0A#energy%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2010px;%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#progress%20%7B%0D%0A%20%20%20%20width:%2080%25;%0D%0A%20%20%20%20height:%2015px;%0D%0A%7D%0D%0A%0D%0A#ground%20%7B%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%7D%0D%0A%0D%0A#popup%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width%20:%20260px;%0D%0A%20%20%20%20height:%20110px;%0D%0A%20%20%20%20left:%20calc(50%25%20-%20130px);%0D%0A%20%20%20%20margin-top:%2010px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20box-shadow:%200%200%202px%202px%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background:%20rgba(0,%200,%200,%200.5);%0D%0A%7D%0D%0A##CSS_E####JS##//%20JavaScript%0D%0Avar%20start,%20world,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0A%0D%0A//%20starting%20mode:%200%20is%20idle,%201%20is%20jog,%202%20is%20run,%203%20is%20sprint%0D%0Avar%20mode%20=%200;%0D%0Avar%20paused%20=%20true;%0D%0Avar%20exhausted%20=%20false;%0D%0Avar%20link%20=%20%7B%0D%0A%20%20%20%20ready:%20%22https://app.bsd.education/resources/science_running_simulator_ready.gif%22,%0D%0A%20%20%20%20jog:%20%22https://app.bsd.education/resources/science_running_simulator_jog.gif%22,%0D%0A%20%20%20%20run:%20%22https://app.bsd.education/resources/science_running_simulator_run.gif%22,%0D%0A%20%20%20%20sprint:%20%22https://app.bsd.education/resources/science_running_simulator_sprint.gif%22,%0D%0A%20%20%20%20exhausted:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%20%20%20%20finish:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20progress%20=%20document.querySelector(%22#progress%22);%0D%0A%20%20%20%20energy%20=%20document.querySelector(%22#energy%22);%0D%0A%20%20%20%20info%20=%20document.querySelector(%22#info%22);%0D%0A%20%20%20%20world%20=%20document.querySelector(%22#world%22);%0D%0A%20%20%20%20start%20=%20document.querySelector(%22#start%22);%0D%0A%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%205000;%0D%0A%0D%0A%20%20%20%20loadAnimation();%0D%0A%20%20%20%20requestAnimationFrame(updateWorld);%0D%0A%0D%0A%20%20%20%20resize();%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link.ready;%0D%0A%0D%0A%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20world.appendChild(runner);%0D%0A%0D%0A%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20start.onclick%20=%20startRace;%0D%0A%20%20%20%20%0D%0A%20%20%20%20jog.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20startRace()%20%7B%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.max%20=%20100;%0D%0A%20%20%20%20//%20timer%20=%20Date.now();%0D%0A%20%20%20%20paused%20=%20false;%0D%0A%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20start.disabled%20=%20true;%0D%0A%7D%0D%0A%0D%0Afunction%20loadAnimation(n%20=%200)%20%7B%0D%0A%20%20%20%20var%20img%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20var%20src%20=%20Object.values(link)%5Bn%5D;%0D%0A%0D%0A%20%20%20%20img.src%20=%20src;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Loading:%20%3Cspan%20style='color:green'%3E%22%20+%20src.match(/%5Cw+%5C.gif/i)%5B0%5D%20+%20%22%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20img.onload%20=%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(n%20%3C%20Object.values(link).length%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20loadAnimation(n%20+%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20iniWorld();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20updateWorld(timestamp)%20%7B%0D%0A%20%20%20%20if%20(!lastUpdate)%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20delta%20=%20timestamp%20-%20lastUpdate;%0D%0A%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#updatePerformance();#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20updateRunnerPos();%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D%0D%0A%0D%0Afunction%20updatePerformance()%20%7B%0D%0A%20%20%20%20#BEGIN_EDITABLE#if%20(energy.value%20%3E%200)%20%7B%7D#END_EDITABLE#%0D%0A%20%20%20%20#BEGIN_EDITABLE#else%20%7B%7D#END_EDITABLE#%0D%0A%7D%0D%0A%0D%0Afunction%20updateRunnerPos()%20%7B%0D%0A%20%20%20%20if%20(runner.offsetLeft%20!=%20world.clientWidth%20*%20runnerPos%20&&%20!exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20offset%20=%20(runner.offsetLeft%20-%20world.clientWidth%20*%20runnerPos)%20*%20delta%20/%201000;%0D%0A%20%20%20%20%20%20%20%20move(runner,%20offset);%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20setMode(m)%20%7B%0D%0A%20%20%20%20if%20(!exhausted%20&&%20!paused%20&&%20mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20mode%20=%20m%20;%0D%0A%20%20%20%20%20%20%20%20runner.src%20=%20link%5Bmode%5D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20start%20jogging%0D%0A%20%20%20%20%20%20%20%20if%20(mode%20==%20%22jog%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.3;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3EJOGGING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert(%22You're%20exhausted,%20wait%20until%20your%20energy%20recovers%20to%2060%25.%22);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('Click%20%22Go!%22%20to%20start%20the%20race.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Afunction%20pos(e,%20p)%20%7B%0D%0A%20%20%20%20return%20parseFloat(window.getComputedStyle(e).getPropertyValue(p));%0D%0A%7D%0D%0A%0D%0Afunction%20move(e,%20d)%20%7B%0D%0A%20%20%20%20e.style.left%20=%20pos(e,%20%22left%22)%20-%20d%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20range(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20var%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Afunction%20remap(v,%20iMin,%20iMax,%20oMin,%20oMax)%20%7B%0D%0A%20%20%20%20return%20oMin%20+%20(v%20-%20iMin)%20*%20(oMax%20-%20oMin)%20/%20(iMax%20-%20iMin);%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.transform%20=%20%60scale($%7BgameRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20game.offsetWidth%20:%20window.innerHeight%20/%20game.offsetHeight%7D)%60;%0D%0A%7D%0D%0A##JS_E####CODE_6E####LOGIC_6####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60updatePerformance();%60);%0Apass.if.js.editable(1).equivalent(%60if%20(energy.value%20%3E%200)%20%7B%7D%60);%0Apass.if.js.editable(2).equivalent(%60else%20%7B%7D%60);##JS_E####LOGIC_6E####STEP_6E####STEP_7####INST_7##Race%20progress%20update%20-%202/2%0A%0AStep%20context.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#value%5D%0A%09(*)%5B#js#arithmetic%20operators%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20set#+8,%20assign%20the%20number%20*0.05*%20to%20the%20variable%20*speed*.%0A%0A(!)On%20+js#%3E%200#+6,%20increase%20value%20of%20the%20*progress*%20element%20by%20*delta*%20multiplied%20by%20*speed*.##INST_7E####CODE_7####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%09%3Clink%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch4%3ERUNNING%20SIMULATOR%3C/h4%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20RACE?%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22world%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22https://app.bsd.education/resources/science_running_simulator_ground.png%22%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22start%22%20disabled%3EGo!%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22jog%22%3EJog%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22run%22%3ERun%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22sprint%22%3ESprint%3C/button%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A*%20%7B%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20font-family:%20sans-serif;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Ah4,%20h6%20%7B%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Ah6%20%7B%0D%0A%20%20%20%20margin:%205px%200%200%200;%0D%0A%7D%0D%0A%0D%0Ap%20%7B%0D%0A%20%20%20%20color:%20#ffbf00;%0D%0A%20%20%20%20font-size:%2014px;%0D%0A%20%20%20%20line-height:%2018px;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Aimg,%20#energy%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#game,%20.cherry%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#popup%20%3E%20button%20%7B%0D%0A%20%20%20%20width:%20100px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%206px;%0D%0A%20%20%20%20font-weight:%20bold;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2060px;%0D%0A%20%20%20%20margin:%200%2010px;%0D%0A%20%20%20%20border:%20gray%205px%20solid;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20cursor:%20pointer%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20background:%20darkgray;%0D%0A%7D%0D%0A%0D%0A#world%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20240px;%0D%0A%20%20%20%20margin:%2020px%200;%0D%0A%20%20%20%20background:%20skyblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#cloud%20%7B%0D%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0D%0A%7D%0D%0A%0D%0A#energy%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2010px;%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#progress%20%7B%0D%0A%20%20%20%20width:%2080%25;%0D%0A%20%20%20%20height:%2015px;%0D%0A%7D%0D%0A%0D%0A#ground%20%7B%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%7D%0D%0A%0D%0A#popup%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width%20:%20260px;%0D%0A%20%20%20%20height:%20110px;%0D%0A%20%20%20%20left:%20calc(50%25%20-%20130px);%0D%0A%20%20%20%20margin-top:%2010px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20box-shadow:%200%200%202px%202px%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background:%20rgba(0,%200,%200,%200.5);%0D%0A%7D%0D%0A##CSS_E####JS##//%20JavaScript%0D%0Avar%20start,%20world,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0A%0D%0A//%20starting%20mode:%200%20is%20idle,%201%20is%20jog,%202%20is%20run,%203%20is%20sprint%0D%0Avar%20mode%20=%200;%0D%0Avar%20paused%20=%20true;%0D%0Avar%20exhausted%20=%20false;%0D%0Avar%20link%20=%20%7B%0D%0A%20%20%20%20ready:%20%22https://app.bsd.education/resources/science_running_simulator_ready.gif%22,%0D%0A%20%20%20%20jog:%20%22https://app.bsd.education/resources/science_running_simulator_jog.gif%22,%0D%0A%20%20%20%20run:%20%22https://app.bsd.education/resources/science_running_simulator_run.gif%22,%0D%0A%20%20%20%20sprint:%20%22https://app.bsd.education/resources/science_running_simulator_sprint.gif%22,%0D%0A%20%20%20%20exhausted:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%20%20%20%20finish:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20progress%20=%20document.querySelector(%22#progress%22);%0D%0A%20%20%20%20energy%20=%20document.querySelector(%22#energy%22);%0D%0A%20%20%20%20info%20=%20document.querySelector(%22#info%22);%0D%0A%20%20%20%20world%20=%20document.querySelector(%22#world%22);%0D%0A%20%20%20%20start%20=%20document.querySelector(%22#start%22);%0D%0A%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%205000;%0D%0A%0D%0A%20%20%20%20loadAnimation();%0D%0A%20%20%20%20requestAnimationFrame(updateWorld);%0D%0A%0D%0A%20%20%20%20resize();%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link.ready;%0D%0A%0D%0A%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20world.appendChild(runner);%0D%0A%0D%0A%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20start.onclick%20=%20startRace;%0D%0A%20%20%20%20%0D%0A%20%20%20%20jog.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20startRace()%20%7B%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.max%20=%20100;%0D%0A%20%20%20%20paused%20=%20false;%0D%0A%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20start.disabled%20=%20true;%0D%0A%7D%0D%0A%0D%0Afunction%20loadAnimation(n%20=%200)%20%7B%0D%0A%20%20%20%20var%20img%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20var%20src%20=%20Object.values(link)%5Bn%5D;%0D%0A%0D%0A%20%20%20%20img.src%20=%20src;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Loading:%20%3Cspan%20style='color:green'%3E%22%20+%20src.match(/%5Cw+%5C.gif/i)%5B0%5D%20+%20%22%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20img.onload%20=%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(n%20%3C%20Object.values(link).length%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20loadAnimation(n%20+%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20iniWorld();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20updateWorld(timestamp)%20%7B%0D%0A%20%20%20%20if%20(!lastUpdate)%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20delta%20=%20timestamp%20-%20lastUpdate;%0D%0A%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20updatePerformance();%0D%0A%20%20%20%20%20%20%20%20updateRunnerPos();%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D%0D%0A%0D%0Afunction%20updatePerformance()%20%7B%0D%0A%20%20%20%20if%20(energy.value%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted%20&&%20energy.value%20%3E%2060)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20exhausted%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#progress.value%20+=%20delta%20*%20speed;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateRunnerPos()%20%7B%0D%0A%20%20%20%20if%20(runner.offsetLeft%20!=%20world.clientWidth%20*%20runnerPos%20&&%20!exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20offset%20=%20(runner.offsetLeft%20-%20world.clientWidth%20*%20runnerPos)%20*%20delta%20/%201000;%0D%0A%20%20%20%20%20%20%20%20move(runner,%20offset);%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20setMode(m)%20%7B%0D%0A%20%20%20%20if%20(!exhausted%20&&%20!paused%20&&%20mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20mode%20=%20m%20;%0D%0A%20%20%20%20%20%20%20%20runner.src%20=%20link%5Bmode%5D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20start%20jogging%0D%0A%20%20%20%20%20%20%20%20if%20(mode%20==%20%22jog%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.3;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#speed%20=%200.05;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3EJOGGING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert(%22You're%20exhausted,%20wait%20until%20your%20energy%20recovers%20to%2060%25.%22);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('Click%20%22Go!%22%20to%20start%20the%20race.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Afunction%20pos(e,%20p)%20%7B%0D%0A%20%20%20%20return%20parseFloat(window.getComputedStyle(e).getPropertyValue(p));%0D%0A%7D%0D%0A%0D%0Afunction%20move(e,%20d)%20%7B%0D%0A%20%20%20%20e.style.left%20=%20pos(e,%20%22left%22)%20-%20d%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20range(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20var%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Afunction%20remap(v,%20iMin,%20iMax,%20oMin,%20oMax)%20%7B%0D%0A%20%20%20%20return%20oMin%20+%20(v%20-%20iMin)%20*%20(oMax%20-%20oMin)%20/%20(iMax%20-%20iMin);%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.transform%20=%20%60scale($%7BgameRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20game.offsetWidth%20:%20window.innerHeight%20/%20game.offsetHeight%7D)%60;%0D%0A%7D%0D%0A##JS_E####CODE_7E####LOGIC_7####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60progress.value%20+=%20delta%20*%20speed;%60).or(%60progress.value%20+=%20speed%20*%20delta;%60).or(%60progress.value%20=%20progress.value%20+%20speed%20*%20delta;%60).or(%60progress.value%20=%20progress.value%20+%20delta%20*%20speed;%60).or(%60progress.value%20=%20speed%20*%20delta%20+%20progress.value;%60).or(%60progress.value%20=%20delta%20*%20speed%20+%20progress.value;%60);%0Apass.if.js.editable(1).equivalent(%60setMode(%22exhausted%22);%60);%0Apass.if.js.editable(2).equivalent(%60speed%20=%200.05;%60);##JS_E####LOGIC_7E####STEP_7E####STEP_8####INST_8##Check%20for%20end%20of%20race%0A%0AStep%20context.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#conditional%20statements%5D%0A%09(*)%5B#js#relational%20operators%5D%0A%09(*)%5B#js#value%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20updateWorld#+6,%20create%20an%20%60if%60%20statement%20to%20check%20whether%20the%20displayed%20value%20of%20the%20*progress*%20element%20is%20equal%20to%20its%20maximum%20value.%0A%0A(!)On%20+js#on%20updateWorld#+7,%20create%20an%20%60else%60%20statement.##INST_8E####CODE_8####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%09%3Clink%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch4%3ERUNNING%20SIMULATOR%3C/h4%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20RACE?%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22world%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22https://app.bsd.education/resources/science_running_simulator_ground.png%22%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22start%22%20disabled%3EGo!%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22jog%22%3EJog%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22run%22%3ERun%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22sprint%22%3ESprint%3C/button%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A*%20%7B%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20font-family:%20sans-serif;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Ah4,%20h6%20%7B%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Ah6%20%7B%0D%0A%20%20%20%20margin:%205px%200%200%200;%0D%0A%7D%0D%0A%0D%0Ap%20%7B%0D%0A%20%20%20%20color:%20#ffbf00;%0D%0A%20%20%20%20font-size:%2014px;%0D%0A%20%20%20%20line-height:%2018px;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Aimg,%20#energy%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#game,%20.cherry%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#popup%20%3E%20button%20%7B%0D%0A%20%20%20%20width:%20100px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%206px;%0D%0A%20%20%20%20font-weight:%20bold;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2060px;%0D%0A%20%20%20%20margin:%200%2010px;%0D%0A%20%20%20%20border:%20gray%205px%20solid;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20cursor:%20pointer%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20background:%20darkgray;%0D%0A%7D%0D%0A%0D%0A#world%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20240px;%0D%0A%20%20%20%20margin:%2020px%200;%0D%0A%20%20%20%20background:%20skyblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#cloud%20%7B%0D%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0D%0A%7D%0D%0A%0D%0A#energy%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2010px;%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#progress%20%7B%0D%0A%20%20%20%20width:%2080%25;%0D%0A%20%20%20%20height:%2015px;%0D%0A%7D%0D%0A%0D%0A#ground%20%7B%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%7D%0D%0A%0D%0A#popup%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width%20:%20260px;%0D%0A%20%20%20%20height:%20110px;%0D%0A%20%20%20%20left:%20calc(50%25%20-%20130px);%0D%0A%20%20%20%20margin-top:%2010px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20box-shadow:%200%200%202px%202px%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background:%20rgba(0,%200,%200,%200.5);%0D%0A%7D%0D%0A##CSS_E####JS##//%20JavaScript%0D%0Avar%20start,%20world,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0A%0D%0A//%20starting%20mode:%200%20is%20idle,%201%20is%20jog,%202%20is%20run,%203%20is%20sprint%0D%0Avar%20mode%20=%200;%0D%0Avar%20paused%20=%20true;%0D%0Avar%20exhausted%20=%20false;%0D%0Avar%20link%20=%20%7B%0D%0A%20%20%20%20ready:%20%22https://app.bsd.education/resources/science_running_simulator_ready.gif%22,%0D%0A%20%20%20%20jog:%20%22https://app.bsd.education/resources/science_running_simulator_jog.gif%22,%0D%0A%20%20%20%20run:%20%22https://app.bsd.education/resources/science_running_simulator_run.gif%22,%0D%0A%20%20%20%20sprint:%20%22https://app.bsd.education/resources/science_running_simulator_sprint.gif%22,%0D%0A%20%20%20%20exhausted:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%20%20%20%20finish:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20progress%20=%20document.querySelector(%22#progress%22);%0D%0A%20%20%20%20energy%20=%20document.querySelector(%22#energy%22);%0D%0A%20%20%20%20info%20=%20document.querySelector(%22#info%22);%0D%0A%20%20%20%20world%20=%20document.querySelector(%22#world%22);%0D%0A%20%20%20%20start%20=%20document.querySelector(%22#start%22);%0D%0A%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%205000;%0D%0A%0D%0A%20%20%20%20loadAnimation();%0D%0A%20%20%20%20requestAnimationFrame(updateWorld);%0D%0A%0D%0A%20%20%20%20resize();%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link.ready;%0D%0A%0D%0A%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20world.appendChild(runner);%0D%0A%0D%0A%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20start.onclick%20=%20startRace;%0D%0A%20%20%20%20%0D%0A%20%20%20%20jog.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20startRace()%20%7B%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.max%20=%20100;%0D%0A%20%20%20%20paused%20=%20false;%0D%0A%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20start.disabled%20=%20true;%0D%0A%7D%0D%0A%0D%0Afunction%20loadAnimation(n%20=%200)%20%7B%0D%0A%20%20%20%20var%20img%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20var%20src%20=%20Object.values(link)%5Bn%5D;%0D%0A%0D%0A%20%20%20%20img.src%20=%20src;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Loading:%20%3Cspan%20style='color:green'%3E%22%20+%20src.match(/%5Cw+%5C.gif/i)%5B0%5D%20+%20%22%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20img.onload%20=%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(n%20%3C%20Object.values(link).length%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20loadAnimation(n%20+%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20iniWorld();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20updateWorld(timestamp)%20%7B%0D%0A%20%20%20%20if%20(!lastUpdate)%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20delta%20=%20timestamp%20-%20lastUpdate;%0D%0A%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#if%20(progress.value%20==%20progress.max)%20%7B%7D#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#else%20%7B%7D#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20updatePerformance();%0D%0A%20%20%20%20%20%20%20%20updateRunnerPos();%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D%0D%0A%0D%0Afunction%20updatePerformance()%20%7B%0D%0A%20%20%20%20if%20(energy.value%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted%20&&%20energy.value%20%3E%2060)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20exhausted%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20progress.value%20+=%20delta%20*%20speed;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateRunnerPos()%20%7B%0D%0A%20%20%20%20if%20(runner.offsetLeft%20!=%20world.clientWidth%20*%20runnerPos%20&&%20!exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20offset%20=%20(runner.offsetLeft%20-%20world.clientWidth%20*%20runnerPos)%20*%20delta%20/%201000;%0D%0A%20%20%20%20%20%20%20%20move(runner,%20offset);%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20setMode(m)%20%7B%0D%0A%20%20%20%20if%20(!exhausted%20&&%20!paused%20&&%20mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20mode%20=%20m%20;%0D%0A%20%20%20%20%20%20%20%20runner.src%20=%20link%5Bmode%5D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20start%20jogging%0D%0A%20%20%20%20%20%20%20%20if%20(mode%20==%20%22jog%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.3;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3EJOGGING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert(%22You're%20exhausted,%20wait%20until%20your%20energy%20recovers%20to%2060%25.%22);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('Click%20%22Go!%22%20to%20start%20the%20race.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Afunction%20pos(e,%20p)%20%7B%0D%0A%20%20%20%20return%20parseFloat(window.getComputedStyle(e).getPropertyValue(p));%0D%0A%7D%0D%0A%0D%0Afunction%20move(e,%20d)%20%7B%0D%0A%20%20%20%20e.style.left%20=%20pos(e,%20%22left%22)%20-%20d%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20range(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20var%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Afunction%20remap(v,%20iMin,%20iMax,%20oMin,%20oMax)%20%7B%0D%0A%20%20%20%20return%20oMin%20+%20(v%20-%20iMin)%20*%20(oMax%20-%20oMin)%20/%20(iMax%20-%20iMin);%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.transform%20=%20%60scale($%7BgameRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20game.offsetWidth%20:%20window.innerHeight%20/%20game.offsetHeight%7D)%60;%0D%0A%7D%0D%0A##JS_E####CODE_8E####LOGIC_8####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60if%20(progress.value%20==%20progress.max)%20%7B%7D%60);%0Apass.if.js.editable(1).equivalent(%60else%20%7B%7D%60);##JS_E####LOGIC_8E####STEP_8E####STEP_9####INST_9##Stop%20updating%20the%20race%20progress%0A%0AStep%20context.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#function%20arguments%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20updateWorld#+6,%20call%20and%20pass%20*%22finish%22*%20to%20the%20*setMode*%20function.%0A%0A(!)On%20+js#60%25#-6,%20assign%20the%20number%20*0*%20to%20the%20variable%20*speed*.##INST_9E####CODE_9####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%09%3Clink%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch4%3ERUNNING%20SIMULATOR%3C/h4%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20RACE?%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22world%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22https://app.bsd.education/resources/science_running_simulator_ground.png%22%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22start%22%20disabled%3EGo!%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22jog%22%3EJog%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22run%22%3ERun%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22sprint%22%3ESprint%3C/button%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A*%20%7B%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20font-family:%20sans-serif;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Ah4,%20h6%20%7B%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Ah6%20%7B%0D%0A%20%20%20%20margin:%205px%200%200%200;%0D%0A%7D%0D%0A%0D%0Ap%20%7B%0D%0A%20%20%20%20color:%20#ffbf00;%0D%0A%20%20%20%20font-size:%2014px;%0D%0A%20%20%20%20line-height:%2018px;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Aimg,%20#energy%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#game,%20.cherry%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#popup%20%3E%20button%20%7B%0D%0A%20%20%20%20width:%20100px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%206px;%0D%0A%20%20%20%20font-weight:%20bold;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2060px;%0D%0A%20%20%20%20margin:%200%2010px;%0D%0A%20%20%20%20border:%20gray%205px%20solid;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20cursor:%20pointer%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20background:%20darkgray;%0D%0A%7D%0D%0A%0D%0A#world%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20240px;%0D%0A%20%20%20%20margin:%2020px%200;%0D%0A%20%20%20%20background:%20skyblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#cloud%20%7B%0D%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0D%0A%7D%0D%0A%0D%0A#energy%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2010px;%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#progress%20%7B%0D%0A%20%20%20%20width:%2080%25;%0D%0A%20%20%20%20height:%2015px;%0D%0A%7D%0D%0A%0D%0A#ground%20%7B%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%7D%0D%0A%0D%0A#popup%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width%20:%20260px;%0D%0A%20%20%20%20height:%20110px;%0D%0A%20%20%20%20left:%20calc(50%25%20-%20130px);%0D%0A%20%20%20%20margin-top:%2010px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20box-shadow:%200%200%202px%202px%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background:%20rgba(0,%200,%200,%200.5);%0D%0A%7D%0D%0A##CSS_E####JS##//%20JavaScript%0D%0Avar%20start,%20world,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0A%0D%0A//%20starting%20mode:%200%20is%20idle,%201%20is%20jog,%202%20is%20run,%203%20is%20sprint%0D%0Avar%20mode%20=%200;%0D%0Avar%20paused%20=%20true;%0D%0Avar%20exhausted%20=%20false;%0D%0Avar%20link%20=%20%7B%0D%0A%20%20%20%20ready:%20%22https://app.bsd.education/resources/science_running_simulator_ready.gif%22,%0D%0A%20%20%20%20jog:%20%22https://app.bsd.education/resources/science_running_simulator_jog.gif%22,%0D%0A%20%20%20%20run:%20%22https://app.bsd.education/resources/science_running_simulator_run.gif%22,%0D%0A%20%20%20%20sprint:%20%22https://app.bsd.education/resources/science_running_simulator_sprint.gif%22,%0D%0A%20%20%20%20exhausted:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%20%20%20%20finish:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20progress%20=%20document.querySelector(%22#progress%22);%0D%0A%20%20%20%20energy%20=%20document.querySelector(%22#energy%22);%0D%0A%20%20%20%20info%20=%20document.querySelector(%22#info%22);%0D%0A%20%20%20%20world%20=%20document.querySelector(%22#world%22);%0D%0A%20%20%20%20start%20=%20document.querySelector(%22#start%22);%0D%0A%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%205000;%0D%0A%0D%0A%20%20%20%20loadAnimation();%0D%0A%20%20%20%20requestAnimationFrame(updateWorld);%0D%0A%0D%0A%20%20%20%20resize();%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link.ready;%0D%0A%0D%0A%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20world.appendChild(runner);%0D%0A%0D%0A%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20start.onclick%20=%20startRace;%0D%0A%20%20%20%20%0D%0A%20%20%20%20jog.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20startRace()%20%7B%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.max%20=%20100;%0D%0A%20%20%20%20paused%20=%20false;%0D%0A%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20start.disabled%20=%20true;%0D%0A%7D%0D%0A%0D%0Afunction%20loadAnimation(n%20=%200)%20%7B%0D%0A%20%20%20%20var%20img%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20var%20src%20=%20Object.values(link)%5Bn%5D;%0D%0A%0D%0A%20%20%20%20img.src%20=%20src;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Loading:%20%3Cspan%20style='color:green'%3E%22%20+%20src.match(/%5Cw+%5C.gif/i)%5B0%5D%20+%20%22%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20img.onload%20=%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(n%20%3C%20Object.values(link).length%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20loadAnimation(n%20+%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20iniWorld();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20updateWorld(timestamp)%20%7B%0D%0A%20%20%20%20if%20(!lastUpdate)%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20delta%20=%20timestamp%20-%20lastUpdate;%0D%0A%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(progress.value%20==%20progress.max)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#setMode(%22finish%22);#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20finisher();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updatePerformance();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateRunnerPos();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D%0D%0A%0D%0Afunction%20updatePerformance()%20%7B%0D%0A%20%20%20%20if%20(energy.value%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted%20&&%20energy.value%20%3E%2060)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20exhausted%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20progress.value%20+=%20delta%20*%20speed;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateRunnerPos()%20%7B%0D%0A%20%20%20%20if%20(runner.offsetLeft%20!=%20world.clientWidth%20*%20runnerPos%20&&%20!exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20offset%20=%20(runner.offsetLeft%20-%20world.clientWidth%20*%20runnerPos)%20*%20delta%20/%201000;%0D%0A%20%20%20%20%20%20%20%20move(runner,%20offset);%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20setMode(m)%20%7B%0D%0A%20%20%20%20if%20(!exhausted%20&&%20!paused%20&&%20mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20mode%20=%20m%20;%0D%0A%20%20%20%20%20%20%20%20runner.src%20=%20link%5Bmode%5D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20start%20jogging%0D%0A%20%20%20%20%20%20%20%20if%20(mode%20==%20%22jog%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.3;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3EJOGGING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20finisher%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22finish%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20paused%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#speed%20=%200;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EFINISHER!%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert(%22You're%20exhausted,%20wait%20until%20your%20energy%20recovers%20to%2060%25.%22);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('Click%20%22Go!%22%20to%20start%20the%20race.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20finisher()%20%7B%0D%0A%20%20%20%20var%20popup%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20var%20resetButton%20=%20document.createElement(%22button%22);%0D%0A%0D%0A%20%20%20%20popup.id%20=%20%22popup%22;%0D%0A%20%20%20%20popup.innerHTML%20=%20%22%3Cp%3ECongratulations!%20You%20have%20finished%20the%20race.%3C/p%3E%22;%0D%0A%20%20%20%20resetButton.id%20=%20%22reset%22;%0D%0A%20%20%20%20resetButton.innerHTML%20=%20%22REPLAY%22;%0D%0A%20%20%20%20resetButton.onclick%20=%20reset;%0D%0A%20%20%20%20world.appendChild(popup);%0D%0A%20%20%20%20popup.appendChild(resetButton);%0D%0A%7D%0D%0A%0D%0Afunction%20reset()%20%7B%0D%0A%20%20%20%20world.removeChild(popup);%0D%0A%20%20%20%20runner.src%20=%20link.ready;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Afunction%20pos(e,%20p)%20%7B%0D%0A%20%20%20%20return%20parseFloat(window.getComputedStyle(e).getPropertyValue(p));%0D%0A%7D%0D%0A%0D%0Afunction%20move(e,%20d)%20%7B%0D%0A%20%20%20%20e.style.left%20=%20pos(e,%20%22left%22)%20-%20d%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20range(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20var%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Afunction%20remap(v,%20iMin,%20iMax,%20oMin,%20oMax)%20%7B%0D%0A%20%20%20%20return%20oMin%20+%20(v%20-%20iMin)%20*%20(oMax%20-%20oMin)%20/%20(iMax%20-%20iMin);%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.transform%20=%20%60scale($%7BgameRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20game.offsetWidth%20:%20window.innerHeight%20/%20game.offsetHeight%7D)%60;%0D%0A%7D%0D%0A##JS_E####CODE_9E####LOGIC_9####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60setMode(%22finish%22);%60);%0Apass.if.js.editable(1).equivalent(%60speed%20=%200;%60);##JS_E####LOGIC_9E####STEP_9E####STEP_10####INST_10##Running%20mode%0A%0AStep%20context.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#function%20arguments%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#run.onclick#+1,%20call%20and%20pass%20*%22run%22*%20to%20the%20*setMode*%20function.%0A%0A(!)On%20+js#==%20%22run%22#+1,%20assign%20the%20number%20*0.4*%20to%20the%20variable%20*runnerPos*.%0A%0A(!)On%20+js#==%20%22run%22#+2,%20assign%20the%20number%20*0.1*%20to%20the%20variable%20*speed*.##INST_10E####CODE_10####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%09%3Clink%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch4%3ERUNNING%20SIMULATOR%3C/h4%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20RACE?%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22world%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22https://app.bsd.education/resources/science_running_simulator_ground.png%22%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22start%22%20disabled%3EGo!%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22jog%22%3EJog%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22run%22%3ERun%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22sprint%22%3ESprint%3C/button%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A*%20%7B%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20font-family:%20sans-serif;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Ah4,%20h6%20%7B%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Ah6%20%7B%0D%0A%20%20%20%20margin:%205px%200%200%200;%0D%0A%7D%0D%0A%0D%0Ap%20%7B%0D%0A%20%20%20%20color:%20#ffbf00;%0D%0A%20%20%20%20font-size:%2014px;%0D%0A%20%20%20%20line-height:%2018px;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Aimg,%20#energy%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#game,%20.cherry%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#popup%20%3E%20button%20%7B%0D%0A%20%20%20%20width:%20100px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%206px;%0D%0A%20%20%20%20font-weight:%20bold;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2060px;%0D%0A%20%20%20%20margin:%200%2010px;%0D%0A%20%20%20%20border:%20gray%205px%20solid;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20cursor:%20pointer%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20background:%20darkgray;%0D%0A%7D%0D%0A%0D%0A#world%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20240px;%0D%0A%20%20%20%20margin:%2020px%200;%0D%0A%20%20%20%20background:%20skyblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#cloud%20%7B%0D%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0D%0A%7D%0D%0A%0D%0A#energy%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2010px;%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#progress%20%7B%0D%0A%20%20%20%20width:%2080%25;%0D%0A%20%20%20%20height:%2015px;%0D%0A%7D%0D%0A%0D%0A#ground%20%7B%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%7D%0D%0A%0D%0A#popup%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width%20:%20260px;%0D%0A%20%20%20%20height:%20110px;%0D%0A%20%20%20%20left:%20calc(50%25%20-%20130px);%0D%0A%20%20%20%20margin-top:%2010px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20box-shadow:%200%200%202px%202px%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background:%20rgba(0,%200,%200,%200.5);%0D%0A%7D%0D%0A##CSS_E####JS##//%20JavaScript%0D%0Avar%20start,%20world,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0A%0D%0A//%20starting%20mode:%200%20is%20idle,%201%20is%20jog,%202%20is%20run,%203%20is%20sprint%0D%0Avar%20mode%20=%200;%0D%0Avar%20paused%20=%20true;%0D%0Avar%20exhausted%20=%20false;%0D%0Avar%20link%20=%20%7B%0D%0A%20%20%20%20ready:%20%22https://app.bsd.education/resources/science_running_simulator_ready.gif%22,%0D%0A%20%20%20%20jog:%20%22https://app.bsd.education/resources/science_running_simulator_jog.gif%22,%0D%0A%20%20%20%20run:%20%22https://app.bsd.education/resources/science_running_simulator_run.gif%22,%0D%0A%20%20%20%20sprint:%20%22https://app.bsd.education/resources/science_running_simulator_sprint.gif%22,%0D%0A%20%20%20%20exhausted:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%20%20%20%20finish:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20progress%20=%20document.querySelector(%22#progress%22);%0D%0A%20%20%20%20energy%20=%20document.querySelector(%22#energy%22);%0D%0A%20%20%20%20info%20=%20document.querySelector(%22#info%22);%0D%0A%20%20%20%20world%20=%20document.querySelector(%22#world%22);%0D%0A%20%20%20%20start%20=%20document.querySelector(%22#start%22);%0D%0A%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%205000;%0D%0A%0D%0A%20%20%20%20loadAnimation();%0D%0A%20%20%20%20requestAnimationFrame(updateWorld);%0D%0A%0D%0A%20%20%20%20resize();%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link.ready;%0D%0A%0D%0A%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20world.appendChild(runner);%0D%0A%0D%0A%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20start.onclick%20=%20startRace;%0D%0A%20%20%20%20%0D%0A%20%20%20%20jog.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20run.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#setMode(%22run%22);#END_EDITABLE#%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20startRace()%20%7B%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.max%20=%20100;%0D%0A%20%20%20%20paused%20=%20false;%0D%0A%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20start.disabled%20=%20true;%0D%0A%7D%0D%0A%0D%0Afunction%20loadAnimation(n%20=%200)%20%7B%0D%0A%20%20%20%20var%20img%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20var%20src%20=%20Object.values(link)%5Bn%5D;%0D%0A%0D%0A%20%20%20%20img.src%20=%20src;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Loading:%20%3Cspan%20style='color:green'%3E%22%20+%20src.match(/%5Cw+%5C.gif/i)%5B0%5D%20+%20%22%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20img.onload%20=%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(n%20%3C%20Object.values(link).length%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20loadAnimation(n%20+%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20iniWorld();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20updateWorld(timestamp)%20%7B%0D%0A%20%20%20%20if%20(!lastUpdate)%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20delta%20=%20timestamp%20-%20lastUpdate;%0D%0A%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(progress.value%20==%20progress.max)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(%22finish%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20finisher();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updatePerformance();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateRunnerPos();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D%0D%0A%0D%0Afunction%20updatePerformance()%20%7B%0D%0A%20%20%20%20if%20(energy.value%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted%20&&%20energy.value%20%3E%2060)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20exhausted%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20progress.value%20+=%20delta%20*%20speed;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateRunnerPos()%20%7B%0D%0A%20%20%20%20if%20(runner.offsetLeft%20!=%20world.clientWidth%20*%20runnerPos%20&&%20!exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20offset%20=%20(runner.offsetLeft%20-%20world.clientWidth%20*%20runnerPos)%20*%20delta%20/%201000;%0D%0A%20%20%20%20%20%20%20%20move(runner,%20offset);%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20setMode(m)%20%7B%0D%0A%20%20%20%20if%20(!exhausted%20&&%20!paused%20&&%20mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20mode%20=%20m%20;%0D%0A%20%20%20%20%20%20%20%20runner.src%20=%20link%5Bmode%5D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20start%20jogging%0D%0A%20%20%20%20%20%20%20%20if%20(mode%20==%20%22jog%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.3;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3EJOGGING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20start%20running%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22run%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#runnerPos%20=%200.4;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#speed%20=%200.1;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ERUNNING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20finisher%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22finish%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20paused%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EFINISHER!%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert(%22You're%20exhausted,%20wait%20until%20your%20energy%20recovers%20to%2060%25.%22);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('Click%20%22Go!%22%20to%20start%20the%20race.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20finisher()%20%7B%0D%0A%20%20%20%20var%20popup%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20var%20resetButton%20=%20document.createElement(%22button%22);%0D%0A%0D%0A%20%20%20%20popup.id%20=%20%22popup%22;%0D%0A%20%20%20%20popup.innerHTML%20=%20%22%3Cp%3ECongratulations!%20You%20have%20finished%20the%20race.%3C/p%3E%22;%0D%0A%20%20%20%20resetButton.id%20=%20%22reset%22;%0D%0A%20%20%20%20resetButton.innerHTML%20=%20%22REPLAY%22;%0D%0A%20%20%20%20resetButton.onclick%20=%20reset;%0D%0A%20%20%20%20world.appendChild(popup);%0D%0A%20%20%20%20popup.appendChild(resetButton);%0D%0A%7D%0D%0A%0D%0Afunction%20reset()%20%7B%0D%0A%20%20%20%20world.removeChild(popup);%0D%0A%20%20%20%20runner.src%20=%20link.ready;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20//%20stopwatch.innerHTML%20=%20%2200:00:00%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Afunction%20pos(e,%20p)%20%7B%0D%0A%20%20%20%20return%20parseFloat(window.getComputedStyle(e).getPropertyValue(p));%0D%0A%7D%0D%0A%0D%0Afunction%20move(e,%20d)%20%7B%0D%0A%20%20%20%20e.style.left%20=%20pos(e,%20%22left%22)%20-%20d%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20range(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20var%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Afunction%20remap(v,%20iMin,%20iMax,%20oMin,%20oMax)%20%7B%0D%0A%20%20%20%20return%20oMin%20+%20(v%20-%20iMin)%20*%20(oMax%20-%20oMin)%20/%20(iMax%20-%20iMin);%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.transform%20=%20%60scale($%7BgameRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20game.offsetWidth%20:%20window.innerHeight%20/%20game.offsetHeight%7D)%60;%0D%0A%7D%0D%0A##JS_E####CODE_10E####LOGIC_10####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60setMode(%22run%22);%60);%0Apass.if.js.editable(1).equivalent(%60runnerPos%20=%200.4;%60);%0Apass.if.js.editable(2).equivalent(%60speed%20=%200.1;%60);##JS_E####LOGIC_10E####STEP_10E####STEP_11####INST_11##Sprinting%20mode%0A%0AStep%20context.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#function%20arguments%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#sprint.onclick#+1,%20call%20and%20pass%20*%22sprint%22*%20to%20the%20*setMode*%20function.%0A%0A(!)On%20+js#==%20%22sprint%22#+1,%20assign%20the%20number%20*0.55*%20to%20the%20variable%20*runnerPos*.%0A%0A(!)On%20+js#==%20%22sprint%22#+2,%20assign%20the%20number%20*0.15*%20to%20the%20variable%20*speed*.##INST_11E####CODE_11####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%09%3Clink%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch4%3ERUNNING%20SIMULATOR%3C/h4%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20RACE?%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22world%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22https://app.bsd.education/resources/science_running_simulator_ground.png%22%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22start%22%20disabled%3EGo!%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22jog%22%3EJog%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22run%22%3ERun%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22sprint%22%3ESprint%3C/button%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A*%20%7B%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20font-family:%20sans-serif;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Ah4,%20h6%20%7B%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Ah6%20%7B%0D%0A%20%20%20%20margin:%205px%200%200%200;%0D%0A%7D%0D%0A%0D%0Ap%20%7B%0D%0A%20%20%20%20color:%20#ffbf00;%0D%0A%20%20%20%20font-size:%2014px;%0D%0A%20%20%20%20line-height:%2018px;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Aimg,%20#energy%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#game,%20.cherry%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#popup%20%3E%20button%20%7B%0D%0A%20%20%20%20width:%20100px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%206px;%0D%0A%20%20%20%20font-weight:%20bold;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2060px;%0D%0A%20%20%20%20margin:%200%2010px;%0D%0A%20%20%20%20border:%20gray%205px%20solid;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20cursor:%20pointer%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20background:%20darkgray;%0D%0A%7D%0D%0A%0D%0A#world%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20240px;%0D%0A%20%20%20%20margin:%2020px%200;%0D%0A%20%20%20%20background:%20skyblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#cloud%20%7B%0D%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0D%0A%7D%0D%0A%0D%0A#energy%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2010px;%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#progress%20%7B%0D%0A%20%20%20%20width:%2080%25;%0D%0A%20%20%20%20height:%2015px;%0D%0A%7D%0D%0A%0D%0A#ground%20%7B%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%7D%0D%0A%0D%0A#popup%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width%20:%20260px;%0D%0A%20%20%20%20height:%20110px;%0D%0A%20%20%20%20left:%20calc(50%25%20-%20130px);%0D%0A%20%20%20%20margin-top:%2010px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20box-shadow:%200%200%202px%202px%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background:%20rgba(0,%200,%200,%200.5);%0D%0A%7D%0D%0A##CSS_E####JS##//%20JavaScript%0D%0Avar%20start,%20world,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0A%0D%0A//%20starting%20mode:%200%20is%20idle,%201%20is%20jog,%202%20is%20run,%203%20is%20sprint%0D%0Avar%20mode%20=%200;%0D%0Avar%20paused%20=%20true;%0D%0Avar%20exhausted%20=%20false;%0D%0Avar%20link%20=%20%7B%0D%0A%20%20%20%20ready:%20%22https://app.bsd.education/resources/science_running_simulator_ready.gif%22,%0D%0A%20%20%20%20jog:%20%22https://app.bsd.education/resources/science_running_simulator_jog.gif%22,%0D%0A%20%20%20%20run:%20%22https://app.bsd.education/resources/science_running_simulator_run.gif%22,%0D%0A%20%20%20%20sprint:%20%22https://app.bsd.education/resources/science_running_simulator_sprint.gif%22,%0D%0A%20%20%20%20exhausted:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%20%20%20%20finish:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20progress%20=%20document.querySelector(%22#progress%22);%0D%0A%20%20%20%20energy%20=%20document.querySelector(%22#energy%22);%0D%0A%20%20%20%20info%20=%20document.querySelector(%22#info%22);%0D%0A%20%20%20%20world%20=%20document.querySelector(%22#world%22);%0D%0A%20%20%20%20start%20=%20document.querySelector(%22#start%22);%0D%0A%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%205000;%0D%0A%0D%0A%20%20%20%20loadAnimation();%0D%0A%20%20%20%20requestAnimationFrame(updateWorld);%0D%0A%0D%0A%20%20%20%20resize();%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link.ready;%0D%0A%0D%0A%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20world.appendChild(runner);%0D%0A%0D%0A%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20start.onclick%20=%20startRace;%0D%0A%20%20%20%20%0D%0A%20%20%20%20jog.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20run.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22run%22);%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20sprint.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#setMode(%22sprint%22);#END_EDITABLE#%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20startRace()%20%7B%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.max%20=%20100;%0D%0A%20%20%20%20paused%20=%20false;%0D%0A%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20start.disabled%20=%20true;%0D%0A%7D%0D%0A%0D%0Afunction%20loadAnimation(n%20=%200)%20%7B%0D%0A%20%20%20%20var%20img%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20var%20src%20=%20Object.values(link)%5Bn%5D;%0D%0A%0D%0A%20%20%20%20img.src%20=%20src;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Loading:%20%3Cspan%20style='color:green'%3E%22%20+%20src.match(/%5Cw+%5C.gif/i)%5B0%5D%20+%20%22%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20img.onload%20=%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(n%20%3C%20Object.values(link).length%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20loadAnimation(n%20+%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20iniWorld();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20updateWorld(timestamp)%20%7B%0D%0A%20%20%20%20if%20(!lastUpdate)%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20delta%20=%20timestamp%20-%20lastUpdate;%0D%0A%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(progress.value%20==%20progress.max)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(%22finish%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20finisher();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updatePerformance();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateRunnerPos();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D%0D%0A%0D%0Afunction%20updatePerformance()%20%7B%0D%0A%20%20%20%20if%20(energy.value%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted%20&&%20energy.value%20%3E%2060)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20exhausted%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20progress.value%20+=%20delta%20*%20speed;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateRunnerPos()%20%7B%0D%0A%20%20%20%20if%20(runner.offsetLeft%20!=%20world.clientWidth%20*%20runnerPos%20&&%20!exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20offset%20=%20(runner.offsetLeft%20-%20world.clientWidth%20*%20runnerPos)%20*%20delta%20/%201000;%0D%0A%20%20%20%20%20%20%20%20move(runner,%20offset);%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20setMode(m)%20%7B%0D%0A%20%20%20%20if%20(!exhausted%20&&%20!paused%20&&%20mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20mode%20=%20m%20;%0D%0A%20%20%20%20%20%20%20%20runner.src%20=%20link%5Bmode%5D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20start%20jogging%0D%0A%20%20%20%20%20%20%20%20if%20(mode%20==%20%22jog%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.3;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3EJOGGING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20start%20running%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22run%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.4;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.1;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ERUNNING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20start%20sprinting%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22sprint%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#runnerPos%20=%200.55;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#speed%20=%200.15;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ESPRINTING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20finisher%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22finish%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20paused%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EFINISHER!%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert(%22You're%20exhausted,%20wait%20until%20your%20energy%20recovers%20to%2060%25.%22);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('Click%20%22Go!%22%20to%20start%20the%20race.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20finisher()%20%7B%0D%0A%20%20%20%20var%20popup%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20var%20resetButton%20=%20document.createElement(%22button%22);%0D%0A%0D%0A%20%20%20%20popup.id%20=%20%22popup%22;%0D%0A%20%20%20%20popup.innerHTML%20=%20%22%3Cp%3ECongratulations!%20You%20have%20finished%20the%20race.%3C/p%3E%22;%0D%0A%20%20%20%20resetButton.id%20=%20%22reset%22;%0D%0A%20%20%20%20resetButton.innerHTML%20=%20%22REPLAY%22;%0D%0A%20%20%20%20resetButton.onclick%20=%20reset;%0D%0A%20%20%20%20world.appendChild(popup);%0D%0A%20%20%20%20popup.appendChild(resetButton);%0D%0A%7D%0D%0A%0D%0Afunction%20reset()%20%7B%0D%0A%20%20%20%20world.removeChild(popup);%0D%0A%20%20%20%20runner.src%20=%20link.ready;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Afunction%20pos(e,%20p)%20%7B%0D%0A%20%20%20%20return%20parseFloat(window.getComputedStyle(e).getPropertyValue(p));%0D%0A%7D%0D%0A%0D%0Afunction%20move(e,%20d)%20%7B%0D%0A%20%20%20%20e.style.left%20=%20pos(e,%20%22left%22)%20-%20d%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20range(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20var%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Afunction%20remap(v,%20iMin,%20iMax,%20oMin,%20oMax)%20%7B%0D%0A%20%20%20%20return%20oMin%20+%20(v%20-%20iMin)%20*%20(oMax%20-%20oMin)%20/%20(iMax%20-%20iMin);%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.transform%20=%20%60scale($%7BgameRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20game.offsetWidth%20:%20window.innerHeight%20/%20game.offsetHeight%7D)%60;%0D%0A%7D%0D%0A##JS_E####CODE_11E####LOGIC_11####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60setMode(%22sprint%22);%60);%0Apass.if.js.editable(1).equivalent(%60runnerPos%20=%200.55;%60);%0Apass.if.js.editable(2).equivalent(%60speed%20=%200.15;%60);##JS_E####LOGIC_11E####STEP_11E####STEP_12####INST_12##Runner%20energy%20update%0A%0AStep%20context.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#arithmetic%20operators%5D%0A%09(*)%5B#js#value%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20updatePerform#+1,%20increase%20the%20displayed%20value%20of%20the%20*energy*%20element%20by%20the%20value%20of%20*energyGain*.%0A%0A(!)On%20+js#==%20%22jog%22#+3,%20assign%20the%20number%20*0.06*%20to%20the%20variable%20*energyGain*.%0A%0A(!)On%20+js#==%20%22run%22#+3,%20assign%20the%20number%20*-0.08*%20to%20the%20variable%20*energyGain*.%0A%0A(!)On%20+js#==%20%22sprint%22#+3,%20assign%20the%20number%20*-0.2*%20to%20the%20variable%20*energyGain*.##INST_12E####CODE_12####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%09%3Clink%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch4%3ERUNNING%20SIMULATOR%3C/h4%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20RACE?%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22world%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22https://app.bsd.education/resources/science_running_simulator_ground.png%22%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22start%22%20disabled%3EGo!%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22jog%22%3EJog%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22run%22%3ERun%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22sprint%22%3ESprint%3C/button%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A*%20%7B%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20font-family:%20sans-serif;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Ah4,%20h6%20%7B%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Ah6%20%7B%0D%0A%20%20%20%20margin:%205px%200%200%200;%0D%0A%7D%0D%0A%0D%0Ap%20%7B%0D%0A%20%20%20%20color:%20#ffbf00;%0D%0A%20%20%20%20font-size:%2014px;%0D%0A%20%20%20%20line-height:%2018px;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Aimg,%20#energy%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#game,%20.cherry%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#popup%20%3E%20button%20%7B%0D%0A%20%20%20%20width:%20100px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%206px;%0D%0A%20%20%20%20font-weight:%20bold;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2060px;%0D%0A%20%20%20%20margin:%200%2010px;%0D%0A%20%20%20%20border:%20gray%205px%20solid;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20cursor:%20pointer%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20background:%20darkgray;%0D%0A%7D%0D%0A%0D%0A#world%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20240px;%0D%0A%20%20%20%20margin:%2020px%200;%0D%0A%20%20%20%20background:%20skyblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#cloud%20%7B%0D%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0D%0A%7D%0D%0A%0D%0A#energy%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2010px;%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#progress%20%7B%0D%0A%20%20%20%20width:%2080%25;%0D%0A%20%20%20%20height:%2015px;%0D%0A%7D%0D%0A%0D%0A#ground%20%7B%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%7D%0D%0A%0D%0A#popup%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width%20:%20260px;%0D%0A%20%20%20%20height:%20110px;%0D%0A%20%20%20%20left:%20calc(50%25%20-%20130px);%0D%0A%20%20%20%20margin-top:%2010px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20box-shadow:%200%200%202px%202px%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background:%20rgba(0,%200,%200,%200.5);%0D%0A%7D%0D%0A##CSS_E####JS##//%20JavaScript%0D%0Avar%20start,%20world,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0A%0D%0A//%20starting%20mode:%200%20is%20idle,%201%20is%20jog,%202%20is%20run,%203%20is%20sprint%0D%0Avar%20mode%20=%200;%0D%0Avar%20paused%20=%20true;%0D%0Avar%20exhausted%20=%20false;%0D%0Avar%20link%20=%20%7B%0D%0A%20%20%20%20ready:%20%22https://app.bsd.education/resources/science_running_simulator_ready.gif%22,%0D%0A%20%20%20%20jog:%20%22https://app.bsd.education/resources/science_running_simulator_jog.gif%22,%0D%0A%20%20%20%20run:%20%22https://app.bsd.education/resources/science_running_simulator_run.gif%22,%0D%0A%20%20%20%20sprint:%20%22https://app.bsd.education/resources/science_running_simulator_sprint.gif%22,%0D%0A%20%20%20%20exhausted:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%20%20%20%20finish:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20progress%20=%20document.querySelector(%22#progress%22);%0D%0A%20%20%20%20energy%20=%20document.querySelector(%22#energy%22);%0D%0A%20%20%20%20info%20=%20document.querySelector(%22#info%22);%0D%0A%20%20%20%20world%20=%20document.querySelector(%22#world%22);%0D%0A%20%20%20%20start%20=%20document.querySelector(%22#start%22);%0D%0A%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%205000;%0D%0A%0D%0A%20%20%20%20loadAnimation();%0D%0A%20%20%20%20requestAnimationFrame(updateWorld);%0D%0A%0D%0A%20%20%20%20resize();%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link.ready;%0D%0A%0D%0A%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20world.appendChild(runner);%0D%0A%0D%0A%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20start.onclick%20=%20startRace;%0D%0A%20%20%20%20%0D%0A%20%20%20%20jog.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20run.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22run%22);%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20sprint.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22sprint%22);%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20startRace()%20%7B%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.max%20=%20100;%0D%0A%20%20%20%20paused%20=%20false;%0D%0A%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20start.disabled%20=%20true;%0D%0A%7D%0D%0A%0D%0Afunction%20loadAnimation(n%20=%200)%20%7B%0D%0A%20%20%20%20var%20img%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20var%20src%20=%20Object.values(link)%5Bn%5D;%0D%0A%0D%0A%20%20%20%20img.src%20=%20src;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Loading:%20%3Cspan%20style='color:green'%3E%22%20+%20src.match(/%5Cw+%5C.gif/i)%5B0%5D%20+%20%22%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20img.onload%20=%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(n%20%3C%20Object.values(link).length%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20loadAnimation(n%20+%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20iniWorld();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20updateWorld(timestamp)%20%7B%0D%0A%20%20%20%20if%20(!lastUpdate)%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20delta%20=%20timestamp%20-%20lastUpdate;%0D%0A%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(progress.value%20==%20progress.max)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(%22finish%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20finisher();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updatePerformance();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateRunnerPos();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D%0D%0A%0D%0Afunction%20updatePerformance()%20%7B%0D%0A%20%20%20%20#BEGIN_EDITABLE#energy.value%20+=%20energyGain;#END_EDITABLE#%0D%0A%0D%0A%20%20%20%20if%20(energy.value%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted%20&&%20energy.value%20%3E%2060)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20exhausted%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20progress.value%20+=%20delta%20*%20speed;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateRunnerPos()%20%7B%0D%0A%20%20%20%20if%20(runner.offsetLeft%20!=%20world.clientWidth%20*%20runnerPos%20&&%20!exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20offset%20=%20(runner.offsetLeft%20-%20world.clientWidth%20*%20runnerPos)%20*%20delta%20/%201000;%0D%0A%20%20%20%20%20%20%20%20move(runner,%20offset);%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20setMode(m)%20%7B%0D%0A%20%20%20%20if%20(!exhausted%20&&%20!paused%20&&%20mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20mode%20=%20m%20;%0D%0A%20%20%20%20%20%20%20%20runner.src%20=%20link%5Bmode%5D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20start%20jogging%0D%0A%20%20%20%20%20%20%20%20if%20(mode%20==%20%22jog%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.3;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#energyGain%20=%200.06;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3EJOGGING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20start%20running%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22run%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.4;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.1;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#energyGain%20=%20-0.08;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ERUNNING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20start%20sprinting%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22sprint%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.55;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.15;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#energyGain%20=%20-0.2;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ESPRINTING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20finisher%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22finish%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20paused%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EFINISHER!%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert(%22You're%20exhausted,%20wait%20until%20your%20energy%20recovers%20to%2060%25.%22);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('Click%20%22Go!%22%20to%20start%20the%20race.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20finisher()%20%7B%0D%0A%20%20%20%20var%20popup%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20var%20resetButton%20=%20document.createElement(%22button%22);%0D%0A%0D%0A%20%20%20%20popup.id%20=%20%22popup%22;%0D%0A%20%20%20%20popup.innerHTML%20=%20%22%3Cp%3ECongratulations!%20You%20have%20finished%20the%20race.%3C/p%3E%22;%0D%0A%20%20%20%20resetButton.id%20=%20%22reset%22;%0D%0A%20%20%20%20resetButton.innerHTML%20=%20%22REPLAY%22;%0D%0A%20%20%20%20resetButton.onclick%20=%20reset;%0D%0A%20%20%20%20world.appendChild(popup);%0D%0A%20%20%20%20popup.appendChild(resetButton);%0D%0A%7D%0D%0A%0D%0Afunction%20reset()%20%7B%0D%0A%20%20%20%20world.removeChild(popup);%0D%0A%20%20%20%20runner.src%20=%20link.ready;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Afunction%20pos(e,%20p)%20%7B%0D%0A%20%20%20%20return%20parseFloat(window.getComputedStyle(e).getPropertyValue(p));%0D%0A%7D%0D%0A%0D%0Afunction%20move(e,%20d)%20%7B%0D%0A%20%20%20%20e.style.left%20=%20pos(e,%20%22left%22)%20-%20d%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20range(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20var%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Afunction%20remap(v,%20iMin,%20iMax,%20oMin,%20oMax)%20%7B%0D%0A%20%20%20%20return%20oMin%20+%20(v%20-%20iMin)%20*%20(oMax%20-%20oMin)%20/%20(iMax%20-%20iMin);%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.transform%20=%20%60scale($%7BgameRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20game.offsetWidth%20:%20window.innerHeight%20/%20game.offsetHeight%7D)%60;%0D%0A%7D%0D%0A##JS_E####CODE_12E####LOGIC_12####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60energy.value%20+=%20energyGain;%60).or(%60energy.value%20=%20energy.value%20+%20energyGain;%60).or(%60energy.value%20=%20energyGain%20+%20energy.value;%60);%0Apass.if.js.editable(1).equivalent(%60energyGain%20=%200.06;%60);%0Apass.if.js.editable(2).equivalent(%60energyGain%20=%20-0.08;%60);%0Apass.if.js.editable(3).equivalent(%60energyGain%20=%20-0.2;%60);##JS_E####LOGIC_12E####STEP_12E####STEP_13####INST_13##Exhausted%20mode%0A%0AStep%20context.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#function%20arguments%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20updatePerform#+13,%20call%20and%20pass%20*%22exhausted%22*%20to%20the%20*setMode*%20function.%0A%0A(!)On%20+js#==%20%22exhausted%22#+1,%20assign%20the%20number%20*0*%20to%20the%20variable%20*speed*.%0A%0A(!)On%20+js#==%20%22exhausted%22#+2,%20assign%20the%20number%20*0.05*%20to%20the%20variable%20*energyGain*.##INST_13E####CODE_13####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%09%3Clink%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch4%3ERUNNING%20SIMULATOR%3C/h4%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20RACE?%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22world%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22https://app.bsd.education/resources/science_running_simulator_ground.png%22%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22start%22%20disabled%3EGo!%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22jog%22%3EJog%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22run%22%3ERun%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22sprint%22%3ESprint%3C/button%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A*%20%7B%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20font-family:%20sans-serif;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Ah4,%20h6%20%7B%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Ah6%20%7B%0D%0A%20%20%20%20margin:%205px%200%200%200;%0D%0A%7D%0D%0A%0D%0Ap%20%7B%0D%0A%20%20%20%20color:%20#ffbf00;%0D%0A%20%20%20%20font-size:%2014px;%0D%0A%20%20%20%20line-height:%2018px;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Aimg,%20#energy%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#game,%20.cherry%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#popup%20%3E%20button%20%7B%0D%0A%20%20%20%20width:%20100px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%206px;%0D%0A%20%20%20%20font-weight:%20bold;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2060px;%0D%0A%20%20%20%20margin:%200%2010px;%0D%0A%20%20%20%20border:%20gray%205px%20solid;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20cursor:%20pointer%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20background:%20darkgray;%0D%0A%7D%0D%0A%0D%0A#world%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20240px;%0D%0A%20%20%20%20margin:%2020px%200;%0D%0A%20%20%20%20background:%20skyblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#cloud%20%7B%0D%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0D%0A%7D%0D%0A%0D%0A#energy%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2010px;%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#progress%20%7B%0D%0A%20%20%20%20width:%2080%25;%0D%0A%20%20%20%20height:%2015px;%0D%0A%7D%0D%0A%0D%0A#ground%20%7B%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%7D%0D%0A%0D%0A#popup%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width%20:%20260px;%0D%0A%20%20%20%20height:%20110px;%0D%0A%20%20%20%20left:%20calc(50%25%20-%20130px);%0D%0A%20%20%20%20margin-top:%2010px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20box-shadow:%200%200%202px%202px%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background:%20rgba(0,%200,%200,%200.5);%0D%0A%7D%0D%0A##CSS_E####JS##//%20JavaScript%0D%0Avar%20start,%20world,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0A%0D%0A//%20starting%20mode:%200%20is%20idle,%201%20is%20jog,%202%20is%20run,%203%20is%20sprint%0D%0Avar%20mode%20=%200;%0D%0Avar%20paused%20=%20true;%0D%0Avar%20exhausted%20=%20false;%0D%0Avar%20link%20=%20%7B%0D%0A%20%20%20%20ready:%20%22https://app.bsd.education/resources/science_running_simulator_ready.gif%22,%0D%0A%20%20%20%20jog:%20%22https://app.bsd.education/resources/science_running_simulator_jog.gif%22,%0D%0A%20%20%20%20run:%20%22https://app.bsd.education/resources/science_running_simulator_run.gif%22,%0D%0A%20%20%20%20sprint:%20%22https://app.bsd.education/resources/science_running_simulator_sprint.gif%22,%0D%0A%20%20%20%20exhausted:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%20%20%20%20finish:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20progress%20=%20document.querySelector(%22#progress%22);%0D%0A%20%20%20%20energy%20=%20document.querySelector(%22#energy%22);%0D%0A%20%20%20%20info%20=%20document.querySelector(%22#info%22);%0D%0A%20%20%20%20world%20=%20document.querySelector(%22#world%22);%0D%0A%20%20%20%20start%20=%20document.querySelector(%22#start%22);%0D%0A%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%205000;%0D%0A%0D%0A%20%20%20%20loadAnimation();%0D%0A%20%20%20%20requestAnimationFrame(updateWorld);%0D%0A%0D%0A%20%20%20%20resize();%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link.ready;%0D%0A%0D%0A%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20world.appendChild(runner);%0D%0A%0D%0A%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20start.onclick%20=%20startRace;%0D%0A%20%20%20%20%0D%0A%20%20%20%20jog.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20run.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22run%22);%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20sprint.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22sprint%22);%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20startRace()%20%7B%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.max%20=%20100;%0D%0A%20%20%20%20paused%20=%20false;%0D%0A%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20start.disabled%20=%20true;%0D%0A%7D%0D%0A%0D%0Afunction%20loadAnimation(n%20=%200)%20%7B%0D%0A%20%20%20%20var%20img%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20var%20src%20=%20Object.values(link)%5Bn%5D;%0D%0A%0D%0A%20%20%20%20img.src%20=%20src;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Loading:%20%3Cspan%20style='color:green'%3E%22%20+%20src.match(/%5Cw+%5C.gif/i)%5B0%5D%20+%20%22%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20img.onload%20=%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(n%20%3C%20Object.values(link).length%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20loadAnimation(n%20+%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20iniWorld();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20updateWorld(timestamp)%20%7B%0D%0A%20%20%20%20if%20(!lastUpdate)%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20delta%20=%20timestamp%20-%20lastUpdate;%0D%0A%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(progress.value%20==%20progress.max)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(%22finish%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20finisher();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updatePerformance();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateRunnerPos();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D%0D%0A%0D%0Afunction%20updatePerformance()%20%7B%0D%0A%20%20%20%20energy.value%20+=%20energyGain;%0D%0A%0D%0A%20%20%20%20if%20(energy.value%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted%20&&%20energy.value%20%3E%2060)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20exhausted%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20progress.value%20+=%20delta%20*%20speed;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#setMode(%22exhausted%22);#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20exhausted%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateRunnerPos()%20%7B%0D%0A%20%20%20%20if%20(runner.offsetLeft%20!=%20world.clientWidth%20*%20runnerPos%20&&%20!exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20offset%20=%20(runner.offsetLeft%20-%20world.clientWidth%20*%20runnerPos)%20*%20delta%20/%201000;%0D%0A%20%20%20%20%20%20%20%20move(runner,%20offset);%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20setMode(m)%20%7B%0D%0A%20%20%20%20if%20(!exhausted%20&&%20!paused%20&&%20mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20mode%20=%20m%20;%0D%0A%20%20%20%20%20%20%20%20runner.src%20=%20link%5Bmode%5D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20start%20jogging%0D%0A%20%20%20%20%20%20%20%20if%20(mode%20==%20%22jog%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.3;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.06;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3EJOGGING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20start%20running%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22run%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.4;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.1;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.08;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ERUNNING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20start%20sprinting%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22sprint%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.55;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.15;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.2;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ESPRINTING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20become%20exhausted%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22exhausted%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#speed%20=%200;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#energyGain%20=%200.05;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:firebrick'%3EEXHAUSHTED%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20finisher%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22finish%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20paused%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EFINISHER!%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert(%22You're%20exhausted,%20wait%20until%20your%20energy%20recovers%20to%2060%25.%22);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('Click%20%22Go!%22%20to%20start%20the%20race.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20finisher()%20%7B%0D%0A%20%20%20%20var%20popup%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20var%20resetButton%20=%20document.createElement(%22button%22);%0D%0A%0D%0A%20%20%20%20popup.id%20=%20%22popup%22;%0D%0A%20%20%20%20popup.innerHTML%20=%20%22%3Cp%3ECongratulations!%20You%20have%20finished%20the%20race.%3C/p%3E%22;%0D%0A%20%20%20%20resetButton.id%20=%20%22reset%22;%0D%0A%20%20%20%20resetButton.innerHTML%20=%20%22REPLAY%22;%0D%0A%20%20%20%20resetButton.onclick%20=%20reset;%0D%0A%20%20%20%20world.appendChild(popup);%0D%0A%20%20%20%20popup.appendChild(resetButton);%0D%0A%7D%0D%0A%0D%0Afunction%20reset()%20%7B%0D%0A%20%20%20%20world.removeChild(popup);%0D%0A%20%20%20%20runner.src%20=%20link.ready;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Afunction%20pos(e,%20p)%20%7B%0D%0A%20%20%20%20return%20parseFloat(window.getComputedStyle(e).getPropertyValue(p));%0D%0A%7D%0D%0A%0D%0Afunction%20move(e,%20d)%20%7B%0D%0A%20%20%20%20e.style.left%20=%20pos(e,%20%22left%22)%20-%20d%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20range(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20var%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Afunction%20remap(v,%20iMin,%20iMax,%20oMin,%20oMax)%20%7B%0D%0A%20%20%20%20return%20oMin%20+%20(v%20-%20iMin)%20*%20(oMax%20-%20oMin)%20/%20(iMax%20-%20iMin);%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.transform%20=%20%60scale($%7BgameRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20game.offsetWidth%20:%20window.innerHeight%20/%20game.offsetHeight%7D)%60;%0D%0A%7D%0D%0A##JS_E####CODE_13E####LOGIC_13####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60setMode(%22exhausted%22);%60);%0Apass.if.js.editable(1).equivalent(%60speed%20=%200;%60);%0Apass.if.js.editable(2).equivalent(%60energyGain%20=%200.05;%60);##JS_E####LOGIC_13E####STEP_13E####STEP_14####INST_14##Collectable%0A%0AStep%20context.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#array%5D%0A%09(*)%5B#js#src%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20exhausted#+1,%20create%20a%20variable%20called%20*cherries*%20to%20store%20the%20array%20%60%5B0.3,%200.7%5D%60.%0A%0A(!)On%20+js#updatePerformance();#+1,%20call%20the%20*updateCherry*%20function.%0A%0A(!)On%20+js#%22cherry%22#+1,%20change%20the%20source%20link%20of%20the%20*cherry*%20element%20to%20*%22https://app.bsd.education/resources/science_running_simulator_cherry.png%22*.##INST_14E####CODE_14####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%09%3Clink%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch4%3ERUNNING%20SIMULATOR%3C/h4%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20RACE?%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22world%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22https://app.bsd.education/resources/science_running_simulator_ground.png%22%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22start%22%20disabled%3EGo!%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22jog%22%3EJog%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22run%22%3ERun%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22sprint%22%3ESprint%3C/button%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A*%20%7B%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20font-family:%20sans-serif;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Ah4,%20h6%20%7B%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Ah6%20%7B%0D%0A%20%20%20%20margin:%205px%200%200%200;%0D%0A%7D%0D%0A%0D%0Ap%20%7B%0D%0A%20%20%20%20color:%20#ffbf00;%0D%0A%20%20%20%20font-size:%2014px;%0D%0A%20%20%20%20line-height:%2018px;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Aimg,%20#energy%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#game,%20.cherry%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#popup%20%3E%20button%20%7B%0D%0A%20%20%20%20width:%20100px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%206px;%0D%0A%20%20%20%20font-weight:%20bold;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2060px;%0D%0A%20%20%20%20margin:%200%2010px;%0D%0A%20%20%20%20border:%20gray%205px%20solid;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20cursor:%20pointer%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20background:%20darkgray;%0D%0A%7D%0D%0A%0D%0A#world%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20240px;%0D%0A%20%20%20%20margin:%2020px%200;%0D%0A%20%20%20%20background:%20skyblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#cloud%20%7B%0D%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0D%0A%7D%0D%0A%0D%0A#energy%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2010px;%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#progress%20%7B%0D%0A%20%20%20%20width:%2080%25;%0D%0A%20%20%20%20height:%2015px;%0D%0A%7D%0D%0A%0D%0A#ground%20%7B%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%7D%0D%0A%0D%0A#popup%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width%20:%20260px;%0D%0A%20%20%20%20height:%20110px;%0D%0A%20%20%20%20left:%20calc(50%25%20-%20130px);%0D%0A%20%20%20%20margin-top:%2010px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20box-shadow:%200%200%202px%202px%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background:%20rgba(0,%200,%200,%200.5);%0D%0A%7D%0D%0A##CSS_E####JS##//%20JavaScript%0D%0Avar%20start,%20world,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0A%0D%0A//%20starting%20mode:%200%20is%20idle,%201%20is%20jog,%202%20is%20run,%203%20is%20sprint%0D%0Avar%20mode%20=%200;%0D%0Avar%20paused%20=%20true;%0D%0Avar%20exhausted%20=%20false;%0D%0A#BEGIN_EDITABLE#var%20cherries%20=%20%5B0.3,%200.7%5D;#END_EDITABLE#%0D%0Avar%20link%20=%20%7B%0D%0A%20%20%20%20ready:%20%22https://app.bsd.education/resources/science_running_simulator_ready.gif%22,%0D%0A%20%20%20%20jog:%20%22https://app.bsd.education/resources/science_running_simulator_jog.gif%22,%0D%0A%20%20%20%20run:%20%22https://app.bsd.education/resources/science_running_simulator_run.gif%22,%0D%0A%20%20%20%20sprint:%20%22https://app.bsd.education/resources/science_running_simulator_sprint.gif%22,%0D%0A%20%20%20%20exhausted:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%20%20%20%20finish:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20progress%20=%20document.querySelector(%22#progress%22);%0D%0A%20%20%20%20energy%20=%20document.querySelector(%22#energy%22);%0D%0A%20%20%20%20info%20=%20document.querySelector(%22#info%22);%0D%0A%20%20%20%20world%20=%20document.querySelector(%22#world%22);%0D%0A%20%20%20%20start%20=%20document.querySelector(%22#start%22);%0D%0A%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%205000;%0D%0A%0D%0A%20%20%20%20loadAnimation();%0D%0A%20%20%20%20requestAnimationFrame(updateWorld);%0D%0A%0D%0A%20%20%20%20resize();%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link.ready;%0D%0A%0D%0A%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20world.appendChild(runner);%0D%0A%0D%0A%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20start.onclick%20=%20startRace;%0D%0A%20%20%20%20%0D%0A%20%20%20%20jog.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20run.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22run%22);%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20sprint.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22sprint%22);%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20startRace()%20%7B%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.max%20=%20100;%0D%0A%20%20%20%20paused%20=%20false;%0D%0A%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20start.disabled%20=%20true;%0D%0A%7D%0D%0A%0D%0Afunction%20loadAnimation(n%20=%200)%20%7B%0D%0A%20%20%20%20var%20img%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20var%20src%20=%20Object.values(link)%5Bn%5D;%0D%0A%0D%0A%20%20%20%20img.src%20=%20src;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Loading:%20%3Cspan%20style='color:green'%3E%22%20+%20src.match(/%5Cw+%5C.gif/i)%5B0%5D%20+%20%22%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20img.onload%20=%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(n%20%3C%20Object.values(link).length%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20loadAnimation(n%20+%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20iniWorld();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20updateWorld(timestamp)%20%7B%0D%0A%20%20%20%20if%20(!lastUpdate)%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20delta%20=%20timestamp%20-%20lastUpdate;%0D%0A%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(progress.value%20==%20progress.max)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(%22finish%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20finisher();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updatePerformance();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#updateCherry();#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateRunnerPos();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D%0D%0A%0D%0Afunction%20updatePerformance()%20%7B%0D%0A%20%20%20%20energy.value%20+=%20energyGain;%0D%0A%0D%0A%20%20%20%20if%20(energy.value%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted%20&&%20energy.value%20%3E%2060)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20exhausted%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20progress.value%20+=%20delta%20*%20speed;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22exhausted%22);%0D%0A%20%20%20%20%20%20%20%20exhausted%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateCherry()%20%7B%0D%0A%20%20%20%20//%20%20check%20whether%20runner%20progress%20percentage%20is%20greater%20than%0D%0A%20%20%20%20//%20%20the%20first%20cherry%20position%20value%0D%0A%20%20%20%20if%20(progress.value%20/%20progress.max%20%3E=%20cherries%5B0%5D)%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20image%20element%0D%0A%20%20%20%20%20%20%20%20var%20cherry%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20attributes%0D%0A%20%20%20%20%20%20%20%20cherry.className%20=%20%22cherry%22;%0D%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#cherry.src%20=%20%22https://app.bsd.education/resources/science_running_simulator_cherry.png%22;#END_EDITABLE#%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20cherry.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20add%20image%20to%20HTML%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.appendChild(cherry);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20style%20image%20size%20and%20position%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cherry.style.width%20=%20%2230px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cherry.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cherry.style.left%20=%20%22100%25%22;%0D%0A%20%20%20%20%20%20%20%20%7D;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20//%20%20remove%20the%20first%20item%20from%20cherries%20array%0D%0A%20%20%20%20%20%20%20%20cherries.splice(0,%201);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20iterate%20through%20all%20cherry%20images%0D%0A%20%20%20%20document.querySelectorAll(%22.cherry%22).forEach(cherry%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20cherry.style.left%20=%20(cherry.offsetLeft%20-%20delta%20*%20speed)%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20//%20%20check%20if%20cherry%20collides%20with%20runner%0D%0A%20%20%20%20%20%20%20%20if%20(cherry.offsetLeft%20%3C%20runner.offsetLeft%20+%20runner.offsetWidth)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.removeChild(cherry);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energy.value%20=%20Math.min(energy.value%20+%2050,%20energy.max);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20updateRunnerPos()%20%7B%0D%0A%20%20%20%20if%20(runner.offsetLeft%20!=%20world.clientWidth%20*%20runnerPos%20&&%20!exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20offset%20=%20(runner.offsetLeft%20-%20world.clientWidth%20*%20runnerPos)%20*%20delta%20/%201000;%0D%0A%20%20%20%20%20%20%20%20move(runner,%20offset);%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20setMode(m)%20%7B%0D%0A%20%20%20%20if%20(!exhausted%20&&%20!paused%20&&%20mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20mode%20=%20m%20;%0D%0A%20%20%20%20%20%20%20%20runner.src%20=%20link%5Bmode%5D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20start%20jogging%0D%0A%20%20%20%20%20%20%20%20if%20(mode%20==%20%22jog%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.3;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.06;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3EJOGGING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20start%20running%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22run%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.4;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.1;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.08;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ERUNNING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20start%20sprinting%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22sprint%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.55;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.15;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.2;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ESPRINTING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20become%20exhausted%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22exhausted%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:firebrick'%3EEXHAUSHTED%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20finisher%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22finish%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20paused%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EFINISHER!%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert(%22You're%20exhausted,%20wait%20until%20your%20energy%20recovers%20to%2060%25.%22);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('Click%20%22Go!%22%20to%20start%20the%20race.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20finisher()%20%7B%0D%0A%20%20%20%20var%20popup%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20var%20resetButton%20=%20document.createElement(%22button%22);%0D%0A%0D%0A%20%20%20%20popup.id%20=%20%22popup%22;%0D%0A%20%20%20%20popup.innerHTML%20=%20%22%3Cp%3ECongratulations!%20You%20have%20finished%20the%20race.%3C/p%3E%22;%0D%0A%20%20%20%20resetButton.id%20=%20%22reset%22;%0D%0A%20%20%20%20resetButton.innerHTML%20=%20%22REPLAY%22;%0D%0A%20%20%20%20resetButton.onclick%20=%20reset;%0D%0A%20%20%20%20world.appendChild(popup);%0D%0A%20%20%20%20popup.appendChild(resetButton);%0D%0A%7D%0D%0A%0D%0Afunction%20reset()%20%7B%0D%0A%20%20%20%20world.removeChild(popup);%0D%0A%20%20%20%20runner.src%20=%20link.ready;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Afunction%20pos(e,%20p)%20%7B%0D%0A%20%20%20%20return%20parseFloat(window.getComputedStyle(e).getPropertyValue(p));%0D%0A%7D%0D%0A%0D%0Afunction%20move(e,%20d)%20%7B%0D%0A%20%20%20%20e.style.left%20=%20pos(e,%20%22left%22)%20-%20d%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20range(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20var%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Afunction%20remap(v,%20iMin,%20iMax,%20oMin,%20oMax)%20%7B%0D%0A%20%20%20%20return%20oMin%20+%20(v%20-%20iMin)%20*%20(oMax%20-%20oMin)%20/%20(iMax%20-%20iMin);%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.transform%20=%20%60scale($%7BgameRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20game.offsetWidth%20:%20window.innerHeight%20/%20game.offsetHeight%7D)%60;%0D%0A%7D%0D%0A##JS_E####CODE_14E####LOGIC_14####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20cherries%20=%20%5B0.3,%200.7%5D;%60);%0Apass.if.js.editable(1).equivalent(%60updateCherry();%60);%0Apass.if.js.editable(2).equivalent(%60cherry.src%20=%20%22https://app.bsd.education/resources/science_running_simulator_cherry.png%22;%60);##JS_E####LOGIC_14E####STEP_14E####STEP_15####INST_15##One%20last%20race%0A%0AStep%20context.%0A%0A(***)%0A%0A(!)Complete%20the%20race%20in%20under%201%20minute%2050%20seconds.##INST_15E####CODE_15####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%09%3Clink%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch4%3ERUNNING%20SIMULATOR%3C/h4%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20RACE?%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Ch4%20id=%22stopwatch%22%3E00:00:00%3C/h4%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22world%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22https://app.bsd.education/resources/science_running_simulator_ground.png%22%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22start%22%20disabled%3EGo!%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22jog%22%3EJog%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22run%22%3ERun%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22sprint%22%3ESprint%3C/button%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##/*%20CSS%20*/%0D%0A*%20%7B%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20font-family:%20sans-serif;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Ah4,%20h6%20%7B%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Ah6%20%7B%0D%0A%20%20%20%20margin:%205px%200%200%200;%0D%0A%7D%0D%0A%0D%0Ap%20%7B%0D%0A%20%20%20%20color:%20#ffbf00;%0D%0A%20%20%20%20font-size:%2014px;%0D%0A%20%20%20%20line-height:%2018px;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Aimg,%20#energy%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#game,%20.cherry%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#popup%20%3E%20button%20%7B%0D%0A%20%20%20%20width:%20100px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%206px;%0D%0A%20%20%20%20font-weight:%20bold;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2060px;%0D%0A%20%20%20%20margin:%200%2010px;%0D%0A%20%20%20%20border:%20gray%205px%20solid;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20cursor:%20pointer%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20background:%20darkgray;%0D%0A%7D%0D%0A%0D%0A#world%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20240px;%0D%0A%20%20%20%20margin:%2020px%200;%0D%0A%20%20%20%20background:%20skyblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#cloud%20%7B%0D%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0D%0A%7D%0D%0A%0D%0A#energy%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2010px;%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#progress%20%7B%0D%0A%20%20%20%20width:%2080%25;%0D%0A%20%20%20%20height:%2015px;%0D%0A%7D%0D%0A%0D%0A#ground%20%7B%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%7D%0D%0A%0D%0A#popup%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width%20:%20260px;%0D%0A%20%20%20%20height:%20110px;%0D%0A%20%20%20%20left:%20calc(50%25%20-%20130px);%0D%0A%20%20%20%20margin-top:%2010px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20box-shadow:%200%200%202px%202px%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background:%20rgba(0,%200,%200,%200.5);%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##//%20JavaScript%0D%0Avar%20start,%20world,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0A%0D%0A//%20starting%20mode:%200%20is%20idle,%201%20is%20jog,%202%20is%20run,%203%20is%20sprint%0D%0Avar%20mode%20=%200;%0D%0Avar%20paused%20=%20true;%0D%0Avar%20exhausted%20=%20false;%0D%0Avar%20cherries%20=%20%5B0.3,%200.7%5D;%0D%0Avar%20clouds%20=%20%5B%5D;%0D%0Avar%20link%20=%20%7B%0D%0A%20%20%20%20ready:%20%22https://app.bsd.education/resources/science_running_simulator_ready.gif%22,%0D%0A%20%20%20%20jog:%20%22https://app.bsd.education/resources/science_running_simulator_jog.gif%22,%0D%0A%20%20%20%20run:%20%22https://app.bsd.education/resources/science_running_simulator_run.gif%22,%0D%0A%20%20%20%20sprint:%20%22https://app.bsd.education/resources/science_running_simulator_sprint.gif%22,%0D%0A%20%20%20%20exhausted:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%20%20%20%20finish:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20stopwatch%20=%20document.querySelector(%22#stopwatch%22);%0D%0A%20%20%20%20progress%20=%20document.querySelector(%22#progress%22);%0D%0A%20%20%20%20energy%20=%20document.querySelector(%22#energy%22);%0D%0A%20%20%20%20info%20=%20document.querySelector(%22#info%22);%0D%0A%20%20%20%20world%20=%20document.querySelector(%22#world%22);%0D%0A%20%20%20%20start%20=%20document.querySelector(%22#start%22);%0D%0A%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%2010000;%0D%0A%0D%0A%20%20%20%20loadAnimation();%0D%0A%20%20%20%20requestAnimationFrame(updateWorld);%0D%0A%0D%0A%20%20%20%20resize();%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link.ready;%0D%0A%0D%0A%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20world.appendChild(runner);%0D%0A%0D%0A%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%20%20%20%20createCloud();%0D%0A%0D%0A%20%20%20%20start.onclick%20=%20startRace;%0D%0A%20%20%20%20%0D%0A%20%20%20%20jog.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20run.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22run%22);%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20sprint.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22sprint%22);%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20startRace()%20%7B%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.max%20=%20100;%0D%0A%20%20%20%20timer%20=%20Date.now();%0D%0A%20%20%20%20paused%20=%20false;%0D%0A%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20start.disabled%20=%20true;%0D%0A%7D%0D%0A%0D%0Afunction%20loadAnimation(n%20=%200)%20%7B%0D%0A%20%20%20%20var%20img%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20var%20src%20=%20Object.values(link)%5Bn%5D;%0D%0A%0D%0A%20%20%20%20img.src%20=%20src;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Loading:%20%3Cspan%20style='color:green'%3E%22%20+%20src.match(/%5Cw+%5C.gif/i)%5B0%5D%20+%20%22%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20img.onload%20=%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(n%20%3C%20Object.values(link).length%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20loadAnimation(n%20+%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20iniWorld();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20updateWorld(timestamp)%20%7B%0D%0A%20%20%20%20if%20(!lastUpdate)%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20delta%20=%20timestamp%20-%20lastUpdate;%0D%0A%20%20%20%20updateClouds();%0D%0A%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(progress.value%20==%20progress.max)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(%22finish%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20finisher();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateStopWatch();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updatePerformance();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateCherry();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateRunnerPos();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D%0D%0A%0D%0Afunction%20updatePerformance()%20%7B%0D%0A%20%20%20%20energy.value%20+=%20energyGain;%0D%0A%0D%0A%20%20%20%20if%20(energy.value%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted%20&&%20energy.value%20%3E%2060)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20exhausted%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20progress.value%20+=%20delta%20*%20speed;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22exhausted%22);%0D%0A%20%20%20%20%20%20%20%20exhausted%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateCherry()%20%7B%0D%0A%20%20%20%20//%20%20check%20whether%20runner%20progress%20percentage%20is%20greater%20than%0D%0A%20%20%20%20//%20%20the%20first%20cherry%20position%20value%0D%0A%20%20%20%20if%20(progress.value%20/%20progress.max%20%3E=%20cherries%5B0%5D)%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20image%20element%0D%0A%20%20%20%20%20%20%20%20var%20cherry%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20attributes%0D%0A%20%20%20%20%20%20%20%20cherry.className%20=%20%22cherry%22;%0D%0A%20%20%20%20%20%20%20%20cherry.src%20=%20%22https://app.bsd.education/resources/science_running_simulator_cherry.png%22;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20cherry.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20add%20image%20to%20HTML%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.appendChild(cherry);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20style%20image%20size%20and%20position%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cherry.style.width%20=%20%2230px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cherry.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cherry.style.left%20=%20%22100%25%22;%0D%0A%20%20%20%20%20%20%20%20%7D;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20//%20%20remove%20the%20first%20item%20from%20cherries%20array%0D%0A%20%20%20%20%20%20%20%20cherries.splice(0,%201);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20iterate%20through%20all%20cherry%20images%0D%0A%20%20%20%20document.querySelectorAll(%22.cherry%22).forEach(cherry%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20cherry.style.left%20=%20(cherry.offsetLeft%20-%20delta%20*%20speed)%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20//%20%20check%20if%20cherry%20collides%20with%20runner%0D%0A%20%20%20%20%20%20%20%20if%20(cherry.offsetLeft%20%3C%20runner.offsetLeft%20+%20runner.offsetWidth)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.removeChild(cherry);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energy.value%20=%20Math.min(energy.value%20+%2050,%20energy.max);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20updateRunnerPos()%20%7B%0D%0A%20%20%20%20if%20(runner.offsetLeft%20!=%20world.clientWidth%20*%20runnerPos%20&&%20!exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20offset%20=%20(runner.offsetLeft%20-%20world.clientWidth%20*%20runnerPos)%20*%20delta%20/%201000;%0D%0A%20%20%20%20%20%20%20%20move(runner,%20offset);%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateStopWatch()%20%7B%0D%0A%20%20%20%20var%20elapsed%20=%20Date.now()%20-%20timer;%0D%0A%20%20%20%20var%20m%20=%20Math.floor(elapsed%20/%2060000%20%25%2060);%0D%0A%20%20%20%20var%20s%20=%20Math.floor(elapsed%20/%201000%20%25%2060);%0D%0A%20%20%20%20var%20ms%20=%20Math.floor(elapsed%20/%2010%20%25%20100);%0D%0A%0D%0A%20%20%20%20stopwatch.innerHTML%20=%20pad(m)%20+%20%22:%22%20+%20pad(s)%20+%20%22:%22%20+%20pad(ms);%0D%0A%7D%0D%0A%0D%0Afunction%20createCloud()%20%7B%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20cloud%20=%20document.createElement(%22img%22),%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20d%20=%20range(-15,%2080);%0D%0A%0D%0A%20%20%20%20%20%20%20%20cloud.src%20=%20%22https://app.bsd.education/resources/science_running_simulator_cloud.png%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20cloud.onload%20=%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.top%20=%20d%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.left%20=%20world.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.width%20=%20remap(d,%20-15,%2080,%2080,%2040)%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.appendChild(cloud);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.unshift(cloud);%0D%0A%20%20%20%20%20%20%20%20%7D;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20requestAnimationFrame(()%20=%3E%20setTimeout(createCloud,%20cloudSeed()%20*%201000));%0D%0A%7D%0D%0A%0D%0Afunction%20cloudSeed()%20%7B%0D%0A%20%20%20%20return%20range(3,%2010)%20/%20remap(speed,%200,%200.15,%201,%204);%0D%0A%7D%0D%0A%0D%0Afunction%20updateClouds()%20%7B%0D%0A%20%20%20%20clouds.forEach(function%20(c,%20i)%20%7B%0D%0A%20%20%20%20%20%20%20%20move(c,%20Math.max(delta%20*%20speed,%200.5)%20*%20c.offsetWidth%20/%2080);%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(c.offsetLeft%20%3C=%20-c.offsetWidth)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.removeChild(c);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.splice(i,%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20setMode(m)%20%7B%0D%0A%20%20%20%20if%20(!exhausted%20&&%20!paused%20&&%20mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20mode%20=%20m%20;%0D%0A%20%20%20%20%20%20%20%20runner.src%20=%20link%5Bmode%5D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20start%20jogging%0D%0A%20%20%20%20%20%20%20%20if%20(mode%20==%20%22jog%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.3;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.06;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3EJOGGING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20start%20running%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22run%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.4;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.1;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.08;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ERUNNING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20start%20sprinting%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22sprint%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.55;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.15;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.2;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ESPRINTING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20become%20exhausted%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22exhausted%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:firebrick'%3EEXHAUSHTED%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20finisher%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22finish%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20paused%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EFINISHER!%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert(%22You're%20exhausted,%20wait%20until%20your%20energy%20recovers%20to%2060%25.%22);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('Click%20%22Go!%22%20to%20start%20the%20race.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20finisher()%20%7B%0D%0A%20%20%20%20var%20popup%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20var%20resetButton%20=%20document.createElement(%22button%22);%0D%0A%0D%0A%20%20%20%20popup.id%20=%20%22popup%22;%0D%0A%20%20%20%20popup.innerHTML%20=%20%22%3Cp%3ECongratulations!%20You%20have%20finished%20the%20race.%3C/p%3E%22;%0D%0A%20%20%20%20resetButton.id%20=%20%22reset%22;%0D%0A%20%20%20%20resetButton.innerHTML%20=%20%22REPLAY%22;%0D%0A%20%20%20%20resetButton.onclick%20=%20reset;%0D%0A%20%20%20%20world.appendChild(popup);%0D%0A%20%20%20%20popup.appendChild(resetButton);%0D%0A%7D%0D%0A%0D%0Afunction%20reset()%20%7B%0D%0A%20%20%20%20world.removeChild(popup);%0D%0A%20%20%20%20runner.src%20=%20link.ready;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20stopwatch.innerHTML%20=%20%2200:00:00%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Afunction%20pos(e,%20p)%20%7B%0D%0A%20%20%20%20return%20parseFloat(window.getComputedStyle(e).getPropertyValue(p));%0D%0A%7D%0D%0A%0D%0Afunction%20move(e,%20d)%20%7B%0D%0A%20%20%20%20e.style.left%20=%20pos(e,%20%22left%22)%20-%20d%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20clamp(v,%20min,%20max)%20%7B%0D%0A%20%20%20%20return%20Math.max(min,%20Math.min(v,%20max));%0D%0A%7D%0D%0A%0D%0Afunction%20range(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20var%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Afunction%20remap(v,%20iMin,%20iMax,%20oMin,%20oMax)%20%7B%0D%0A%20%20%20%20return%20oMin%20+%20(v%20-%20iMin)%20*%20(oMax%20-%20oMin)%20/%20(iMax%20-%20iMin);%0D%0A%7D%0D%0A%0D%0Afunction%20pad(n)%20%7B%0D%0A%20%20%20%20return%20n.toString().length%20==%202%20?%20n%20:%20'0'%20+%20n.toString();%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.transform%20=%20%60scale($%7BgameRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20game.offsetWidth%20:%20window.innerHeight%20/%20game.offsetHeight%7D)%60;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_15E####LOGIC_15####HTML####HTML_E####CSS####CSS_E####JS##pass.on(%60updateStopWatch%60).var(%60m%20%3C=%201%20&&%20s%20%3C=%2050%20&&%20progress.value%20==%20progress.max%60);##JS_E####LOGIC_15E####STEP_15E####STEP_16####INST_16##Summary%0A%0AGreat%20job!%0A%0AYou%20have%20completed%20this%20project,%20here%20is%20a%20recap:%0A%0A%5B-%0A%09(*)The%20%5B#html#%3Cprogress%3E%5D%20elements%20were%20used%20to%20represent%20the%20progress%20of%20the%20race%20and%20the%20energy%20level%20of%20the%20runner.%0A%09(*)We%20used%20%5Bvariables#js#variable%5D%20to%20store%20many%20of%20the%20values%20for%20the%20calculations%20required%20for%20the%20race.%0A%09(*)We%20used%20%5B#js#arithmetic%20operators%5D%20to%20carry%20out%20calculations.%0A%09(*)We%20used%20an%20%5B#js#array%5D%20to%20store%20the%20locations%20of%20collectables.%0A-%5D##INST_16E####CODE_16####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%3Chead%3E%0D%0A%09%3Clink%20type=%22text/css%22%20href=%22style.css%22/%3E%0D%0A%3C/head%3E%0D%0A%3Cbody%3E%0D%0A%20%20%20%20%3Cdiv%20id=%22game%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch4%3ERUNNING%20SIMULATOR%3C/h4%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch6%3ECAN%20YOU%20FINISH%20THE%20RACE?%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Ch4%20id=%22stopwatch%22%3E00:00:00%3C/h4%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id=%22world%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%3EProgress%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22progress%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch6%20id=%22info%22%3E%3C/h6%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cprogress%20id=%22energy%22%3E%3C/progress%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20id=%22ground%22%20src=%22https://app.bsd.education/resources/science_running_simulator_ground.png%22%3E%0D%0A%20%20%20%20%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22start%22%20disabled%3EGo!%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22jog%22%3EJog%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22run%22%3ERun%3C/button%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id=%22sprint%22%3ESprint%3C/button%3E%0D%0A%20%20%20%20%3C/div%3E%0D%0A%20%20%20%20%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##/*%20CSS%20*/%0D%0A*%20%7B%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20font-family:%20sans-serif;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Ah4,%20h6%20%7B%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Ah6%20%7B%0D%0A%20%20%20%20margin:%205px%200%200%200;%0D%0A%7D%0D%0A%0D%0Ap%20%7B%0D%0A%20%20%20%20color:%20#ffbf00;%0D%0A%20%20%20%20font-size:%2014px;%0D%0A%20%20%20%20line-height:%2018px;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Aimg,%20#energy%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#game,%20.cherry%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#popup%20%3E%20button%20%7B%0D%0A%20%20%20%20width:%20100px;%0D%0A%20%20%20%20height:%2030px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%206px;%0D%0A%20%20%20%20font-weight:%20bold;%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%20%20%20%20color:%20#333333;%0D%0A%20%20%20%20background:%20#ffbf00;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2060px;%0D%0A%20%20%20%20margin:%200%2010px;%0D%0A%20%20%20%20border:%20gray%205px%20solid;%0D%0A%20%20%20%20border-radius:%2050%25;%0D%0A%20%20%20%20outline:%20none;%0D%0A%20%20%20%20cursor:%20pointer%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20background:%20darkgray;%0D%0A%7D%0D%0A%0D%0A#world%20%7B%0D%0A%20%20%20%20position:%20relative;%0D%0A%20%20%20%20left:%2050%25;%0D%0A%20%20%20%20width:%20500px;%0D%0A%20%20%20%20height:%20240px;%0D%0A%20%20%20%20margin:%2020px%200;%0D%0A%20%20%20%20background:%20skyblue;%0D%0A%20%20%20%20transform:%20translateX(-50%25);%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0A#cloud%20%7B%0D%0A%20%20%20%20animation:%20anim%201s%20infinite%20linear;%0D%0A%7D%0D%0A%0D%0A#energy%20%7B%0D%0A%20%20%20%20width:%2060px;%0D%0A%20%20%20%20height:%2010px;%0D%0A%20%20%20%20margin:%200;%0D%0A%7D%0D%0A%0D%0A#progress%20%7B%0D%0A%20%20%20%20width:%2080%25;%0D%0A%20%20%20%20height:%2015px;%0D%0A%7D%0D%0A%0D%0A#ground%20%7B%0D%0A%20%20%20%20left:%200;%0D%0A%20%20%20%20bottom:%200;%0D%0A%7D%0D%0A%0D%0A#popup%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20width%20:%20260px;%0D%0A%20%20%20%20height:%20110px;%0D%0A%20%20%20%20left:%20calc(50%25%20-%20130px);%0D%0A%20%20%20%20margin-top:%2010px;%0D%0A%20%20%20%20padding:%200%2010px;%0D%0A%20%20%20%20box-shadow:%200%200%202px%202px%20rgba(0,%200,%200,%200.3);%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20background:%20rgba(0,%200,%200,%200.5);%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##//%20JavaScript%0D%0Avar%20start,%20world,%20runner,%20stopwatch,%20progress,%20energy,%20info;%0D%0Avar%20speed,%20energyGain,%20runnerPos,%20lastUpdate,%20delta,%20timer;%0D%0A%0D%0A//%20starting%20mode:%200%20is%20idle,%201%20is%20jog,%202%20is%20run,%203%20is%20sprint%0D%0Avar%20mode%20=%200;%0D%0Avar%20paused%20=%20true;%0D%0Avar%20exhausted%20=%20false;%0D%0Avar%20cherries%20=%20%5B0.3,%200.7%5D;%0D%0Avar%20clouds%20=%20%5B%5D;%0D%0Avar%20link%20=%20%7B%0D%0A%20%20%20%20ready:%20%22https://app.bsd.education/resources/science_running_simulator_ready.gif%22,%0D%0A%20%20%20%20jog:%20%22https://app.bsd.education/resources/science_running_simulator_jog.gif%22,%0D%0A%20%20%20%20run:%20%22https://app.bsd.education/resources/science_running_simulator_run.gif%22,%0D%0A%20%20%20%20sprint:%20%22https://app.bsd.education/resources/science_running_simulator_sprint.gif%22,%0D%0A%20%20%20%20exhausted:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%20%20%20%20finish:%20%22https://app.bsd.education/resources/science_running_simulator_exhausted.gif%22,%0D%0A%7D;%0D%0A%0D%0Awindow.onload%20=%20()%20=%3E%20%7B%0D%0A%20%20%20%20stopwatch%20=%20document.querySelector(%22#stopwatch%22);%0D%0A%20%20%20%20progress%20=%20document.querySelector(%22#progress%22);%0D%0A%20%20%20%20energy%20=%20document.querySelector(%22#energy%22);%0D%0A%20%20%20%20info%20=%20document.querySelector(%22#info%22);%0D%0A%20%20%20%20world%20=%20document.querySelector(%22#world%22);%0D%0A%20%20%20%20start%20=%20document.querySelector(%22#start%22);%0D%0A%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20progress.max%20=%2010000;%0D%0A%0D%0A%20%20%20%20loadAnimation();%0D%0A%20%20%20%20requestAnimationFrame(updateWorld);%0D%0A%0D%0A%20%20%20%20resize();%0D%0A%7D;%0D%0A%0D%0Afunction%20iniWorld()%20%7B%0D%0A%20%20%20%20runner%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20runner.src%20=%20link.ready;%0D%0A%0D%0A%20%20%20%20runner.style.height%20=%20%2280px%22;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20runner.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20world.appendChild(runner);%0D%0A%0D%0A%20%20%20%20energy.style.width%20=%20runner.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20energy.style.top%20=%20runner.offsetTop%20-%2015%20+%20%22px%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%20%20%20%20createCloud();%0D%0A%0D%0A%20%20%20%20start.onclick%20=%20startRace;%0D%0A%20%20%20%20%0D%0A%20%20%20%20jog.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20run.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22run%22);%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20sprint.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22sprint%22);%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20startRace()%20%7B%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.max%20=%20100;%0D%0A%20%20%20%20timer%20=%20Date.now();%0D%0A%20%20%20%20paused%20=%20false;%0D%0A%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20start.disabled%20=%20true;%0D%0A%7D%0D%0A%0D%0Afunction%20loadAnimation(n%20=%200)%20%7B%0D%0A%20%20%20%20var%20img%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20var%20src%20=%20Object.values(link)%5Bn%5D;%0D%0A%0D%0A%20%20%20%20img.src%20=%20src;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Loading:%20%3Cspan%20style='color:green'%3E%22%20+%20src.match(/%5Cw+%5C.gif/i)%5B0%5D%20+%20%22%3Cspan%3E%22;%0D%0A%0D%0A%20%20%20%20img.onload%20=%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(n%20%3C%20Object.values(link).length%20-%201)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20loadAnimation(n%20+%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20iniWorld();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D;%0D%0A%7D%0D%0A%0D%0Afunction%20updateWorld(timestamp)%20%7B%0D%0A%20%20%20%20if%20(!lastUpdate)%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20delta%20=%20timestamp%20-%20lastUpdate;%0D%0A%20%20%20%20updateClouds();%0D%0A%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(progress.value%20==%20progress.max)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(%22finish%22);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20finisher();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateStopWatch();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updatePerformance();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateCherry();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20updateRunnerPos();%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20lastUpdate%20=%20timestamp;%0D%0A%20%20%20%20window.requestAnimationFrame(updateWorld);%0D%0A%7D%0D%0A%0D%0Afunction%20updatePerformance()%20%7B%0D%0A%20%20%20%20energy.value%20+=%20energyGain;%0D%0A%0D%0A%20%20%20%20if%20(energy.value%20%3E%200)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(exhausted%20&&%20energy.value%20%3E%2060)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20exhausted%20=%20false;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setMode(%22jog%22);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20progress.value%20+=%20delta%20*%20speed;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20setMode(%22exhausted%22);%0D%0A%20%20%20%20%20%20%20%20exhausted%20=%20true;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateCherry()%20%7B%0D%0A%20%20%20%20//%20%20check%20whether%20runner%20progress%20percentage%20is%20greater%20than%0D%0A%20%20%20%20//%20%20the%20first%20cherry%20position%20value%0D%0A%20%20%20%20if%20(progress.value%20/%20progress.max%20%3E=%20cherries%5B0%5D)%20%7B%0D%0A%20%20%20%20%20%20%20%20//%20%20create%20an%20image%20element%0D%0A%20%20%20%20%20%20%20%20var%20cherry%20=%20document.createElement(%22img%22);%0D%0A%20%20%20%20%20%20%20%20//%20%20assign%20attributes%0D%0A%20%20%20%20%20%20%20%20cherry.className%20=%20%22cherry%22;%0D%0A%20%20%20%20%20%20%20%20cherry.src%20=%20%22https://app.bsd.education/resources/science_running_simulator_cherry.png%22;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20cherry.onload%20=%20function()%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20add%20image%20to%20HTML%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.appendChild(cherry);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20%20style%20image%20size%20and%20position%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cherry.style.width%20=%20%2230px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cherry.style.bottom%20=%20%2225px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cherry.style.left%20=%20%22100%25%22;%0D%0A%20%20%20%20%20%20%20%20%7D;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20//%20%20remove%20the%20first%20item%20from%20cherries%20array%0D%0A%20%20%20%20%20%20%20%20cherries.splice(0,%201);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%20%20%20%20//%20%20iterate%20through%20all%20cherry%20images%0D%0A%20%20%20%20document.querySelectorAll(%22.cherry%22).forEach(cherry%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20cherry.style.left%20=%20(cherry.offsetLeft%20-%20delta%20*%20speed)%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20//%20%20check%20if%20cherry%20collides%20with%20runner%0D%0A%20%20%20%20%20%20%20%20if%20(cherry.offsetLeft%20%3C%20runner.offsetLeft%20+%20runner.offsetWidth)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.removeChild(cherry);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energy.value%20=%20Math.min(energy.value%20+%2050,%20energy.max);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20updateRunnerPos()%20%7B%0D%0A%20%20%20%20if%20(runner.offsetLeft%20!=%20world.clientWidth%20*%20runnerPos%20&&%20!exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20offset%20=%20(runner.offsetLeft%20-%20world.clientWidth%20*%20runnerPos)%20*%20delta%20/%201000;%0D%0A%20%20%20%20%20%20%20%20move(runner,%20offset);%0D%0A%20%20%20%20%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20updateStopWatch()%20%7B%0D%0A%20%20%20%20var%20elapsed%20=%20Date.now()%20-%20timer;%0D%0A%20%20%20%20var%20m%20=%20Math.floor(elapsed%20/%2060000%20%25%2060);%0D%0A%20%20%20%20var%20s%20=%20Math.floor(elapsed%20/%201000%20%25%2060);%0D%0A%20%20%20%20var%20ms%20=%20Math.floor(elapsed%20/%2010%20%25%20100);%0D%0A%0D%0A%20%20%20%20stopwatch.innerHTML%20=%20pad(m)%20+%20%22:%22%20+%20pad(s)%20+%20%22:%22%20+%20pad(ms);%0D%0A%7D%0D%0A%0D%0Afunction%20createCloud()%20%7B%0D%0A%20%20%20%20if%20(!paused)%20%7B%0D%0A%20%20%20%20%20%20%20%20var%20cloud%20=%20document.createElement(%22img%22),%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20d%20=%20range(-15,%2080);%0D%0A%0D%0A%20%20%20%20%20%20%20%20cloud.src%20=%20%22https://app.bsd.education/resources/science_running_simulator_cloud.png%22;%0D%0A%0D%0A%20%20%20%20%20%20%20%20cloud.onload%20=%20function%20()%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.top%20=%20d%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.left%20=%20world.offsetWidth%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cloud.style.width%20=%20remap(d,%20-15,%2080,%2080,%2040)%20+%20%22px%22;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.appendChild(cloud);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.unshift(cloud);%0D%0A%20%20%20%20%20%20%20%20%7D;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20requestAnimationFrame(()%20=%3E%20setTimeout(createCloud,%20cloudSeed()%20*%201000));%0D%0A%7D%0D%0A%0D%0Afunction%20cloudSeed()%20%7B%0D%0A%20%20%20%20return%20range(3,%2010)%20/%20remap(speed,%200,%200.15,%201,%204);%0D%0A%7D%0D%0A%0D%0Afunction%20updateClouds()%20%7B%0D%0A%20%20%20%20clouds.forEach(function%20(c,%20i)%20%7B%0D%0A%20%20%20%20%20%20%20%20move(c,%20Math.max(delta%20*%20speed,%200.5)%20*%20c.offsetWidth%20/%2080);%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(c.offsetLeft%20%3C=%20-c.offsetWidth)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20world.removeChild(c);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clouds.splice(i,%201);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20setMode(m)%20%7B%0D%0A%20%20%20%20if%20(!exhausted%20&&%20!paused%20&&%20mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20mode%20=%20m%20;%0D%0A%20%20%20%20%20%20%20%20runner.src%20=%20link%5Bmode%5D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20//%20start%20jogging%0D%0A%20%20%20%20%20%20%20%20if%20(mode%20==%20%22jog%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.3;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.06;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3EJOGGING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20start%20running%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22run%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.4;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.1;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.08;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ERUNNING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20start%20sprinting%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22sprint%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20runnerPos%20=%200.55;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200.15;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%20-0.2;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:yellow'%3ESPRINTING%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20become%20exhausted%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22exhausted%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200.05;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:firebrick'%3EEXHAUSHTED%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20//%20finisher%0D%0A%20%20%20%20%20%20%20%20else%20if%20(mode%20==%20%22finish%22)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20paused%20=%20true;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20speed%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20energyGain%20=%200;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EFINISHER!%3Cspan%3E%22;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(exhausted)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert(%22You're%20exhausted,%20wait%20until%20your%20energy%20recovers%20to%2060%25.%22);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(mode%20!=%20m)%20%7B%0D%0A%20%20%20%20%20%20%20%20alert('Click%20%22Go!%22%20to%20start%20the%20race.');%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20finisher()%20%7B%0D%0A%20%20%20%20var%20popup%20=%20document.createElement(%22div%22);%0D%0A%20%20%20%20var%20resetButton%20=%20document.createElement(%22button%22);%0D%0A%0D%0A%20%20%20%20popup.id%20=%20%22popup%22;%0D%0A%20%20%20%20popup.innerHTML%20=%20%22%3Cp%3ECongratulations!%20You%20have%20finished%20the%20race.%3C/p%3E%22;%0D%0A%20%20%20%20resetButton.id%20=%20%22reset%22;%0D%0A%20%20%20%20resetButton.innerHTML%20=%20%22REPLAY%22;%0D%0A%20%20%20%20resetButton.onclick%20=%20reset;%0D%0A%20%20%20%20world.appendChild(popup);%0D%0A%20%20%20%20popup.appendChild(resetButton);%0D%0A%7D%0D%0A%0D%0Afunction%20reset()%20%7B%0D%0A%20%20%20%20world.removeChild(popup);%0D%0A%20%20%20%20runner.src%20=%20link.ready;%0D%0A%20%20%20%20runner.style.left%20=%20%2225%25%22;%0D%0A%20%20%20%20progress.value%20=%200;%0D%0A%20%20%20%20energy.value%20=%20100;%0D%0A%20%20%20%20energy.style.left%20=%20runner.style.left;%0D%0A%20%20%20%20start.disabled%20=%20false;%0D%0A%20%20%20%20stopwatch.innerHTML%20=%20%2200:00:00%22;%0D%0A%20%20%20%20info.innerHTML%20=%20%22Runner%20Status:%20%3Cspan%20style='color:green'%3EREADY%3Cspan%3E%22;%0D%0A%7D%0D%0A%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A//%20==========%20//%0D%0A%0D%0Afunction%20pos(e,%20p)%20%7B%0D%0A%20%20%20%20return%20parseFloat(window.getComputedStyle(e).getPropertyValue(p));%0D%0A%7D%0D%0A%0D%0Afunction%20move(e,%20d)%20%7B%0D%0A%20%20%20%20e.style.left%20=%20pos(e,%20%22left%22)%20-%20d%20+%20%22px%22;%0D%0A%7D%0D%0A%0D%0Afunction%20clamp(v,%20min,%20max)%20%7B%0D%0A%20%20%20%20return%20Math.max(min,%20Math.min(v,%20max));%0D%0A%7D%0D%0A%0D%0Afunction%20range(min,%20max,%20int%20=%20false)%20%7B%0D%0A%20%20%20%20var%20r%20=%20Math.random()%20*%20(max%20-%20min)%20+%20min;%0D%0A%20%20%20%20return%20int%20?%20Math.round(r)%20:%20r;%0D%0A%7D%0D%0A%0D%0Afunction%20remap(v,%20iMin,%20iMax,%20oMin,%20oMax)%20%7B%0D%0A%20%20%20%20return%20oMin%20+%20(v%20-%20iMin)%20*%20(oMax%20-%20oMin)%20/%20(iMax%20-%20iMin);%0D%0A%7D%0D%0A%0D%0Afunction%20pad(n)%20%7B%0D%0A%20%20%20%20return%20n.toString().length%20==%202%20?%20n%20:%20'0'%20+%20n.toString();%0D%0A%7D%0D%0A%0D%0Awindow.onresize%20=%20resize;%0D%0A%0D%0Afunction%20resize()%20%7B%0D%0A%20%20%20%20var%20gameRatio%20=%20game.offsetWidth%20/%20game.offsetHeight;%0D%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0D%0A%0D%0A%20%20%20%20game.style.left%20=%20%60$%7B(window.innerWidth%20-%20game.offsetWidth)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.top%20=%20%60$%7B(window.innerHeight%20-%20game.offsetHeight)%20/%202%7Dpx%60;%0D%0A%20%20%20%20game.style.transform%20=%20%60scale($%7BgameRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20game.offsetWidth%20:%20window.innerHeight%20/%20game.offsetHeight%7D)%60;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_16E####LOGIC_16####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_16E####STEP_16E##