2##STEP_1####INST_1##initialCheck(input)##INST_1E####CODE_1####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%09%3Clink%20rel=%22stylesheet%22%20type=%22text/css%22%20href=%22style.css%22/%3E%0A%09%3Cscript%20type=%22text/javascript%22%20src=%22script.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%09%3Ctextarea%20id=%22ide%22%20resize='false'%3E%3C/textarea%3E%0A%09%3Cbr%3E%0A%09%3Cbutton%20id=%22btnParse%22%3EParse%3C/button%3E%0A%09%3Cpre%20id=%22info%22%3E%3C/pre%3E%0A%3C/body%3E%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0A%20%20%20%20text-align:%20center;%0A%20%20%20%20background:%20#252525;%0A%7D%0A%0A#ide%20%7B%0A%20%20%20%20width:%2090vw;%0A%20%20%20%20height:%20calc(100vh%20-%20120px);%0A%20%20%20%20padding:%2010px;%0A%20%20%20%20border:%20none;%0A%20%20%20%20outline:%20none;%0A%20%20%20%20color:%20ghostwhite;%0A%20%20%20%20background:%20#1e1e1e;%0A%7D%0A%0A#btnParse%20%7B%0A%20%20%20%20padding:%205px%2020px;%0A%7D%0A%0A#info%20%7B%0A%20%20%20%20color:%20firebrick;%0A%7D##CSS_E####JS##ide.value%20=%0D%0A%60@import%20url('http://google.com');%0D%0A%0D%0Ap%7B%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20animation:%20anim%2010s%20infinite;%0D%0A%20%20%20%20background:%20url('http://image.png');%0D%0A%7D%0D%0A%0D%0A@keyframes%20cool-anim%20%7B%0D%0A%0D%0A%0D%0A%0D%0A0%25%0D%0A%20%20%20%20%20%7B%20width%20%20:%2099%25%20;%0D%0A%20%20%20%20%20%20%20%20background-color%20:%20green;%0D%0A%20%20%20%20%20%7D%0D%0A%20%20%20%20100%25%20%7B%0D%0A%20%20%20%20%20%20%20%20border:%2090%25;%0D%0A%20%20%20%20%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Aimg%20%7B%0D%0A%20%20%20%20border:%20none;%0D%0A%7D%0D%0A%0D%0A@media%20(max-width:%2012450px)%20%7B%0D%0A%20%20%20%20body%20%3E%20img,%20body%20%3E%20h1,%20h3%20%7B%0D%0A%20%20%20%20%20%20%20%20height:%2099%25;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20h1%20%7B%7D%0D%0A%7D%0D%0A%0D%0A%60;%0D%0A%0D%0Alet%20input;%0D%0A%0D%0A//================================%0D%0A%0D%0Aconst%0D%0A%20%20%20%20pNestedAtRule%20=%20/%5E%5Cs*@(media%7Csupports%7Cdocument%7Cpage%7Cfont-face%7Ckeyframes%7Cviewport%7Ccounter-style%7Cfont-feature-values)(%5B%5E%5CS%5Cn%5D+)?(%5B%5E/;%7B%7D%5Cn.#%5D+)?%5Cs*/i,%0D%0A%20%20%20%20pAtRule%20=%20/%5E%5Cs*@(%5B%5E%5Cs%5D+)?(%5B%5E%5CS%5Cn%5D+)?(%5B%5E%5Cn;%5D+)?(;)?/i,%0D%0A%20%20%20%20pRule%20=%20/%5E%5Cs*(%5B%5E@/;%7B%7D%5Cs%5D+%5B%5E/;%7B%7D%5D*)%7B%5Cs*(%5B%5E%7B%7D%5D*)%7D/i,%0D%0A%20%20%20%20pDeclaration%20=%20/(%5B%5E:%5D+)?%5Cs*(:)?%5Cs*(%5B%5E;%5D+)?%5Cs*(;)?/i,%0D%0A%20%20%20%20tags%20=%20%5B%0D%0A%20%20%20%20%20%20%20%20'html',%20'meta',%20'head',%20'link',%20'body',%20'h1',%20'h2',%20'h3',%20'h4',%20'h5',%20'h6',%0D%0A%20%20%20%20%20%20%20%20'p',%20'b',%20'u',%20'i',%20'a',%20'div',%20'img',%20'ul',%20'ol',%20'li',%20'span',%20'strike',%0D%0A%20%20%20%20%20%20%20%20'sup',%20'sub',%20'small',%20'tt',%20'pre',%20'blockquote',%20'strong',%20'em',%20'hr',%20'nobr',%0D%0A%20%20%20%20%20%20%20%20'dl',%20'dt',%20'dd',%20'table',%20'tr',%20'th',%20'td',%20'frameset',%20'frame',%20'noframes',%0D%0A%20%20%20%20%20%20%20%20'form',%20'input',%20'select',%20'option',%20'textarea',%0D%0A%20%20%20%20%5D;%0D%0A%0D%0Alet%20verdict%20=%20'',%20pass%20=%20true,%20inputClone%20=%20input,%20ruleCount%20=%200,%20tree%20=%20%7BatRules:%20%5B%5D,%20rules:%20%5B%5D%7D;%0D%0A%0D%0Afunction%20rank(n)%20%7B%0D%0A%20%20%20%20return%20n%20%3E%200%20?%0D%0A%20%20%20%20%20%20%20%20n%20+%20(/1$/.test(n)%20&&%20n%20!=%2011%20?%20'st'%20:%20/2$/.test(n)%20&&%20n%20!=%2012%20?%20'nd'%20:%20/3$/.test(n)%20&&%20n%20!=%2013%20?%20'rd'%20:%20'th')%20:%0D%0A%20%20%20%20%20%20%20%20n;%0D%0A%7D%0D%0A%0D%0Afunction%20toSpace(srcString,%20target)%20%7B%0D%0A%20%20return%20target%20?%0D%0A%20%20%20%20srcString.replace(target,%20target.replace(/%5B%5E%5Cs%5D/g,%20'%20'))%20:%0D%0A%20%20%20%20srcString.replace(/%5B%5E%5Cs%5D/g,%20'%20');%0D%0A%7D%0D%0A%0D%0Afunction%20lastOf(arr)%20%7B%0D%0A%20%20%20%20return%20arr%5BMath.max(arr.length%20-%201,%200)%5D;%0D%0A%7D%0D%0A%0D%0Afunction%20flatten(srcArray,%20n%20=%200,%20end%20=%20srcArray.length)%20%7B%0D%0A%20%20%20%20if%20(n%20%3C%200%20%7C%7C%20end%20%3E%20srcArray.length)%20throw%20new%20Error('Flatten%20can%20not%20execute%20with%20invalid%20array%20index.');%0D%0A%0D%0A%20%20%20%20const%20addToSrcArray%20=%20(e,%20i)%20=%3E%20srcArray.splice(n%20+%20i,%200,%20e);%0D%0A%20%20%20%20%0D%0A%20%20%20%20while%20(n%20%3C%20end)%20%7B%0D%0A%20%20%20%20%20%20%20%20if%20(Array.isArray(srcArray%5Bn%5D))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20_arr%20=%20srcArray%5Bn%5D;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20srcArray.splice(n,%201);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20_arr.forEach(addToSrcArray);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20n++;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20srcArray;%0D%0A%7D%0D%0A%0D%0Afunction%20latestNode()%20%7B%0D%0A%20%20%20%20return%20lastOf(%5Btree.rules,%20tree.atRules%5D.filter(arr%20=%3E%20arr.some(r%20=%3E%20r.nth%20==%20ruleCount))%5B0%5D);%0D%0A%7D%0D%0A%0D%0Afunction%20buildInvalidCode(nextValid%20=%20%5BpRule,%20pNestedAtRule,%20pAtRule%5D,%20invalidCode%20=%20'')%20%7B%0D%0A%20%20%20%20let%20ob,%20cb,%20ln,%20isNestedAtRule;%0D%0A%0D%0A%20%20%20%20//%20error%20position%20can%20be%20retrieved%20before%20trim%0D%0A%20%20%20%20inputClone%20=%20inputClone.trim();%0D%0A%0D%0A%20%20%20%20const%20hasValidCode%20=%20nextValid.every(p%20=%3E%20!p.test(inputClone));%0D%0A%20%20%20%20%0D%0A%20%20%20%20while%20(inputClone.length%20&&%20hasValidCode)%20%7B%0D%0A%20%20%20%20%20%20%20%20invalidCode%20+=%20inputClone%5B0%5D;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(inputClone%5B0%5D%20==%20'%7D')%20break;%0D%0A%0D%0A%20%20%20%20%20%20%20%20inputClone%20=%20inputClone.slice(1);%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20(tree.rules.length%20+%20tree.atRules.length)%20%7B%0D%0A%20%20%20%20%20%20%20%20ln%20=%20latestNode();%0D%0A%20%20%20%20%20%20%20%20isNestedAtRule%20=%20ln.hasOwnProperty('rules')%20%7C%7C%20ln.hasOwnProperty('keyframes');%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20const%20braces%20=%20invalidCode.match(/%5B%7B%7D%5D/g)%20%7C%7C%20%5B%5D;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%0D%0A%20%20%20%20if%20(braces.length%20%25%202)%20%7B%0D%0A%20%20%20%20%20%20%20%20verdict%20=%20%60Make%20sure%20the%20curly%20brackets%20are%20properly%20paired%20in%20$%7BinvalidCode%7D.%60;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20if%20(/%5E%7B%5B%5E%7B%7D%5D+%7D/.test(invalidCode))%20%7B%0D%0A%20%20%20%20%20%20%20%20verdict%20=%20isNestedAtRule%20?%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%60There%20is%20a%20missing%20selector%20in%20the%20@$%7Bln.type%7D%20at-rule.%60%20:%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%60The%20$%7Brank(ln.nth%20+%201)%7D%20rule%20in%20your%20CSS%20has%20no%20selector.%60;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20verdict%20=%20isNestedAtRule%20?%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%60The%20@$%7Bln.type%7D%20at-rule%20contains%20invalid%20code.%20Please%20read%20the%20instructions%20again.%60%20:%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%60Your%20CSS%20is%20incorrect%20after%20the%20$%7Brank(ln.nth)%7D%20rule.%20Please%20read%20the%20instructions%20again.%60;%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20%0D%0A%7D%0D%0A%0D%0Afunction%20pushAtRule(nested,%20data)%20%7B%0D%0A%20%20%20%20if%20(nested)%20%7B%0D%0A%20%20%20%20%20%20%20%20switch%20(data%5B1%5D)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20'media':%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20further%20analyze%20identifiers%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(data%5B3%5D)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20loop%20to%20find%20&%20remove%20trailing%20tag%20names%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20(let%20i%20=%200;%20i%20%3C%20tags.length;%20i++)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20p%20=%20new%20RegExp(%60%5C%5Cs*$%7Btags%5Bi%5D%7D(%5C%5C%5B%5B%5E%5C%5C%5B%5C%5C%5D%5D*%5C%5C%5D)?%5C%5Cs*$%60,%20'i');%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(p.test(data%5B3%5D))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data%5B0%5D%20=%20data%5B0%5D.replace(p,%20'');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data%5B3%5D%20=%20data%5B3%5D.replace(p,%20'');%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20i%20=%20-1;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tree.atRules.push(%7Btype:%20'media',%20media:%20data%5B3%5D%20?%20data%5B3%5D.trim()%20:%20'',%20rules:%20%5B%5D,%20nth:%20ruleCount%20+=%201%7D);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20'keyframes':%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tree.atRules.push(%7Btype:%20'keyframes',%20name:%20data%5B3%5D%20?%20data%5B3%5D.trim()%20:%20'',%20vendor:%20'',%20keyframes:%20%5B%5D,%20nth:%20ruleCount%20+=%201%7D);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20default:%20throw%20new%20Error(%60Expectation%20for%20the%20@$%7Bdata%5B1%5D%7D%20at-rule%20is%20not%20yet%20implemented.%60);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20tree.atRules.push(%7Btype:%20data%5B1%5D,%20value:%20data%5B3%5D,%20nth:%20ruleCount%20+=%201%7D);%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20pushNestedRule(type,%20data)%20%7B%0D%0A%20%20%20%20switch%20(type)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20'media':%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(checkRule(data,%20true))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lastOf(tree.atRules).rules.push(%7Btype:%20'rule',%20selectors:%20data%5B1%5D,%20declarations:%20data%5B2%5D%7D);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%0D%0A%20%20%20%20%20%20%20%20case%20'keyframes':%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(/%5Cs/.test(data%5B1%5D))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20verdict%20=%20%60$%7Bdata%5B1%5D%7D%20is%20incorrect.%20No%20space%20is%20allowed.%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(!/%5E%5B%5Cd%5D+(%5C.%5B%5Cd%5D+)?%25$/.test(data%5B1%5D))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20verdict%20=%20%60$%7Bdata%5B1%5D%7D%20is%20not%20a%20valid%20selector%20for%20the%20@keyframes%20at-rule.%20Use%20a%20number%20followed%20by%20the%20%25%20symbol.%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lastOf(tree.atRules).keyframes.push(%7Btype:%20'keyframe',%20values:%20data%5B1%5D,%20declarations:%20data%5B2%5D%7D);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%20(data%5B2%5D%20&&%20!verdict)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20r%20=%20lastOf(tree.atRules).rules%20%7C%7C%20lastOf(tree.atRules).keyframes,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20d%20=%20checkDeclaration(lastOf(r));%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(d)%20checkProperty(d)%20&&%20checkValue(d);%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20!verdict;%0D%0A%7D%0D%0A%0D%0Afunction%20parse()%20%7B%0D%0A%20%20%20%20const%20foundAndMatched%20=%20(p,%20i)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20let%20match%20=%20inputClone.match(p);%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(match%20&&%20pass)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20match%20=%20match.map(m%20=%3E%20m%20?%20m.trim()%20%7C%7C%20m%20:%20m);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20pass%20=%20i%20?%20checkAtRule(match,%20i%20==%201)%20:%20checkRule(match);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20return%20match%20&&%20pass;%0D%0A%20%20%20%20%7D;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20while%20(inputClone.trim().length%20&&%20!verdict)%20%7B%0D%0A%20%20%20%20%20%20%20%20pass%20=%20%5BpRule,%20pNestedAtRule,%20pAtRule%5D.some(foundAndMatched);%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(verdict)%20break;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(!pass)%20buildInvalidCode();%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20checkAtRule(match,%20nested)%20%7B%0D%0A%20%20%20%20//%20remove%20%22@%5Btype%5D%20%5Bidentifier%5D%22%20from%20input%20string%0D%0A%20%20%20%20inputClone%20=%20toSpace(inputClone,%20match%5B0%5D);%0D%0A%0D%0A%20%20%20%20//%20@media%20or%20@keyframes%20etc...%0D%0A%20%20%20%20if%20(nested)%20%7B%0D%0A%20%20%20%20%20%20%20%20const%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20ob%20=%20inputClone.match(/%5E%5Cs*%5C%7B/),%20%20%20%20%20%20//%20opening%20brace%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20checker%20=%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20error:%20/%5BA-Z%5D/.test(match%5B1%5D),%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20feedback:%20%60@$%7Bmatch%5B1%5D%7D%20is%20incorrect.%20Make%20sure%20all%20letters%20are%20lowercase.%60,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20error:%20!match%5B3%5D,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20feedback:%20%60The%20@$%7Bmatch%5B1%5D%7D%20at-rule%20needs%20a$%7Bmatch%5B1%5D%20==%20'media'%20?%20'n%20identifier'%20:%20'%20name'%7D.%60,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20error:%20match%5B1%5D%20==%20'keyframes'%20&&%20/%5Cs/.test(match%5B3%5D),%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20feedback:%20%60$%7Bmatch%5B3%5D%7D%20is%20incorrect.%20Spaces%20are%20not%20allowed%20in%20the%20name%20of%20the%20@keyframes%20at-rule.%60,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20error:%20!match%5B2%5D,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20feedback:%20%60There%20should%20be%20a%20space%20between%20@$%7Bmatch%5B1%5D%7D%20and%20$%7BString(match%5B3%5D).trim()%7D.%60,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%5D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20if%20(ob)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(checker.every(c%20=%3E%20%7Breturn%20!(verdict%20=%20c.error%20?%20c.feedback%20:%20'')%7D))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pushAtRule(nested,%20match);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20inputClone%20=%20toSpace(inputClone,%20ob%5B0%5D);%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20//%20remove%20valid%20rules%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20while%20(pRule.test(inputClone))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20m%20=%20inputClone.match(pRule).map(_m%20=%3E%20_m.trim());%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pushNestedRule(match%5B1%5D,%20m);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20inputClone%20=%20toSpace(inputClone,%20m%5B0%5D);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(verdict)%20return%20null;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20cb%20=%20inputClone.match(/%5E%5Cs*%5C%7D/);%20%20%20%20%20%20//%20closing%20brace%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cb)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20inputClone%20=%20toSpace(inputClone,%20cb%5B0%5D);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(!inputClone.trim().length%20%7C%7C%20pAtRule.test(inputClone))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20verdict%20=%20%60Make%20sure%20curly%20brackets%20are%20properly%20paired%20for%20the%20$%7Bmatch%5B0%5D.trim()%7D%20at-rule.%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20buildInvalidCode();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20verdict%20=%20%60The%20$%7Bmatch%5B0%5D.trim()%7D%20at-rule%20should%20be%20followed%20by%20the%20%22%7B%22%20symbol.%60;%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20//%20@import,%20@charset%20or%20@namespace%0D%0A%20%20%20%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20checker%20=%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20()%20=%3E%20%7B%20return%20match%5B1%5D%20?%20''%20:%20'Please%20write%20the%20type%20of%20at-rule%20after%20the%20@%20symbol.'%20%7D,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20()%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20_match%20=%20match%5B1%5D.match(/%5E(charset%7Cimport%7Cnamespace)(%5B%5E%5Cs%5Cn%5D*)/i);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!_match)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%60@$%7Bmatch%5B1%5D%7D%20is%20not%20a%20valid%20type%20of%20at-rule.%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(_match%5B2%5D)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%60There%20should%20be%20a%20space%20between%20@$%7B_match%5B1%5D%7D%20and%20$%7B_match%5B2%5D%7D.%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20()%20=%3E%20%7B%20return%20/%5BA-Z%5D/.test(match%5B1%5D)%20?%20%60@$%7Bmatch%5B1%5D%7D%20is%20incorrect.%20Make%20sure%20all%20letters%20are%20lowercase.%60%20:%20''%20%7D,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20()%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20word%20=%20match%5B1%5D%20==%20'import'%20?%20'link'%20:%20match%5B1%5D%20==%20'charset'%20?%20'character%20code'%20:%20'name';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20match%5B3%5D%20?%20''%20:%20%60The%20@$%7Bmatch%5B1%5D%7D%20at-rule%20needs%20a%20$%7Bword%7D.%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D,%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20()%20=%3E%20%7B%20return%20match%5B4%5D%20?%20''%20:%20%60Don't%20forget%20the%20semi-colon(;)%20after%20$%7Bmatch%5B3%5D%7D%60%20%7D,%0D%0A%20%20%20%20%20%20%20%20%5D;%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(checker.every(check%20=%3E%20!(verdict%20=%20check())))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20pushAtRule(nested,%20match);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20//%20disguise%20as%20declaration%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20checkValue(%5B%7Bproperty:%20'@import',%20value:%20match%5B3%5D%7D%5D);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20!verdict;%0D%0A%7D%0D%0A%0D%0Afunction%20checkRule(match,%20nested)%20%7B%0D%0A%20%20%20%20const%0D%0A%20%20%20%20%20%20%20%20sel%20=%20flatten(match%5B1%5D.split(/,%7C%3E%7C%5C+%7C~/).map(s%20=%3E%20s.trim()).map(s%20=%3E%20s.split(/%5Cs+/))),%0D%0A%20%20%20%20%20%20%20%20pTags%20=%20tags.map(t%20=%3E%20new%20RegExp(%60%5E$%7Bt%7D(::?%5Ba-z-()%5D+)?$%60,%20'i')),%0D%0A%20%20%20%20%20%20%20%20checker%20=%20%5B%0D%0A%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20error:%20!sel.every(s%20=%3E%20pTags.some(t%20=%3E%20t.test(s))%20%7C%7C%20/%5E%5B.#*%5D/.test(s)),%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20feedback:%20%60$%7Bmatch%5B1%5D%7D%20is%20not%20a%20valid%20tag%20name.%60,%0D%0A%20%20%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20error:%20sel.some(s%20=%3E%20/%5E%5B.#%5D/.test(s)%20&&%20!/%5Ba-z%5D/i.test(s%5B1%5D)),%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20feedback:%20%60$%7Bmatch%5B1%5D%7D%20is%20incorrect.%20Selector%20must%20begin%20with%20a%20letter.%60,%0D%0A%20%20%20%20%20%20%20%20%7D%5D;%0D%0A%0D%0A%20%20%20%20if%20(checker.every(c%20=%3E%20!(verdict%20=%20c.error%20?%20c.feedback%20:%20''))%20&&%20!nested)%20%7B%0D%0A%20%20%20%20%20%20%20%20tree.rules.push(%7Btype:%20'rule',%20selector:%20match%5B1%5D,%20declarations:%20match%5B2%5D,%20nth:%20ruleCount%20+=%201%7D);%0D%0A%20%20%20%20%20%20%20%20inputClone%20=%20toSpace(inputClone,%20match%5B0%5D);%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20if%20(match%5B2%5D)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20d%20=%20checkDeclaration();%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(d)%20checkProperty(d)%20&&%20checkValue(d);%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%0D%0A%20%20%20%20return%20!verdict;%0D%0A%7D%0D%0A%0D%0Afunction%20checkDeclaration(target%20=%20lastOf(tree.rules))%20%7B%0D%0A%20%20%20%20const%20p%20=%20/%5B%5E:%5D+%5Cs*:%5Cs*%5B%5E;%5D+%5Cs*;/i;%20%20%20%20%20//%20fixed%20declaration%20pattern%0D%0A%20%20%20%20let%20da%20=%20%5B%5D;%20%20%20%20%20%20%20%20//%20declaration%20array%20%20%20%20%0D%0A%0D%0A%20%20%20%20target.declarations.trim().split(/%5Cs*%5Cr?%5Cn%5Cs*/).every(line%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20let%20s;%20%20%20%20%20%20//%20temporary%20string%0D%0A%20%20%20%20%20%20%20%20const%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20match%20=%20line.match(pDeclaration),%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20checker%20=%20%5B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20error:%20function()%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20s%20=%20line.match(/(?:%5B:;%5D%5Cs*)%7B2,%7D/);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20(s%20=%20s%20?%20s%5B0%5D.trim()%20:%20s);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D(),%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20feedback:%20%60$%7Bs%7D%20in%20$%7Bline%7D%20is%20incorrect.%60,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20error:%20!match%5B2%5D,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20feedback:%20%60$%7Bline%7D%20is%20incorrect.%20Remove%20it%20or%20add%20a%20colon(:).%60,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20error:%20!match%5B1%5D,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20feedback:%20%60$%7Bline%7D%20is%20incorrect.%20Property%20name%20is%20missing.%60,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20error:%20!match%5B3%5D,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20feedback:%20%60$%7Bline%7D%20is%20incorrect.%20The%20$%7Bmatch%5B1%5D%20?%20match%5B1%5D.trim()%20:%20''%7D%20property%20needs%20a%20value.%60,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20error:%20!match%5B4%5D,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20feedback:%20%60$%7Bline%7D%20is%20incorrect.%20There%20should%20be%20a%20semi-colon(;)%20at%20the%20end.%60,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20error:%20function()%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20s%20=%20line;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20while%20(p.test(s))%20%7Bs%20=%20s.replace(p,%20'').trim()%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20s;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D(),%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20feedback:%20%60$%7Bline%7D%20is%20incorrect.%20Please%20correct%20or%20remove%20$%7Bs%7D.%60,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20error:%20p.test(line.replace(p,%20'')),%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20feedback:%20%60$%7Bline%7D%20contains%20multiple%20declarations.%20Please%20write%20one%20declaration%20per%20line.%60,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20error:%20line.includes(';')%20&&%20line.match(/%5B;%5D/g).length%20%3E%201,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20feedback:%20%60$%7Bline.match(/;%5B%5E;%5D+;/)%7D%20in%20$%7Bline%7D%20is%20incorrect.%20Only%20one%20semi-colon(;)%20is%20allowed%20per%20declaration.%60,%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%5D;%0D%0A%0D%0A%20%20%20%20%20%20%20%20checker.every(c%20=%3E%20%7Breturn%20!(c.error%20?%20verdict%20=%20c.feedback%20:%20false)%7D);%0D%0A%20%20%20%20%20%20%20%20return%20!verdict%20?%20da.push(%7Btype:%20'declaration',%20property:%20match%5B1%5D.trim(),%20value:%20match%5B3%5D.trim()%7D)%20:%20false;%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20return%20!verdict%20?%20target.declarations%20=%20da%20:%20false;%20%20%20%20%0D%0A%7D%0D%0A%0D%0Afunction%20checkProperty(target)%20%7B%0D%0A%20%20%20%20//each%20item,%20when%20found,%20should%20have%20a%20response%20message%20defined%20in%20the%20switch%20case%20below%0D%0A%20%20%20%20const%20pInvalid%20=%20%5B%0D%0A%20%20%20%20%20%20%20%20/*0*//%5BA-Z%5D/,%0D%0A%20%20%20%20%20%20%20%20/*1*//%5Cs+/g,%0D%0A%20%20%20%20%20%20%20%20/*2*//%5B%5Ea-z-%5D/,%0D%0A%20%20%20%20%5D;%0D%0A%0D%0A%20%20%20%20return%20target.every(d%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20pInvalid.every((err,%20i)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(err.test(d.property))%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20switch%20(i)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%200:%20verdict%20=%20%60$%7Bd.property%7D%20should%20be%20all%20lowercase.%60;%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%201:%20verdict%20=%20%60$%7Bd.property%7D%20is%20incorrect.%20Spaces%20are%20not%20allowed%20in%20CSS%20property%20names.%60;%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%202:%20verdict%20=%20%60$%7Bd.property.match(err)%7D%20in%20$%7Bd.property%7D%20is%20incorrect.%20Please%20read%20the%20instructions%20again.%60;%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20default:%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20verdict%20=%20%60$%7Bd.property%7D%20is%20incorrect.%20Please%20read%20the%20instructions%20again.%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log(%60$%7Bd.property%7D%20is%20found%20in%20$%7Bd.property%7D%20but%20message%20is%20missing.%20Go%20to%20checkProperty()%20in%20CssAst.%60);%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20!verdict;%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0Afunction%20checkValue(target)%20%7B%0D%0A%20%20%20%20const%20pInvalid%20=%20%5B%0D%0A%20%20%20%20%20%20%20%20/*0*//%5Eurl(%5B%5E%5CS%5Cn%5D+)?(%5C(%5Cs*)?(%5B'%22%5D)?(%5B%5E'%22()%5D+)?(%5B'%22%5D)?(%5Cs*%5C))?/i,%0D%0A%20%20%20%20%20%20%20%20/*1*//%5B%5E:%5D+:/,%0D%0A%20%20%20%20%5D;%0D%0A%20%20%20%20%0D%0A%20%20%20%20return%20target.every(d%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20pInvalid.every((err,%20i)%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20match%20=%20d.value.match(err);%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(match)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20switch%20(i)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%200:%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(match%5B1%5D)%20verdict%20=%20'No%20space%20is%20allowed%20after%20url.';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(!match%5B2%5D)%20verdict%20=%20'url%20must%20be%20followed%20by%20a%20pair%20of%20brackets.%20e.g.%20url()';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(!match%5B4%5D)%20verdict%20=%20'url()%20requires%20a%20link%20between%20the%20brackets.%20e.g.%20url(%22http://...%22)';%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(!(match%5B3%5D%20&&%20match%5B5%5D))%20verdict%20=%20%60$%7Bmatch%5B3%5D%20%7C%7C%20''%7D$%7Bmatch%5B4%5D%7D$%7Bmatch%5B5%5D%20%7C%7C%20''%7D%20is%20incorrect.%20Make%20sure%20to%20write%20both%20quotation%20marks.%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(match%5B3%5D%20!=%20match%5B5%5D)%20verdict%20=%20%60$%7Bmatch%5B3%5D%7D$%7Bmatch%5B4%5D%7D$%7Bmatch%5B5%5D%7D%20contains%20mismatching%20quotation%20marks.%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(!match%5B6%5D)%20verdict%20=%20%60Add%20closing%20bracket%20at%20the%20end%20of%20$%7Bmatch%5B0%5D%7D.%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%201:%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!/background(-image)?%7Ccontent%7C@import/.test(d.property))%20verdict%20=%20%60$%7Bd.value%7D%20is%20incorrect.%20Please%20remove%20the%20colon(:).%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20!verdict;%0D%0A%20%20%20%20%20%20%20%20%7D);%0D%0A%20%20%20%20%7D);%0D%0A%7D%0D%0A%0D%0A//%20=====%20IRRELEVANT%20FOR%20LB%20=====%0D%0A%0D%0Afunction%20log(s)%20%7B%0D%0A%20%20%20%20if%20(info.innerHTML)%20%7B%0D%0A%20%20%20%20%20%20%20%20info.innerHTML%20+=%20(%60%5Cn==========%5Cn$%7Bs%7D%60);%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20info.innerHTML%20=%20s;%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20getTree()%20%7B%0D%0A%20%20%20%20let%20t%20=%20'at-rules:';%0D%0A%0D%0A%20%20%20%20tree.atRules.forEach(r%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20t%20+=%20%60%5Cn%5Ct%5B$%7Br.nth%7D%5D$%7Br.type%7D%60;%0D%0A%20%20%20%20%20%20%20%20if%20(r.value)%20t%20+=%20%60,%20$%7Br.value%7D%60;%0D%0A%20%20%20%20%20%20%20%20else%20if%20(r.media)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20t%20+=%20%60,%20$%7Br.media%7D,%20rules:%20%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20r.rules%20?%20r.rules.forEach(ns%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20t%20+=%20%60%5Cn%5Ct%5Ct$%7Bns.selectors%7D,%20declarations:%20%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(ns.declarations)%20?%20ns.declarations.forEach(nd%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20t%20+=%20%60%5Cn%5Ct%5Ct%5Ct$%7Bnd.property%7D,%20$%7Bnd.value%7D%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%20:%20t%20+=%20%60%22$%7Bns.declarations.replace(/%5Cn/g,%20'')%7D%22%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%20:%20t%20+=%20'%5D';%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20else%20if%20(r.keyframes)%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20t%20+=%20%60,%20$%7Br.name%7D,%20%22%22,%20keyframes:%20%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20r.keyframes%20?%20r.keyframes.forEach(kf%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20t%20+=%20%60%5Cn%5Ct%5Ct$%7Bkf.values%7D,%20declarations:%20%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array.isArray(kf.declarations)%20?%20kf.declarations.forEach(nd%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20t%20+=%20%60%5Cn%5Ct%5Ct%5Ct$%7Bnd.property%7D,%20$%7Bnd.value%7D%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%20:%20t%20+=%20%60%22$%7Bkf.declarations.replace(/%5Cn/g,%20'')%7D%22%60;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%20:%20t%20+=%20'%5D';%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20t%20+=%20'%5Cn';%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20t%20+=%20%60%5Cnrules:%60;%0D%0A%20%20%20%20tree.rules.forEach(r%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20t%20+=%20%60%5Cn%5Ct%5B$%7Br.nth%7D%5D$%7Br.selector%7D,%20declarations:%20%60;%0D%0A%20%20%20%20%20%20%20%20Array.isArray(r.declarations)%20?%20r.declarations.forEach(d%20=%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20t%20+=%20%60%5Cn%5Ct%5Ct$%7Bd.property%7D,%20$%7Bd.value%7D%60;%0D%0A%20%20%20%20%20%20%20%20%7D)%20:%20t%20+=%20%60%22$%7Br.declarations.replace(/%5Cn/g,%20'')%7D%22%60;%0D%0A%20%20%20%20%20%20%20%20t%20+=%20'%5Cn';%0D%0A%20%20%20%20%7D);%0D%0A%0D%0A%20%20%20%20return%20t;%0D%0A%7D%0D%0A%0D%0AbtnParse.onclick%20=%20function()%20%7B%0D%0A%20%20%20%20console.clear();%0D%0A%0D%0A%20%20%20%20ruleCount%20=%200;%0D%0A%20%20%20%20tree%20=%20%7BatRules:%20%5B%5D,%20rules:%20%5B%5D%7D;%0D%0A%20%20%20%20verdict%20=%20'';%0D%0A%20%20%20%20pass%20=%20true;%0D%0A%20%20%20%20info.innerHTML%20=%20'';%0D%0A%20%20%20%20input%20=%20ide.value;%0D%0A%20%20%20%20inputClone%20=%20input;%0D%0A%0D%0A%20%20%20%20parse();%20%20%20%20console.log(tree);%0D%0A%0D%0A%20%20%20%20if%20(pass)%20%7B%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20console.log(getTree());%0D%0A%20%20%20%20%20%20%20%20log('All%20good.');%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20log(verdict.replace(/%5Cn/g,%20'&crarr;'));%0D%0A%20%20%20%20%7D%0D%0A%7D;%0D%0A%0D%0Alet%20ctrl;%0D%0A%0D%0Awindow.onkeydown%20=%20function(evt)%20%7B%0D%0A%20%20%20%20if%20(!ctrl)%20ctrl%20=%20evt.keyCode%20==%2017;%0D%0A%7D;%0D%0A%0D%0Awindow.onkeyup%20=%20function(evt)%20%7B%0D%0A%20%20%20%20if%20(ctrl%20&&%20evt.keyCode%20==%2017)%20ctrl%20=%20false;%0D%0A%20%20%20%20if%20(evt.keyCode%20==%2013%20&&%20ctrl)%20btnParse.click();%0D%0A%7D;##JS_E####CODE_1E####LOGIC_1####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_1E####STEP_1E####STEP_2####INST_2##checkRule()##INST_2E####CODE_2####HTML####HTML_E####CSS####CSS_E####JS##console.clear();%0A%0Alet%20pRule%20=%20/%5B%5E/;%7B%7D%5D+%7B%5B%5E%7B%7D%5D+%7D/,%20input%20=%20'%20%20h1%20%7Bcolor:%20red;%7D%20%20h2%20%7B%20font-size:%202em;%20%7D%20%20daa%20%20%20',%20verdict,%20debug;%0A%0Afunction%20checkRule()%20%7B%0A%20%20%20%20let%20inputClone%20=%20input,%20rule%20=%20%5B%5D,%20selector%20=%20%5B%5D,%20tempString%20=%20'';%0A%20%20%20%20%0A%20%20%20%20if%20(pRule.test(inputClone))%20%7B%0A%20%20%20%20%20%20%20%20console.log(%60Rule%20was%20found%20in:%20$%7BinputClone%7D%60);%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20do%20%7B%20%20%20%20%20%20%20%20//%20parse%20and%20remove%20all%20valid%20rules%0A%20%20%20%20%20%20%20%20%20%20%20%20rule.unshift(inputClone.match(pRule)%5B0%5D.replace(/%7B%5B%5E%7B%7D%5D+%7D/,%20'%7B%7D').trim());%0A%20%20%20%20%20%20%20%20%20%20%20%20debug%20=%20%60New%20rule:%20$%7Brule%5B0%5D%7D.%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20Array.from(rule%5B0%5D).every((char,%20i)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(/%7B/.test(char))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20selector.unshift(tempString.trim());%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tempString%20=%20'';%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tempString%20+=%20char;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20(tempString%20%7C%7C%20verdict);%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%20%20%20%20%20%20%20%20debug%20+=%20%60%20Selector:%20$%7Bselector%5B0%5D%7D.%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20inputClone%20=%20inputClone.replace(pRule,%20'').trim();%0A%20%20%20%20%20%20%20%20%20%20%20%20debug%20+=%20%60%20Input%20string:%20$%7BinputClone%7D%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20console.log(debug);%0A%20%20%20%20%20%20%20%20%7D%20while%20(pRule.test(inputClone));%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20if%20(inputClone.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20if%20(/*%20closed%20block%20*//%7B%5B%5E%7B%7D%5D+%7D/.test(inputClone))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20verdict%20=%20'Every%20rule(pair%20of%20curly%20brackets)%20should%20have%20a%20selector%20before%20it,%20e.g.%20h1%20%7B%7D.';%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20(/*%20open%20block%20*//%5B%7B%7D%5D/.test(inputClone))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20verdict%20=%20'Make%20sure%20the%20braces(curly%20brackets)%20are%20properly%20paird.';%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20verdict%20=%20%60Please%20remove%20or%20correct%20the%20following:%20$%7BinputClone%7D.%60;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20!Boolean(verdict);%0A%7D%0A%0AcheckRule();%0A%0Aconsole.log(verdict);##JS_E####CODE_2E####LOGIC_2####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_2E####STEP_2E##