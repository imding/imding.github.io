9##STEP_1####INST_1##Introduction%0A%0AImagine%20a%20scenario%20where%20a%20dog%20has%20been%20reported%20to%20be%20trapped%20and%20injured%20in%20a%20forest,%20in%20order%20to%20rescue%20the%20dog,%20rescuers%20must%20first%20find%20a%20safe%20and%20efficient%20route%20to%20reach%20the%20dog.%0A%0AIn%20the%20following%20simulation,%20you%20can%20play%20out%20this%20scenario%20by%20controlling%20the%20robot%20with%20WASD%20or%20the%20arrow%20keys.%0A%0A(***)%0A%0A(!)Navigate%20the%20robot%20to%20reach%20the%20dog.##INST_1E####CODE_1####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22app%22%3E%0D%0A%09%09%3Ch1%3EDog%20Rescue%3C/h1%3E%0D%0A%09%09%3Cdiv%20id=%22map%22%3E%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20background-color:%20#62c5cf;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20outline:%20none;%0D%0A%7D%0D%0A%0D%0A#app%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20opacity:%200;%0D%0A%7D%0D%0A%0D%0A#map%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%20%20%20%20grid-template-columns:%20repeat(22,%2016px);%0D%0A%20%20%20%20grid-template-rows:%20repeat(22,%2016px);%0D%0A%7D%0D%0A%0D%0A#app%20h1,%20#app%20p%20%7B%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20width:%20352px;%0D%0A%7D%0D%0A%0D%0A#map%20div%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/roguelike.png');%0D%0A%7D%0D%0A%0D%0A#map%20.overlay%20%7B%0D%0A%20%20%20%20font-family:%20monospace;%0D%0A%20%20%20%20font-size:%200.4rem;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20color:%20indianred;%0D%0A%7D%0D%0A%0D%0A#robot,%20#dog%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#dog%20%7B%0D%0A%20%20%20%20max-width:%2016px;%0D%0A%20%20%20%20max-height:%2016px;%0D%0A%20%20%20%20transform:%20rotateY(180deg);%0D%0A%7D%0D%0A%0D%0A#robot%20%7B%0D%0A%20%20%20%20max-width:%2028px;%0D%0A%20%20%20%20max-height:%2028px;%0D%0A%7D%0D%0A%0D%0A.opened%20%7B%0D%0A%20%20%20%20background-color:%20rgba(255,%20255,%20255,%200.4);%0D%0A%7D%0D%0A%0D%0A.closed%20%7B%0D%0A%20%20%20%20background-color:%20rgba(255,%20255,%20255,%200.2);%0D%0A%7D##CSS_E####JS##const%20mapMatrix%20=%20%5B%0A%20%20%20%20%5B77,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2042%5D,%0A%20%20%20%20%5B11,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2011,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2011,%2011%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B11,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2077%5D,%0A%20%20%20%20%5B41,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2011%5D,%0A%5D;%0A%0Aconst%20totalCells%20=%20Math.pow(22,%202);%0Aconst%20start%20=%20%7B%7D;%0Aconst%20target%20=%20%7B%7D;%0Alet%20current%20=%20%7B%7D;%0Alet%20anim;%0Alet%20stepCount%20=%200;%0A%0Aconst%20robot%20=%20document.createElement('img');%0Aconst%20dog%20=%20document.createElement('img');%0Aconst%20walkablePattern%20=%20/41%7C42%7C77/;%0A%0Arobot.isIdle%20=%20true;%0Arobot.id%20=%20'robot';%0Arobot.src%20=%20'https://app.bsd.education/resources/rescue_robot.gif';%0A%0Adog.id%20=%20'dog';%0Adog.src%20=%20'https://app.bsd.education/resources/tired_dog.gif';%0A%0Awindow.onresize%20=%20resizeContent;%0A%0Awindow.onload%20=%20()%20=%3E%20%7B%0A%20%20%20%20map.style.width%20=%20%60$%7BMath.sqrt(totalCells)%20*%2016%7Dpx%60;%0A%20%20%20%20map.style.height%20=%20%60$%7BMath.sqrt(totalCells)%20*%2016%7Dpx%60;%0A%0A%20%20%20%20resizeContent();%0A%20%20%20%20drawGrid();%0A%7D;%0A%0Awindow.onkeydown%20=%20()%20=%3E%20%7B%0A%20%20%20%20if%20(robot.isIdle)%20%7B%0A%20%20%20%20%20%20%20%20if%20(event.code%20===%20'KeyA'%20%7C%7C%20event.code%20===%20'ArrowLeft')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(mapMatrix%5Bcurrent.y%5D%5Bcurrent.x%20-%201%5D%20===%2011)%20return;%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(current.x%20%3E%201)%20current.x--;%0A%20%20%20%20%20%20%20%20%20%20%20%20anim%20=%20animateRobot('left',%20robot.offsetLeft,%20Math.max(robot.offsetLeft%20-%2016,%2014%20+%20map.offsetLeft));%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20(event.code%20===%20'KeyD'%20%7C%7C%20event.code%20===%20'ArrowRight')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(mapMatrix%5Bcurrent.y%5D%5Bcurrent.x%20+%201%5D%20===%2011)%20return;%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(current.x%20%3C%20mapMatrix.length%20-%202)%20current.x++;%0A%20%20%20%20%20%20%20%20%20%20%20%20anim%20=%20animateRobot('left',%20robot.offsetLeft,%20Math.min(robot.offsetLeft%20+%2016,%20318%20+%20map.offsetLeft));%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20(event.code%20===%20'KeyW'%20%7C%7C%20event.code%20===%20'ArrowUp')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(mapMatrix%5Bcurrent.y%20-%201%5D%5Bcurrent.x%5D%20===%2011)%20return;%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(current.y%20%3E%201)%20current.y--;%0A%20%20%20%20%20%20%20%20%20%20%20%20anim%20=%20animateRobot('top',%20robot.offsetTop,%20Math.max(robot.offsetTop%20-%2016,%204%20+%20map.offsetTop));%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20(event.code%20===%20'KeyS'%20%7C%7C%20event.code%20===%20'ArrowDown')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(mapMatrix%5Bcurrent.y%20+%201%5D%5Bcurrent.x%5D%20===%2011)%20return;%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(current.y%20%3C%20mapMatrix.length%20-%202)%20current.y++;%0A%20%20%20%20%20%20%20%20%20%20%20%20anim%20=%20animateRobot('top',%20robot.offsetTop,%20Math.min(robot.offsetTop%20+%2016,%20308%20+%20map.offsetTop));%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20(!anim)%20return;%0A%0A%20%20%20%20%20%20%20%20anim.onfinish%20=%20()%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20robot.isIdle%20=%20true;%0A%20%20%20%20%20%20%20%20%7D;%0A%20%20%20%20%7D%0A%7D;%0A%0Afunction%20passStep()%20%7B%7D%0A%0Afunction%20animateRobot(prop,%20from,%20to)%20%7B%0A%20%20%20%20robot.isIdle%20=%20false;%0A%20%20%20%20stepCount++;%0A%0A%20%20%20%20if%20(mapMatrix%5Bcurrent.y%5D%5Bcurrent.x%5D%20===%2042)%20%7B%0A%20%20%20%20%20%20%20%20alert('You%20have%20rescued%20the%20dog!%20Steps%20taken:%20'%20+%20stepCount);%0A%20%20%20%20%20%20%20%20passStep();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(prop%20===%20'left')%20%7B%0A%20%20%20%20%20%20%20%20if%20(to%20%3C%20robot.offsetLeft)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20robot.style.transform%20=%20'rotateY(180deg)';%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20(to%20%3E%20robot.offsetLeft)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20robot.style.removeProperty('transform');%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20robot.animate(%5B%7B%0A%20%20%20%20%20%20%20%20%5Bprop%5D:%20%60$%7Bfrom%7Dpx%60%0A%20%20%20%20%7D,%20%7B%0A%20%20%20%20%20%20%20%20%5Bprop%5D:%20%60$%7Bto%7DPX%60%0A%20%20%20%20%7D%5D,%20%7B%0A%20%20%20%20%20%20%20%20duration:%20250,%0A%20%20%20%20%20%20%20%20easing:%20'linear',%0A%20%20%20%20%20%20%20%20fill:%20'forwards'%0A%20%20%20%20%7D);%0A%7D%0A%0Afunction%20drawGrid()%20%7B%0A%20%20%20%20mapMatrix.forEach((_,%20rowIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20mapMatrix%5BrowIndex%5D.unshift(rowIndex%20===%20mapMatrix.length%20-%201%20?%2028%20:%2021);%0A%20%20%20%20%20%20%20%20mapMatrix%5BrowIndex%5D.push(22);%0A%20%20%20%20%7D);%0A%0A%20%20%20%20mapMatrix.unshift(%5B24,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2025%5D);%0A%20%20%20%20mapMatrix.push(%5B26,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2027%5D);%0A%0A%20%20%20%20mapMatrix.forEach((row,%20rowIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20block%20=%20document.createElement('div');%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20overlayBlock%20=%20document.createElement('div');%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20offset%20=%20%7B%20x:%200,%20y:%200%20%7D;%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20overlayOffset%20=%20%7B%20x:%200,%20y:%2085%20%7D;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(walkablePattern.test(cell))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2085;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%20Math.round(Math.random())%20*%2017;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cell%20===%2041)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start.x%20=%20cellIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start.y%20=%20rowIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20current%20=%20start;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20app.append(robot);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20robot.style.left%20=%20%60$%7BcellIndex%20*%2016%20-%20((robot.offsetWidth%20-%2016)%20/%202)%20+%20map.offsetLeft%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20robot.style.top%20=%20%60$%7BrowIndex%20*%2016%20-%20(robot.offsetHeight%20-%2016)%20+%20map.offsetTop%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2042)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20target.x%20=%20cellIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20target.y%20=%20rowIndex;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20app.append(dog);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dog.style.left%20=%20%60$%7BcellIndex%20*%2016%20+%20map.offsetLeft%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dog.style.top%20=%20%60$%7BrowIndex%20*%2016%20+%20map.offsetTop%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2011)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2085;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%20Math.round(Math.random())%20*%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.x%20=%20%5B221,%20238,%20255,%20272,%20289,%20306,%20323,%20340,%20357,%20391,%20408%5D%5BMath.floor(Math.random()%20*%2011)%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.y%20=%20153;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2020)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2051;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2021%20%7C%7C%20cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.x%20=%20901;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.y%20=%20309;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2022)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2023)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2051;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2024)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2025)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2026)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2027%20%7C%7C%20cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2095)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2096)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2097)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2098)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20block.style.backgroundPosition%20=%20%60-$%7Boffset.x%7Dpx%20-$%7Boffset.y%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20overlayBlock.style.backgroundPosition%20=%20%60-$%7BoverlayOffset.x%7Dpx%20-$%7BoverlayOffset.y%7Dpx%60;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20overlayBlock.className%20=%20'overlay';%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20block.append(overlayBlock);%0A%20%20%20%20%20%20%20%20%20%20%20%20map.append(block);%0A%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%7D);%0A%0A%20%20%20%20setTimeout(()%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20app.style.opacity%20=%201;%0A%20%20%20%20%7D,%20500);%0A%7D%0A%0Afunction%20resizeContent()%20%7B%0A%20%20%20%20var%20appRatio%20=%20app.offsetWidth%20/%20app.offsetHeight;%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0A%0A%20%20%20%20app.style.left%20=%20%60$%7B(window.innerWidth%20-%20app.offsetWidth)%20/%202%7Dpx%60;%0A%20%20%20%20app.style.top%20=%20%60$%7B(window.innerHeight%20-%20app.offsetHeight)%20/%202%7Dpx%60;%0A%20%20%20%20app.style.transform%20=%20%60scale($%7BappRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20app.offsetWidth%20:%20window.innerHeight%20/%20app.offsetHeight%7D)%60;%0A%7D##JS_E####CODE_1E####LOGIC_1####HTML####HTML_E####CSS####CSS_E####JS##pass.on('passStep');##JS_E####LOGIC_1E####STEP_1E####STEP_2####INST_2##Importing%20the%20pathfinding%20library%0A%0AHow%20many%20step%20did%20you%20take%20to%20rescue%20the%20dog?%20Have%20you%20tried%20every%20possible%20path%20to%20find%20the%20shortest%20one?%0A%0AIf%20you%20did,%20it%20must%20have%20taken%20you%20quite%20some%20time.%0A%0AAnd%20what%20if%20there%20is%20another%20rescue%20mission?%20Will%20you%20once%20again%20manually%20find%20the%20shortest%20path?%0A%0AThese%20type%20of%20pathfinding%20problems%20can%20be%20easily%20solved%20by%20AI,%20in%20this%20project,%20we%20will%20one%20such%20library%20called%20*pathfinding.js*.%0A%0AFirst%20let's%20import%20the%20library%20in%20HTML.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#html#%3Cscript%3E%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+html#%3Chead%3E#+3,%20create%20a%20%60%3Cscript%3E%60%20element%20and%20set%20the%20%60src%60%20attribute%20to%20*https://app-staging.bsd.education/resources/js/pathfinding-browser.js*.##INST_2E####CODE_2####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09#BEGIN_EDITABLE#%3Cscript%20src=%22https://app-staging.bsd.education/resources/js/pathfinding-browser.js%22%3E%3C/script%3E#END_EDITABLE#%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22app%22%3E%0D%0A%09%09%3Ch1%3EDog%20Rescue%3C/h1%3E%0D%0A%09%09%3Cdiv%20id=%22map%22%3E%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20background-color:%20#62c5cf;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20outline:%20none;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.95);%0D%0A%20%20%20%20background-color:%20whitesmoke;%0D%0A%7D%0D%0A%0D%0A#app%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20opacity:%200;%0D%0A%7D%0D%0A%0D%0A#map%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%20%20%20%20grid-template-columns:%20repeat(22,%2016px);%0D%0A%20%20%20%20grid-template-rows:%20repeat(22,%2016px);%0D%0A%7D%0D%0A%0D%0A#app%20h1,%20#app%20p%20%7B%0D%0A%20%20%20%20width:%20352px;%0D%0A%7D%0D%0A%0D%0A#map%20div%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/roguelike.png');%0D%0A%7D%0D%0A%0D%0A#map%20.overlay%20%7B%0D%0A%20%20%20%20font-family:%20monospace;%0D%0A%20%20%20%20font-size:%200.4rem;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20color:%20indianred;%0D%0A%7D%0D%0A%0D%0A#robot,%20#dog%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#dog%20%7B%0D%0A%20%20%20%20max-width:%2016px;%0D%0A%20%20%20%20max-height:%2016px;%0D%0A%20%20%20%20transform:%20rotateY(180deg);%0D%0A%7D%0D%0A%0D%0A#robot%20%7B%0D%0A%20%20%20%20max-width:%2028px;%0D%0A%20%20%20%20max-height:%2028px;%0D%0A%7D%0D%0A%0D%0A.opened%20%7B%0D%0A%20%20%20%20background-color:%20rgba(255,%20255,%20255,%200.4);%0D%0A%7D%0D%0A%0D%0A.closed%20%7B%0D%0A%20%20%20%20background-color:%20rgba(255,%20255,%20255,%200.2);%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##var%20mapMatrix%20=%20%5B%0A%20%20%20%20%5B77,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2042%5D,%0A%20%20%20%20%5B11,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2011,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2011,%2011%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B11,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2077%5D,%0A%20%20%20%20%5B41,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2011%5D,%0A%5D;%0A%0Avar%20totalCells%20=%20Math.pow(22,%202);%0Avar%20start%20=%20%7B%7D;%0Avar%20target%20=%20%7B%7D;%0A%0Avar%20robot%20=%20document.createElement('img');%0Avar%20dog%20=%20document.createElement('img');%0Avar%20walkablePattern%20=%20/41%7C42%7C77/;%0A%0Arobot.isIdle%20=%20true;%0Arobot.id%20=%20'robot';%0Arobot.src%20=%20'https://app.bsd.education/resources/rescue_robot.gif';%0A%0Adog.id%20=%20'dog';%0Adog.src%20=%20'https://app.bsd.education/resources/tired_dog.gif';%0A%0Awindow.onresize%20=%20resizeContent;%0A%0Awindow.onload%20=%20()%20=%3E%20%7B%0A%20%20%20%20map.style.width%20=%20%60$%7BMath.sqrt(totalCells)%20*%2016%7Dpx%60;%0A%20%20%20%20map.style.height%20=%20%60$%7BMath.sqrt(totalCells)%20*%2016%7Dpx%60;%0A%0A%20%20%20%20resizeContent();%0A%20%20%20%20drawGrid();%0A%7D;%0A%0Afunction%20drawGrid()%20%7B%0A%20%20%20%20mapMatrix.forEach((_,%20rowIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20mapMatrix%5BrowIndex%5D.unshift(rowIndex%20===%20mapMatrix.length%20-%201%20?%2028%20:%2021);%0A%20%20%20%20%20%20%20%20mapMatrix%5BrowIndex%5D.push(22);%0A%20%20%20%20%7D);%0A%0A%20%20%20%20mapMatrix.unshift(%5B24,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2025%5D);%0A%20%20%20%20mapMatrix.push(%5B26,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2027%5D);%0A%0A%20%20%20%20mapMatrix.forEach((row,%20rowIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20block%20=%20document.createElement('div');%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20overlayBlock%20=%20document.createElement('div');%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20offset%20=%20%7B%20x:%200,%20y:%200%20%7D;%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20overlayOffset%20=%20%7B%20x:%200,%20y:%2085%20%7D;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(walkablePattern.test(cell))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2085;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%20Math.round(Math.random())%20*%2017;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cell%20===%2041)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start.x%20=%20cellIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start.y%20=%20rowIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20current%20=%20start;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20app.append(robot);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20robot.style.left%20=%20%60$%7BcellIndex%20*%2016%20-%20((robot.offsetWidth%20-%2016)%20/%202)%20+%20map.offsetLeft%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20robot.style.top%20=%20%60$%7BrowIndex%20*%2016%20-%20(robot.offsetHeight%20-%2016)%20+%20map.offsetTop%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2042)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20target.x%20=%20cellIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20target.y%20=%20rowIndex;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20app.append(dog);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dog.style.left%20=%20%60$%7BcellIndex%20*%2016%20+%20map.offsetLeft%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dog.style.top%20=%20%60$%7BrowIndex%20*%2016%20+%20map.offsetTop%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2011)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2085;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%20Math.round(Math.random())%20*%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.x%20=%20%5B221,%20238,%20255,%20272,%20289,%20306,%20323,%20340,%20357,%20391,%20408%5D%5BMath.floor(Math.random()%20*%2011)%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.y%20=%20153;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2020)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2051;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2021%20%7C%7C%20cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.x%20=%20901;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.y%20=%20309;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2022)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2023)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2051;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2024)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2025)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2026)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2027%20%7C%7C%20cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2095)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2096)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2097)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2098)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20block.style.backgroundPosition%20=%20%60-$%7Boffset.x%7Dpx%20-$%7Boffset.y%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20overlayBlock.style.backgroundPosition%20=%20%60-$%7BoverlayOffset.x%7Dpx%20-$%7BoverlayOffset.y%7Dpx%60;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20overlayBlock.className%20=%20'overlay';%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20block.append(overlayBlock);%0A%20%20%20%20%20%20%20%20%20%20%20%20map.append(block);%0A%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%7D);%0A%0A%20%20%20%20setTimeout(()%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20app.style.opacity%20=%201;%0A%20%20%20%20%7D,%20500);%0A%7D%0A%0Afunction%20resizeContent()%20%7B%0A%20%20%20%20var%20appRatio%20=%20app.offsetWidth%20/%20app.offsetHeight;%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0A%0A%20%20%20%20app.style.left%20=%20%60$%7B(window.innerWidth%20-%20app.offsetWidth)%20/%202%7Dpx%60;%0A%20%20%20%20app.style.top%20=%20%60$%7B(window.innerHeight%20-%20app.offsetHeight)%20/%202%7Dpx%60;%0A%20%20%20%20app.style.transform%20=%20%60scale($%7BappRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20app.offsetWidth%20:%20window.innerHeight%20/%20app.offsetHeight%7D)%60;%0A%7D%0A#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_2E####LOGIC_2####HTML##//%20Expectation:%0Apass.if.html.editable(0).equivalent(%60%3Cscript%20src=%22https://app-staging.bsd.education/resources/js/pathfinding-browser.js%22%3E%3C/script%3E%60);##HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_2E####STEP_2E####STEP_3####INST_3##Adding%20the%20search%20button%0A%0AAfter%20importing%20the%20library,%20we%20will%20need%20some%20kind%20of%20activation%20mechanism%20to%20start%20the%20search.%0A%0AWe%20can%20use%20the%20%60%3Cbutton%3E%60%20element%20to%20do%20this.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#html#%3Cbutton%3E%5D%0A%09(*)%5B#html#id%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+html#%3Ch1%3E#+1,%20create%20a%20%60%3Cbutton%3E%60%20element,%20set%20the%20%60id%60%20attribute%20to%20*btnStartSearch*,%20and%20add%20the%20text%20*Start%20Automatic%20Search*%20between%20the%20tags.##INST_3E####CODE_3####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src=%22https://app-staging.bsd.education/resources/js/pathfinding-browser.js%22%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22app%22%3E%0D%0A%09%09%3Ch1%3EDog%20Rescue%3C/h1%3E%0D%0A%09%09#BEGIN_EDITABLE#%3Cbutton%20id=%22btnStartSearch%22%3EStart%20Automatic%20Search%3C/button%3E#END_EDITABLE#%0D%0A%09%09%3Cdiv%20id=%22map%22%3E%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20background-color:%20#62c5cf;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20outline:%20none;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.95);%0D%0A%20%20%20%20background-color:%20whitesmoke;%0D%0A%7D%0D%0A%0D%0A#app%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20opacity:%200;%0D%0A%7D%0D%0A%0D%0A#map%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%20%20%20%20grid-template-columns:%20repeat(22,%2016px);%0D%0A%20%20%20%20grid-template-rows:%20repeat(22,%2016px);%0D%0A%7D%0D%0A%0D%0A#app%20h1,%20#app%20p%20%7B%0D%0A%20%20%20%20width:%20352px;%0D%0A%7D%0D%0A%0D%0A#map%20div%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/roguelike.png');%0D%0A%7D%0D%0A%0D%0A#map%20.overlay%20%7B%0D%0A%20%20%20%20font-family:%20monospace;%0D%0A%20%20%20%20font-size:%200.4rem;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20color:%20indianred;%0D%0A%7D%0D%0A%0D%0A#robot,%20#dog%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#dog%20%7B%0D%0A%20%20%20%20max-width:%2016px;%0D%0A%20%20%20%20max-height:%2016px;%0D%0A%20%20%20%20transform:%20rotateY(180deg);%0D%0A%7D%0D%0A%0D%0A#robot%20%7B%0D%0A%20%20%20%20max-width:%2028px;%0D%0A%20%20%20%20max-height:%2028px;%0D%0A%7D%0D%0A%0D%0A.opened%20%7B%0D%0A%20%20%20%20background-color:%20rgba(255,%20255,%20255,%200.4);%0D%0A%7D%0D%0A%0D%0A.closed%20%7B%0D%0A%20%20%20%20background-color:%20rgba(255,%20255,%20255,%200.2);%0D%0A%7D##CSS_E####JS##var%20mapMatrix%20=%20%5B%0A%20%20%20%20%5B77,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2042%5D,%0A%20%20%20%20%5B11,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2011,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2011,%2011%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B11,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2077%5D,%0A%20%20%20%20%5B41,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2011%5D,%0A%5D;%0A%0Avar%20totalCells%20=%20Math.pow(22,%202);%0Avar%20start%20=%20%7B%7D;%0Avar%20target%20=%20%7B%7D;%0A%0Avar%20robot%20=%20document.createElement('img');%0Avar%20dog%20=%20document.createElement('img');%0Avar%20walkablePattern%20=%20/41%7C42%7C77/;%0A%0Arobot.isIdle%20=%20true;%0Arobot.id%20=%20'robot';%0Arobot.src%20=%20'https://app.bsd.education/resources/rescue_robot.gif';%0A%0Adog.id%20=%20'dog';%0Adog.src%20=%20'https://app.bsd.education/resources/tired_dog.gif';%0A%0Awindow.onresize%20=%20resizeContent;%0A%0Awindow.onload%20=%20()%20=%3E%20%7B%0A%20%20%20%20map.style.width%20=%20%60$%7BMath.sqrt(totalCells)%20*%2016%7Dpx%60;%0A%20%20%20%20map.style.height%20=%20%60$%7BMath.sqrt(totalCells)%20*%2016%7Dpx%60;%0A%0A%20%20%20%20resizeContent();%0A%20%20%20%20drawGrid();%0A%7D;%0A%0Afunction%20drawGrid()%20%7B%0A%20%20%20%20mapMatrix.forEach((_,%20rowIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20mapMatrix%5BrowIndex%5D.unshift(rowIndex%20===%20mapMatrix.length%20-%201%20?%2028%20:%2021);%0A%20%20%20%20%20%20%20%20mapMatrix%5BrowIndex%5D.push(22);%0A%20%20%20%20%7D);%0A%0A%20%20%20%20mapMatrix.unshift(%5B24,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2025%5D);%0A%20%20%20%20mapMatrix.push(%5B26,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2027%5D);%0A%0A%20%20%20%20mapMatrix.forEach((row,%20rowIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20block%20=%20document.createElement('div');%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20overlayBlock%20=%20document.createElement('div');%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20offset%20=%20%7B%20x:%200,%20y:%200%20%7D;%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20overlayOffset%20=%20%7B%20x:%200,%20y:%2085%20%7D;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(walkablePattern.test(cell))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2085;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%20Math.round(Math.random())%20*%2017;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cell%20===%2041)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start.x%20=%20cellIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start.y%20=%20rowIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20current%20=%20start;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20app.append(robot);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20robot.style.left%20=%20%60$%7BcellIndex%20*%2016%20-%20((robot.offsetWidth%20-%2016)%20/%202)%20+%20map.offsetLeft%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20robot.style.top%20=%20%60$%7BrowIndex%20*%2016%20-%20(robot.offsetHeight%20-%2016)%20+%20map.offsetTop%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2042)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20target.x%20=%20cellIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20target.y%20=%20rowIndex;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20app.append(dog);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dog.style.left%20=%20%60$%7BcellIndex%20*%2016%20+%20map.offsetLeft%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dog.style.top%20=%20%60$%7BrowIndex%20*%2016%20+%20map.offsetTop%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2011)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2085;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%20Math.round(Math.random())%20*%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.x%20=%20%5B221,%20238,%20255,%20272,%20289,%20306,%20323,%20340,%20357,%20391,%20408%5D%5BMath.floor(Math.random()%20*%2011)%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.y%20=%20153;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2020)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2051;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2021%20%7C%7C%20cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.x%20=%20901;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.y%20=%20309;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2022)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2023)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2051;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2024)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2025)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2026)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2027%20%7C%7C%20cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2095)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2096)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2097)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2098)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20block.style.backgroundPosition%20=%20%60-$%7Boffset.x%7Dpx%20-$%7Boffset.y%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20overlayBlock.style.backgroundPosition%20=%20%60-$%7BoverlayOffset.x%7Dpx%20-$%7BoverlayOffset.y%7Dpx%60;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20overlayBlock.className%20=%20'overlay';%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20block.append(overlayBlock);%0A%20%20%20%20%20%20%20%20%20%20%20%20map.append(block);%0A%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%7D);%0A%0A%20%20%20%20setTimeout(()%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20app.style.opacity%20=%201;%0A%20%20%20%20%7D,%20500);%0A%7D%0A%0Afunction%20resizeContent()%20%7B%0A%20%20%20%20var%20appRatio%20=%20app.offsetWidth%20/%20app.offsetHeight;%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0A%0A%20%20%20%20app.style.left%20=%20%60$%7B(window.innerWidth%20-%20app.offsetWidth)%20/%202%7Dpx%60;%0A%20%20%20%20app.style.top%20=%20%60$%7B(window.innerHeight%20-%20app.offsetHeight)%20/%202%7Dpx%60;%0A%20%20%20%20app.style.transform%20=%20%60scale($%7BappRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20app.offsetWidth%20:%20window.innerHeight%20/%20app.offsetHeight%7D)%60;%0A%7D%0A##JS_E####CODE_3E####LOGIC_3####HTML##//%20Expectation:%0Apass.if.html.editable(0).equivalent(%60%3Cbutton%20id=%22btnStartSearch%22%3EStart%20Automatic%20Search%3C/button%3E%60);##HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_3E####STEP_3E####STEP_4####INST_4##Converting%20map%20matrix%20into%20binary%20format%0A%0ABefore%20we%20delve%20into%20working%20with%20the%20library,%20let's%20first%20understand%20how%20the%20map%20is%20constructed.%0A%0AAs%20you%20can%20see%20on%20+js#const%20mapMatrix#%20-%20js#const%20totalCells#-2,%20we%20have%20a%20variable%20called%20*mapMatrix*,%20each%20item%20inside%20the%20this%20array%20is%20yet%20another%20array%20of%2020%20numbers.%0A%0AThe%20number%2041%20indicates%20the%20starting%20point%20of%20the%20robot,%2042%20indicates%20the%20position%20of%20the%20dog,%2011%20indicates%20trees%20and%2077%20indicates%20walkable%20paths.%0A%0AIn%20order%20for%20the%20pathfinding.js%20library%20to%20navigate%20this%20map,%20we%20need%20to%20transform%20this%20array%20into%20binary%20format,%20with%20only%200s%20and%201s,%200%20indicating%20walkable%20path%20and%201%20indicating%20obstacles.%0A%0ATo%20do%20this,%20we%20will%20create%20another%20variable%20called%20*gridMatrix*,%20it'll%20have%20the%20same%20shape%20as%20*mapMatrix*,%20but%20the%2011s%20will%20become%201%20and%20the%20rest%20will%20become%200.%0A%0AWe%20will%20write%20the%20code%20inside%20the%20*btnStartSearch.onclick*%20handler%20so%20it%20runs%20after%20we%20click%20the%20button.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#map%5D%0A%09(*)%5B#js#test%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#onclick#+1,%20type%20in%20%60var%20gridMatrix%20=%20mapMatrix.map(row%20=%3E%20row.map(column%20=%3E%20walkablePattern.test(column)%20?%200%20:%201));%60%20to%20convert%20the%20map%20matrix%20into%200s%20and%201s.##INST_4E####CODE_4####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src=%22https://app-staging.bsd.education/resources/js/pathfinding-browser.js%22%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22app%22%3E%0D%0A%09%09%3Ch1%3EDog%20Rescue%3C/h1%3E%0D%0A%09%09%3Cbutton%20id=%22btnStartSearch%22%3EStart%20Automatic%20Search%3C/button%3E%0D%0A%09%09%3Cdiv%20id=%22map%22%3E%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20background-color:%20#62c5cf;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20outline:%20none;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.95);%0D%0A%20%20%20%20background-color:%20whitesmoke;%0D%0A%7D%0D%0A%0D%0A#app%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20opacity:%200;%0D%0A%7D%0D%0A%0D%0A#map%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%20%20%20%20grid-template-columns:%20repeat(22,%2016px);%0D%0A%20%20%20%20grid-template-rows:%20repeat(22,%2016px);%0D%0A%7D%0D%0A%0D%0A#app%20h1,%20#app%20p%20%7B%0D%0A%20%20%20%20width:%20352px;%0D%0A%7D%0D%0A%0D%0A#map%20div%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/roguelike.png');%0D%0A%7D%0D%0A%0D%0A#map%20.overlay%20%7B%0D%0A%20%20%20%20font-family:%20monospace;%0D%0A%20%20%20%20font-size:%200.4rem;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20color:%20indianred;%0D%0A%7D%0D%0A%0D%0A#robot,%20#dog%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#dog%20%7B%0D%0A%20%20%20%20max-width:%2016px;%0D%0A%20%20%20%20max-height:%2016px;%0D%0A%20%20%20%20transform:%20rotateY(180deg);%0D%0A%7D%0D%0A%0D%0A#robot%20%7B%0D%0A%20%20%20%20max-width:%2028px;%0D%0A%20%20%20%20max-height:%2028px;%0D%0A%7D%0D%0A%0D%0A.opened%20%7B%0D%0A%20%20%20%20background-color:%20rgba(255,%20255,%20255,%200.4);%0D%0A%7D%0D%0A%0D%0A.closed%20%7B%0D%0A%20%20%20%20background-color:%20rgba(255,%20255,%20255,%200.2);%0D%0A%7D##CSS_E####JS##var%20mapMatrix%20=%20%5B%0A%20%20%20%20%5B77,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2042%5D,%0A%20%20%20%20%5B11,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2011,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2011,%2011%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B11,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2077%5D,%0A%20%20%20%20%5B41,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2011%5D,%0A%5D;%0A%0Avar%20totalCells%20=%20Math.pow(22,%202);%0Avar%20start%20=%20%7B%7D;%0Avar%20target%20=%20%7B%7D;%0A%0Avar%20robot%20=%20document.createElement('img');%0Avar%20dog%20=%20document.createElement('img');%0Avar%20walkablePattern%20=%20/41%7C42%7C77/;%0A%0Arobot.isIdle%20=%20true;%0Arobot.id%20=%20'robot';%0Arobot.src%20=%20'https://app.bsd.education/resources/rescue_robot.gif';%0A%0Adog.id%20=%20'dog';%0Adog.src%20=%20'https://app.bsd.education/resources/tired_dog.gif';%0A%0Awindow.onresize%20=%20resizeContent;%0A%0Awindow.onload%20=%20()%20=%3E%20%7B%0A%20%20%20%20map.style.width%20=%20%60$%7BMath.sqrt(totalCells)%20*%2016%7Dpx%60;%0A%20%20%20%20map.style.height%20=%20%60$%7BMath.sqrt(totalCells)%20*%2016%7Dpx%60;%0A%0A%20%20%20%20resizeContent();%0A%20%20%20%20drawGrid();%0A%20%20%20%20%0A%20%20%20%20btnStartSearch.onclick%20=%20()%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#var%20gridMatrix%20=%20mapMatrix.map(row%20=%3E%20row.map(column%20=%3E%20walkablePattern.test(column)%20?%200%20:%201));#END_EDITABLE#%0A%20%20%20%20%7D;%0A%7D;%0A%0Afunction%20drawGrid()%20%7B%0A%20%20%20%20mapMatrix.forEach((_,%20rowIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20mapMatrix%5BrowIndex%5D.unshift(rowIndex%20===%20mapMatrix.length%20-%201%20?%2028%20:%2021);%0A%20%20%20%20%20%20%20%20mapMatrix%5BrowIndex%5D.push(22);%0A%20%20%20%20%7D);%0A%0A%20%20%20%20mapMatrix.unshift(%5B24,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2025%5D);%0A%20%20%20%20mapMatrix.push(%5B26,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2027%5D);%0A%0A%20%20%20%20mapMatrix.forEach((row,%20rowIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20block%20=%20document.createElement('div');%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20overlayBlock%20=%20document.createElement('div');%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20offset%20=%20%7B%20x:%200,%20y:%200%20%7D;%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20overlayOffset%20=%20%7B%20x:%200,%20y:%2085%20%7D;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(walkablePattern.test(cell))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2085;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%20Math.round(Math.random())%20*%2017;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cell%20===%2041)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start.x%20=%20cellIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start.y%20=%20rowIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20current%20=%20start;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20app.append(robot);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20robot.style.left%20=%20%60$%7BcellIndex%20*%2016%20-%20((robot.offsetWidth%20-%2016)%20/%202)%20+%20map.offsetLeft%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20robot.style.top%20=%20%60$%7BrowIndex%20*%2016%20-%20(robot.offsetHeight%20-%2016)%20+%20map.offsetTop%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2042)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20target.x%20=%20cellIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20target.y%20=%20rowIndex;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20app.append(dog);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dog.style.left%20=%20%60$%7BcellIndex%20*%2016%20+%20map.offsetLeft%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dog.style.top%20=%20%60$%7BrowIndex%20*%2016%20+%20map.offsetTop%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2011)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2085;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%20Math.round(Math.random())%20*%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.x%20=%20%5B221,%20238,%20255,%20272,%20289,%20306,%20323,%20340,%20357,%20391,%20408%5D%5BMath.floor(Math.random()%20*%2011)%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.y%20=%20153;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2020)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2051;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2021%20%7C%7C%20cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.x%20=%20901;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.y%20=%20309;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2022)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2023)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2051;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2024)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2025)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2026)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2027%20%7C%7C%20cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2095)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2096)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2097)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2098)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20block.style.backgroundPosition%20=%20%60-$%7Boffset.x%7Dpx%20-$%7Boffset.y%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20overlayBlock.style.backgroundPosition%20=%20%60-$%7BoverlayOffset.x%7Dpx%20-$%7BoverlayOffset.y%7Dpx%60;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20overlayBlock.className%20=%20'overlay';%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20block.append(overlayBlock);%0A%20%20%20%20%20%20%20%20%20%20%20%20map.append(block);%0A%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%7D);%0A%0A%20%20%20%20setTimeout(()%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20app.style.opacity%20=%201;%0A%20%20%20%20%7D,%20500);%0A%7D%0A%0Afunction%20resizeContent()%20%7B%0A%20%20%20%20var%20appRatio%20=%20app.offsetWidth%20/%20app.offsetHeight;%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0A%0A%20%20%20%20app.style.left%20=%20%60$%7B(window.innerWidth%20-%20app.offsetWidth)%20/%202%7Dpx%60;%0A%20%20%20%20app.style.top%20=%20%60$%7B(window.innerHeight%20-%20app.offsetHeight)%20/%202%7Dpx%60;%0A%20%20%20%20app.style.transform%20=%20%60scale($%7BappRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20app.offsetWidth%20:%20window.innerHeight%20/%20app.offsetHeight%7D)%60;%0A%7D%0A##JS_E####CODE_4E####LOGIC_4####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20gridMatrix%20=%20mapMatrix.map(row%20=%3E%20row.map(column%20=%3E%20walkablePattern.test(column)%20?%200%20:%201));%60);##JS_E####LOGIC_4E####STEP_4E####STEP_5####INST_5##Creating%20the%20grid%20and%20finder%20object%0A%0ANow%20we%20transformed%20the%20map%20matrix%20into%20a%20binary%20format,%20we%20can%20create%20the%20grid%20object%20using%20pathfinding.js%20library.%0A%0AIn%20addition,%20we%20also%20need%20to%20create%20a%20finder%20object,%20the%20one%20we're%20using%20is%20called%20*AStartFinder*,%20it%20is%20one%20of%20many%20pathfinding%20algorithms%20out%20there.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#new%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#onclick#+2,%20type%20in%20%60var%20grid%20=%20new%20PF.Grid(gridMatrix);%60%20to%20create%20the%20Pathfinding%20grid%20object.%0A%0A(!)On%20+js#onclick#+3,%20type%20in%20%60var%20finder%20=%20new%20PF.AStarFinder();%60%20to%20create%20the%20Pathfinding%20finder%20object.##INST_5E####CODE_5####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src=%22https://app-staging.bsd.education/resources/js/pathfinding-browser.js%22%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22app%22%3E%0D%0A%09%09%3Ch1%3EDog%20Rescue%3C/h1%3E%0D%0A%09%09%3Cbutton%20id=%22btnStartSearch%22%3EStart%20Automatic%20Search%3C/button%3E%0D%0A%09%09%3Cdiv%20id=%22map%22%3E%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20background-color:%20#62c5cf;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20outline:%20none;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.95);%0D%0A%20%20%20%20background-color:%20whitesmoke;%0D%0A%7D%0D%0A%0D%0A#app%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20opacity:%200;%0D%0A%7D%0D%0A%0D%0A#map%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%20%20%20%20grid-template-columns:%20repeat(22,%2016px);%0D%0A%20%20%20%20grid-template-rows:%20repeat(22,%2016px);%0D%0A%7D%0D%0A%0D%0A#app%20h1,%20#app%20p%20%7B%0D%0A%20%20%20%20width:%20352px;%0D%0A%7D%0D%0A%0D%0A#map%20div%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/roguelike.png');%0D%0A%7D%0D%0A%0D%0A#map%20.overlay%20%7B%0D%0A%20%20%20%20font-family:%20monospace;%0D%0A%20%20%20%20font-size:%200.4rem;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20color:%20indianred;%0D%0A%7D%0D%0A%0D%0A#robot,%20#dog%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#dog%20%7B%0D%0A%20%20%20%20max-width:%2016px;%0D%0A%20%20%20%20max-height:%2016px;%0D%0A%20%20%20%20transform:%20rotateY(180deg);%0D%0A%7D%0D%0A%0D%0A#robot%20%7B%0D%0A%20%20%20%20max-width:%2028px;%0D%0A%20%20%20%20max-height:%2028px;%0D%0A%7D%0D%0A%0D%0A.opened%20%7B%0D%0A%20%20%20%20background-color:%20rgba(255,%20255,%20255,%200.4);%0D%0A%7D%0D%0A%0D%0A.closed%20%7B%0D%0A%20%20%20%20background-color:%20rgba(255,%20255,%20255,%200.2);%0D%0A%7D##CSS_E####JS##var%20mapMatrix%20=%20%5B%0A%20%20%20%20%5B77,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2042%5D,%0A%20%20%20%20%5B11,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2011,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2011,%2011%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B11,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2077%5D,%0A%20%20%20%20%5B41,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2011%5D,%0A%5D;%0A%0Avar%20totalCells%20=%20Math.pow(22,%202);%0Avar%20start%20=%20%7B%7D;%0Avar%20target%20=%20%7B%7D;%0A%0Avar%20robot%20=%20document.createElement('img');%0Avar%20dog%20=%20document.createElement('img');%0Avar%20walkablePattern%20=%20/41%7C42%7C77/;%0A%0Arobot.isIdle%20=%20true;%0Arobot.id%20=%20'robot';%0Arobot.src%20=%20'https://app.bsd.education/resources/rescue_robot.gif';%0A%0Adog.id%20=%20'dog';%0Adog.src%20=%20'https://app.bsd.education/resources/tired_dog.gif';%0A%0Awindow.onresize%20=%20resizeContent;%0A%0Awindow.onload%20=%20()%20=%3E%20%7B%0A%20%20%20%20map.style.width%20=%20%60$%7BMath.sqrt(totalCells)%20*%2016%7Dpx%60;%0A%20%20%20%20map.style.height%20=%20%60$%7BMath.sqrt(totalCells)%20*%2016%7Dpx%60;%0A%0A%20%20%20%20resizeContent();%0A%20%20%20%20drawGrid();%0A%20%20%20%20%0A%20%20%20%20btnStartSearch.onclick%20=%20()%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20var%20gridMatrix%20=%20mapMatrix.map(row%20=%3E%20row.map(column%20=%3E%20walkablePattern.test(column)%20?%200%20:%201));%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#var%20grid%20=%20new%20PF.Grid(gridMatrix);#END_EDITABLE#%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#var%20finder%20=%20new%20PF.AStarFinder();#END_EDITABLE#%0A%20%20%20%20%7D;%0A%7D;%0A%0Afunction%20drawGrid()%20%7B%0A%20%20%20%20mapMatrix.forEach((_,%20rowIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20mapMatrix%5BrowIndex%5D.unshift(rowIndex%20===%20mapMatrix.length%20-%201%20?%2028%20:%2021);%0A%20%20%20%20%20%20%20%20mapMatrix%5BrowIndex%5D.push(22);%0A%20%20%20%20%7D);%0A%0A%20%20%20%20mapMatrix.unshift(%5B24,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2025%5D);%0A%20%20%20%20mapMatrix.push(%5B26,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2027%5D);%0A%0A%20%20%20%20mapMatrix.forEach((row,%20rowIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20block%20=%20document.createElement('div');%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20overlayBlock%20=%20document.createElement('div');%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20offset%20=%20%7B%20x:%200,%20y:%200%20%7D;%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20overlayOffset%20=%20%7B%20x:%200,%20y:%2085%20%7D;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(walkablePattern.test(cell))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2085;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%20Math.round(Math.random())%20*%2017;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cell%20===%2041)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start.x%20=%20cellIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start.y%20=%20rowIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20current%20=%20start;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20app.append(robot);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20robot.style.left%20=%20%60$%7BcellIndex%20*%2016%20-%20((robot.offsetWidth%20-%2016)%20/%202)%20+%20map.offsetLeft%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20robot.style.top%20=%20%60$%7BrowIndex%20*%2016%20-%20(robot.offsetHeight%20-%2016)%20+%20map.offsetTop%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2042)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20target.x%20=%20cellIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20target.y%20=%20rowIndex;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20app.append(dog);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dog.style.left%20=%20%60$%7BcellIndex%20*%2016%20+%20map.offsetLeft%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dog.style.top%20=%20%60$%7BrowIndex%20*%2016%20+%20map.offsetTop%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2011)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2085;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%20Math.round(Math.random())%20*%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.x%20=%20%5B221,%20238,%20255,%20272,%20289,%20306,%20323,%20340,%20357,%20391,%20408%5D%5BMath.floor(Math.random()%20*%2011)%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.y%20=%20153;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2020)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2051;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2021%20%7C%7C%20cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.x%20=%20901;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.y%20=%20309;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2022)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2023)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2051;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2024)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2025)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2026)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2027%20%7C%7C%20cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2095)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2096)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2097)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2098)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20block.style.backgroundPosition%20=%20%60-$%7Boffset.x%7Dpx%20-$%7Boffset.y%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20overlayBlock.style.backgroundPosition%20=%20%60-$%7BoverlayOffset.x%7Dpx%20-$%7BoverlayOffset.y%7Dpx%60;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20overlayBlock.className%20=%20'overlay';%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20block.append(overlayBlock);%0A%20%20%20%20%20%20%20%20%20%20%20%20map.append(block);%0A%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%7D);%0A%0A%20%20%20%20setTimeout(()%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20app.style.opacity%20=%201;%0A%20%20%20%20%7D,%20500);%0A%7D%0A%0Afunction%20resizeContent()%20%7B%0A%20%20%20%20var%20appRatio%20=%20app.offsetWidth%20/%20app.offsetHeight;%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0A%0A%20%20%20%20app.style.left%20=%20%60$%7B(window.innerWidth%20-%20app.offsetWidth)%20/%202%7Dpx%60;%0A%20%20%20%20app.style.top%20=%20%60$%7B(window.innerHeight%20-%20app.offsetHeight)%20/%202%7Dpx%60;%0A%20%20%20%20app.style.transform%20=%20%60scale($%7BappRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20app.offsetWidth%20:%20window.innerHeight%20/%20app.offsetHeight%7D)%60;%0A%7D%0A##JS_E####CODE_5E####LOGIC_5####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20grid%20=%20new%20PF.Grid(gridMatrix);%60);%0Apass.if.js.editable(1).equivalent(%60var%20finder%20=%20new%20PF.AStarFinder();%60);##JS_E####LOGIC_5E####STEP_5E####STEP_6####INST_6##Finding%20the%20path%20from%20start%20to%20target%0A%0AThe%20path%20that%20the%20pathfinding.js%20library%20will%20find%20for%20us%20is%20an%20array,%20each%20item%20represents%20a%20block%20on%20the%20map%20that%20can%20be%20traversed.%0A%0AThis%20is%20important%20data%20so%20we%20should%20store%20it%20for%20later%20use.%0A%0ALet's%20create%20a%20variable%20called%20*path*%20for%20that.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20target#+1,%20create%20a%20variable%20called%20*path*.%0A%0A(!)On%20+js#onclick#+5,%20type%20in%20%60path%20=%20finder.findPath(start.x,%20start.y,%20target.x,%20target.y,%20grid);%60%20to%20find%20the%20path%20from%20*start*%20to%20*target*.##INST_6E####CODE_6####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src=%22https://app-staging.bsd.education/resources/js/pathfinding-browser.js%22%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22app%22%3E%0D%0A%09%09%3Ch1%3EDog%20Rescue%3C/h1%3E%0D%0A%09%09%3Cbutton%20id=%22btnStartSearch%22%3EStart%20Automatic%20Search%3C/button%3E%0D%0A%09%09%3Cdiv%20id=%22map%22%3E%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20background-color:%20#62c5cf;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20outline:%20none;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.95);%0D%0A%20%20%20%20background-color:%20whitesmoke;%0D%0A%7D%0D%0A%0D%0A#app%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20opacity:%200;%0D%0A%7D%0D%0A%0D%0A#map%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%20%20%20%20grid-template-columns:%20repeat(22,%2016px);%0D%0A%20%20%20%20grid-template-rows:%20repeat(22,%2016px);%0D%0A%7D%0D%0A%0D%0A#app%20h1,%20#app%20p%20%7B%0D%0A%20%20%20%20width:%20352px;%0D%0A%7D%0D%0A%0D%0A#map%20div%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/roguelike.png');%0D%0A%7D%0D%0A%0D%0A#map%20.overlay%20%7B%0D%0A%20%20%20%20font-family:%20monospace;%0D%0A%20%20%20%20font-size:%200.4rem;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20color:%20indianred;%0D%0A%7D%0D%0A%0D%0A#robot,%20#dog%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#dog%20%7B%0D%0A%20%20%20%20max-width:%2016px;%0D%0A%20%20%20%20max-height:%2016px;%0D%0A%20%20%20%20transform:%20rotateY(180deg);%0D%0A%7D%0D%0A%0D%0A#robot%20%7B%0D%0A%20%20%20%20max-width:%2028px;%0D%0A%20%20%20%20max-height:%2028px;%0D%0A%7D%0D%0A%0D%0A.opened%20%7B%0D%0A%20%20%20%20background-color:%20rgba(255,%20255,%20255,%200.4);%0D%0A%7D%0D%0A%0D%0A.closed%20%7B%0D%0A%20%20%20%20background-color:%20rgba(255,%20255,%20255,%200.2);%0D%0A%7D##CSS_E####JS##var%20mapMatrix%20=%20%5B%0A%20%20%20%20%5B77,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2042%5D,%0A%20%20%20%20%5B11,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2011,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2011,%2011%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B11,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2077%5D,%0A%20%20%20%20%5B41,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2011%5D,%0A%5D;%0A%0Avar%20totalCells%20=%20Math.pow(22,%202);%0Avar%20start%20=%20%7B%7D;%0Avar%20target%20=%20%7B%7D;%0A#BEGIN_EDITABLE#var%20path;#END_EDITABLE#%0A%0Avar%20robot%20=%20document.createElement('img');%0Avar%20dog%20=%20document.createElement('img');%0Avar%20walkablePattern%20=%20/41%7C42%7C77/;%0A%0Arobot.isIdle%20=%20true;%0Arobot.id%20=%20'robot';%0Arobot.src%20=%20'https://app.bsd.education/resources/rescue_robot.gif';%0A%0Adog.id%20=%20'dog';%0Adog.src%20=%20'https://app.bsd.education/resources/tired_dog.gif';%0A%0Awindow.onresize%20=%20resizeContent;%0A%0Awindow.onload%20=%20()%20=%3E%20%7B%0A%20%20%20%20map.style.width%20=%20%60$%7BMath.sqrt(totalCells)%20*%2016%7Dpx%60;%0A%20%20%20%20map.style.height%20=%20%60$%7BMath.sqrt(totalCells)%20*%2016%7Dpx%60;%0A%0A%20%20%20%20resizeContent();%0A%20%20%20%20drawGrid();%0A%20%20%20%20%0A%20%20%20%20btnStartSearch.onclick%20=%20()%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20var%20gridMatrix%20=%20mapMatrix.map(row%20=%3E%20row.map(column%20=%3E%20walkablePattern.test(column)%20?%200%20:%201));%0A%20%20%20%20%20%20%20%20var%20grid%20=%20new%20PF.Grid(gridMatrix);%0A%20%20%20%20%20%20%20%20var%20finder%20=%20new%20PF.AStarFinder();%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#path%20=%20finder.findPath(start.x,%20start.y,%20target.x,%20target.y,%20grid);#END_EDITABLE#%0A%20%20%20%20%7D;%0A%7D;%0A%0Afunction%20drawGrid()%20%7B%0A%20%20%20%20mapMatrix.forEach((_,%20rowIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20mapMatrix%5BrowIndex%5D.unshift(rowIndex%20===%20mapMatrix.length%20-%201%20?%2028%20:%2021);%0A%20%20%20%20%20%20%20%20mapMatrix%5BrowIndex%5D.push(22);%0A%20%20%20%20%7D);%0A%0A%20%20%20%20mapMatrix.unshift(%5B24,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2025%5D);%0A%20%20%20%20mapMatrix.push(%5B26,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2027%5D);%0A%0A%20%20%20%20mapMatrix.forEach((row,%20rowIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20block%20=%20document.createElement('div');%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20overlayBlock%20=%20document.createElement('div');%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20offset%20=%20%7B%20x:%200,%20y:%200%20%7D;%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20overlayOffset%20=%20%7B%20x:%200,%20y:%2085%20%7D;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(walkablePattern.test(cell))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2085;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%20Math.round(Math.random())%20*%2017;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cell%20===%2041)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start.x%20=%20cellIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start.y%20=%20rowIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20current%20=%20start;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20app.append(robot);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20robot.style.left%20=%20%60$%7BcellIndex%20*%2016%20-%20((robot.offsetWidth%20-%2016)%20/%202)%20+%20map.offsetLeft%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20robot.style.top%20=%20%60$%7BrowIndex%20*%2016%20-%20(robot.offsetHeight%20-%2016)%20+%20map.offsetTop%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2042)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20target.x%20=%20cellIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20target.y%20=%20rowIndex;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20app.append(dog);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dog.style.left%20=%20%60$%7BcellIndex%20*%2016%20+%20map.offsetLeft%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dog.style.top%20=%20%60$%7BrowIndex%20*%2016%20+%20map.offsetTop%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2011)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2085;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%20Math.round(Math.random())%20*%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.x%20=%20%5B221,%20238,%20255,%20272,%20289,%20306,%20323,%20340,%20357,%20391,%20408%5D%5BMath.floor(Math.random()%20*%2011)%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.y%20=%20153;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2020)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2051;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2021%20%7C%7C%20cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.x%20=%20901;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.y%20=%20309;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2022)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2023)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2051;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2024)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2025)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2026)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2027%20%7C%7C%20cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2095)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2096)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2097)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2098)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20block.style.backgroundPosition%20=%20%60-$%7Boffset.x%7Dpx%20-$%7Boffset.y%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20overlayBlock.style.backgroundPosition%20=%20%60-$%7BoverlayOffset.x%7Dpx%20-$%7BoverlayOffset.y%7Dpx%60;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20overlayBlock.className%20=%20'overlay';%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20block.append(overlayBlock);%0A%20%20%20%20%20%20%20%20%20%20%20%20map.append(block);%0A%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%7D);%0A%0A%20%20%20%20setTimeout(()%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20app.style.opacity%20=%201;%0A%20%20%20%20%7D,%20500);%0A%7D%0A%0Afunction%20resizeContent()%20%7B%0A%20%20%20%20var%20appRatio%20=%20app.offsetWidth%20/%20app.offsetHeight;%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0A%0A%20%20%20%20app.style.left%20=%20%60$%7B(window.innerWidth%20-%20app.offsetWidth)%20/%202%7Dpx%60;%0A%20%20%20%20app.style.top%20=%20%60$%7B(window.innerHeight%20-%20app.offsetHeight)%20/%202%7Dpx%60;%0A%20%20%20%20app.style.transform%20=%20%60scale($%7BappRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20app.offsetWidth%20:%20window.innerHeight%20/%20app.offsetHeight%7D)%60;%0A%7D%0A##JS_E####CODE_6E####LOGIC_6####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20path;%60);%0Apass.if.js.editable(1).equivalent(%60path%20=%20finder.findPath(start.x,%20start.y,%20target.x,%20target.y,%20grid);%60);##JS_E####LOGIC_6E####STEP_6E####STEP_7####INST_7##Finding%20the%20shortest%20path%0A%0ANow%20we%20have%20all%20the%20pieces%20ready%20for%20the%20pathfinding.js%20library%20to%20start%20finding%20the%20shortest%20path:%20the%20*grid*%20object,%20the%20*finder*%20object,%20and%20the%20*path*%20variable%20to%20store%20the%20shortest%20path.%0A%0ATo%20find%20the%20shortest%20path%20through%20the%20*grid*%20object,%20we%20can%20call%20the%20*findPath*%20function%20on%20the%20*finder*%20object,%20while%20providing%20the%20*start*%20and%20*target*%20coordinates,%20as%20well%20as%20the%20*grid*%20object.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#function%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20finder#+2,%20type%20in%20%60path%20=%20finder.findPath(start.x,%20start.y,%20target.x,%20target.y,%20grid);%60%20to%20find%20and%20store%20the%20shortest%20path%20in%20*path*.##INST_7E####CODE_7####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src=%22https://app-staging.bsd.education/resources/js/pathfinding-browser.js%22%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22app%22%3E%0D%0A%09%09%3Ch1%3EDog%20Rescue%3C/h1%3E%0D%0A%09%09%3Cbutton%20id=%22btnStartSearch%22%3EStart%20Automatic%20Search%3C/button%3E%0D%0A%09%09%3Cdiv%20id=%22map%22%3E%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20background-color:%20#62c5cf;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20outline:%20none;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.95);%0D%0A%20%20%20%20background-color:%20whitesmoke;%0D%0A%7D%0D%0A%0D%0A#app%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20opacity:%200;%0D%0A%7D%0D%0A%0D%0A#map%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%20%20%20%20grid-template-columns:%20repeat(22,%2016px);%0D%0A%20%20%20%20grid-template-rows:%20repeat(22,%2016px);%0D%0A%7D%0D%0A%0D%0A#app%20h1,%20#app%20p%20%7B%0D%0A%20%20%20%20width:%20352px;%0D%0A%7D%0D%0A%0D%0A#map%20div%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/roguelike.png');%0D%0A%7D%0D%0A%0D%0A#map%20.overlay%20%7B%0D%0A%20%20%20%20font-family:%20monospace;%0D%0A%20%20%20%20font-size:%200.4rem;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20color:%20indianred;%0D%0A%7D%0D%0A%0D%0A#robot,%20#dog%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#dog%20%7B%0D%0A%20%20%20%20max-width:%2016px;%0D%0A%20%20%20%20max-height:%2016px;%0D%0A%20%20%20%20transform:%20rotateY(180deg);%0D%0A%7D%0D%0A%0D%0A#robot%20%7B%0D%0A%20%20%20%20max-width:%2028px;%0D%0A%20%20%20%20max-height:%2028px;%0D%0A%7D%0D%0A%0D%0A.opened%20%7B%0D%0A%20%20%20%20background-color:%20rgba(255,%20255,%20255,%200.4);%0D%0A%7D%0D%0A%0D%0A.closed%20%7B%0D%0A%20%20%20%20background-color:%20rgba(255,%20255,%20255,%200.2);%0D%0A%7D##CSS_E####JS##var%20mapMatrix%20=%20%5B%0A%20%20%20%20%5B77,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2042%5D,%0A%20%20%20%20%5B11,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2011,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2011,%2011%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B11,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2077%5D,%0A%20%20%20%20%5B41,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2011%5D,%0A%5D;%0A%0Avar%20totalCells%20=%20Math.pow(22,%202);%0Avar%20start%20=%20%7B%7D;%0Avar%20target%20=%20%7B%7D;%0Avar%20nextCell;%0Avar%20path;%0Avar%20timer;%0Avar%20anim;%0Avar%20stepCount%20=%200;%0A%0Avar%20robot%20=%20document.createElement('img');%0Avar%20dog%20=%20document.createElement('img');%0Avar%20walkablePattern%20=%20/41%7C42%7C77/;%0A%0Arobot.isIdle%20=%20true;%0Arobot.id%20=%20'robot';%0Arobot.src%20=%20'https://app.bsd.education/resources/rescue_robot.gif';%0A%0Adog.id%20=%20'dog';%0Adog.src%20=%20'https://app.bsd.education/resources/tired_dog.gif';%0A%0Awindow.onresize%20=%20resizeContent;%0A%0Awindow.onload%20=%20()%20=%3E%20%7B%0A%20%20%20%20map.style.width%20=%20%60$%7BMath.sqrt(totalCells)%20*%2016%7Dpx%60;%0A%20%20%20%20map.style.height%20=%20%60$%7BMath.sqrt(totalCells)%20*%2016%7Dpx%60;%0A%0A%20%20%20%20resizeContent();%0A%20%20%20%20drawGrid();%0A%20%20%20%20%0A%20%20%20%20btnStartSearch.onclick%20=%20()%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20var%20gridMatrix%20=%20mapMatrix.map(row%20=%3E%20row.map(column%20=%3E%20walkablePattern.test(column)%20?%200%20:%201));%0A%20%20%20%20%20%20%20%20var%20grid%20=%20new%20PF.Grid(gridMatrix);%0A%20%20%20%20%20%20%20%20var%20finder%20=%20new%20PF.AStarFinder();%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#path%20=%20finder.findPath(start.x,%20start.y,%20target.x,%20target.y,%20grid);#END_EDITABLE#%0A%20%20%20%20%20%20%20%20timer%20=%20setInterval(showNextSearch,%2050);%0A%20%20%20%20%20%20%20%20btnStartSearch.disabled%20=%20true;%0A%20%20%20%20%7D;%0A%7D;%0A%0Afunction%20passStep()%20%7B%7D%0A%0Afunction%20goRescue()%20%7B%0A%20%20%20%20path.result.pop();%0A%20%20%20%20moveRobot();%0A%7D%0A%0Afunction%20moveRobot()%20%7B%0A%20%20%20%20if%20(path.result.length%20===%200)%20%7B%0A%20%20%20%20%20%20%20%20alert('You%20have%20rescued%20the%20dog!%20Total%20steps%20taken:%20'%20+%20stepCount);%0A%20%20%20%20%20%20%20%20passStep();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20coord%20=%20path.result.shift();%0A%0A%20%20%20%20if%20(nextCell)%20nextCell.firstElementChild.style.backgroundColor%20=%20'rgba(255,%200,%200,%200.2)';%0A%20%20%20%20nextCell%20=%20map.children%5Bcoord%5B1%5D%20*%20Math.sqrt(totalCells)%20+%20coord%5B0%5D%5D;%0A%0A%20%20%20%20var%20x%20=%20nextCell.offsetLeft%20-%20((robot.offsetWidth%20-%2016)%20/%202);%0A%20%20%20%20var%20y%20=%20nextCell.offsetTop%20-%20(robot.offsetHeight%20-%20nextCell.offsetHeight);%0A%0A%20%20%20%20if%20(x%20%3C%20robot.offsetLeft)%20%7B%0A%20%20%20%20%20%20%20%20robot.style.transform%20=%20'rotateY(180deg)';%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(x%20%3E%20robot.offsetLeft)%20%7B%0A%20%20%20%20%20%20%20%20robot.style.removeProperty('transform');%0A%20%20%20%20%7D%0A%0A%20%20%20%20anim%20=%20robot.animate(%5B%7B%0A%20%20%20%20%20%20%20%20left:%20%60$%7Brobot.offsetLeft%7Dpx%60,%0A%20%20%20%20%20%20%20%20top:%20%60$%7Brobot.offsetTop%7Dpx%60%0A%20%20%20%20%7D,%20%7B%0A%20%20%20%20%20%20%20%20left:%20%60$%7Bx%7Dpx%60,%0A%20%20%20%20%20%20%20%20top:%20%60$%7By%7Dpx%60%0A%20%20%20%20%7D%5D,%20%7B%0A%20%20%20%20%20%20%20%20duration:%20250,%0A%20%20%20%20%20%20%20%20easing:%20'linear',%0A%20%20%20%20%20%20%20%20fill:%20'forwards'%0A%20%20%20%20%7D);%0A%0A%20%20%20%20anim.onfinish%20=%20moveRobot;%0A%7D%0A%0Afunction%20showNextSearch()%20%7B%0A%20%20%20%20var%20node%20=%20path.history.shift();%0A%20%20%20%20var%20cell%20=%20map.children%5B(node.y)%20*%20Math.sqrt(totalCells)%20+%20node.x%5D.firstElementChild;%0A%0A%20%20%20%20cell.innerText%20=%20'0';%0A%20%20%20%20cell.classList.remove('opened');%0A%20%20%20%20cell.classList.remove('closed');%0A%0A%20%20%20%20if%20(node.opened)%20%7B%0A%20%20%20%20%20%20%20%20cell.innerText%20=%20node.g;%0A%20%20%20%20%20%20%20%20stepCount%20=%20node.g;%0A%20%20%20%20%20%20%20%20cell.classList.add('opened');%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20cell.innerText%20=%20'';%0A%20%20%20%20%20%20%20%20cell.classList.add('closed');%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(path.history.length%20===%200)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(timer);%0A%20%20%20%20%20%20%20%20goRescue();%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20drawGrid()%20%7B%0A%20%20%20%20mapMatrix.forEach((_,%20rowIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20mapMatrix%5BrowIndex%5D.unshift(rowIndex%20===%20mapMatrix.length%20-%201%20?%2028%20:%2021);%0A%20%20%20%20%20%20%20%20mapMatrix%5BrowIndex%5D.push(22);%0A%20%20%20%20%7D);%0A%0A%20%20%20%20mapMatrix.unshift(%5B24,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2025%5D);%0A%20%20%20%20mapMatrix.push(%5B26,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2027%5D);%0A%0A%20%20%20%20mapMatrix.forEach((row,%20rowIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20block%20=%20document.createElement('div');%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20overlayBlock%20=%20document.createElement('div');%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20offset%20=%20%7B%20x:%200,%20y:%200%20%7D;%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20overlayOffset%20=%20%7B%20x:%200,%20y:%2085%20%7D;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(walkablePattern.test(cell))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2085;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%20Math.round(Math.random())%20*%2017;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cell%20===%2041)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start.x%20=%20cellIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start.y%20=%20rowIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20current%20=%20start;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20app.append(robot);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20robot.style.left%20=%20%60$%7BcellIndex%20*%2016%20-%20((robot.offsetWidth%20-%2016)%20/%202)%20+%20map.offsetLeft%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20robot.style.top%20=%20%60$%7BrowIndex%20*%2016%20-%20(robot.offsetHeight%20-%2016)%20+%20map.offsetTop%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2042)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20target.x%20=%20cellIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20target.y%20=%20rowIndex;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20app.append(dog);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dog.style.left%20=%20%60$%7BcellIndex%20*%2016%20+%20map.offsetLeft%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dog.style.top%20=%20%60$%7BrowIndex%20*%2016%20+%20map.offsetTop%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2011)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2085;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%20Math.round(Math.random())%20*%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.x%20=%20%5B221,%20238,%20255,%20272,%20289,%20306,%20323,%20340,%20357,%20391,%20408%5D%5BMath.floor(Math.random()%20*%2011)%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.y%20=%20153;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2020)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2051;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2021%20%7C%7C%20cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.x%20=%20901;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.y%20=%20309;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2022)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2023)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2051;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2024)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2025)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2026)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2027%20%7C%7C%20cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2095)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2096)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2097)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2098)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20block.style.backgroundPosition%20=%20%60-$%7Boffset.x%7Dpx%20-$%7Boffset.y%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20overlayBlock.style.backgroundPosition%20=%20%60-$%7BoverlayOffset.x%7Dpx%20-$%7BoverlayOffset.y%7Dpx%60;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20overlayBlock.className%20=%20'overlay';%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20block.append(overlayBlock);%0A%20%20%20%20%20%20%20%20%20%20%20%20map.append(block);%0A%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%7D);%0A%0A%20%20%20%20setTimeout(()%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20app.style.opacity%20=%201;%0A%20%20%20%20%7D,%20500);%0A%7D%0A%0Afunction%20resizeContent()%20%7B%0A%20%20%20%20var%20appRatio%20=%20app.offsetWidth%20/%20app.offsetHeight;%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0A%0A%20%20%20%20app.style.left%20=%20%60$%7B(window.innerWidth%20-%20app.offsetWidth)%20/%202%7Dpx%60;%0A%20%20%20%20app.style.top%20=%20%60$%7B(window.innerHeight%20-%20app.offsetHeight)%20/%202%7Dpx%60;%0A%20%20%20%20app.style.transform%20=%20%60scale($%7BappRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20app.offsetWidth%20:%20window.innerHeight%20/%20app.offsetHeight%7D)%60;%0A%7D%0A##JS_E####CODE_7E####LOGIC_7####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60path%20=%20finder.findPath(start.x,%20start.y,%20target.x,%20target.y,%20grid);%60);##JS_E####LOGIC_7E####STEP_7E####STEP_8####INST_8##Testing%20your%20pathfinding%20AI%0A%0AThat's%20it,%20the%20pathfinding.js%20library%20has%20been%20properly%20integrated%20into%20our%20web%20page,%20and%20it%20should%20be%20able%20to%20find%20the%20shortest%20path%20to%20rescue%20the%20dog.%0A%0ATry%20clicking%20on%20the%20*Start%20Automatic%20Search*%20button.%0A%0A(***)%0A%0A(!)Use%20the%20pathfinding%20AI%20to%20rescue%20the%20dog.##INST_8E####CODE_8####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src=%22https://app-staging.bsd.education/resources/js/pathfinding-browser.js%22%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22app%22%3E%0D%0A%09%09%3Ch1%3EDog%20Rescue%3C/h1%3E%0D%0A%09%09%3Cbutton%20id=%22btnStartSearch%22%3EStart%20Automatic%20Search%3C/button%3E%0D%0A%09%09%3Cdiv%20id=%22map%22%3E%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20background-color:%20#62c5cf;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20outline:%20none;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.95);%0D%0A%20%20%20%20background-color:%20whitesmoke;%0D%0A%7D%0D%0A%0D%0A#app%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20opacity:%200;%0D%0A%7D%0D%0A%0D%0A#map%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%20%20%20%20grid-template-columns:%20repeat(22,%2016px);%0D%0A%20%20%20%20grid-template-rows:%20repeat(22,%2016px);%0D%0A%7D%0D%0A%0D%0A#app%20h1,%20#app%20p%20%7B%0D%0A%20%20%20%20width:%20352px;%0D%0A%7D%0D%0A%0D%0A#map%20div%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/roguelike.png');%0D%0A%7D%0D%0A%0D%0A#map%20.overlay%20%7B%0D%0A%20%20%20%20font-family:%20monospace;%0D%0A%20%20%20%20font-size:%200.4rem;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20color:%20indianred;%0D%0A%7D%0D%0A%0D%0A#robot,%20#dog%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#dog%20%7B%0D%0A%20%20%20%20max-width:%2016px;%0D%0A%20%20%20%20max-height:%2016px;%0D%0A%20%20%20%20transform:%20rotateY(180deg);%0D%0A%7D%0D%0A%0D%0A#robot%20%7B%0D%0A%20%20%20%20max-width:%2028px;%0D%0A%20%20%20%20max-height:%2028px;%0D%0A%7D%0D%0A%0D%0A.opened%20%7B%0D%0A%20%20%20%20background-color:%20rgba(255,%20255,%20255,%200.4);%0D%0A%7D%0D%0A%0D%0A.closed%20%7B%0D%0A%20%20%20%20background-color:%20rgba(255,%20255,%20255,%200.2);%0D%0A%7D##CSS_E####JS##var%20mapMatrix%20=%20%5B%0A%20%20%20%20%5B77,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2042%5D,%0A%20%20%20%20%5B11,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2011,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2011,%2011%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B11,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2077%5D,%0A%20%20%20%20%5B41,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2011%5D,%0A%5D;%0A%0Avar%20totalCells%20=%20Math.pow(22,%202);%0Avar%20start%20=%20%7B%7D;%0Avar%20target%20=%20%7B%7D;%0Avar%20nextCell;%0Avar%20path;%0Avar%20timer;%0Avar%20anim;%0Avar%20stepCount%20=%200;%0A%0Avar%20robot%20=%20document.createElement('img');%0Avar%20dog%20=%20document.createElement('img');%0Avar%20walkablePattern%20=%20/41%7C42%7C77/;%0A%0Arobot.isIdle%20=%20true;%0Arobot.id%20=%20'robot';%0Arobot.src%20=%20'https://app.bsd.education/resources/rescue_robot.gif';%0A%0Adog.id%20=%20'dog';%0Adog.src%20=%20'https://app.bsd.education/resources/tired_dog.gif';%0A%0Awindow.onresize%20=%20resizeContent;%0A%0Awindow.onload%20=%20()%20=%3E%20%7B%0A%20%20%20%20map.style.width%20=%20%60$%7BMath.sqrt(totalCells)%20*%2016%7Dpx%60;%0A%20%20%20%20map.style.height%20=%20%60$%7BMath.sqrt(totalCells)%20*%2016%7Dpx%60;%0A%0A%20%20%20%20resizeContent();%0A%20%20%20%20drawGrid();%0A%20%20%20%20%0A%20%20%20%20btnStartSearch.onclick%20=%20()%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20var%20gridMatrix%20=%20mapMatrix.map(row%20=%3E%20row.map(column%20=%3E%20walkablePattern.test(column)%20?%200%20:%201));%0A%20%20%20%20%20%20%20%20var%20grid%20=%20new%20PF.Grid(gridMatrix);%0A%20%20%20%20%20%20%20%20var%20finder%20=%20new%20PF.AStarFinder();%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20path%20=%20finder.findPath(start.x,%20start.y,%20target.x,%20target.y,%20grid);%0A%20%20%20%20%20%20%20%20timer%20=%20setInterval(showNextSearch,%2050);%0A%20%20%20%20%20%20%20%20btnStartSearch.disabled%20=%20true;%0A%20%20%20%20%7D;%0A%7D;%0A%0Afunction%20passStep()%20%7B%7D%0A%0Afunction%20goRescue()%20%7B%0A%20%20%20%20path.result.pop();%0A%20%20%20%20moveRobot();%0A%7D%0A%0Afunction%20moveRobot()%20%7B%0A%20%20%20%20if%20(path.result.length%20===%200)%20%7B%0A%20%20%20%20%20%20%20%20alert('You%20have%20rescued%20the%20dog!%20Total%20steps%20taken:%20'%20+%20stepCount);%0A%20%20%20%20%20%20%20%20passStep();%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20coord%20=%20path.result.shift();%0A%0A%20%20%20%20if%20(nextCell)%20nextCell.firstElementChild.style.backgroundColor%20=%20'rgba(255,%200,%200,%200.2)';%0A%20%20%20%20nextCell%20=%20map.children%5Bcoord%5B1%5D%20*%20Math.sqrt(totalCells)%20+%20coord%5B0%5D%5D;%0A%0A%20%20%20%20var%20x%20=%20nextCell.offsetLeft%20-%20((robot.offsetWidth%20-%2016)%20/%202);%0A%20%20%20%20var%20y%20=%20nextCell.offsetTop%20-%20(robot.offsetHeight%20-%20nextCell.offsetHeight);%0A%0A%20%20%20%20if%20(x%20%3C%20robot.offsetLeft)%20%7B%0A%20%20%20%20%20%20%20%20robot.style.transform%20=%20'rotateY(180deg)';%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(x%20%3E%20robot.offsetLeft)%20%7B%0A%20%20%20%20%20%20%20%20robot.style.removeProperty('transform');%0A%20%20%20%20%7D%0A%0A%20%20%20%20anim%20=%20robot.animate(%5B%7B%0A%20%20%20%20%20%20%20%20left:%20%60$%7Brobot.offsetLeft%7Dpx%60,%0A%20%20%20%20%20%20%20%20top:%20%60$%7Brobot.offsetTop%7Dpx%60%0A%20%20%20%20%7D,%20%7B%0A%20%20%20%20%20%20%20%20left:%20%60$%7Bx%7Dpx%60,%0A%20%20%20%20%20%20%20%20top:%20%60$%7By%7Dpx%60%0A%20%20%20%20%7D%5D,%20%7B%0A%20%20%20%20%20%20%20%20duration:%20250,%0A%20%20%20%20%20%20%20%20easing:%20'linear',%0A%20%20%20%20%20%20%20%20fill:%20'forwards'%0A%20%20%20%20%7D);%0A%0A%20%20%20%20anim.onfinish%20=%20moveRobot;%0A%7D%0A%0Afunction%20showNextSearch()%20%7B%0A%20%20%20%20var%20node%20=%20path.history.shift();%0A%20%20%20%20var%20cell%20=%20map.children%5B(node.y)%20*%20Math.sqrt(totalCells)%20+%20node.x%5D.firstElementChild;%0A%0A%20%20%20%20cell.innerText%20=%20'0';%0A%20%20%20%20cell.classList.remove('opened');%0A%20%20%20%20cell.classList.remove('closed');%0A%0A%20%20%20%20if%20(node.opened)%20%7B%0A%20%20%20%20%20%20%20%20cell.innerText%20=%20node.g;%0A%20%20%20%20%20%20%20%20stepCount%20=%20node.g;%0A%20%20%20%20%20%20%20%20cell.classList.add('opened');%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20cell.innerText%20=%20'';%0A%20%20%20%20%20%20%20%20cell.classList.add('closed');%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(path.history.length%20===%200)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(timer);%0A%20%20%20%20%20%20%20%20goRescue();%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20drawGrid()%20%7B%0A%20%20%20%20mapMatrix.forEach((_,%20rowIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20mapMatrix%5BrowIndex%5D.unshift(rowIndex%20===%20mapMatrix.length%20-%201%20?%2028%20:%2021);%0A%20%20%20%20%20%20%20%20mapMatrix%5BrowIndex%5D.push(22);%0A%20%20%20%20%7D);%0A%0A%20%20%20%20mapMatrix.unshift(%5B24,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2025%5D);%0A%20%20%20%20mapMatrix.push(%5B26,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2027%5D);%0A%0A%20%20%20%20mapMatrix.forEach((row,%20rowIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20block%20=%20document.createElement('div');%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20overlayBlock%20=%20document.createElement('div');%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20offset%20=%20%7B%20x:%200,%20y:%200%20%7D;%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20overlayOffset%20=%20%7B%20x:%200,%20y:%2085%20%7D;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(walkablePattern.test(cell))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2085;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%20Math.round(Math.random())%20*%2017;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cell%20===%2041)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start.x%20=%20cellIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start.y%20=%20rowIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20current%20=%20start;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20app.append(robot);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20robot.style.left%20=%20%60$%7BcellIndex%20*%2016%20-%20((robot.offsetWidth%20-%2016)%20/%202)%20+%20map.offsetLeft%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20robot.style.top%20=%20%60$%7BrowIndex%20*%2016%20-%20(robot.offsetHeight%20-%2016)%20+%20map.offsetTop%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2042)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20target.x%20=%20cellIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20target.y%20=%20rowIndex;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20app.append(dog);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dog.style.left%20=%20%60$%7BcellIndex%20*%2016%20+%20map.offsetLeft%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dog.style.top%20=%20%60$%7BrowIndex%20*%2016%20+%20map.offsetTop%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2011)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2085;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%20Math.round(Math.random())%20*%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.x%20=%20%5B221,%20238,%20255,%20272,%20289,%20306,%20323,%20340,%20357,%20391,%20408%5D%5BMath.floor(Math.random()%20*%2011)%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.y%20=%20153;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2020)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2051;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2021%20%7C%7C%20cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.x%20=%20901;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.y%20=%20309;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2022)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2023)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2051;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2024)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2025)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2026)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2027%20%7C%7C%20cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2095)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2096)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2097)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2098)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20block.style.backgroundPosition%20=%20%60-$%7Boffset.x%7Dpx%20-$%7Boffset.y%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20overlayBlock.style.backgroundPosition%20=%20%60-$%7BoverlayOffset.x%7Dpx%20-$%7BoverlayOffset.y%7Dpx%60;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20overlayBlock.className%20=%20'overlay';%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20block.append(overlayBlock);%0A%20%20%20%20%20%20%20%20%20%20%20%20map.append(block);%0A%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%7D);%0A%0A%20%20%20%20setTimeout(()%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20app.style.opacity%20=%201;%0A%20%20%20%20%7D,%20500);%0A%7D%0A%0Afunction%20resizeContent()%20%7B%0A%20%20%20%20var%20appRatio%20=%20app.offsetWidth%20/%20app.offsetHeight;%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0A%0A%20%20%20%20app.style.left%20=%20%60$%7B(window.innerWidth%20-%20app.offsetWidth)%20/%202%7Dpx%60;%0A%20%20%20%20app.style.top%20=%20%60$%7B(window.innerHeight%20-%20app.offsetHeight)%20/%202%7Dpx%60;%0A%20%20%20%20app.style.transform%20=%20%60scale($%7BappRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20app.offsetWidth%20:%20window.innerHeight%20/%20app.offsetHeight%7D)%60;%0A%7D%0A##JS_E####CODE_8E####LOGIC_8####HTML####HTML_E####CSS####CSS_E####JS##pass.on('passStep');##JS_E####LOGIC_8E####STEP_8E####STEP_9####INST_9##Summary%0A%0AGreat%20job!%0A%0AYou%20have%20completed%20this%20project,%20here%20is%20a%20recap:%0A%0A%5B-%0A%09(*)We%20used%20the%20%5B#html#%3Cscript%3E%5D%20element%20to%20import%20the%20Pathfinding%20library.%0A%09(*)We%20used%20the%20Pathfinding%20library%20to%20find%20the%20shortest%20route%20to%20rescue%20the%20dog.%0A-%5D##INST_9E####CODE_9####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=VT323%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src=%22https://app-staging.bsd.education/resources/js/pathfinding-browser.js%22%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22app%22%3E%0D%0A%09%09%3Ch1%3EDog%20Rescue%3C/h1%3E%0D%0A%09%09%3Cbutton%20id=%22btnStartSearch%22%3EStart%20Automatic%20Search%3C/button%3E%0D%0A%09%09%3Cdiv%20id=%22map%22%3E%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20background-color:%20#62c5cf;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20overflow:%20hidden;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20font-family:%20%22VT323%22;%0D%0A%20%20%20%20outline:%20none;%0D%0A%7D%0D%0A%0D%0Abutton:active%20%7B%0D%0A%20%20%20%20transform:%20scale(0.95);%0D%0A%20%20%20%20background-color:%20whitesmoke;%0D%0A%7D%0D%0A%0D%0A#app%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20opacity:%200;%0D%0A%7D%0D%0A%0D%0A#map%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%20%20%20%20grid-template-columns:%20repeat(22,%2016px);%0D%0A%20%20%20%20grid-template-rows:%20repeat(22,%2016px);%0D%0A%7D%0D%0A%0D%0A#app%20h1,%20#app%20p%20%7B%0D%0A%20%20%20%20width:%20352px;%0D%0A%7D%0D%0A%0D%0A#map%20div%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20background-image:%20url('https://app.bsd.education/resources/roguelike.png');%0D%0A%7D%0D%0A%0D%0A#map%20.overlay%20%7B%0D%0A%20%20%20%20font-family:%20monospace;%0D%0A%20%20%20%20font-size:%200.4rem;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20color:%20indianred;%0D%0A%7D%0D%0A%0D%0A#robot,%20#dog%20%7B%0D%0A%20%20%20%20position:%20absolute;%0D%0A%7D%0D%0A%0D%0A#dog%20%7B%0D%0A%20%20%20%20max-width:%2016px;%0D%0A%20%20%20%20max-height:%2016px;%0D%0A%20%20%20%20transform:%20rotateY(180deg);%0D%0A%7D%0D%0A%0D%0A#robot%20%7B%0D%0A%20%20%20%20max-width:%2028px;%0D%0A%20%20%20%20max-height:%2028px;%0D%0A%7D%0D%0A%0D%0A.opened%20%7B%0D%0A%20%20%20%20background-color:%20rgba(255,%20255,%20255,%200.4);%0D%0A%7D%0D%0A%0D%0A.closed%20%7B%0D%0A%20%20%20%20background-color:%20rgba(255,%20255,%20255,%200.2);%0D%0A%7D##CSS_E####JS##var%20mapMatrix%20=%20%5B%0A%20%20%20%20%5B77,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2042%5D,%0A%20%20%20%20%5B11,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2011,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2011,%2011%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2077,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B11,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011%5D,%0A%20%20%20%20%5B77,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2011,%2011,%2011,%2011,%2011,%2011,%2011,%2077,%2011,%2011,%2011%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2077%5D,%0A%20%20%20%20%5B77,%2011,%2011,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2077,%2011,%2011,%2011,%2077,%2077%5D,%0A%20%20%20%20%5B41,%2077,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2011,%2077,%2077,%2077,%2077,%2077,%2011%5D,%0A%5D;%0A%0Avar%20totalCells%20=%20Math.pow(22,%202);%0Avar%20start%20=%20%7B%7D;%0Avar%20target%20=%20%7B%7D;%0Avar%20current%20=%20%7B%7D;%0Avar%20nextCell;%0Avar%20path;%0Avar%20timer;%0Avar%20anim;%0Avar%20stepCount%20=%200;%0A%0Avar%20robot%20=%20document.createElement('img');%0Avar%20dog%20=%20document.createElement('img');%0Avar%20walkablePattern%20=%20/41%7C42%7C77/;%0A%0Arobot.isIdle%20=%20true;%0Arobot.id%20=%20'robot';%0Arobot.src%20=%20'https://app.bsd.education/resources/rescue_robot.gif';%0A%0Adog.id%20=%20'dog';%0Adog.src%20=%20'https://app.bsd.education/resources/tired_dog.gif';%0A%0Awindow.onresize%20=%20resizeContent;%0A%0Awindow.onload%20=%20()%20=%3E%20%7B%0A%20%20%20%20map.style.width%20=%20%60$%7BMath.sqrt(totalCells)%20*%2016%7Dpx%60;%0A%20%20%20%20map.style.height%20=%20%60$%7BMath.sqrt(totalCells)%20*%2016%7Dpx%60;%0A%0A%20%20%20%20resizeContent();%0A%20%20%20%20drawGrid();%0A%0A%20%20%20%20btnStartSearch.onclick%20=%20()%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20var%20gridMatrix%20=%20mapMatrix.map(row%20=%3E%20row.map(column%20=%3E%20walkablePattern.test(column)%20?%200%20:%201));%0A%20%20%20%20%20%20%20%20var%20grid%20=%20new%20PF.Grid(gridMatrix);%0A%20%20%20%20%20%20%20%20var%20finder%20=%20new%20PF.AStarFinder();%0A%0A%20%20%20%20%20%20%20%20path%20=%20finder.findPath(start.x,%20start.y,%20target.x,%20target.y,%20grid);%0A%20%20%20%20%20%20%20%20timer%20=%20setInterval(showNextSearch,%205);%0A%20%20%20%20%20%20%20%20btnStartSearch.disabled%20=%20true;%0A%20%20%20%20%7D;%0A%7D;%0A%0Awindow.onkeydown%20=%20()%20=%3E%20%7B%0A%20%20%20%20if%20(robot.isIdle)%20%7B%0A%20%20%20%20%20%20%20%20if%20(event.code%20===%20'KeyA'%20%7C%7C%20event.code%20===%20'ArrowLeft')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(mapMatrix%5Bcurrent.y%5D%5Bcurrent.x%20-%201%5D%20===%2011)%20return;%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(current.x%20%3E%201)%20current.x--;%0A%20%20%20%20%20%20%20%20%20%20%20%20anim%20=%20animateRobot('left',%20robot.offsetLeft,%20Math.max(robot.offsetLeft%20-%2016,%2014%20+%20map.offsetLeft));%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20(event.code%20===%20'KeyD'%20%7C%7C%20event.code%20===%20'ArrowRight')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(mapMatrix%5Bcurrent.y%5D%5Bcurrent.x%20+%201%5D%20===%2011)%20return;%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(current.x%20%3C%20mapMatrix.length%20-%202)%20current.x++;%0A%20%20%20%20%20%20%20%20%20%20%20%20anim%20=%20animateRobot('left',%20robot.offsetLeft,%20Math.min(robot.offsetLeft%20+%2016,%20318%20+%20map.offsetLeft));%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20(event.code%20===%20'KeyW'%20%7C%7C%20event.code%20===%20'ArrowUp')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(mapMatrix%5Bcurrent.y%20-%201%5D%5Bcurrent.x%5D%20===%2011)%20return;%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(current.y%20%3E%201)%20current.y--;%0A%20%20%20%20%20%20%20%20%20%20%20%20anim%20=%20animateRobot('top',%20robot.offsetTop,%20Math.max(robot.offsetTop%20-%2016,%204%20+%20map.offsetTop));%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20(event.code%20===%20'KeyS'%20%7C%7C%20event.code%20===%20'ArrowDown')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(mapMatrix%5Bcurrent.y%20+%201%5D%5Bcurrent.x%5D%20===%2011)%20return;%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(current.y%20%3C%20mapMatrix.length%20-%202)%20current.y++;%0A%20%20%20%20%20%20%20%20%20%20%20%20anim%20=%20animateRobot('top',%20robot.offsetTop,%20Math.min(robot.offsetTop%20+%2016,%20308%20+%20map.offsetTop));%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20(!anim)%20return;%0A%0A%20%20%20%20%20%20%20%20anim.onfinish%20=%20()%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20robot.isIdle%20=%20true;%0A%20%20%20%20%20%20%20%20%7D;%0A%20%20%20%20%7D%0A%7D;%0A%0Afunction%20animateRobot(prop,%20from,%20to)%20%7B%0A%20%20%20%20robot.isIdle%20=%20false;%0A%20%20%20%20stepCount++;%0A%0A%20%20%20%20if%20(mapMatrix%5Bcurrent.y%5D%5Bcurrent.x%5D%20===%2042)%20%7B%0A%20%20%20%20%20%20%20%20alert('You%20have%20rescued%20the%20dog!%20Steps%20taken:%20'%20+%20stepCount);%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(prop%20===%20'left')%20%7B%0A%20%20%20%20%20%20%20%20if%20(to%20%3C%20robot.offsetLeft)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20robot.style.transform%20=%20'rotateY(180deg)';%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20(to%20%3E%20robot.offsetLeft)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20robot.style.removeProperty('transform');%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20robot.animate(%5B%7B%0A%20%20%20%20%20%20%20%20%5Bprop%5D:%20%60$%7Bfrom%7Dpx%60%0A%20%20%20%20%7D,%20%7B%0A%20%20%20%20%20%20%20%20%5Bprop%5D:%20%60$%7Bto%7DPX%60%0A%20%20%20%20%7D%5D,%20%7B%0A%20%20%20%20%20%20%20%20duration:%20250,%0A%20%20%20%20%20%20%20%20easing:%20'linear',%0A%20%20%20%20%20%20%20%20fill:%20'forwards'%0A%20%20%20%20%7D);%0A%7D%0A%0Afunction%20goRescue()%20%7B%0A%20%20%20%20path.result.pop();%0A%20%20%20%20moveRobot();%0A%7D%0A%0Afunction%20moveRobot()%20%7B%0A%20%20%20%20if%20(path.result.length%20===%200)%20%7B%0A%20%20%20%20%20%20%20%20alert('You%20have%20rescued%20the%20dog!%20Total%20steps%20taken:%20'%20+%20stepCount);%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20coord%20=%20path.result.shift();%0A%0A%20%20%20%20if%20(nextCell)%20nextCell.firstElementChild.style.backgroundColor%20=%20'rgba(255,%200,%200,%200.2)';%0A%20%20%20%20nextCell%20=%20map.children%5Bcoord%5B1%5D%20*%20Math.sqrt(totalCells)%20+%20coord%5B0%5D%5D;%0A%0A%20%20%20%20var%20x%20=%20nextCell.offsetLeft%20-%20((robot.offsetWidth%20-%2016)%20/%202);%0A%20%20%20%20var%20y%20=%20nextCell.offsetTop%20-%20(robot.offsetHeight%20-%20nextCell.offsetHeight);%0A%0A%20%20%20%20if%20(x%20%3C%20robot.offsetLeft)%20%7B%0A%20%20%20%20%20%20%20%20robot.style.transform%20=%20'rotateY(180deg)';%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20(x%20%3E%20robot.offsetLeft)%20%7B%0A%20%20%20%20%20%20%20%20robot.style.removeProperty('transform');%0A%20%20%20%20%7D%0A%0A%20%20%20%20anim%20=%20robot.animate(%5B%7B%0A%20%20%20%20%20%20%20%20left:%20%60$%7Brobot.offsetLeft%7Dpx%60,%0A%20%20%20%20%20%20%20%20top:%20%60$%7Brobot.offsetTop%7Dpx%60%0A%20%20%20%20%7D,%20%7B%0A%20%20%20%20%20%20%20%20left:%20%60$%7Bx%7Dpx%60,%0A%20%20%20%20%20%20%20%20top:%20%60$%7By%7Dpx%60%0A%20%20%20%20%7D%5D,%20%7B%0A%20%20%20%20%20%20%20%20duration:%20250,%0A%20%20%20%20%20%20%20%20easing:%20'linear',%0A%20%20%20%20%20%20%20%20fill:%20'forwards'%0A%20%20%20%20%7D);%0A%0A%20%20%20%20anim.onfinish%20=%20moveRobot;%0A%7D%0A%0Afunction%20showNextSearch()%20%7B%0A%20%20%20%20var%20node%20=%20path.history.shift();%0A%20%20%20%20var%20cell%20=%20map.children%5B(node.y)%20*%20Math.sqrt(totalCells)%20+%20node.x%5D.firstElementChild;%0A%0A%20%20%20%20cell.innerText%20=%20'0';%0A%20%20%20%20cell.classList.remove('opened');%0A%20%20%20%20cell.classList.remove('closed');%0A%0A%20%20%20%20if%20(node.opened)%20%7B%0A%20%20%20%20%20%20%20%20cell.innerText%20=%20node.g;%0A%20%20%20%20%20%20%20%20stepCount%20=%20node.g;%0A%20%20%20%20%20%20%20%20cell.classList.add('opened');%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20cell.innerText%20=%20'';%0A%20%20%20%20%20%20%20%20cell.classList.add('closed');%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(path.history.length%20===%200)%20%7B%0A%20%20%20%20%20%20%20%20clearInterval(timer);%0A%20%20%20%20%20%20%20%20goRescue();%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20drawGrid()%20%7B%0A%20%20%20%20mapMatrix.forEach((_,%20rowIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20mapMatrix%5BrowIndex%5D.unshift(rowIndex%20===%20mapMatrix.length%20-%201%20?%2028%20:%2021);%0A%20%20%20%20%20%20%20%20mapMatrix%5BrowIndex%5D.push(22);%0A%20%20%20%20%7D);%0A%0A%20%20%20%20mapMatrix.unshift(%5B24,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2020,%2025%5D);%0A%20%20%20%20mapMatrix.push(%5B26,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2023,%2027%5D);%0A%0A%20%20%20%20mapMatrix.forEach((row,%20rowIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20row.forEach((cell,%20cellIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20block%20=%20document.createElement('div');%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20overlayBlock%20=%20document.createElement('div');%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20offset%20=%20%7B%20x:%200,%20y:%200%20%7D;%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20overlayOffset%20=%20%7B%20x:%200,%20y:%2085%20%7D;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(walkablePattern.test(cell))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2085;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%20Math.round(Math.random())%20*%2017;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cell%20===%2041)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start.x%20=%20cellIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start.y%20=%20rowIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20current%20=%20start;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20app.append(robot);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20robot.style.left%20=%20%60$%7BcellIndex%20*%2016%20-%20((robot.offsetWidth%20-%2016)%20/%202)%20+%20map.offsetLeft%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20robot.style.top%20=%20%60$%7BrowIndex%20*%2016%20-%20(robot.offsetHeight%20-%2016)%20+%20map.offsetTop%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2042)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20target.x%20=%20cellIndex;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20target.y%20=%20rowIndex;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20app.append(dog);%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dog.style.left%20=%20%60$%7BcellIndex%20*%2016%20+%20map.offsetLeft%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dog.style.top%20=%20%60$%7BrowIndex%20*%2016%20+%20map.offsetTop%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2011)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2085;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%20Math.round(Math.random())%20*%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.x%20=%20%5B221,%20238,%20255,%20272,%20289,%20306,%20323,%20340,%20357,%20391,%20408%5D%5BMath.floor(Math.random()%20*%2011)%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.y%20=%20153;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2020)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2051;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2021%20%7C%7C%20cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.x%20=%20901;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overlayOffset.y%20=%20309;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2022)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2023)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2051;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2024)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2025)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2026)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2027%20%7C%7C%20cell%20===%2028)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2017;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2095)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2096)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.y%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2097)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2068;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20(cell%20===%2098)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offset.x%20=%2034;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20block.style.backgroundPosition%20=%20%60-$%7Boffset.x%7Dpx%20-$%7Boffset.y%7Dpx%60;%0A%20%20%20%20%20%20%20%20%20%20%20%20overlayBlock.style.backgroundPosition%20=%20%60-$%7BoverlayOffset.x%7Dpx%20-$%7BoverlayOffset.y%7Dpx%60;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20overlayBlock.className%20=%20'overlay';%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20block.append(overlayBlock);%0A%20%20%20%20%20%20%20%20%20%20%20%20map.append(block);%0A%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%7D);%0A%0A%20%20%20%20setTimeout(()%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20app.style.opacity%20=%201;%0A%20%20%20%20%7D,%20500);%0A%7D%0A%0Afunction%20resizeContent()%20%7B%0A%20%20%20%20var%20appRatio%20=%20app.offsetWidth%20/%20app.offsetHeight;%0A%20%20%20%20var%20windowRatio%20=%20window.innerWidth%20/%20window.innerHeight;%0A%0A%20%20%20%20app.style.left%20=%20%60$%7B(window.innerWidth%20-%20app.offsetWidth)%20/%202%7Dpx%60;%0A%20%20%20%20app.style.top%20=%20%60$%7B(window.innerHeight%20-%20app.offsetHeight)%20/%202%7Dpx%60;%0A%20%20%20%20app.style.transform%20=%20%60scale($%7BappRatio%20%3E%20windowRatio%20?%20window.innerWidth%20/%20app.offsetWidth%20:%20window.innerHeight%20/%20app.offsetHeight%7D)%60;%0A%7D##JS_E####CODE_9E####LOGIC_9####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_9E####STEP_9E##