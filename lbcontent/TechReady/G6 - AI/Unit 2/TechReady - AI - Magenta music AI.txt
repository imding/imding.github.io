26##STEP_1####INST_1##Introduction%0A%0AThe%20creative%20space%20has%20long%20been%20said%20to%20be%20safe%20from%20the%20advances%20of%20artificial%20intelligence.%0A%0AIn%20this%20project,%20we%20will%20experiment%20with%20Google's%20MagentaJS%20library%20to%20see%20how%20this%20concept%20is%20being%20challenged%20by%20similar%20AI%20technologies.%0A%0A(***)%0A%0A(!)Generate%20some%20beats%20and%20play%20it.##INST_1E####CODE_1####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=Chango%7CContrail+One%7CVast+Shadow%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src='https://cdn.jsdelivr.net/npm/@magenta/music@1.1.11/dist/magentamusic.min.js'%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%09%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%0D%0A%09%09%09%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%0D%0A%09%09%09%3Cbutton%20id=%22generateButton%22%20disabled%3ELoading%20MegentaJS...%3C/button%3E%0D%0A%09%09%09%3Ch2%20id=%22trackLabel%22%3E%3C/h2%3E%0D%0A%09%09%09%3Cbutton%20id=%22playButton%22%20disabled%3ELoading%20Sound%20Files...%3C/button%3E%0D%0A%09%09%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0Ah1,%20h4%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%7D%0D%0A%0D%0Ah1%20%7B%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Ah4%20%7B%0D%0A%20%20%20%20opacity:%200.4;%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20font-size:%2016px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20outline:%20none;%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%20%20%20%20grid-template-rows:%20auto%201fr%20auto;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20place-content:%20center;%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%20%20%20%20place-items:%20center;%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A%0D%0A#trackLabel%20%7B%0D%0A%20%20%20%20width:%20200px;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%7D%0D%0A%0D%0A.trackContainers%20%7B%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons%20%7B%0D%0A%20%20%20%20border-radius:%204px;%0D%0A%20%20%20%20border:%201px%20solid%20white;%0D%0A%20%20%20%20background-color:%20gainsboro;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20opacity:%200.8;%0D%0A%20%20%20%20transition-property:%20opacity,%20background-color;%0D%0A%20%20%20%20transition-duration:%200.1s;%0D%0A%20%20%20%20transition-timing-function:%20ease-in-out;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons:hover%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active.highlight%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20crimson;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0A%0Avar%20proxyurl%20=%20'https://cors-anywhere.herokuapp.com/';%0Avar%20baseUrl%20=%20proxyurl%20+%20'https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/';%0Avar%20DrumAI%20=%20new%20mm.MusicRNN('https://storage.googleapis.com/download.magenta.tensorflow.org/tfjs_checkpoints/music_rnn/drum_kit_rnn');%0Avar%20Tone%20=%20mm.Player.tone;%0A%0Avar%20soundNames%20=%20%5B%0A%20%20%20%20'808-kick',%0A%20%20%20%20'flares-snare',%0A%20%20%20%20'808-hihat',%0A%20%20%20%20'808-hihat-open',%0A%20%20%20%20'slamdam-tom-low',%0A%20%20%20%20'slamdam-tom-mid',%0A%20%20%20%20'slamdam-tom-high',%0A%20%20%20%20'909-clap',%0A%20%20%20%20'909-rim',%0A%5D;%0Avar%20trackNames%20=%20%5B%0A%20%20%20%20'Kick%20Drum',%0A%20%20%20%20'Snare',%0A%20%20%20%20'Hi-Hat',%0A%20%20%20%20'Hi-Hat%20Open',%0A%20%20%20%20'Tom-Tom%20Low',%0A%20%20%20%20'Tom-Tom%20Mid',%0A%20%20%20%20'Tom-Tom%20High',%0A%20%20%20%20'Clap',%0A%20%20%20%20'Rim',%0A%5D;%0Avar%20trackData%20=%20%5B%0A%20%20%20%20%5B0,%207%5D,%0A%20%20%20%20%5B%5D,%0A%20%20%20%20%5B2,%205%5D,%0A%20%20%20%20%5B%5D,%0A%5D;%0Avar%20seedSteps%20=%20trackData.length;%0Avar%20aiSteps%20=%2020;%0Avar%20fullTrackLength%20=%20seedSteps%20+%20aiSteps;%0Avar%20stepCounter%20=%200;%0Avar%20stepInterval%20=%20120;%0Avar%20trackIsPlaying%20=%20false;%0Avar%20stopPlaying%20=%20false;%0A%0Avar%20tempo%20=%20120;%0Avar%20temperature%20=%201.3;%0A%0Avar%20pass%20=%20false;%0A%0Awhile%20(trackData.length%20%3C%20fullTrackLength)%20%7B%0A%20%20%20%20trackData.push(%5B%5D);%0A%7D%0A%0Avar%20drumKit%20=%20soundNames.map(eachName%20=%3E%20new%20Tone.Player(baseUrl%20+%20eachName%20+%20'-vh.mp3').toMaster());%0A%0ATone.Buffer.on('load',%20enablePlay);%0ADrumAI.initialize().then(enableAI);%0A%0Afunction%20enablePlay()%20%7B%0A%20%20%20%20playButton.innerText%20=%20'Play';%0A%20%20%20%20playButton.disabled%20=%20false;%0A%20%20%20%20playButton.addEventListener('click',%20playOrStop);%0A%0A%20%20%20%20drawGrid();%0A%7D%0A%0Afunction%20enableAI()%20%7B%0A%20%20%20%20generateButton.innerText%20=%20'Create%20New%20Beats';%0A%20%20%20%20generateButton.disabled%20=%20false;%0A%20%20%20%20generateButton.addEventListener('click',%20generateTrack);%0A%7D%0A%0Afunction%20playOrStop()%20%7B%0A%20%20%20%20if%20(trackIsPlaying)%20%7B%0A%20%20%20%20%20%20%20%20trackIsPlaying%20=%20false;%0A%20%20%20%20%20%20%20%20stopPlaying%20=%20true;%0A%20%20%20%20%20%20%20%20playButton.innerText%20=%20'Play';%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20trackIsPlaying%20=%20true;%0A%20%20%20%20%20%20%20%20playButton.innerText%20=%20'Stop';%0A%20%20%20%20%20%20%20%20playTrack();%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20playTrack()%20%7B%0A%20%20%20%20if%20(stopPlaying)%20%7B%0A%20%20%20%20%20%20%20%20stepCounter%20=%200;%0A%20%20%20%20%20%20%20%20trackIsPlaying%20=%20false;%0A%20%20%20%20%20%20%20%20stopPlaying%20=%20false;%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20step%20=%20trackData%5BstepCounter%5D;%0A%0A%20%20%20%20if%20(step)%20%7B%0A%20%20%20%20%20%20%20%20step.forEach(soundIndex%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20button%20=%20grid.children%5BsoundIndex%5D.children%5BstepCounter%5D;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20button.classList.add('highlight');%0A%20%20%20%20%20%20%20%20%20%20%20%20setTimeout(()%20=%3E%20button.classList.remove('highlight'),%20stepInterval%20/%201.5);%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20drumKit%5BsoundIndex%5D.start();%0A%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%7D%0A%0A%20%20%20%20stepCounter++;%0A%0A%20%20%20%20if%20(stepCounter%20==%20trackData.length)%20%7B%0A%20%20%20%20%20%20%20%20stepCounter%20=%200;%0A%20%20%20%20%20%20%20%20if%20(pass)%20passStep();%0A%20%20%20%20%7D%0A%0A%20%20%20%20setTimeout(playTrack,%20stepInterval);%0A%7D%0A%0Afunction%20passStep()%20%7B%7D%0A%0Afunction%20generateTrack()%20%7B%0A%20%20%20%20var%20seedPattern%20=%20trackData.slice(0,%20seedSteps);%0A%20%20%20%20var%20seedSequence%20=%20getSeedSequence(seedPattern);%0A%20%20%20%20var%20handleResult%20=%20function(aiSequence)%20%7B%0A%20%20%20%20%20%20%20%20var%20trackContainers%20=%20grid.querySelectorAll('.trackContainers');%0A%20%20%20%20%20%20%20%20var%20aiPattern%20=%20getAiPattern(aiSequence,%20aiSteps);%0A%0A%20%20%20%20%20%20%20%20trackContainers.forEach(soundContainer%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20oneEighthButtons%20=%20soundContainer.querySelectorAll('.oneEighthButtons');%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20oneEighthButtons.forEach((oneEighthButton,%20stepIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(stepIndex%20%3C%20seedSteps)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20oneEighthButton.classList.remove('active');%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20aiPattern%5BstepIndex%20-%20seedSteps%5D%20=%20aiPattern%5BstepIndex%20-%20seedSteps%5D%20%7C%7C%20%5B%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%20%20%20%20%7D);%0A%0A%20%20%20%20%20%20%20%20aiPattern.forEach((stepData,%20stepIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20stepIndex%20+=%20seedSteps;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20stepData.forEach(soundIndex%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20trackContainer%20=%20grid.children%5BsoundIndex%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20step%20=%20trackContainer.children%5BstepIndex%5D;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!step.classList.contains('active'))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20step.classList.add('active');%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%20%20%20%20%7D);%0A%0A%20%20%20%20%20%20%20%20trackData%20=%20seedPattern.concat(aiPattern);%0A%20%20%20%20%20%20%20%20pass%20=%20true;%0A%20%20%20%20%7D;%0A%0A%20%20%20%20if%20(trackIsPlaying)%20%7B%0A%20%20%20%20%20%20%20%20stopPlaying%20=%20true;%0A%20%20%20%20%20%20%20%20playButton.innerText%20=%20'Play';%0A%20%20%20%20%7D%0A%0A%20%20%20%20DrumAI.continueSequence(seedSequence,%20aiSteps,%20temperature).then(handleResult);%0A%7D%0A%0Afunction%20drawGrid()%20%7B%0A%20%20%20%20while%20(grid.children.length%20%3C%20soundNames.length)%20%7B%0A%20%20%20%20%20%20%20%20var%20trackContainer%20=%20document.createElement('div');%0A%0A%20%20%20%20%20%20%20%20while%20(trackContainer.children.length%20%3C%20trackData.length)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20oneEighthButton%20=%20document.createElement('div');%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20oneEighthButton.className%20=%20'oneEighthButtons';%0A%20%20%20%20%20%20%20%20%20%20%20%20oneEighthButton.soundIndex%20=%20grid.children.length;%0A%20%20%20%20%20%20%20%20%20%20%20%20oneEighthButton.timingIndex%20=%20trackContainer.children.length;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(trackData%5BoneEighthButton.timingIndex%5D.includes(oneEighthButton.soundIndex))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20oneEighthButton.classList.add('active');%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20trackContainer.append(oneEighthButton);%0A%20%20%20%20%20%20%20%20%20%20%20%20oneEighthButton.addEventListener('click',%20updateTrackData);%0A%20%20%20%20%20%20%20%20%20%20%20%20oneEighthButton.addEventListener('mouseenter',%20evt%20=%3E%20trackLabel.innerText%20=%20trackNames%5Bevt.target.soundIndex%5D);%0A%20%20%20%20%20%20%20%20%20%20%20%20oneEighthButton.addEventListener('mouseleave',%20()%20=%3E%20trackLabel.innerText%20=%20'');%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20trackContainer.className%20=%20'trackContainers';%0A%0A%20%20%20%20%20%20%20%20grid.append(trackContainer);%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20updateTrackData(evt)%20%7B%0A%20%20%20%20var%20soundIndex%20=%20evt.target.soundIndex;%0A%20%20%20%20var%20timingIndex%20=%20evt.target.timingIndex;%0A%20%20%20%20var%20timing%20=%20trackData%5BtimingIndex%5D%20%7C%7C%20%5B%5D;%0A%0A%20%20%20%20if%20(timing.includes(soundIndex))%20%7B%0A%20%20%20%20%20%20%20%20timing.splice(timing.indexOf(soundIndex),%201);%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20timing.push(soundIndex);%0A%20%20%20%20%20%20%20%20drumKit%5BsoundIndex%5D.start();%0A%20%20%20%20%7D%0A%0A%20%20%20%20evt.target.classList.toggle('active');%0A%20%20%20%20trackData%5BtimingIndex%5D%20=%20timing;%0A%7D%0A%0Afunction%20getSeedSequence(seedPattern)%20%7B%0A%20%20%20%20var%20timeSignatures%20=%20%5B%7B%20time:%200,%20numerator:%204,%20denominator:%204%20%7D%5D;%0A%20%20%20%20var%20tempos%20=%20%5B%7B%20time:%200,%20qpm:%20tempo%20%7D%5D;%0A%20%20%20%20var%20midiDrums%20=%20%5B36,%2038,%2042,%2046,%2041,%2043,%2045,%2049,%2051%5D;%0A%20%20%20%20var%20notes%20=%20seedPattern.flatMap((step,%20index)%20=%3E%20step.map(d%20=%3E%20(%7B%0A%20%20%20%20%20%20%20%20pitch:%20midiDrums%5Bd%5D,%0A%20%20%20%20%20%20%20%20startTime:%20index%20*%200.5,%0A%20%20%20%20%20%20%20%20endTime:%20(index%20+%201)%20*%200.5,%0A%20%20%20%20%7D)));%0A%0A%20%20%20%20return%20mm.sequences.quantizeNoteSequence(%7B%0A%20%20%20%20%20%20%20%20ticksPerQuarter:%20220,%0A%20%20%20%20%20%20%20%20totalTime:%20seedPattern.length%20/%202,%0A%20%20%20%20%20%20%20%20timeSignatures,%0A%20%20%20%20%20%20%20%20tempos,%0A%20%20%20%20%20%20%20%20notes,%0A%20%20%20%20%7D,%201);%0A%7D%0A%0Afunction%20getAiPattern(aiSequence)%20%7B%0A%20%20%20%20var%20aiPattern%20=%20%5B%5D;%0A%20%20%20%20var%20reverseMidiMapping%20=%20new%20Map(%5B%0A%20%20%20%20%20%20%20%20%5B36,%200%5D,%20%5B35,%200%5D,%0A%20%20%20%20%20%20%20%20%5B38,%201%5D,%20%5B27,%201%5D,%20%5B28,%201%5D,%20%5B31,%201%5D,%20%5B32,%201%5D,%20%5B33,%201%5D,%20%5B34,%201%5D,%20%5B37,%201%5D,%20%5B39,%201%5D,%20%5B40,%201%5D,%20%5B56,%201%5D,%20%5B65,%201%5D,%20%5B66,%201%5D,%20%5B75,%201%5D,%20%5B85,%201%5D,%0A%20%20%20%20%20%20%20%20%5B42,%202%5D,%20%5B44,%202%5D,%20%5B54,%202%5D,%20%5B68,%202%5D,%20%5B69,%202%5D,%20%5B70,%202%5D,%20%5B71,%202%5D,%20%5B73,%202%5D,%20%5B78,%202%5D,%20%5B80,%202%5D,%0A%20%20%20%20%20%20%20%20%5B46,%203%5D,%20%5B67,%203%5D,%20%5B72,%203%5D,%20%5B74,%203%5D,%20%5B79,%203%5D,%20%5B81,%203%5D,%0A%20%20%20%20%20%20%20%20%5B45,%204%5D,%20%5B29,%204%5D,%20%5B41,%204%5D,%20%5B61,%204%5D,%20%5B64,%204%5D,%20%5B84,%204%5D,%0A%20%20%20%20%20%20%20%20%5B48,%205%5D,%20%5B47,%205%5D,%20%5B60,%205%5D,%20%5B63,%205%5D,%20%5B77,%205%5D,%20%5B86,%205%5D,%20%5B87,%205%5D,%0A%20%20%20%20%20%20%20%20%5B50,%206%5D,%20%5B30,%206%5D,%20%5B43,%206%5D,%20%5B62,%206%5D,%20%5B76,%206%5D,%20%5B83,%206%5D,%0A%20%20%20%20%20%20%20%20%5B49,%207%5D,%20%5B55,%207%5D,%20%5B57,%207%5D,%20%5B58,%207%5D,%0A%20%20%20%20%20%20%20%20%5B51,%208%5D,%20%5B52,%208%5D,%20%5B53,%208%5D,%20%5B59,%208%5D,%20%5B82,%208%5D,%0A%20%20%20%20%5D);%0A%0A%20%20%20%20aiSequence.notes.forEach(note%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20var%20stepIndex%20=%20note.quantizedStartStep;%0A%20%20%20%20%20%20%20%20var%20pitch%20=%20note.pitch;%0A%20%20%20%20%20%20%20%20var%20step%20=%20reverseMidiMapping.get(pitch);%0A%0A%20%20%20%20%20%20%20%20if%20(aiPattern%5BstepIndex%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20aiPattern%5BstepIndex%5D.push(step);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20aiPattern%5BstepIndex%5D%20=%20%5Bstep%5D;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D);%0A%0A%20%20%20%20return%20aiPattern;%0A%7D%0A##JS_E####CODE_1E####LOGIC_1####HTML####HTML_E####CSS####CSS_E####JS##pass.on('passStep');##JS_E####LOGIC_1E####STEP_1E####STEP_2####INST_2##Creating%20the%20app%20layout%0A%0ATo%20create%20the%20music%20app,%20we'll%20need%203%20sections%20on%20the%20page:%0A%5B-%0A%09(*)the%20heading%20section%0A%09(*)the%20grid%20section%0A%09(*)the%20controls%20section%0A-%5D%0A%0AWe%20can%20create%20these%20using%20%60%3Cdiv%3E%60%20elements.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#html#%3Cdiv%3E%5D%0A%09(*)%5B#html#id%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+html#musicApp#+1,%20create%20a%20%60%3Cdiv%3E%60%20element%20and%20set%20the%20%60id%60%20attribute%20to%20*heading*.%0A%0A(!)On%20+html#musicApp#+3,%20create%20a%20%60%3Cdiv%3E%60%20element%20and%20set%20the%20%60id%60%20attribute%20to%20*grid*.%0A%0A(!)On%20+html#musicApp#+5,%20create%20a%20%60%3Cdiv%3E%60%20element%20and%20set%20the%20%60id%60%20attribute%20to%20*controls*.##INST_2E####CODE_2####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09#BEGIN_EDITABLE#%3Cdiv%20id=%22heading%22%3E%3C/div%3E#END_EDITABLE#%0D%0A%0D%0A%09%09#BEGIN_EDITABLE#%3Cdiv%20id=%22grid%22%3E%3C/div%3E#END_EDITABLE#%0D%0A%0D%0A%09%09#BEGIN_EDITABLE#%3Cdiv%20id=%22controls%22%3E%3C/div%3E#END_EDITABLE#%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS###BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_2E####LOGIC_2####HTML##//%20Expectation:%0Apass.if.html.editable(0).equivalent(%60%3Cdiv%20id=%22heading%22%3E%3C/div%3E%60);%0Apass.if.html.editable(1).equivalent(%60%3Cdiv%20id=%22grid%22%3E%3C/div%3E%60);%0Apass.if.html.editable(2).equivalent(%60%3Cdiv%20id=%22controls%22%3E%3C/div%3E%60);##HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_2E####STEP_2E####STEP_3####INST_3##Giving%20each%20section%20a%20background%20color%0A%0A%60%3Cdiv%3E%60%20elements%20are%20invisible%20by%20default,%20let's%20give%20them%20some%20background%20color%20so%20we%20can%20see%20what%20we've%20created.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#css#background-color%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+css#100vh#+1,%20set%20the%20%60background-color%60%20property%20to%20*mintcream*.%0A%0A(!)On%20+css#%5C#heading%20%7B#+1,%20set%20the%20%60background-color%60%20property%20to%20*azure*.%0A%0A(!)On%20+css#%5C#heading%20%7B#+5,%20set%20the%20%60background-color%60%20property%20to%20*aliceblue*.##INST_3E####CODE_3####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20#BEGIN_EDITABLE#background-color:%20mintcream;#END_EDITABLE#%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20#BEGIN_EDITABLE#background-color:%20azure;#END_EDITABLE#%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20#BEGIN_EDITABLE#background-color:%20aliceblue;#END_EDITABLE#%0D%0A%7D%0D%0A##CSS_E####JS####JS_E####CODE_3E####LOGIC_3####HTML####HTML_E####CSS##//%20Expectation:%0Apass.if.css.editable(0).equivalent(%60background-color:%20mintcream;%60);%0Apass.if.css.editable(1).equivalent(%60background-color:%20azure;%60);%0Apass.if.css.editable(2).equivalent(%60background-color:%20aliceblue;%60);##CSS_E####JS####JS_E####LOGIC_3E####STEP_3E####STEP_4####INST_4##Adding%20the%20page%20title%20and%20subtitle%0A%0AInside%20the%20heading%20section,%20let's%20add%20a%20title%20and%20a%20subtitle.%0A%0AWe%20can%20use%20the%20%60%3Ch1%3E%60%20and%20%60%3Ch4%3E%60%20elements%20here.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B%3Ch1%3E%20&%20%3Ch4%3E#html#%3Ch1%3E%5D%0A%09(*)%5B#html#id%5D%0A%09(*)%5B#css#place-content%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+html#heading#+1,%20create%20an%20%60%3Ch1%3E%60%20element%20and%20add%20the%20text%20*MagentaJS%20Musical%20AI*%20between%20the%20tags.%0A%0A(!)On%20+html#heading#+2,%20create%20an%20%60%3Ch4%3E%60%20element,%20set%20the%20%60id%60%20attribute%20to%20*subtitle*,%20and%20add%20the%20text%20*Create%20awesome%20drum%20beats!*%20between%20the%20tags.##INST_4E####CODE_4####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%20%20%20%20#BEGIN_EDITABLE#%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E#END_EDITABLE#%0D%0A%09%09%09#BEGIN_EDITABLE#%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E#END_EDITABLE#%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A##CSS_E####JS####JS_E####CODE_4E####LOGIC_4####HTML##//%20Expectation:%0Apass.if.html.editable(0).equivalent(%60%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%60);%0Apass.if.html.editable(1).equivalent(%60%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%60);##HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_4E####STEP_4E####STEP_5####INST_5##Styling%20the%20page%20heading%0A%0ALet's%20improve%20the%20look%20and%20feel%20of%20the%20heading%20section.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#css#text-align%5D%0A%09(*)%5B#css#padding%5D%0A%09(*)%5B#css#place-content%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+css#body#+2,%20set%20the%20%60text-align%60%20property%20to%20*center*.%0A%0A(!)On%20+css#h4#+1,%20set%20the%20%60padding-top%60%20property%20to%20*10px*.%0A%0A(!)On%20+css#%5C#heading%20%7B#+1,%20set%20the%20%60place-content%60%20property%20to%20*center*.##INST_5E####CODE_5####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%20%20%20%20%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%0D%0A%09%09%09%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20#BEGIN_EDITABLE#text-align:%20center;#END_EDITABLE#%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0Ah4%20%7B%0D%0A%20%20%20%20#BEGIN_EDITABLE#padding-top:%2010px;#END_EDITABLE#%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20#BEGIN_EDITABLE#place-content:%20center;#END_EDITABLE#%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A##CSS_E####JS####JS_E####CODE_5E####LOGIC_5####HTML####HTML_E####CSS##//%20Expectation:%0Apass.if.css.editable(0).equivalent(%60text-align:%20center;%60);%0Apass.if.css.editable(1).equivalent(%60padding-top:%2010px;%60);%0Apass.if.css.editable(2).equivalent(%60place-content:%20center;%60);##CSS_E####JS####JS_E####LOGIC_5E####STEP_5E####STEP_6####INST_6##Adding%20font%0A%0ACustom%20fonts%20are%20easy%20to%20apply%20and%20provide%20a%20huge%20improvements.%0A%0ALet's%20use%20the%20*Contrail%20One*%20font%20for%20all%20texts%20on%20our%20page.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#html#%3Clink%3E%5D%0A%09(*)%5B#css#font-family%5D%0A%09(*)%5B#css#opacity%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+html#%3Chead%3E#+1,%20create%20a%20%60%3Clink%3E%60%20element,%20set%20the%20%60href%60%20attribute%20to%20*https://fonts.googleapis.com/css?family=Contrail+One*%20and%20the%20%60rel%60%20attribute%20to%20*stylesheet*.%0A%0A(!)On%20+css#body#+2,%20set%20the%20%60font-family%60%20property%20to%20*%22Contrail%20One%22*.%0A%0A(!)On%20+css#h4#+2,%20set%20the%20%60opacity%60%20property%20to%20*0.4*.##INST_6E####CODE_6####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09#BEGIN_EDITABLE#%3Clink%20href=%22https://fonts.googleapis.com/css?family=Contrail+One%22%20rel=%22stylesheet%22%3E#END_EDITABLE#%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%20%20%20%20%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%0D%0A%09%09%09%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20#BEGIN_EDITABLE#font-family:%20%22Contrail%20One%22;#END_EDITABLE#%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0Ah4%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20#BEGIN_EDITABLE#opacity:%200.4;#END_EDITABLE#%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20place-content:%20center;%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS####JS_E####CODE_6E####LOGIC_6####HTML##//%20Expectation:%0Apass.if.html.editable(0).equivalent(%60%3Clink%20href=%22https://fonts.googleapis.com/css?family=Contrail+One%22%20rel=%22stylesheet%22%3E%60);##HTML_E####CSS##//%20Expectation:%0Apass.if.css.editable(0).equivalent(%60font-family:%20%22Contrail%20One%22;%60);%0Apass.if.css.editable(1).equivalent(%60opacity:%200.4;%60);##CSS_E####JS####JS_E####LOGIC_6E####STEP_6E####STEP_7####INST_7##Loading%20the%20sound%20files%20-%201/2%0A%0ABefore%20we%20move%20on%20to%20the%20middle%20section%20of%20the%20page,%20we%20need%20to%20load%20the%20various%20drum%20sounds,%20because%20the%20number%20of%20rows%20in%20the%20grid%20is%20directly%20determined%20by%20the%20number%20of%20sounds.%0A%0AHere%20are%20some%20of%20the%20sound%20files:%0A%5B-%0A%09(*)https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/808-kick-vh.mp3%0A%09(*)https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/flares-snare-vh.mp3%0A%09(*)https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/808-hihat-vh.mp3%0A%09(*)https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/808-hihat-open-vh.mp3%0A-%5D%0A%0AYou%20can%20see%20that%20*https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/*%20is%20in%20every%20link,%20we%20can%20store%20it%20in%20a%20variable%20rather%20than%20having%20to%20write%20it%20for%20every%20link.%0A%0AWe%20will%20also%20store%20the%20sound%20names,%20e.g.%20*808-kick*,%20as%20an%20array%20so%20we%20can%20loop%20through%20it.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#array%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#JavaScript#+2,%20create%20a%20variable%20called%20*baseUrl*%20to%20store%20the%20string%20*%22https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/%22*.%0A%0A(!)On%20+js#JavaScript#+3,%20create%20a%20variable%20called%20*soundNames*%20to%20store%20the%20array%20%60%5B'808-kick',%20'flares-snare',%20'808-hihat',%20'808-hihat-open',%20'slamdam-tom-low',%20'slamdam-tom-mid',%20'slamdam-tom-high',%20'909-clap',%20'909-rim'%5D%60.##INST_7E####CODE_7####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=Contrail+One%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%20%20%20%20%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%0D%0A%09%09%09%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE#%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0Ah4%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20opacity:%200.4;%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20place-content:%20center;%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##//%20%20JavaScript%0A%0A#BEGIN_EDITABLE#var%20baseUrl%20=%20'https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/';#END_EDITABLE#%0A#BEGIN_EDITABLE#var%20soundNames%20=%20%5B'808-kick',%20'flares-snare',%20'808-hihat',%20'808-hihat-open',%20'slamdam-tom-low',%20'slamdam-tom-mid',%20'slamdam-tom-high',%20'909-clap',%20'909-rim'%5D;#END_EDITABLE###JS_E####CODE_7E####LOGIC_7####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20baseUrl%20=%20'https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/';%60);%0Apass.if.js.editable(1).equivalent(%60var%20soundNames%20=%20%5B'808-kick',%20'flares-snare',%20'808-hihat',%20'808-hihat-open',%20'slamdam-tom-low',%20'slamdam-tom-mid',%20'slamdam-tom-high',%20'909-clap',%20'909-rim'%5D;%60);##JS_E####LOGIC_7E####STEP_7E####STEP_8####INST_8##Loading%20the%20sound%20files%20-%202/2%0A%0ATo%20load%20the%20sounds%20files,%20we'll%20need%20the%20MagentaJS%20library,%20we%20can%20import%20it%20using%20the%20%60%3Cscript%3E%60%20element.%0A%0AMagentaJS%20comes%20with%20another%20library%20called%20*Tone.js*%20for%20working%20with%20audio,%20we%20can%20use%20it%20to%20load%20the%20sound%20files.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#html#%3Cscript%3E%5D%0A%09(*)%5B#js#variable%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+html#%3Chead%3E#+3,%20create%20a%20%60%3Cscript%3E%60%20element%20and%20set%20the%20%60src%60%20attribute%20to%20*https://cdn.jsdelivr.net/npm/@magenta/music@1.1.11/dist/magentamusic.min.js*.%0A%0A(!)On%20+js#909-rim#+3,%20type%20in%20%60var%20Tone%20=%20mm.Player.tone;%60%20to%20set%20up%20the%20audio%20player.%0A%0A(!)On%20+js#909-rim#+4,%20type%20in%20%60var%20drumKit%20=%20soundNames.map(eachName%20=%3E%20new%20Tone.Player(baseUrl%20+%20eachName%20+%20'-vh.mp3').toMaster());%60%20to%20combine%20*baseUrl*%20with%20each%20sound%20name%20and%20load%20the%20audio%20file%20using%20the%20audio%20player.##INST_8E####CODE_8####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=Contrail+One%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09#BEGIN_EDITABLE#%3Cscript%20src='https://cdn.jsdelivr.net/npm/@magenta/music@1.1.11/dist/magentamusic.min.js'%3E%3C/script%3E#END_EDITABLE#%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%20%20%20%20%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%0D%0A%09%09%09%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0Ah4%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20opacity:%200.4;%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20place-content:%20center;%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0A%0Avar%20baseUrl%20=%20'https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/';%0Avar%20soundNames%20=%20%5B%0A%20%20%20%20'808-kick',%0A%20%20%20%20'flares-snare',%0A%20%20%20%20'808-hihat',%0A%20%20%20%20'808-hihat-open',%0A%20%20%20%20'slamdam-tom-low',%0A%20%20%20%20'slamdam-tom-mid',%0A%20%20%20%20'slamdam-tom-high',%0A%20%20%20%20'909-clap',%0A%20%20%20%20'909-rim',%0A%5D;%0A%0A#BEGIN_EDITABLE#var%20Tone%20=%20mm.Player.tone;#END_EDITABLE#%0A#BEGIN_EDITABLE#var%20drumKit%20=%20soundNames.map(eachName%20=%3E%20new%20Tone.Player(baseUrl%20+%20eachName%20+%20'-vh.mp3').toMaster());#END_EDITABLE###JS_E####CODE_8E####LOGIC_8####HTML##//%20Expectation:%0Apass.if.html.editable(0).equivalent(%60%3Cscript%20src='https://cdn.jsdelivr.net/npm/@magenta/music@1.1.11/dist/magentamusic.min.js'%3E%3C/script%3E%60);##HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20Tone%20=%20mm.Player.tone;%60);%0Apass.if.js.editable(1).equivalent(%60var%20drumKit%20=%20soundNames.map(eachName%20=%3E%20new%20Tone.Player(baseUrl%20+%20eachName%20+%20'-vh.mp3').toMaster());%60);##JS_E####LOGIC_8E####STEP_8E####STEP_9####INST_9##Handling%20the%20load%20event%0A%0AOnce%20all%20sound%20files%20are%20loaded,%20we%20can%20create%20the%20grid%20on%20the%20page.%0A%0AThe%20*Tone.js*%20library%20has%20its%20own%20way%20of%20creating%20event%20listeners,%20it's%20quite%20similar%20to%20the%20%60addEventLisenter(eventType,%20handler)%60%20syntax%20in%20vanilla%20JavaScript%20(i.e.%20JavaScript%20without%20using%20any%20library).%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#function%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20drumKit#+2,%20type%20in%20%60Tone.Buffer.on(%22load%22,%20initializeApp);%60%20to%20run%20the%20*initializeApp*%20function%20after%20all%20sound%20files%20are%20loaded.%0A%0A(!)On%20+js#var%20drumKit#+4,%20create%20a%20function%20called%20*initializeApp*.##INST_9E####CODE_9####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=Contrail+One%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src='https://cdn.jsdelivr.net/npm/@magenta/music@1.1.11/dist/magentamusic.min.js'%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%20%20%20%20%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%0D%0A%09%09%09%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0Ah4%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20opacity:%200.4;%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20place-content:%20center;%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0A%0Avar%20baseUrl%20=%20'https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/';%0Avar%20soundNames%20=%20%5B%0A%20%20%20%20'808-kick',%0A%20%20%20%20'flares-snare',%0A%20%20%20%20'808-hihat',%0A%20%20%20%20'808-hihat-open',%0A%20%20%20%20'slamdam-tom-low',%0A%20%20%20%20'slamdam-tom-mid',%0A%20%20%20%20'slamdam-tom-high',%0A%20%20%20%20'909-clap',%0A%20%20%20%20'909-rim',%0A%5D;%0A%0Avar%20Tone%20=%20mm.Player.tone;%0Avar%20drumKit%20=%20soundNames.map(eachName%20=%3E%20new%20Tone.Player(baseUrl%20+%20eachName%20+%20'-vh.mp3').toMaster());%0A%0A#BEGIN_EDITABLE#Tone.Buffer.on('load',%20initializeApp);#END_EDITABLE#%0A%0A#BEGIN_EDITABLE#function%20initializeApp()%20%7B%7D#END_EDITABLE###JS_E####CODE_9E####LOGIC_9####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60Tone.Buffer.on('load',%20initializeApp);%60);%0Apass.if.js.editable(1).equivalent(%60function%20initializeApp()%20%7B%7D%60);##JS_E####LOGIC_9E####STEP_9E####STEP_10####INST_10##Creating%20tracks%20inside%20the%20grid%0A%0AInside%20the%20*initializeApp*%20function,%20we%20can%20run%20a%20loop%20on%20the%20*soundNames*%20array,%20although%20we%20won't%20be%20using%20anything%20in%20this%20array.%0A%0AThe%20purpose%20of%20this%20loop%20is%20to%20run%20the%20*createTrack*%20function%20once%20for%20each%20item%20in%20the%20*soundNames*%20array.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#forEach%5D%0A%09(*)%5B#js#function%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20initializeApp#+1,%20type%20in%20%60soundNames.forEach(createTrack);%60%20to%20run%20the%20*createTrack*%20function%20once%20per%20%20sound%20name.%0A%0A(!)On%20+js#on%20initializeApp#+4,%20create%20a%20function%20called%20*createTrack*.##INST_10E####CODE_10####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=Contrail+One%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src='https://cdn.jsdelivr.net/npm/@magenta/music@1.1.11/dist/magentamusic.min.js'%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%20%20%20%20%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%0D%0A%09%09%09%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0Ah4%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20opacity:%200.4;%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20place-content:%20center;%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0A%0Avar%20baseUrl%20=%20'https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/';%0Avar%20soundNames%20=%20%5B%0A%20%20%20%20'808-kick',%0A%20%20%20%20'flares-snare',%0A%20%20%20%20'808-hihat',%0A%20%20%20%20'808-hihat-open',%0A%20%20%20%20'slamdam-tom-low',%0A%20%20%20%20'slamdam-tom-mid',%0A%20%20%20%20'slamdam-tom-high',%0A%20%20%20%20'909-clap',%0A%20%20%20%20'909-rim',%0A%5D;%0A%0Avar%20Tone%20=%20mm.Player.tone;%0Avar%20drumKit%20=%20soundNames.map(eachName%20=%3E%20new%20Tone.Player(baseUrl%20+%20eachName%20+%20'-vh.mp3').toMaster());%0A%0ATone.Buffer.on('load',%20initializeApp);%0A%0Afunction%20initializeApp()%20%7B%0A%20%20%20%20#BEGIN_EDITABLE#soundNames.forEach(createTrack);#END_EDITABLE#%0A%7D%0A%0A#BEGIN_EDITABLE#function%20createTrack()%20%7B%7D#END_EDITABLE###JS_E####CODE_10E####LOGIC_10####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60soundNames.forEach(createTrack);%60);%0Apass.if.js.editable(1).equivalent(%60function%20createTrack()%20%7B%7D%60);##JS_E####LOGIC_10E####STEP_10E####STEP_11####INST_11##Creating%20a%20single%20track%0A%0ANow%20we%20just%20need%20to%20focus%20on%20creating%20one%20track%20in%20the%20*createTrack*%20function.%0A%0AWe%20will%20begin%20by%20creating%20a%20%60%3Cdiv%3E%60%20element%20and%20giving%20it%20a%20class%20name.%0A%0AThe%20class%20name%20is%20used%20in%20CSS%20for%20styling.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#createElement%5D%0A%09(*)%5B#js#className%5D%0A%09(*)%5B#js#append%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20createTrack#+1,%20type%20in%20%60var%20trackContainer%20=%20document.createElement(%22div%22);%60%20to%20create%20a%20%60%3Cdiv%3E%60%20element%20and%20store%20it%20in%20the%20variable%20*trackContainer*.%0A%0A(!)On%20+js#on%20createTrack#+3,%20set%20the%20class%20name%20of%20the%20new%20container%20element%20to%20*trackContainers*.##INST_11E####CODE_11####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=Contrail+One%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src='https://cdn.jsdelivr.net/npm/@magenta/music@1.1.11/dist/magentamusic.min.js'%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%20%20%20%20%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%0D%0A%09%09%09%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0Ah4%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20opacity:%200.4;%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20place-content:%20center;%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0A%0Avar%20baseUrl%20=%20'https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/';%0Avar%20soundNames%20=%20%5B%0A%20%20%20%20'808-kick',%0A%20%20%20%20'flares-snare',%0A%20%20%20%20'808-hihat',%0A%20%20%20%20'808-hihat-open',%0A%20%20%20%20'slamdam-tom-low',%0A%20%20%20%20'slamdam-tom-mid',%0A%20%20%20%20'slamdam-tom-high',%0A%20%20%20%20'909-clap',%0A%20%20%20%20'909-rim',%0A%5D;%0A%0Avar%20Tone%20=%20mm.Player.tone;%0Avar%20drumKit%20=%20soundNames.map(eachName%20=%3E%20new%20Tone.Player(baseUrl%20+%20eachName%20+%20'-vh.mp3').toMaster());%0A%0ATone.Buffer.on('load',%20initializeApp);%0A%0Afunction%20initializeApp()%20%7B%0A%20%20%20%20soundNames.forEach(createTrack);%0A%7D%0A%0Afunction%20createTrack()%20%7B%0A%20%20%20%20#BEGIN_EDITABLE#var%20trackContainer%20=%20document.createElement('div');#END_EDITABLE#%0A%0A%20%20%20%20#BEGIN_EDITABLE#trackContainer.className%20=%20'trackContainers';#END_EDITABLE#%0A%7D##JS_E####CODE_11E####LOGIC_11####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20trackContainer%20=%20document.createElement('div');%60);%0Apass.if.js.editable(1).equivalent(%60trackContainer.className%20=%20'trackContainers';%60);##JS_E####LOGIC_11E####STEP_11E####STEP_12####INST_12##Filling%20a%20track%20with%20buttons%0A%0AEach%20track%20is%20essentially%20a%20timeline,%20that's%20why%20we%20need%20to%20fill%20the%20tracks%20with%20buttons,%20with%20each%20button%20representing%20a%20unit%20of%20time%20(we'll%20further%20define%20this%20later).%0A%0AFor%20now,%20we'll%20just%20call%20the%20*fillTrack*%20function%20while%20passing%20the%20container%20to%20it,%20so%20the%20function%20knows%20which%20container%20to%20fill.%0A%0AAnd%20finally,%20we'll%20attach%20the%20container%20to%20the%20grid.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#functions%5D%0A%09(*)%5B#js#append%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#className#+1,%20type%20in%20%60fillTrack(trackContainer);%60%20to%20call%20the%20*fillTrack*%20function%20and%20pass%20*trackContainer*%20to%20it.%0A%0A(!)On%20+js#className#+2,%20type%20in%20%60grid.append(trackContainer);%60%20to%20add%20the%20container%20to%20the%20%60%3Cdiv%20id=%22grid%22%3E%60%20element.%0A%0A##INST_12E####CODE_12####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=Contrail+One%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src='https://cdn.jsdelivr.net/npm/@magenta/music@1.1.11/dist/magentamusic.min.js'%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%20%20%20%20%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%0D%0A%09%09%09%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0Ah4%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20opacity:%200.4;%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20place-content:%20center;%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0A%0Avar%20baseUrl%20=%20'https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/';%0Avar%20soundNames%20=%20%5B%0A%20%20%20%20'808-kick',%0A%20%20%20%20'flares-snare',%0A%20%20%20%20'808-hihat',%0A%20%20%20%20'808-hihat-open',%0A%20%20%20%20'slamdam-tom-low',%0A%20%20%20%20'slamdam-tom-mid',%0A%20%20%20%20'slamdam-tom-high',%0A%20%20%20%20'909-clap',%0A%20%20%20%20'909-rim',%0A%5D;%0A%0Avar%20Tone%20=%20mm.Player.tone;%0Avar%20drumKit%20=%20soundNames.map(eachName%20=%3E%20new%20Tone.Player(baseUrl%20+%20eachName%20+%20'-vh.mp3').toMaster());%0A%0ATone.Buffer.on('load',%20initializeApp);%0A%0Afunction%20initializeApp()%20%7B%0A%20%20%20%20soundNames.forEach(createTrack);%0A%7D%0A%0Afunction%20createTrack()%20%7B%0A%20%20%20%20var%20trackContainer%20=%20document.createElement('div');%0A%0A%20%20%20%20trackContainer.className%20=%20'trackContainers';%0A%20%20%20%20#BEGIN_EDITABLE#fillTrack(trackContainer);#END_EDITABLE#%0A%20%20%20%20#BEGIN_EDITABLE#grid.append(trackContainer);#END_EDITABLE#%0A%7D%0A%0A#BEGIN_EDITABLE#function%20fillTrack(trackContainer)%20%7B%7D#END_EDITABLE###JS_E####CODE_12E####LOGIC_12####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60fillTrack(trackContainer);%60);%0Apass.if.js.editable(1).equivalent(%60grid.append(trackContainer);%60);%0Apass.if.js.editable(2).equivalent(%60function%20fillTrack(trackContainer)%20%7B%7D%60);##JS_E####LOGIC_12E####STEP_12E####STEP_13####INST_13##Adding%20a%20single%20button%20to%20each%20track%0A%0AIn%20the%20*fillTrack*%20function,%20we%20need%20to%20do%20something%20very%20similar%20to%20the%20*createTrack*%20function.%0A%0AWe%20call%20each%20button%20*oneEighthButton*%20to%20represent%201/8%20of%20a%20series%20of%20beats,%20our%20entire%20drum%20track%20will%20only%20have%20multiples%20of%208%20beats.%0A%0A(*)*Note*:%20we%20refer%20to%20beats%20as%20*steps*%20later%20in%20this%20project,%20this%20is%20because%20a%20beat%20suggests%20an%20actual%20sound%20is%20heard,%20where%20a%20step%20is%20simply%20a%20unit%20on%20the%20timeline.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#className%5D%0A%09(*)%5B#js#append%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20fillTrack#+1,%20type%20in%20%60var%20oneEighthButton%20=%20document.createElement('div');%60%20to%20create%20a%20%60%3Cdiv%3E%60%20element%20and%20store%20it%20in%20the%20variable%20*oneEighthButton*.%0A%0A(!)On%20+js#on%20fillTrack#+3,%20set%20the%20class%20name%20of%20the%20new%20element%20to%20*oneEighthButtons*.%0A%0A(!)On%20+js#on%20fillTrack#+4,%20type%20in%20%60trackContainer.append(oneEighthButton);%60%20to%20add%20the%20button%20to%20the%20%60%3Cdiv%20id=%22trackContainer%22%3E%60%20element.##INST_13E####CODE_13####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=Contrail+One%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src='https://cdn.jsdelivr.net/npm/@magenta/music@1.1.11/dist/magentamusic.min.js'%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%20%20%20%20%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%0D%0A%09%09%09%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0Ah4%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20opacity:%200.4;%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20place-content:%20center;%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A%0D%0A.trackContainers%20%7B%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons%20%7B%0D%0A%20%20%20%20border-radius:%204px;%0D%0A%20%20%20%20border:%201px%20solid%20white;%0D%0A%20%20%20%20background-color:%20gainsboro;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20opacity:%200.8;%0D%0A%20%20%20%20transition-property:%20opacity,%20background-color;%0D%0A%20%20%20%20transition-duration:%200.1s;%0D%0A%20%20%20%20transition-timing-function:%20ease-in-out;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons:hover%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active.highlight%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20crimson;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##//%20%20JavaScript%0A%0Avar%20baseUrl%20=%20'https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/';%0Avar%20soundNames%20=%20%5B%0A%20%20%20%20'808-kick',%0A%20%20%20%20'flares-snare',%0A%20%20%20%20'808-hihat',%0A%20%20%20%20'808-hihat-open',%0A%20%20%20%20'slamdam-tom-low',%0A%20%20%20%20'slamdam-tom-mid',%0A%20%20%20%20'slamdam-tom-high',%0A%20%20%20%20'909-clap',%0A%20%20%20%20'909-rim',%0A%5D;%0A%0Avar%20Tone%20=%20mm.Player.tone;%0Avar%20drumKit%20=%20soundNames.map(eachName%20=%3E%20new%20Tone.Player(baseUrl%20+%20eachName%20+%20'-vh.mp3').toMaster());%0A%0ATone.Buffer.on('load',%20initializeApp);%0A%0Afunction%20initializeApp()%20%7B%0A%20%20%20%20soundNames.forEach(createTrack);%0A%7D%0A%0Afunction%20createTrack()%20%7B%0A%20%20%20%20var%20trackContainer%20=%20document.createElement('div');%0A%0A%20%20%20%20trackContainer.className%20=%20'trackContainers';%0A%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20grid.append(trackContainer);%0A%7D%0A%0Afunction%20fillTrack(trackContainer)%20%7B%0A%20%20%20%20#BEGIN_EDITABLE#var%20oneEighthButton%20=%20document.createElement('div');#END_EDITABLE#%0A%0A%20%20%20%20#BEGIN_EDITABLE#oneEighthButton.className%20=%20'oneEighthButtons';#END_EDITABLE#%0A%20%20%20%20#BEGIN_EDITABLE#trackContainer.append(oneEighthButton);#END_EDITABLE#%0A%7D##JS_E####CODE_13E####LOGIC_13####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20oneEighthButton%20=%20document.createElement('div');%60);%0Apass.if.js.editable(1).equivalent(%60oneEighthButton.className%20=%20'oneEighthButtons';%60);%0Apass.if.js.editable(2).equivalent(%60trackContainer.append(oneEighthButton);%60);##JS_E####LOGIC_13E####STEP_13E####STEP_14####INST_14##Checking%20the%20number%20buttons%20inside%20a%20track%0A%0AWe%20have%20added%20one%20button%20to%20each%20track,%20to%20add%20more,%20we%20can%20check%20the%20number%20of%20child%20elements%20in%20each%20track,%20and%20keep%20adding%20until%20we%20have%20enough.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#if%5D%0A%09(*)%5B#js#children%5D%0A%09(*)%5B#js#length%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20fillTrack#+6,%20create%20an%20%60if%60%20statement%20to%20check%20whether%20%60trackContainer.children.length%60%20is%20less%20than%20*16*.##INST_14E####CODE_14####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=Contrail+One%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src='https://cdn.jsdelivr.net/npm/@magenta/music@1.1.11/dist/magentamusic.min.js'%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%20%20%20%20%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%0D%0A%09%09%09%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0Ah4%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20opacity:%200.4;%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20place-content:%20center;%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A%0D%0A.trackContainers%20%7B%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons%20%7B%0D%0A%20%20%20%20border-radius:%204px;%0D%0A%20%20%20%20border:%201px%20solid%20white;%0D%0A%20%20%20%20background-color:%20gainsboro;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20opacity:%200.8;%0D%0A%20%20%20%20transition-property:%20opacity,%20background-color;%0D%0A%20%20%20%20transition-duration:%200.1s;%0D%0A%20%20%20%20transition-timing-function:%20ease-in-out;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons:hover%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active.highlight%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20crimson;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0A%0Avar%20baseUrl%20=%20'https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/';%0Avar%20soundNames%20=%20%5B%0A%20%20%20%20'808-kick',%0A%20%20%20%20'flares-snare',%0A%20%20%20%20'808-hihat',%0A%20%20%20%20'808-hihat-open',%0A%20%20%20%20'slamdam-tom-low',%0A%20%20%20%20'slamdam-tom-mid',%0A%20%20%20%20'slamdam-tom-high',%0A%20%20%20%20'909-clap',%0A%20%20%20%20'909-rim',%0A%5D;%0A%0Avar%20Tone%20=%20mm.Player.tone;%0Avar%20drumKit%20=%20soundNames.map(eachName%20=%3E%20new%20Tone.Player(baseUrl%20+%20eachName%20+%20'-vh.mp3').toMaster());%0A%0ATone.Buffer.on('load',%20initializeApp);%0A%0Afunction%20initializeApp()%20%7B%0A%20%20%20%20soundNames.forEach(createTrack);%0A%7D%0A%0Afunction%20createTrack()%20%7B%0A%20%20%20%20var%20trackContainer%20=%20document.createElement('div');%0A%0A%20%20%20%20trackContainer.className%20=%20'trackContainers';%0A%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20grid.append(trackContainer);%0A%7D%0A%0Afunction%20fillTrack(trackContainer)%20%7B%0A%20%20%20%20var%20oneEighthButton%20=%20document.createElement('div');%0A%0A%20%20%20%20oneEighthButton.className%20=%20'oneEighthButtons';%0A%20%20%20%20trackContainer.append(oneEighthButton);%0A%20%20%20%20%0A%20%20%20%20#BEGIN_EDITABLE#if%20(trackContainer.children.length%20%3C%2016)%20%7B%7D#END_EDITABLE#%0A%7D##JS_E####CODE_14E####LOGIC_14####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60if%20(trackContainer.children.length%20%3C%2016)%20%7B%7D%60);##JS_E####LOGIC_14E####STEP_14E####STEP_15####INST_15##Calling%20the%20fillTrack%20function%20again%0A%0AInside%20the%20conditional%20statement,%20simply%20call%20the%20*fillTrack*%20function%20again.%0A%0AMake%20sure%20to%20pass%20the%20container%20so%20the%20function%20knows%20which%20container%20to%20fill.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#function%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#children#+1,%20type%20in%20%60fillTrack(trackContainer);%60%20to%20call%20*fillTrack*%20function%20again.##INST_15E####CODE_15####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=Contrail+One%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src='https://cdn.jsdelivr.net/npm/@magenta/music@1.1.11/dist/magentamusic.min.js'%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%20%20%20%20%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%0D%0A%09%09%09%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0Ah4%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20opacity:%200.4;%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20place-content:%20center;%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A%0D%0A.trackContainers%20%7B%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons%20%7B%0D%0A%20%20%20%20border-radius:%204px;%0D%0A%20%20%20%20border:%201px%20solid%20white;%0D%0A%20%20%20%20background-color:%20gainsboro;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20opacity:%200.8;%0D%0A%20%20%20%20transition-property:%20opacity,%20background-color;%0D%0A%20%20%20%20transition-duration:%200.1s;%0D%0A%20%20%20%20transition-timing-function:%20ease-in-out;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons:hover%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active.highlight%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20crimson;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0A%0Avar%20baseUrl%20=%20'https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/';%0Avar%20soundNames%20=%20%5B%0A%20%20%20%20'808-kick',%0A%20%20%20%20'flares-snare',%0A%20%20%20%20'808-hihat',%0A%20%20%20%20'808-hihat-open',%0A%20%20%20%20'slamdam-tom-low',%0A%20%20%20%20'slamdam-tom-mid',%0A%20%20%20%20'slamdam-tom-high',%0A%20%20%20%20'909-clap',%0A%20%20%20%20'909-rim',%0A%5D;%0A%0Avar%20Tone%20=%20mm.Player.tone;%0Avar%20drumKit%20=%20soundNames.map(eachName%20=%3E%20new%20Tone.Player(baseUrl%20+%20eachName%20+%20'-vh.mp3').toMaster());%0A%0ATone.Buffer.on('load',%20initializeApp);%0A%0Afunction%20initializeApp()%20%7B%0A%20%20%20%20soundNames.forEach(createTrack);%0A%7D%0A%0Afunction%20createTrack()%20%7B%0A%20%20%20%20var%20trackContainer%20=%20document.createElement('div');%0A%0A%20%20%20%20trackContainer.className%20=%20'trackContainers';%0A%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20grid.append(trackContainer);%0A%7D%0A%0Afunction%20fillTrack(trackContainer)%20%7B%0A%20%20%20%20var%20oneEighthButton%20=%20document.createElement('div');%0A%0A%20%20%20%20oneEighthButton.className%20=%20'oneEighthButtons';%0A%20%20%20%20trackContainer.append(oneEighthButton);%0A%20%20%20%20%0A%20%20%20%20if%20(trackContainer.children.length%20%3C%2016)%20%7B%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#fillTrack(trackContainer);#END_EDITABLE#%0A%20%20%20%20%7D%0A%7D##JS_E####CODE_15E####LOGIC_15####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60fillTrack(trackContainer);%60);##JS_E####LOGIC_15E####STEP_15E####STEP_16####INST_16##Adding%20the%20%22Create%22%20button%0A%0ALet's%20add%20a%20button%20to%20the%20page%20so%20the%20user%20can%20interact%20with%20the%20AI.%0A%0AWe'll%20disable%20the%20button%20initially%20because%20MagentaJS%20needs%20some%20time%20before%20it%20can%20be%20used,%20we%20also%20need%20to%20communicate%20this%20to%20the%20user.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#html#%3Cbutton%3E%5D%0A%09(*)%5B#html#id%5D%0A%09(*)%5B#html#disabled%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+html#controls#+1,%20create%20a%20%60%3Cbutton%3E%60%20element,%20set%20the%20%60id%60%20attribute%20to%20*generateButton*,%20add%20the%20%60disabled%60%20attribute%20and%20add%20the%20text%20*Loading%20MegentaJS...*%20between%20the%20tags.##INST_16E####CODE_16####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=Contrail+One%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src='https://cdn.jsdelivr.net/npm/@magenta/music@1.1.11/dist/magentamusic.min.js'%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%20%20%20%20%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%0D%0A%09%09%09%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%0D%0A%09%09%20%20%20%20#BEGIN_EDITABLE#%3Cbutton%20id=%22generateButton%22%20disabled%3ELoading%20MegentaJS...%3C/button%3E#END_EDITABLE#%0D%0A%09%09%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0Ah4%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20opacity:%200.4;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20font-size:%2016px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20outline:%20none;%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20place-content:%20center;%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%20%20%20%20place-items:%20center;%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A%0D%0A.trackContainers%20%7B%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons%20%7B%0D%0A%20%20%20%20border-radius:%204px;%0D%0A%20%20%20%20border:%201px%20solid%20white;%0D%0A%20%20%20%20background-color:%20gainsboro;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20opacity:%200.8;%0D%0A%20%20%20%20transition-property:%20opacity,%20background-color;%0D%0A%20%20%20%20transition-duration:%200.1s;%0D%0A%20%20%20%20transition-timing-function:%20ease-in-out;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons:hover%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active.highlight%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20crimson;%0D%0A%7D%0D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS##//%20%20JavaScript%0A%0Avar%20baseUrl%20=%20'https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/';%0Avar%20soundNames%20=%20%5B%0A%20%20%20%20'808-kick',%0A%20%20%20%20'flares-snare',%0A%20%20%20%20'808-hihat',%0A%20%20%20%20'808-hihat-open',%0A%20%20%20%20'slamdam-tom-low',%0A%20%20%20%20'slamdam-tom-mid',%0A%20%20%20%20'slamdam-tom-high',%0A%20%20%20%20'909-clap',%0A%20%20%20%20'909-rim',%0A%5D;%0A%0Avar%20Tone%20=%20mm.Player.tone;%0Avar%20drumKit%20=%20soundNames.map(eachName%20=%3E%20new%20Tone.Player(baseUrl%20+%20eachName%20+%20'-vh.mp3').toMaster());%0A%0ATone.Buffer.on('load',%20initializeApp);%0A%0Afunction%20initializeApp()%20%7B%0A%20%20%20%20soundNames.forEach(createTrack);%0A%7D%0A%0Afunction%20createTrack()%20%7B%0A%20%20%20%20var%20trackContainer%20=%20document.createElement('div');%0A%0A%20%20%20%20trackContainer.className%20=%20'trackContainers';%0A%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20grid.append(trackContainer);%0A%7D%0A%0Afunction%20fillTrack(trackContainer)%20%7B%0A%20%20%20%20var%20oneEighthButton%20=%20document.createElement('div');%0A%0A%20%20%20%20oneEighthButton.className%20=%20'oneEighthButtons';%0A%20%20%20%20trackContainer.append(oneEighthButton);%0A%20%20%20%20%0A%20%20%20%20if%20(trackContainer.children.length%20%3C%2016)%20%7B%0A%20%20%20%20%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20%7D%0A%7D%0A#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_16E####LOGIC_16####HTML##//%20Expectation:%0Apass.if.html.editable(0).equivalent(%60%3Cbutton%20id=%22generateButton%22%20disabled%3ELoading%20MegentaJS...%3C/button%3E%60);##HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_16E####STEP_16E####STEP_17####INST_17##Setting%20up%20the%20drum%20kit%20model%0A%0AAs%20with%20other%20pre-trained%20models,%20the%20%22training%22%20is%20store%20somewhere%20and%20we%20need%20to%20fetch%20it%20and%20integrate%20the%20contained%20knowledge%20with%20our%20instance%20of%20the%20MagentaJS%20library.%0A%0AAs%20mentioned%20before,%20this%20process%20takes%20some%20time%20to%20complete,%20so%20we%20will%20need%20to%20have%20a%20handler%20function%20for%20when%20it%20completes.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#function%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20Tone#-1,%20type%20in%20%60var%20DrumAI%20=%20new%20mm.MusicRNN('https://storage.googleapis.com/download.magenta.tensorflow.org/tfjs_checkpoints/music_rnn/drum_kit_rnn');%60%20to%20store%20the%20pre-trained%20drum%20model%20in%20the%20variable%20*DrumAI*.%0A%0A(!)On%20+js#Buffer#+1,%20type%20in%20%60DrumAI.initialize().then(enableAI);%60%20to%20initialize%20Magenta%20library%20and%20run%20the%20*enableAI*%20function%20once%20it's%20done.%0A%0A(!)On%20+js#on%20createTrack#-2,%20create%20a%20function%20called%20*enableAI*.##INST_17E####CODE_17####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=Contrail+One%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src='https://cdn.jsdelivr.net/npm/@magenta/music@1.1.11/dist/magentamusic.min.js'%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%20%20%20%20%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%0D%0A%09%09%09%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%0D%0A%09%09%20%20%20%20%3Cbutton%20id=%22generateButton%22%20disabled%3ELoading%20MegentaJS...%3C/button%3E%0D%0A%09%09%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE#%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0Ah4%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20opacity:%200.4;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20font-size:%2016px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20outline:%20none;%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20place-content:%20center;%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%20%20%20%20place-items:%20center;%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A%0D%0A.trackContainers%20%7B%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons%20%7B%0D%0A%20%20%20%20border-radius:%204px;%0D%0A%20%20%20%20border:%201px%20solid%20white;%0D%0A%20%20%20%20background-color:%20gainsboro;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20opacity:%200.8;%0D%0A%20%20%20%20transition-property:%20opacity,%20background-color;%0D%0A%20%20%20%20transition-duration:%200.1s;%0D%0A%20%20%20%20transition-timing-function:%20ease-in-out;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons:hover%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active.highlight%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20crimson;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0A%0Avar%20baseUrl%20=%20'https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/';%0Avar%20soundNames%20=%20%5B%0A%20%20%20%20'808-kick',%0A%20%20%20%20'flares-snare',%0A%20%20%20%20'808-hihat',%0A%20%20%20%20'808-hihat-open',%0A%20%20%20%20'slamdam-tom-low',%0A%20%20%20%20'slamdam-tom-mid',%0A%20%20%20%20'slamdam-tom-high',%0A%20%20%20%20'909-clap',%0A%20%20%20%20'909-rim',%0A%5D;%0A%0A#BEGIN_EDITABLE#var%20DrumAI%20=%20new%20mm.MusicRNN('https://storage.googleapis.com/download.magenta.tensorflow.org/tfjs_checkpoints/music_rnn/drum_kit_rnn');#END_EDITABLE#%0Avar%20Tone%20=%20mm.Player.tone;%0Avar%20drumKit%20=%20soundNames.map(eachName%20=%3E%20new%20Tone.Player(baseUrl%20+%20eachName%20+%20'-vh.mp3').toMaster());%0A%0ATone.Buffer.on('load',%20initializeApp);%0A#BEGIN_EDITABLE#DrumAI.initialize().then(enableAI);#END_EDITABLE#%0A%0Afunction%20initializeApp()%20%7B%0A%20%20%20%20soundNames.forEach(createTrack);%0A%7D%0A%0A#BEGIN_EDITABLE#function%20enableAI()%20%7B%7D#END_EDITABLE#%0A%0Afunction%20createTrack()%20%7B%0A%20%20%20%20var%20trackContainer%20=%20document.createElement('div');%0A%0A%20%20%20%20trackContainer.className%20=%20'trackContainers';%0A%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20grid.append(trackContainer);%0A%7D%0A%0Afunction%20fillTrack(trackContainer)%20%7B%0A%20%20%20%20var%20oneEighthButton%20=%20document.createElement('div');%0A%0A%20%20%20%20oneEighthButton.className%20=%20'oneEighthButtons';%0A%20%20%20%20trackContainer.append(oneEighthButton);%0A%20%20%20%20%0A%20%20%20%20if%20(trackContainer.children.length%20%3C%2016)%20%7B%0A%20%20%20%20%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20%7D%0A%7D%0A##JS_E####CODE_17E####LOGIC_17####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20DrumAI%20=%20new%20mm.MusicRNN('https://storage.googleapis.com/download.magenta.tensorflow.org/tfjs_checkpoints/music_rnn/drum_kit_rnn');%60);%0Apass.if.js.editable(1).equivalent(%60DrumAI.initialize().then(enableAI);%60);%0Apass.if.js.editable(2).equivalent(%60function%20enableAI()%20%7B%7D%60);##JS_E####LOGIC_17E####STEP_17E####STEP_18####INST_18##Handling%20the%20click%20event%0A%0AOnce%20the%20*enableAI*%20function%20runs,%20we%20should%20enable%20the%20button,%20modify%20the%20label%20on%20the%20button%20and%20also%20set%20up%20its%20*click*%20handler.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#innerText%5D%0A%09(*)%5B#js#addEventListener%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20enableAI#+1,%20change%20the%20text%20on%20the%20*generateButton*%20element%20to%20*Create%20New%20Beats*.%0A%0A(!)On%20+js#on%20enableAI#+2,%20set%20the%20%60generateButton.disabled%60%20property%20to%20*false*.%0A%0A(!)On%20+js#on%20enableAI#+3,%20type%20in%20%60generateButton.addEventListener('click',%20generateTrack);%60%20to%20handle%20the%20*click*%20event%20using%20the%20*generateTrack*%20function.##INST_18E####CODE_18####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=Contrail+One%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src='https://cdn.jsdelivr.net/npm/@magenta/music@1.1.11/dist/magentamusic.min.js'%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%20%20%20%20%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%0D%0A%09%09%09%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%0D%0A%09%09%20%20%20%20%3Cbutton%20id=%22generateButton%22%20disabled%3ELoading%20MegentaJS...%3C/button%3E%0D%0A%09%09%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0Ah4%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20opacity:%200.4;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20font-size:%2016px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20outline:%20none;%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20place-content:%20center;%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%20%20%20%20place-items:%20center;%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A%0D%0A.trackContainers%20%7B%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons%20%7B%0D%0A%20%20%20%20border-radius:%204px;%0D%0A%20%20%20%20border:%201px%20solid%20white;%0D%0A%20%20%20%20background-color:%20gainsboro;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20opacity:%200.8;%0D%0A%20%20%20%20transition-property:%20opacity,%20background-color;%0D%0A%20%20%20%20transition-duration:%200.1s;%0D%0A%20%20%20%20transition-timing-function:%20ease-in-out;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons:hover%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active.highlight%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20crimson;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0A%0Avar%20baseUrl%20=%20'https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/';%0Avar%20soundNames%20=%20%5B%0A%20%20%20%20'808-kick',%0A%20%20%20%20'flares-snare',%0A%20%20%20%20'808-hihat',%0A%20%20%20%20'808-hihat-open',%0A%20%20%20%20'slamdam-tom-low',%0A%20%20%20%20'slamdam-tom-mid',%0A%20%20%20%20'slamdam-tom-high',%0A%20%20%20%20'909-clap',%0A%20%20%20%20'909-rim',%0A%5D;%0A%0Avar%20DrumAI%20=%20new%20mm.MusicRNN('https://storage.googleapis.com/download.magenta.tensorflow.org/tfjs_checkpoints/music_rnn/drum_kit_rnn');%0Avar%20Tone%20=%20mm.Player.tone;%0Avar%20drumKit%20=%20soundNames.map(eachName%20=%3E%20new%20Tone.Player(baseUrl%20+%20eachName%20+%20'-vh.mp3').toMaster());%0A%0ATone.Buffer.on('load',%20initializeApp);%0ADrumAI.initialize().then(enableAI);%0A%0Afunction%20initializeApp()%20%7B%0A%20%20%20%20soundNames.forEach(createTrack);%0A%7D%0A%0Afunction%20enableAI()%20%7B%0A%20%20%20%20#BEGIN_EDITABLE#generateButton.innerText%20=%20'Create%20New%20Beats';#END_EDITABLE#%0A%20%20%20%20#BEGIN_EDITABLE#generateButton.disabled%20=%20false;#END_EDITABLE#%0A%20%20%20%20#BEGIN_EDITABLE#generateButton.addEventListener('click',%20generateTrack);#END_EDITABLE#%0A%7D%0A%0Afunction%20createTrack()%20%7B%0A%20%20%20%20var%20trackContainer%20=%20document.createElement('div');%0A%0A%20%20%20%20trackContainer.className%20=%20'trackContainers';%0A%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20grid.append(trackContainer);%0A%7D%0A%0Afunction%20fillTrack(trackContainer)%20%7B%0A%20%20%20%20var%20oneEighthButton%20=%20document.createElement('div');%0A%0A%20%20%20%20oneEighthButton.className%20=%20'oneEighthButtons';%0A%20%20%20%20trackContainer.append(oneEighthButton);%0A%20%20%20%20%0A%20%20%20%20if%20(trackContainer.children.length%20%3C%2016)%20%7B%0A%20%20%20%20%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20%7D%0A%7D%0A##JS_E####CODE_18E####LOGIC_18####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60generateButton.innerText%20=%20'Create%20New%20Beats';%60);%0Apass.if.js.editable(1).equivalent(%60generateButton.disabled%20=%20false;%60);%0Apass.if.js.editable(2).equivalent(%60generateButton.addEventListener('click',%20generateTrack);%60);##JS_E####LOGIC_18E####STEP_18E####STEP_19####INST_19##Representing%20the%20track%20with%20an%20array%0A%0ABefore%20we%20can%20get%20*DrumAI*%20to%20generate%20a%20new%20track%20for%20us,%20we'll%20need%20to%20represent%20the%20track%20using%20an%20array.%0A%0AThe%20array%20also%20needs%20to%20stick%20to%20a%20certain%20format%20so%20MagentaJS%20can%20understand%20it.%0A%0ALet's%20take%20a%20look%20at%20how%20this%20format%20works.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#array%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20trackData#+1,%20add%20*0*%20and%20*7*%20into%20the%20array.%0A%0A(!)On%20+type#key#,%20add%20*2*%20and%20*5*%20into%20the%20array.%20##INST_19E####CODE_19####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=Contrail+One%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src='https://cdn.jsdelivr.net/npm/@magenta/music@1.1.11/dist/magentamusic.min.js'%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%20%20%20%20%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%0D%0A%09%09%09%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%0D%0A%09%09%20%20%20%20%3Cbutton%20id=%22generateButton%22%20disabled%3ELoading%20MegentaJS...%3C/button%3E%0D%0A%09%09%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0Ah4%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20opacity:%200.4;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20font-size:%2016px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20outline:%20none;%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20place-content:%20center;%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%20%20%20%20place-items:%20center;%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A%0D%0A.trackContainers%20%7B%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons%20%7B%0D%0A%20%20%20%20border-radius:%204px;%0D%0A%20%20%20%20border:%201px%20solid%20white;%0D%0A%20%20%20%20background-color:%20gainsboro;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20opacity:%200.8;%0D%0A%20%20%20%20transition-property:%20opacity,%20background-color;%0D%0A%20%20%20%20transition-duration:%200.1s;%0D%0A%20%20%20%20transition-timing-function:%20ease-in-out;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons:hover%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active.highlight%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20crimson;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0A%0Avar%20baseUrl%20=%20'https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/';%0Avar%20soundNames%20=%20%5B%0A%20%20%20%20'808-kick',%0A%20%20%20%20'flares-snare',%0A%20%20%20%20'808-hihat',%0A%20%20%20%20'808-hihat-open',%0A%20%20%20%20'slamdam-tom-low',%0A%20%20%20%20'slamdam-tom-mid',%0A%20%20%20%20'slamdam-tom-high',%0A%20%20%20%20'909-clap',%0A%20%20%20%20'909-rim',%0A%5D;%0Avar%20trackData%20=%20%5B%0A%20%20%20%20#BEGIN_EDITABLE#%5B%5D#END_EDITABLE#,%0A%20%20%20%20%5B%5D,%0A%20%20%20%20#BEGIN_EDITABLE#%5B%5D#END_EDITABLE#,%0A%20%20%20%20%5B%5D,%0A%5D;%0A%0Awhile%20(trackData.length%20%3C%2016)%20%7B%0A%20%20%20%20trackData.push(%5B%5D);%0A%7D%0A%0Avar%20DrumAI%20=%20new%20mm.MusicRNN('https://storage.googleapis.com/download.magenta.tensorflow.org/tfjs_checkpoints/music_rnn/drum_kit_rnn');%0Avar%20Tone%20=%20mm.Player.tone;%0Avar%20drumKit%20=%20soundNames.map(eachName%20=%3E%20new%20Tone.Player(baseUrl%20+%20eachName%20+%20'-vh.mp3').toMaster());%0A%0ATone.Buffer.on('load',%20initializeApp);%0ADrumAI.initialize().then(enableAI);%0A%0Afunction%20initializeApp()%20%7B%0A%20%20%20%20soundNames.forEach(createTrack);%0A%7D%0A%0Afunction%20enableAI()%20%7B%0A%20%20%20%20generateButton.innerText%20=%20'Create%20New%20Beats';%0A%20%20%20%20generateButton.disabled%20=%20false;%0A%20%20%20%20generateButton.addEventListener('click',%20generateTrack);%0A%7D%0A%0Afunction%20createTrack()%20%7B%0A%20%20%20%20var%20trackContainer%20=%20document.createElement('div');%0A%0A%20%20%20%20trackContainer.className%20=%20'trackContainers';%0A%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20grid.append(trackContainer);%0A%7D%0A%0Afunction%20fillTrack(trackContainer)%20%7B%0A%20%20%20%20var%20oneEighthButton%20=%20document.createElement('div');%0A%0A%20%20%20%20oneEighthButton.className%20=%20'oneEighthButtons';%0A%20%20%20%20oneEighthButton.soundIndex%20=%20grid.children.length;%0A%20%20%20%20oneEighthButton.timingIndex%20=%20trackContainer.children.length;%0A%20%20%20%20trackContainer.append(oneEighthButton);%0A%20%20%20%20%0A%20%20%20%20if%20(trackData%5BoneEighthButton.timingIndex%5D.includes(oneEighthButton.soundIndex))%20%7B%0A%20%20%20%20%20%20%20%20oneEighthButton.classList.add('active');%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20if%20(trackContainer.children.length%20%3C%20trackData.length)%20%7B%0A%20%20%20%20%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20%7D%0A%7D%0A##JS_E####CODE_19E####LOGIC_19####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60%5B0,%207%5D%60);%0Apass.if.js.editable(1).equivalent(%60%5B2,%205%5D%60);%0A##JS_E####LOGIC_19E####STEP_19E####STEP_20####INST_20##Seed%20and%20AI%20steps%0A%0AYou%20can%20see%20that%20each%20item%20in%20*trackData*%20represents%20a%20column%20in%20the%20grid,%20for%20example,%20%60trackData%5B0%5D%60%20is%20%60%5B0,%207%5D%60,%20and%20that%20tells%20MagentaJS%20that%20the%201st%20and%208th%20sound%20should%20be%20played%20as%20the%20first%20step%20of%20the%20track.%0A%0ANow%20we%20need%20to%20tell%20MagentaJS%20how%20many%20of%20the%20steps%20are%20seed%20(defined%20by%20the%20user)%20and%20how%20many%20should%20be%20created%20by%20the%20AI.%0A%0A*Solution*%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#length%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#while#-4,%20create%20a%20variable%20called%20*seedSteps*%20to%20store%20the%20length%20of%20*trackData*.%0A%0A(!)On%20+js#while#-3,%20create%20a%20variable%20called%20*aiSteps*%20to%20store%20the%20number%20*12*.%0A%0A(!)On%20+js#while#-2,%20create%20a%20variable%20called%20*fullLength*%20to%20store%20the%20sum%20of%20*seedSteps*%20and%20*aiSteps*.##INST_20E####CODE_20####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=Contrail+One%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src='https://cdn.jsdelivr.net/npm/@magenta/music@1.1.11/dist/magentamusic.min.js'%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%20%20%20%20%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%0D%0A%09%09%09%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%0D%0A%09%09%20%20%20%20%3Cbutton%20id=%22generateButton%22%20disabled%3ELoading%20MegentaJS...%3C/button%3E%0D%0A%09%09%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0Ah4%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20opacity:%200.4;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20font-size:%2016px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20outline:%20none;%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20place-content:%20center;%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%20%20%20%20place-items:%20center;%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A%0D%0A.trackContainers%20%7B%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons%20%7B%0D%0A%20%20%20%20border-radius:%204px;%0D%0A%20%20%20%20border:%201px%20solid%20white;%0D%0A%20%20%20%20background-color:%20gainsboro;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20opacity:%200.8;%0D%0A%20%20%20%20transition-property:%20opacity,%20background-color;%0D%0A%20%20%20%20transition-duration:%200.1s;%0D%0A%20%20%20%20transition-timing-function:%20ease-in-out;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons:hover%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active.highlight%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20crimson;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0A%0Avar%20baseUrl%20=%20'https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/';%0Avar%20soundNames%20=%20%5B%0A%20%20%20%20'808-kick',%0A%20%20%20%20'flares-snare',%0A%20%20%20%20'808-hihat',%0A%20%20%20%20'808-hihat-open',%0A%20%20%20%20'slamdam-tom-low',%0A%20%20%20%20'slamdam-tom-mid',%0A%20%20%20%20'slamdam-tom-high',%0A%20%20%20%20'909-clap',%0A%20%20%20%20'909-rim',%0A%5D;%0Avar%20trackData%20=%20%5B%0A%20%20%20%20%5B0,%207%5D,%0A%20%20%20%20%5B%5D,%0A%20%20%20%20%5B2,%205%5D,%0A%20%20%20%20%5B%5D,%0A%5D;%0A#BEGIN_EDITABLE#var%20seedSteps%20=%20trackData.length;#END_EDITABLE#%0A#BEGIN_EDITABLE#var%20aiSteps%20=%2012;#END_EDITABLE#%0A#BEGIN_EDITABLE#var%20fullLength%20=%2016;#END_EDITABLE#%0A%0Awhile%20(trackData.length%20%3C%2016)%20%7B%0A%20%20%20%20trackData.push(%5B%5D);%0A%7D%0A%0Avar%20DrumAI%20=%20new%20mm.MusicRNN('https://storage.googleapis.com/download.magenta.tensorflow.org/tfjs_checkpoints/music_rnn/drum_kit_rnn');%0Avar%20Tone%20=%20mm.Player.tone;%0Avar%20drumKit%20=%20soundNames.map(eachName%20=%3E%20new%20Tone.Player(baseUrl%20+%20eachName%20+%20'-vh.mp3').toMaster());%0A%0ATone.Buffer.on('load',%20initializeApp);%0ADrumAI.initialize().then(enableAI);%0A%0Afunction%20initializeApp()%20%7B%0A%20%20%20%20soundNames.forEach(createTrack);%0A%7D%0A%0Afunction%20enableAI()%20%7B%0A%20%20%20%20generateButton.innerText%20=%20'Create%20New%20Beats';%0A%20%20%20%20generateButton.disabled%20=%20false;%0A%20%20%20%20generateButton.addEventListener('click',%20generateTrack);%0A%7D%0A%0Afunction%20createTrack()%20%7B%0A%20%20%20%20var%20trackContainer%20=%20document.createElement('div');%0A%0A%20%20%20%20trackContainer.className%20=%20'trackContainers';%0A%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20grid.append(trackContainer);%0A%7D%0A%0Afunction%20fillTrack(trackContainer)%20%7B%0A%20%20%20%20var%20oneEighthButton%20=%20document.createElement('div');%0A%0A%20%20%20%20oneEighthButton.className%20=%20'oneEighthButtons';%0A%20%20%20%20oneEighthButton.soundIndex%20=%20grid.children.length;%0A%20%20%20%20oneEighthButton.timingIndex%20=%20trackContainer.children.length;%0A%20%20%20%20trackContainer.append(oneEighthButton);%0A%20%20%20%20%0A%20%20%20%20if%20(trackData%5BoneEighthButton.timingIndex%5D.includes(oneEighthButton.soundIndex))%20%7B%0A%20%20%20%20%20%20%20%20oneEighthButton.classList.add('active');%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20if%20(trackContainer.children.length%20%3C%20trackData.length)%20%7B%0A%20%20%20%20%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20%7D%0A%7D%0A##JS_E####CODE_20E####LOGIC_20####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20seedSteps%20=%20trackData.length;%60);%0Apass.if.js.editable(1).equivalent(%60var%20aiSteps%20=%2012;%60);%0Apass.if.js.editable(2).equivalent(%60var%20fullLength%20=%20seedSteps%20+%20aiSteps;%60);##JS_E####LOGIC_20E####STEP_20E####STEP_21####INST_21##Converting%20pattern%20into%20sequence%0A%0AIn%20order%20to%20work%20with%20*DrumAI*,%20we%20need%20to%20convert%20our%20pattern%20(*trackData*%20contains%20our%20pattern)%20to%20sequence.%0A%0AA%20*Sequence*%20contains%20a%20lot%20of%20information%20such%20as%20*tempo*%20and%20*pitch*,%20which%20are%20required%20for%20MagentaJS%20to%20work.%0A%0AWe%20first%20need%20to%20obtain%20the%20first%204%20steps%20from%20*trackData*%20and%20convert%20them%20into%20a%20sequence,%20we'll%20call%20this%20the%20*seedSequence*.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#slice%5D%0A%09(*)%5B#js#function%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20fullLength#+1,%20create%20a%20variable%20called%20*temperature*%20to%20store%20the%20number%20*12*.%0A%0A(!)On%20+js#on%20generateTrack#+1,%20create%20a%20variable%20called%20*seedPattern*%20to%20store%20the%20first%204%20items%20of%20*trackData*.%0A%0A(!)On%20+js#on%20generateTrack#+2,%20type%20in%20%60var%20seedSequence%20=%20getSeedSequence(seedPattern);%60%20to%20convert%20pattern%20into%20sequence.##INST_21E####CODE_21####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=Contrail+One%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src='https://cdn.jsdelivr.net/npm/@magenta/music@1.1.11/dist/magentamusic.min.js'%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%20%20%20%20%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%0D%0A%09%09%09%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%0D%0A%09%09%20%20%20%20%3Cbutton%20id=%22generateButton%22%20disabled%3ELoading%20MegentaJS...%3C/button%3E%0D%0A%09%09%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0Ah4%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20opacity:%200.4;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20font-size:%2016px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20outline:%20none;%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20place-content:%20center;%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%20%20%20%20place-items:%20center;%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A%0D%0A.trackContainers%20%7B%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons%20%7B%0D%0A%20%20%20%20border-radius:%204px;%0D%0A%20%20%20%20border:%201px%20solid%20white;%0D%0A%20%20%20%20background-color:%20gainsboro;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20opacity:%200.8;%0D%0A%20%20%20%20transition-property:%20opacity,%20background-color;%0D%0A%20%20%20%20transition-duration:%200.1s;%0D%0A%20%20%20%20transition-timing-function:%20ease-in-out;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons:hover%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active.highlight%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20crimson;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0A%0Avar%20baseUrl%20=%20'https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/';%0Avar%20soundNames%20=%20%5B%0A%20%20%20%20'808-kick',%0A%20%20%20%20'flares-snare',%0A%20%20%20%20'808-hihat',%0A%20%20%20%20'808-hihat-open',%0A%20%20%20%20'slamdam-tom-low',%0A%20%20%20%20'slamdam-tom-mid',%0A%20%20%20%20'slamdam-tom-high',%0A%20%20%20%20'909-clap',%0A%20%20%20%20'909-rim',%0A%5D;%0Avar%20trackData%20=%20%5B%0A%20%20%20%20%5B0,%207%5D,%0A%20%20%20%20%5B%5D,%0A%20%20%20%20%5B2,%205%5D,%0A%20%20%20%20%5B%5D,%0A%5D;%0Avar%20seedSteps%20=%20trackData.length;%0Avar%20aiSteps%20=%2012;%0Avar%20fullLength%20=%20seedSteps%20+%20aiSteps;%0A#BEGIN_EDITABLE#var%20temperature%20=%201.1;#END_EDITABLE#%0A%0Awhile%20(trackData.length%20%3C%20fullLength)%20%7B%0A%20%20%20%20trackData.push(%5B%5D);%0A%7D%0A%0Avar%20DrumAI%20=%20new%20mm.MusicRNN('https://storage.googleapis.com/download.magenta.tensorflow.org/tfjs_checkpoints/music_rnn/drum_kit_rnn');%0Avar%20Tone%20=%20mm.Player.tone;%0Avar%20drumKit%20=%20soundNames.map(eachName%20=%3E%20new%20Tone.Player(baseUrl%20+%20eachName%20+%20'-vh.mp3').toMaster());%0A%0ATone.Buffer.on('load',%20initializeApp);%0ADrumAI.initialize().then(enableAI);%0A%0Afunction%20initializeApp()%20%7B%0A%20%20%20%20soundNames.forEach(createTrack);%0A%7D%0A%0Afunction%20enableAI()%20%7B%0A%20%20%20%20generateButton.innerText%20=%20'Create%20New%20Beats';%0A%20%20%20%20generateButton.disabled%20=%20false;%0A%20%20%20%20generateButton.addEventListener('click',%20generateTrack);%0A%7D%0A%0Afunction%20generateTrack()%20%7B%0A%20%20%20%20#BEGIN_EDITABLE#var%20seedPattern%20=%20trackData.slice(0,%20seedSteps);#END_EDITABLE#%0A%20%20%20%20#BEGIN_EDITABLE#var%20seedSequence%20=%20getSeedSequence(seedPattern);#END_EDITABLE#%0A%7D%0A%0Afunction%20createTrack()%20%7B%0A%20%20%20%20var%20trackContainer%20=%20document.createElement('div');%0A%0A%20%20%20%20trackContainer.className%20=%20'trackContainers';%0A%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20grid.append(trackContainer);%0A%7D%0A%0Afunction%20fillTrack(trackContainer)%20%7B%0A%20%20%20%20var%20oneEighthButton%20=%20document.createElement('div');%0A%0A%20%20%20%20oneEighthButton.className%20=%20'oneEighthButtons';%0A%20%20%20%20oneEighthButton.soundIndex%20=%20grid.children.length;%0A%20%20%20%20oneEighthButton.timingIndex%20=%20trackContainer.children.length;%0A%20%20%20%20trackContainer.append(oneEighthButton);%0A%20%20%20%20%0A%20%20%20%20if%20(trackData%5BoneEighthButton.timingIndex%5D.includes(oneEighthButton.soundIndex))%20%7B%0A%20%20%20%20%20%20%20%20oneEighthButton.classList.add('active');%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20if%20(trackContainer.children.length%20%3C%20fullLength)%20%7B%0A%20%20%20%20%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20getSeedSequence(seedPattern)%20%7B%0A%20%20%20%20var%20timeSignatures%20=%20%5B%7B%20time:%200,%20numerator:%204,%20denominator:%204%20%7D%5D;%0A%20%20%20%20var%20tempos%20=%20%5B%7B%20time:%200,%20qpm:%20120%20%7D%5D;%0A%20%20%20%20var%20midiDrums%20=%20%5B36,%2038,%2042,%2046,%2041,%2043,%2045,%2049,%2051%5D;%0A%20%20%20%20var%20notes%20=%20seedPattern.flatMap((step,%20index)%20=%3E%20step.map(d%20=%3E%20(%7B%0A%20%20%20%20%20%20%20%20pitch:%20midiDrums%5Bd%5D,%0A%20%20%20%20%20%20%20%20startTime:%20index%20*%200.5,%0A%20%20%20%20%20%20%20%20endTime:%20(index%20+%201)%20*%200.5,%0A%20%20%20%20%7D)));%0A%0A%20%20%20%20return%20mm.sequences.quantizeNoteSequence(%7B%0A%20%20%20%20%20%20%20%20ticksPerQuarter:%20220,%0A%20%20%20%20%20%20%20%20totalTime:%20seedPattern.length%20/%202,%0A%20%20%20%20%20%20%20%20timeSignatures,%0A%20%20%20%20%20%20%20%20tempos,%0A%20%20%20%20%20%20%20%20notes,%0A%20%20%20%20%7D,%201);%0A%7D%0A##JS_E####CODE_21E####LOGIC_21####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20temperature%20=%201.1;%60);%0Apass.if.js.editable(1).equivalent(%60var%20seedPattern%20=%20trackData.slice(0,%20seedSteps);%60);%0Apass.if.js.editable(2).equivalent(%60var%20seedSequence%20=%20getSeedSequence(seedPattern);%60);##JS_E####LOGIC_21E####STEP_21E####STEP_22####INST_22##Continuing%20the%20seed%20sequence%0A%0AWith%20a%20seed%20sequence,%20we%20can%20feed%20it%20to%20*DrumAI*%20and%20ask%20it%20to%20continue%20that%20sequence.%0A%0AThis%20process%20will%20also%20take%20a%20while,%20and%20once%20finished,%20we%20need%20to%20update%20the%20grid%20with%20what%20the%20AI%20generated.%0A%0AWe'll%20do%20that%20in%20the%20*handleResult*%20function.%0A%0A(---)%0A%0A%5B-%0A%09(*)%0A%09(*)%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20seedSequence#+1,%20type%20in%20%60var%20handleResult%20=%20function(aiSequence)%20%7B%7D;%60%20create%20the%20handler%20function.%0A%0A(!)On%20+js#var%20seedSequence#+3,%20type%20in%20%60DrumAI.continueSequence(seedSequence,%20aiSteps,%20temperature).then(handleResult);%60%20to%20continue%20the%20seed%20sequence.##INST_22E####CODE_22####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=Contrail+One%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src='https://cdn.jsdelivr.net/npm/@magenta/music@1.1.11/dist/magentamusic.min.js'%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%20%20%20%20%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%0D%0A%09%09%09%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%0D%0A%09%09%20%20%20%20%3Cbutton%20id=%22generateButton%22%20disabled%3ELoading%20MegentaJS...%3C/button%3E%0D%0A%09%09%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0Ah4%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20opacity:%200.4;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20font-size:%2016px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20outline:%20none;%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20place-content:%20center;%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%20%20%20%20place-items:%20center;%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A%0D%0A.trackContainers%20%7B%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons%20%7B%0D%0A%20%20%20%20border-radius:%204px;%0D%0A%20%20%20%20border:%201px%20solid%20white;%0D%0A%20%20%20%20background-color:%20gainsboro;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20opacity:%200.8;%0D%0A%20%20%20%20transition-property:%20opacity,%20background-color;%0D%0A%20%20%20%20transition-duration:%200.1s;%0D%0A%20%20%20%20transition-timing-function:%20ease-in-out;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons:hover%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active.highlight%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20crimson;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0A%0Avar%20baseUrl%20=%20'https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/';%0Avar%20soundNames%20=%20%5B%0A%20%20%20%20'808-kick',%0A%20%20%20%20'flares-snare',%0A%20%20%20%20'808-hihat',%0A%20%20%20%20'808-hihat-open',%0A%20%20%20%20'slamdam-tom-low',%0A%20%20%20%20'slamdam-tom-mid',%0A%20%20%20%20'slamdam-tom-high',%0A%20%20%20%20'909-clap',%0A%20%20%20%20'909-rim',%0A%5D;%0Avar%20trackData%20=%20%5B%0A%20%20%20%20%5B0,%207%5D,%0A%20%20%20%20%5B%5D,%0A%20%20%20%20%5B2,%205%5D,%0A%20%20%20%20%5B%5D,%0A%5D;%0Avar%20seedSteps%20=%20trackData.length;%0Avar%20aiSteps%20=%2012;%0Avar%20fullLength%20=%20seedSteps%20+%20aiSteps;%0Avar%20temperature%20=%201.1;%0A%0Awhile%20(trackData.length%20%3C%20fullLength)%20%7B%0A%20%20%20%20trackData.push(%5B%5D);%0A%7D%0A%0Avar%20DrumAI%20=%20new%20mm.MusicRNN('https://storage.googleapis.com/download.magenta.tensorflow.org/tfjs_checkpoints/music_rnn/drum_kit_rnn');%0Avar%20Tone%20=%20mm.Player.tone;%0Avar%20drumKit%20=%20soundNames.map(eachName%20=%3E%20new%20Tone.Player(baseUrl%20+%20eachName%20+%20'-vh.mp3').toMaster());%0A%0ATone.Buffer.on('load',%20initializeApp);%0ADrumAI.initialize().then(enableAI);%0A%0Afunction%20initializeApp()%20%7B%0A%20%20%20%20soundNames.forEach(createTrack);%0A%7D%0A%0Afunction%20enableAI()%20%7B%0A%20%20%20%20generateButton.innerText%20=%20'Create%20New%20Beats';%0A%20%20%20%20generateButton.disabled%20=%20false;%0A%20%20%20%20generateButton.addEventListener('click',%20generateTrack);%0A%7D%0A%0Afunction%20generateTrack()%20%7B%0A%20%20%20%20var%20seedPattern%20=%20trackData.slice(0,%20seedSteps);%0A%20%20%20%20var%20seedSequence%20=%20getSeedSequence(seedPattern);%0A%20%20%20%20#BEGIN_EDITABLE#var%20handleResult%20=%20function(aiSequence)%20%7B%7D;#END_EDITABLE#%0A%20%20%20%20%0A%20%20%20%20#BEGIN_EDITABLE#DrumAI.continueSequence(seedSequence,%20aiSteps,%20temperature).then(handleResult);#END_EDITABLE#%0A%7D%0A%0Afunction%20createTrack()%20%7B%0A%20%20%20%20var%20trackContainer%20=%20document.createElement('div');%0A%0A%20%20%20%20trackContainer.className%20=%20'trackContainers';%0A%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20grid.append(trackContainer);%0A%7D%0A%0Afunction%20fillTrack(trackContainer)%20%7B%0A%20%20%20%20var%20oneEighthButton%20=%20document.createElement('div');%0A%0A%20%20%20%20oneEighthButton.className%20=%20'oneEighthButtons';%0A%20%20%20%20oneEighthButton.soundIndex%20=%20grid.children.length;%0A%20%20%20%20oneEighthButton.timingIndex%20=%20trackContainer.children.length;%0A%20%20%20%20trackContainer.append(oneEighthButton);%0A%20%20%20%20%0A%20%20%20%20if%20(trackData%5BoneEighthButton.timingIndex%5D.includes(oneEighthButton.soundIndex))%20%7B%0A%20%20%20%20%20%20%20%20oneEighthButton.classList.add('active');%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20if%20(trackContainer.children.length%20%3C%20fullLength)%20%7B%0A%20%20%20%20%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20getSeedSequence(seedPattern)%20%7B%0A%20%20%20%20var%20timeSignatures%20=%20%5B%7B%20time:%200,%20numerator:%204,%20denominator:%204%20%7D%5D;%0A%20%20%20%20var%20tempos%20=%20%5B%7B%20time:%200,%20qpm:%20120%20%7D%5D;%0A%20%20%20%20var%20midiDrums%20=%20%5B36,%2038,%2042,%2046,%2041,%2043,%2045,%2049,%2051%5D;%0A%20%20%20%20var%20notes%20=%20seedPattern.flatMap((step,%20index)%20=%3E%20step.map(d%20=%3E%20(%7B%0A%20%20%20%20%20%20%20%20pitch:%20midiDrums%5Bd%5D,%0A%20%20%20%20%20%20%20%20startTime:%20index%20*%200.5,%0A%20%20%20%20%20%20%20%20endTime:%20(index%20+%201)%20*%200.5,%0A%20%20%20%20%7D)));%0A%0A%20%20%20%20return%20mm.sequences.quantizeNoteSequence(%7B%0A%20%20%20%20%20%20%20%20ticksPerQuarter:%20220,%0A%20%20%20%20%20%20%20%20totalTime:%20seedPattern.length%20/%202,%0A%20%20%20%20%20%20%20%20timeSignatures,%0A%20%20%20%20%20%20%20%20tempos,%0A%20%20%20%20%20%20%20%20notes,%0A%20%20%20%20%7D,%201);%0A%7D%0A##JS_E####CODE_22E####LOGIC_22####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20handleResult%20=%20function(aiSequence)%20%7B%7D;%60);%0Apass.if.js.editable(1).equivalent(%60DrumAI.continueSequence(seedSequence,%20aiSteps,%20temperature).then(handleResult);%60);##JS_E####LOGIC_22E####STEP_22E####STEP_23####INST_23##Resetting%20the%20tracks%20before%20repopulating%20it%20with%20AI%20generated%20pattern%0A%0AInside%20the%20*handleResult*%20function,%20what%20the%20AI%20generated%20is%20stored%20in%20the%20*aiSequence*%20variable%20(+js#var%20handleResult#).%0A%0AWe%20convert%20it%20from%20sequence%20back%20into%20pattern%20format%20(+js#var%20handleResult#+2)%20and%20update%20the%20grid%20accordingly.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#classList%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20handleResult#+9,%20type%20in%20%60button.classList.remove(%22active%22);%60%20to%20deactivate%20every%20button.%0A%0A(!)On%20+js#var%20handleResult#+23,%20type%20in%20%60button.classList.add(%22active%22);%60%20to%20activate%20a%20button%20as%20indicated%20in%20the%20*aiPattern*%20array.##INST_23E####CODE_23####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=Contrail+One%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src='https://cdn.jsdelivr.net/npm/@magenta/music@1.1.11/dist/magentamusic.min.js'%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%20%20%20%20%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%0D%0A%09%09%09%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%0D%0A%09%09%20%20%20%20%3Cbutton%20id=%22generateButton%22%20disabled%3ELoading%20MegentaJS...%3C/button%3E%0D%0A%09%09%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0Ah4%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20opacity:%200.4;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20font-size:%2016px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20outline:%20none;%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20place-content:%20center;%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%20%20%20%20place-items:%20center;%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A%0D%0A.trackContainers%20%7B%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons%20%7B%0D%0A%20%20%20%20border-radius:%204px;%0D%0A%20%20%20%20border:%201px%20solid%20white;%0D%0A%20%20%20%20background-color:%20gainsboro;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20opacity:%200.8;%0D%0A%20%20%20%20transition-property:%20opacity,%20background-color;%0D%0A%20%20%20%20transition-duration:%200.1s;%0D%0A%20%20%20%20transition-timing-function:%20ease-in-out;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons:hover%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active.highlight%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20crimson;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0A%0Avar%20baseUrl%20=%20'https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/';%0Avar%20soundNames%20=%20%5B%0A%20%20%20%20'808-kick',%0A%20%20%20%20'flares-snare',%0A%20%20%20%20'808-hihat',%0A%20%20%20%20'808-hihat-open',%0A%20%20%20%20'slamdam-tom-low',%0A%20%20%20%20'slamdam-tom-mid',%0A%20%20%20%20'slamdam-tom-high',%0A%20%20%20%20'909-clap',%0A%20%20%20%20'909-rim',%0A%5D;%0Avar%20trackData%20=%20%5B%0A%20%20%20%20%5B0,%207%5D,%0A%20%20%20%20%5B%5D,%0A%20%20%20%20%5B2,%205%5D,%0A%20%20%20%20%5B%5D,%0A%5D;%0Avar%20seedSteps%20=%20trackData.length;%0Avar%20aiSteps%20=%2012;%0Avar%20fullLength%20=%20seedSteps%20+%20aiSteps;%0Avar%20temperature%20=%201.1;%0A%0Awhile%20(trackData.length%20%3C%20fullLength)%20%7B%0A%20%20%20%20trackData.push(%5B%5D);%0A%7D%0A%0Avar%20DrumAI%20=%20new%20mm.MusicRNN('https://storage.googleapis.com/download.magenta.tensorflow.org/tfjs_checkpoints/music_rnn/drum_kit_rnn');%0Avar%20Tone%20=%20mm.Player.tone;%0Avar%20drumKit%20=%20soundNames.map(eachName%20=%3E%20new%20Tone.Player(baseUrl%20+%20eachName%20+%20'-vh.mp3').toMaster());%0A%0ATone.Buffer.on('load',%20initializeApp);%0ADrumAI.initialize().then(enableAI);%0A%0Afunction%20initializeApp()%20%7B%0A%20%20%20%20soundNames.forEach(createTrack);%0A%7D%0A%0Afunction%20enableAI()%20%7B%0A%20%20%20%20generateButton.innerText%20=%20'Create%20New%20Beats';%0A%20%20%20%20generateButton.disabled%20=%20false;%0A%20%20%20%20generateButton.addEventListener('click',%20generateTrack);%0A%7D%0A%0Afunction%20generateTrack()%20%7B%0A%20%20%20%20var%20seedPattern%20=%20trackData.slice(0,%20seedSteps);%0A%20%20%20%20var%20seedSequence%20=%20getSeedSequence(seedPattern);%0A%20%20%20%20var%20handleResult%20=%20function(aiSequence)%20%7B%0A%20%20%20%20%20%20%20%20var%20trackContainers%20=%20grid.querySelectorAll('.trackContainers');%0A%20%20%20%20%20%20%20%20var%20aiPattern%20=%20getAiPattern(aiSequence);%0A%0A%20%20%20%20%20%20%20%20trackContainers.forEach(trackContainer%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20oneEighthButtons%20=%20trackContainer.querySelectorAll('.oneEighthButtons');%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20oneEighthButtons.forEach((button,%20buttonIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(buttonIndex%20%3E=%20seedSteps)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#button.classList.remove('active');#END_EDITABLE#%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20aiPattern%5BbuttonIndex%20-%20seedSteps%5D%20=%20aiPattern%5BbuttonIndex%20-%20seedSteps%5D%20%7C%7C%20%5B%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%20%20%20%20%7D);%0A%0A%20%20%20%20%20%20%20%20aiPattern.forEach((stepData,%20stepIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20stepIndex%20+=%20seedSteps;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20stepData.forEach(soundIndex%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20trackContainer%20=%20grid.children%5BsoundIndex%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20button%20=%20trackContainer.children%5BstepIndex%5D;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!button.classList.contains('active'))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#button.classList.add('active');#END_EDITABLE#%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%20%20%20%20%7D);%0A%0A%20%20%20%20%20%20%20%20trackData%20=%20seedPattern.concat(aiPattern);%0A%20%20%20%20%7D;%0A%20%20%20%20%0A%20%20%20%20DrumAI.continueSequence(seedSequence,%20aiSteps,%20temperature).then(handleResult);%0A%7D%0A%0Afunction%20createTrack()%20%7B%0A%20%20%20%20var%20trackContainer%20=%20document.createElement('div');%0A%0A%20%20%20%20trackContainer.className%20=%20'trackContainers';%0A%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20grid.append(trackContainer);%0A%7D%0A%0Afunction%20fillTrack(trackContainer)%20%7B%0A%20%20%20%20var%20oneEighthButton%20=%20document.createElement('div');%0A%0A%20%20%20%20oneEighthButton.className%20=%20'oneEighthButtons';%0A%20%20%20%20oneEighthButton.soundIndex%20=%20grid.children.length;%0A%20%20%20%20oneEighthButton.timingIndex%20=%20trackContainer.children.length;%0A%20%20%20%20trackContainer.append(oneEighthButton);%0A%20%20%20%20%0A%20%20%20%20if%20(trackData%5BoneEighthButton.timingIndex%5D.includes(oneEighthButton.soundIndex))%20%7B%0A%20%20%20%20%20%20%20%20oneEighthButton.classList.add('active');%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20if%20(trackContainer.children.length%20%3C%20fullLength)%20%7B%0A%20%20%20%20%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20getSeedSequence(seedPattern)%20%7B%0A%20%20%20%20var%20timeSignatures%20=%20%5B%7B%20time:%200,%20numerator:%204,%20denominator:%204%20%7D%5D;%0A%20%20%20%20var%20tempos%20=%20%5B%7B%20time:%200,%20qpm:%20120%20%7D%5D;%0A%20%20%20%20var%20midiDrums%20=%20%5B36,%2038,%2042,%2046,%2041,%2043,%2045,%2049,%2051%5D;%0A%20%20%20%20var%20notes%20=%20seedPattern.flatMap((step,%20index)%20=%3E%20step.map(d%20=%3E%20(%7B%0A%20%20%20%20%20%20%20%20pitch:%20midiDrums%5Bd%5D,%0A%20%20%20%20%20%20%20%20startTime:%20index%20*%200.5,%0A%20%20%20%20%20%20%20%20endTime:%20(index%20+%201)%20*%200.5,%0A%20%20%20%20%7D)));%0A%0A%20%20%20%20return%20mm.sequences.quantizeNoteSequence(%7B%0A%20%20%20%20%20%20%20%20ticksPerQuarter:%20220,%0A%20%20%20%20%20%20%20%20totalTime:%20seedPattern.length%20/%202,%0A%20%20%20%20%20%20%20%20timeSignatures,%0A%20%20%20%20%20%20%20%20tempos,%0A%20%20%20%20%20%20%20%20notes,%0A%20%20%20%20%7D,%201);%0A%7D%0A%0Afunction%20getAiPattern(aiSequence)%20%7B%0A%20%20%20%20var%20aiPattern%20=%20%5B%5D;%0A%20%20%20%20var%20reverseMidiMapping%20=%20new%20Map(%5B%0A%20%20%20%20%20%20%20%20%5B36,%200%5D,%20%5B35,%200%5D,%0A%20%20%20%20%20%20%20%20%5B38,%201%5D,%20%5B27,%201%5D,%20%5B28,%201%5D,%20%5B31,%201%5D,%20%5B32,%201%5D,%20%5B33,%201%5D,%20%5B34,%201%5D,%20%5B37,%201%5D,%20%5B39,%201%5D,%20%5B40,%201%5D,%20%5B56,%201%5D,%20%5B65,%201%5D,%20%5B66,%201%5D,%20%5B75,%201%5D,%20%5B85,%201%5D,%0A%20%20%20%20%20%20%20%20%5B42,%202%5D,%20%5B44,%202%5D,%20%5B54,%202%5D,%20%5B68,%202%5D,%20%5B69,%202%5D,%20%5B70,%202%5D,%20%5B71,%202%5D,%20%5B73,%202%5D,%20%5B78,%202%5D,%20%5B80,%202%5D,%0A%20%20%20%20%20%20%20%20%5B46,%203%5D,%20%5B67,%203%5D,%20%5B72,%203%5D,%20%5B74,%203%5D,%20%5B79,%203%5D,%20%5B81,%203%5D,%0A%20%20%20%20%20%20%20%20%5B45,%204%5D,%20%5B29,%204%5D,%20%5B41,%204%5D,%20%5B61,%204%5D,%20%5B64,%204%5D,%20%5B84,%204%5D,%0A%20%20%20%20%20%20%20%20%5B48,%205%5D,%20%5B47,%205%5D,%20%5B60,%205%5D,%20%5B63,%205%5D,%20%5B77,%205%5D,%20%5B86,%205%5D,%20%5B87,%205%5D,%0A%20%20%20%20%20%20%20%20%5B50,%206%5D,%20%5B30,%206%5D,%20%5B43,%206%5D,%20%5B62,%206%5D,%20%5B76,%206%5D,%20%5B83,%206%5D,%0A%20%20%20%20%20%20%20%20%5B49,%207%5D,%20%5B55,%207%5D,%20%5B57,%207%5D,%20%5B58,%207%5D,%0A%20%20%20%20%20%20%20%20%5B51,%208%5D,%20%5B52,%208%5D,%20%5B53,%208%5D,%20%5B59,%208%5D,%20%5B82,%208%5D,%0A%20%20%20%20%5D);%0A%0A%20%20%20%20aiSequence.notes.forEach(note%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20var%20stepIndex%20=%20note.quantizedStartStep;%0A%20%20%20%20%20%20%20%20var%20pitch%20=%20note.pitch;%0A%20%20%20%20%20%20%20%20var%20step%20=%20reverseMidiMapping.get(pitch);%0A%0A%20%20%20%20%20%20%20%20if%20(aiPattern%5BstepIndex%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20aiPattern%5BstepIndex%5D.push(step);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20aiPattern%5BstepIndex%5D%20=%20%5Bstep%5D;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D);%0A%0A%20%20%20%20return%20aiPattern;%0A%7D%0A##JS_E####CODE_23E####LOGIC_23####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60button.classList.remove('active');%60);%0Apass.if.js.editable(1).equivalent(%60button.classList.add('active');%60);##JS_E####LOGIC_23E####STEP_23E####STEP_24####INST_24##Adding%20the%20%22Play%22%20button%0A%0ATo%20play%20the%20track%20generated%20by%20the%20AI,%20we%20need%20to%20first%20add%20a%20button%20to%20our%20page.%0A%0AWhen%20the%20user%20clicks%20this%20button,%20we%20will%20run%20the%20*playOrPause*%20function%20to%20play%20or%20pause%20the%20track.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#html#%3Cbutton%3E%5D%0A%09(*)%5B#html#id%5D%0A%09(*)%5B#js#addEventListener%5D%0A%09(*)%5B#js#function%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+html#controls#+2,%20create%20a%20%60%3Cbutton%3E%60%20element,%20set%20the%20%60id%60%20attribute%20to%20*playButton*,%20add%20the%20%60disabled%60%20attribute%20and%20add%20the%20text%20*Loading%20Sound%20Files...*%20between%20the%20tags.%0A%0A(!)On%20+js#on%20initialize#+3,%20type%20in%20%60playButton.addEventListener('click',%20playOrStop);%60%20to%20handle%20the%20*click*%20event%20using%20the%20*playOrStop*%20function.%0A%0A(!)On%20+js#on%20enableAI#-2,%20create%20a%20function%20called%20*playOrStop*.##INST_24E####CODE_24####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=Contrail+One%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src='https://cdn.jsdelivr.net/npm/@magenta/music@1.1.11/dist/magentamusic.min.js'%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%20%20%20%20%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%0D%0A%09%09%09%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%0D%0A%09%09%20%20%20%20%3Cbutton%20id=%22generateButton%22%20disabled%3ELoading%20MegentaJS...%3C/button%3E%0D%0A%09%09%09#BEGIN_EDITABLE#%3Cbutton%20id=%22playButton%22%20disabled%3ELoading%20Sound%20Files...%3C/button%3E#END_EDITABLE#%0D%0A%09%09%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0Ah4%20%7B%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%20%20%20%20opacity:%200.4;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20font-size:%2016px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20outline:%20none;%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20place-content:%20center;%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%20%20%20%20place-items:%20center;%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A%0D%0A.trackContainers%20%7B%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons%20%7B%0D%0A%20%20%20%20border-radius:%204px;%0D%0A%20%20%20%20border:%201px%20solid%20white;%0D%0A%20%20%20%20background-color:%20gainsboro;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20opacity:%200.8;%0D%0A%20%20%20%20transition-property:%20opacity,%20background-color;%0D%0A%20%20%20%20transition-duration:%200.1s;%0D%0A%20%20%20%20transition-timing-function:%20ease-in-out;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons:hover%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active.highlight%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20crimson;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0A%0Avar%20baseUrl%20=%20'https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/';%0Avar%20soundNames%20=%20%5B%0A%20%20%20%20'808-kick',%0A%20%20%20%20'flares-snare',%0A%20%20%20%20'808-hihat',%0A%20%20%20%20'808-hihat-open',%0A%20%20%20%20'slamdam-tom-low',%0A%20%20%20%20'slamdam-tom-mid',%0A%20%20%20%20'slamdam-tom-high',%0A%20%20%20%20'909-clap',%0A%20%20%20%20'909-rim',%0A%5D;%0Avar%20trackData%20=%20%5B%0A%20%20%20%20%5B0,%207%5D,%0A%20%20%20%20%5B%5D,%0A%20%20%20%20%5B2,%205%5D,%0A%20%20%20%20%5B%5D,%0A%5D;%0Avar%20seedSteps%20=%20trackData.length;%0Avar%20aiSteps%20=%2012;%0Avar%20fullLength%20=%20seedSteps%20+%20aiSteps;%0Avar%20temperature%20=%201.1;%0A%0Awhile%20(trackData.length%20%3C%20fullLength)%20%7B%0A%20%20%20%20trackData.push(%5B%5D);%0A%7D%0A%0Avar%20DrumAI%20=%20new%20mm.MusicRNN('https://storage.googleapis.com/download.magenta.tensorflow.org/tfjs_checkpoints/music_rnn/drum_kit_rnn');%0Avar%20Tone%20=%20mm.Player.tone;%0Avar%20drumKit%20=%20soundNames.map(eachName%20=%3E%20new%20Tone.Player(baseUrl%20+%20eachName%20+%20'-vh.mp3').toMaster());%0A%0ATone.Buffer.on('load',%20initializeApp);%0ADrumAI.initialize().then(enableAI);%0A%0Afunction%20initializeApp()%20%7B%0A%20%20%20%20playButton.innerText%20=%20'Play';%0A%20%20%20%20playButton.disabled%20=%20false;%0A%20%20%20%20#BEGIN_EDITABLE#playButton.addEventListener('click',%20playOrStop);#END_EDITABLE#%0A%20%20%20%20%0A%20%20%20%20soundNames.forEach(createTrack);%0A%7D%0A%0A#BEGIN_EDITABLE#function%20playOrStop()%20%7B%7D#END_EDITABLE#%0A%0Afunction%20enableAI()%20%7B%0A%20%20%20%20generateButton.innerText%20=%20'Create%20New%20Beats';%0A%20%20%20%20generateButton.disabled%20=%20false;%0A%20%20%20%20generateButton.addEventListener('click',%20generateTrack);%0A%7D%0A%0Afunction%20generateTrack()%20%7B%0A%20%20%20%20var%20seedPattern%20=%20trackData.slice(0,%20seedSteps);%0A%20%20%20%20var%20seedSequence%20=%20getSeedSequence(seedPattern);%0A%20%20%20%20var%20handleResult%20=%20function(aiSequence)%20%7B%0A%20%20%20%20%20%20%20%20var%20trackContainers%20=%20grid.querySelectorAll('.trackContainers');%0A%20%20%20%20%20%20%20%20var%20aiPattern%20=%20getAiPattern(aiSequence,%20aiSteps);%0A%0A%20%20%20%20%20%20%20%20trackContainers.forEach(trackContainer%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20oneEighthButtons%20=%20trackContainer.querySelectorAll('.oneEighthButtons');%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20oneEighthButtons.forEach((button,%20buttonIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(buttonIndex%20%3E=%20seedSteps)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20button.classList.remove('active');%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20aiPattern%5BbuttonIndex%20-%20seedSteps%5D%20=%20aiPattern%5BbuttonIndex%20-%20seedSteps%5D%20%7C%7C%20%5B%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%20%20%20%20%7D);%0A%0A%20%20%20%20%20%20%20%20aiPattern.forEach((stepData,%20stepIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20stepIndex%20+=%20seedSteps;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20stepData.forEach(soundIndex%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20trackContainer%20=%20grid.children%5BsoundIndex%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20button%20=%20trackContainer.children%5BstepIndex%5D;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!button.classList.contains('active'))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20button.classList.add('active');%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%20%20%20%20%7D);%0A%0A%20%20%20%20%20%20%20%20trackData%20=%20seedPattern.concat(aiPattern);%0A%20%20%20%20%7D;%0A%20%20%20%20%0A%20%20%20%20DrumAI.continueSequence(seedSequence,%20aiSteps,%20temperature).then(handleResult);%0A%7D%0A%0Afunction%20createTrack()%20%7B%0A%20%20%20%20var%20trackContainer%20=%20document.createElement('div');%0A%0A%20%20%20%20trackContainer.className%20=%20'trackContainers';%0A%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20grid.append(trackContainer);%0A%7D%0A%0Afunction%20fillTrack(trackContainer)%20%7B%0A%20%20%20%20var%20oneEighthButton%20=%20document.createElement('div');%0A%0A%20%20%20%20oneEighthButton.className%20=%20'oneEighthButtons';%0A%20%20%20%20oneEighthButton.soundIndex%20=%20grid.children.length;%0A%20%20%20%20oneEighthButton.timingIndex%20=%20trackContainer.children.length;%0A%20%20%20%20trackContainer.append(oneEighthButton);%0A%20%20%20%20%0A%20%20%20%20if%20(trackData%5BoneEighthButton.timingIndex%5D.includes(oneEighthButton.soundIndex))%20%7B%0A%20%20%20%20%20%20%20%20oneEighthButton.classList.add('active');%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20if%20(trackContainer.children.length%20%3C%20fullLength)%20%7B%0A%20%20%20%20%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20getSeedSequence(seedPattern)%20%7B%0A%20%20%20%20var%20timeSignatures%20=%20%5B%7B%20time:%200,%20numerator:%204,%20denominator:%204%20%7D%5D;%0A%20%20%20%20var%20tempos%20=%20%5B%7B%20time:%200,%20qpm:%20120%20%7D%5D;%0A%20%20%20%20var%20midiDrums%20=%20%5B36,%2038,%2042,%2046,%2041,%2043,%2045,%2049,%2051%5D;%0A%20%20%20%20var%20notes%20=%20seedPattern.flatMap((step,%20index)%20=%3E%20step.map(d%20=%3E%20(%7B%0A%20%20%20%20%20%20%20%20pitch:%20midiDrums%5Bd%5D,%0A%20%20%20%20%20%20%20%20startTime:%20index%20*%200.5,%0A%20%20%20%20%20%20%20%20endTime:%20(index%20+%201)%20*%200.5,%0A%20%20%20%20%7D)));%0A%0A%20%20%20%20return%20mm.sequences.quantizeNoteSequence(%7B%0A%20%20%20%20%20%20%20%20ticksPerQuarter:%20220,%0A%20%20%20%20%20%20%20%20totalTime:%20seedPattern.length%20/%202,%0A%20%20%20%20%20%20%20%20timeSignatures,%0A%20%20%20%20%20%20%20%20tempos,%0A%20%20%20%20%20%20%20%20notes,%0A%20%20%20%20%7D,%201);%0A%7D%0A%0Afunction%20getAiPattern(aiSequence)%20%7B%0A%20%20%20%20var%20aiPattern%20=%20%5B%5D;%0A%20%20%20%20var%20reverseMidiMapping%20=%20new%20Map(%5B%0A%20%20%20%20%20%20%20%20%5B36,%200%5D,%20%5B35,%200%5D,%0A%20%20%20%20%20%20%20%20%5B38,%201%5D,%20%5B27,%201%5D,%20%5B28,%201%5D,%20%5B31,%201%5D,%20%5B32,%201%5D,%20%5B33,%201%5D,%20%5B34,%201%5D,%20%5B37,%201%5D,%20%5B39,%201%5D,%20%5B40,%201%5D,%20%5B56,%201%5D,%20%5B65,%201%5D,%20%5B66,%201%5D,%20%5B75,%201%5D,%20%5B85,%201%5D,%0A%20%20%20%20%20%20%20%20%5B42,%202%5D,%20%5B44,%202%5D,%20%5B54,%202%5D,%20%5B68,%202%5D,%20%5B69,%202%5D,%20%5B70,%202%5D,%20%5B71,%202%5D,%20%5B73,%202%5D,%20%5B78,%202%5D,%20%5B80,%202%5D,%0A%20%20%20%20%20%20%20%20%5B46,%203%5D,%20%5B67,%203%5D,%20%5B72,%203%5D,%20%5B74,%203%5D,%20%5B79,%203%5D,%20%5B81,%203%5D,%0A%20%20%20%20%20%20%20%20%5B45,%204%5D,%20%5B29,%204%5D,%20%5B41,%204%5D,%20%5B61,%204%5D,%20%5B64,%204%5D,%20%5B84,%204%5D,%0A%20%20%20%20%20%20%20%20%5B48,%205%5D,%20%5B47,%205%5D,%20%5B60,%205%5D,%20%5B63,%205%5D,%20%5B77,%205%5D,%20%5B86,%205%5D,%20%5B87,%205%5D,%0A%20%20%20%20%20%20%20%20%5B50,%206%5D,%20%5B30,%206%5D,%20%5B43,%206%5D,%20%5B62,%206%5D,%20%5B76,%206%5D,%20%5B83,%206%5D,%0A%20%20%20%20%20%20%20%20%5B49,%207%5D,%20%5B55,%207%5D,%20%5B57,%207%5D,%20%5B58,%207%5D,%0A%20%20%20%20%20%20%20%20%5B51,%208%5D,%20%5B52,%208%5D,%20%5B53,%208%5D,%20%5B59,%208%5D,%20%5B82,%208%5D,%0A%20%20%20%20%5D);%0A%0A%20%20%20%20aiSequence.notes.forEach(note%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20var%20stepIndex%20=%20note.quantizedStartStep;%0A%20%20%20%20%20%20%20%20var%20pitch%20=%20note.pitch;%0A%20%20%20%20%20%20%20%20var%20step%20=%20reverseMidiMapping.get(pitch);%0A%0A%20%20%20%20%20%20%20%20if%20(aiPattern%5BstepIndex%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20aiPattern%5BstepIndex%5D.push(step);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20aiPattern%5BstepIndex%5D%20=%20%5Bstep%5D;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D);%0A%0A%20%20%20%20return%20aiPattern;%0A%7D%0A#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_24E####LOGIC_24####HTML##//%20Expectation:%0Apass.if.html.editable(0).equivalent(%60%3Cbutton%20id=%22playButton%22%20disabled%3ELoading%20Sound%20Files...%3C/button%3E%60);##HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60playButton.addEventListener('click',%20playOrStop);%60);%0Apass.if.js.editable(1).equivalent(%60function%20playOrStop()%20%7B%7D%60);##JS_E####LOGIC_24E####STEP_24E####STEP_25####INST_25##Playing%20the%20track%0A%0AThe%20*drumKit*%20object%20we%20built%20from%20the%20list%20of%20sound%20names%20at%20the%20beginning%20of%20this%20project%20can%20be%20used%20to%20play%20the%20sounds%20as%20well.%0A%0AFor%20example,%20to%20play%20the%20*808-hihat*%20sound,%20we%20can%20use%20%60drumKit%5B2%5D.start()%60.%0A%0AWe%20can%20loop%20through%20*trackData*%20to%20play%20all%20the%20sounds%20in%20the%20grid,%20with%20a%20delay%20between%20the%20columns.%0A%0AWe%20can%20do%20this%20using%20the%20*setTimeout*%20function.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#array%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20stepCounter#+1,%20create%20a%20variable%20called%20*stepInterval*%20to%20store%20the%20number%20*120*.%0A%0A(!)On%20+js#1.5#+2,%20type%20in%20%60drumKit%5BsoundIndex%5D.start();%60%20to%20play%20a%20sound%20from%20the%20*drumKit*%20array.%0A%0A(!)On%20+js#on%20enableAI#-3,%20type%20in%20%60setTimeout(playTrack,%20stepInterval);%60%20to%20call%20the%20*playTrack*%20function%20with%20a%20delay.##INST_25E####CODE_25####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=Contrail+One%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src='https://cdn.jsdelivr.net/npm/@magenta/music@1.1.11/dist/magentamusic.min.js'%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%20%20%20%20%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%0D%0A%09%09%09%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%0D%0A%09%09%20%20%20%20%3Cbutton%20id=%22generateButton%22%20disabled%3ELoading%20MegentaJS...%3C/button%3E%0D%0A%09%09%09%3Ch2%20id=%22trackLabel%22%3E%3C/h2%3E%0D%0A%09%09%09%3Cbutton%20id=%22playButton%22%20disabled%3ELoading%20Sound%20Files...%3C/button%3E%0D%0A%09%09%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A#BEGIN_EDITABLE##END_EDITABLE#%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0Ah1,%20h4%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%7D%0D%0A%0D%0Ah1%20%7B%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Ah4%20%7B%0D%0A%20%20%20%20opacity:%200.4;%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20font-size:%2016px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20outline:%20none;%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%20%20%20%20grid-template-rows:%20auto%201fr%20auto;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20place-content:%20center;%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%20%20%20%20place-items:%20center;%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A%0D%0A#trackLabel%20%7B%0D%0A%20%20%20%20width:%20200px;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%7D%0D%0A%0D%0A.trackContainers%20%7B%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons%20%7B%0D%0A%20%20%20%20border-radius:%204px;%0D%0A%20%20%20%20border:%201px%20solid%20white;%0D%0A%20%20%20%20background-color:%20gainsboro;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20opacity:%200.8;%0D%0A%20%20%20%20transition-property:%20opacity,%20background-color;%0D%0A%20%20%20%20transition-duration:%200.1s;%0D%0A%20%20%20%20transition-timing-function:%20ease-in-out;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons:hover%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active.highlight%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20crimson;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0A%0Avar%20baseUrl%20=%20'https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/';%0Avar%20soundNames%20=%20%5B%0A%20%20%20%20'808-kick',%0A%20%20%20%20'flares-snare',%0A%20%20%20%20'808-hihat',%0A%20%20%20%20'808-hihat-open',%0A%20%20%20%20'slamdam-tom-low',%0A%20%20%20%20'slamdam-tom-mid',%0A%20%20%20%20'slamdam-tom-high',%0A%20%20%20%20'909-clap',%0A%20%20%20%20'909-rim',%0A%5D;%0Avar%20trackNames%20=%20%5B%0A%20%20%20%20'Kick%20Drum',%0A%20%20%20%20'Snare',%0A%20%20%20%20'Hi-Hat',%0A%20%20%20%20'Hi-Hat%20Open',%0A%20%20%20%20'Tom-Tom%20Low',%0A%20%20%20%20'Tom-Tom%20Mid',%0A%20%20%20%20'Tom-Tom%20High',%0A%20%20%20%20'Clap',%0A%20%20%20%20'Rim',%0A%5D;%0Avar%20trackData%20=%20%5B%0A%20%20%20%20%5B0,%207%5D,%0A%20%20%20%20%5B%5D,%0A%20%20%20%20%5B2,%205%5D,%0A%20%20%20%20%5B%5D,%0A%5D;%0Avar%20seedSteps%20=%20trackData.length;%0Avar%20aiSteps%20=%2012;%0Avar%20fullLength%20=%20seedSteps%20+%20aiSteps;%0Avar%20temperature%20=%201.1;%0Avar%20tempo%20=%2098;%0Avar%20stepCounter%20=%200;%0A#BEGIN_EDITABLE#var%20stepInterval%20=%20120;#END_EDITABLE#%0Avar%20trackIsPlaying%20=%20false;%0Avar%20stopPlaying%20=%20false;%0A%0Awhile%20(trackData.length%20%3C%20fullLength)%20%7B%0A%20%20%20%20trackData.push(%5B%5D);%0A%7D%0A%0Avar%20DrumAI%20=%20new%20mm.MusicRNN('https://storage.googleapis.com/download.magenta.tensorflow.org/tfjs_checkpoints/music_rnn/drum_kit_rnn');%0Avar%20Tone%20=%20mm.Player.tone;%0Avar%20drumKit%20=%20soundNames.map(eachName%20=%3E%20new%20Tone.Player(baseUrl%20+%20eachName%20+%20'-vh.mp3').toMaster());%0A%0ATone.Buffer.on('load',%20initializeApp);%0ADrumAI.initialize().then(enableAI);%0A%0Afunction%20initializeApp()%20%7B%0A%20%20%20%20playButton.innerText%20=%20'Play';%0A%20%20%20%20playButton.disabled%20=%20false;%0A%20%20%20%20playButton.addEventListener('click',%20playOrStop);%0A%20%20%20%20%0A%20%20%20%20soundNames.forEach(createTrack);%0A%7D%0A%0Afunction%20playOrStop()%20%7B%0A%20%20%20%20if%20(trackIsPlaying)%20%7B%0A%20%20%20%20%20%20%20%20trackIsPlaying%20=%20false;%0A%20%20%20%20%20%20%20%20stopPlaying%20=%20true;%0A%20%20%20%20%20%20%20%20playButton.innerText%20=%20'Play';%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20trackIsPlaying%20=%20true;%0A%20%20%20%20%20%20%20%20playButton.innerText%20=%20'Stop';%0A%20%20%20%20%20%20%20%20playTrack();%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20playTrack()%20%7B%0A%20%20%20%20if%20(stopPlaying)%20%7B%0A%20%20%20%20%20%20%20%20stepCounter%20=%200;%0A%20%20%20%20%20%20%20%20trackIsPlaying%20=%20false;%0A%20%20%20%20%20%20%20%20stopPlaying%20=%20false;%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20step%20=%20trackData%5BstepCounter%5D;%0A%0A%20%20%20%20if%20(step)%20%7B%0A%20%20%20%20%20%20%20%20step.forEach(soundIndex%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20button%20=%20grid.children%5BsoundIndex%5D.children%5BstepCounter%5D;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20button.classList.add('highlight');%0A%20%20%20%20%20%20%20%20%20%20%20%20setTimeout(()%20=%3E%20button.classList.remove('highlight'),%20stepInterval%20/%201.5);%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#drumKit%5BsoundIndex%5D.start();#END_EDITABLE#%0A%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%7D%0A%0A%20%20%20%20stepCounter++;%0A%0A%20%20%20%20if%20(stepCounter%20==%20trackData.length)%20%7B%0A%20%20%20%20%20%20%20%20stepCounter%20=%200;%0A%20%20%20%20%7D%0A%0A%20%20%20%20#BEGIN_EDITABLE#setTimeout(playTrack,%20stepInterval);#END_EDITABLE#%0A%7D%0A%0Afunction%20enableAI()%20%7B%0A%20%20%20%20generateButton.innerText%20=%20'Create%20New%20Beats';%0A%20%20%20%20generateButton.disabled%20=%20false;%0A%20%20%20%20generateButton.addEventListener('click',%20generateTrack);%0A%7D%0A%0Afunction%20generateTrack()%20%7B%0A%20%20%20%20var%20seedPattern%20=%20trackData.slice(0,%20seedSteps);%0A%20%20%20%20var%20seedSequence%20=%20getSeedSequence(seedPattern);%0A%20%20%20%20var%20handleResult%20=%20function(aiSequence)%20%7B%0A%20%20%20%20%20%20%20%20var%20trackContainers%20=%20grid.querySelectorAll('.trackContainers');%0A%20%20%20%20%20%20%20%20var%20aiPattern%20=%20getAiPattern(aiSequence,%20aiSteps);%0A%0A%20%20%20%20%20%20%20%20trackContainers.forEach(trackContainer%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20oneEighthButtons%20=%20trackContainer.querySelectorAll('.oneEighthButtons');%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20oneEighthButtons.forEach((button,%20buttonIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(buttonIndex%20%3E=%20seedSteps)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20button.classList.remove('active');%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20aiPattern%5BbuttonIndex%20-%20seedSteps%5D%20=%20aiPattern%5BbuttonIndex%20-%20seedSteps%5D%20%7C%7C%20%5B%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%20%20%20%20%7D);%0A%0A%20%20%20%20%20%20%20%20aiPattern.forEach((stepData,%20stepIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20stepIndex%20+=%20seedSteps;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20stepData.forEach(soundIndex%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20trackContainer%20=%20grid.children%5BsoundIndex%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20button%20=%20trackContainer.children%5BstepIndex%5D;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!button.classList.contains('active'))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20button.classList.add('active');%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%20%20%20%20%7D);%0A%0A%20%20%20%20%20%20%20%20trackData%20=%20seedPattern.concat(aiPattern);%0A%20%20%20%20%7D;%0A%20%20%20%20%0A%20%20%20%20DrumAI.continueSequence(seedSequence,%20aiSteps,%20temperature).then(handleResult);%0A%7D%0A%0Afunction%20createTrack()%20%7B%0A%20%20%20%20var%20trackContainer%20=%20document.createElement('div');%0A%0A%20%20%20%20trackContainer.className%20=%20'trackContainers';%0A%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20grid.append(trackContainer);%0A%7D%0A%0Afunction%20fillTrack(trackContainer)%20%7B%0A%20%20%20%20var%20oneEighthButton%20=%20document.createElement('div');%0A%0A%20%20%20%20oneEighthButton.className%20=%20'oneEighthButtons';%0A%20%20%20%20oneEighthButton.soundIndex%20=%20grid.children.length;%0A%20%20%20%20oneEighthButton.timingIndex%20=%20trackContainer.children.length;%0A%20%20%20%20%0A%20%20%20%20oneEighthButton.addEventListener('click',%20updateTrackData);%0A%20%20%20%20oneEighthButton.addEventListener('mouseenter',%20evt%20=%3E%20trackLabel.innerText%20=%20trackNames%5Bevt.target.soundIndex%5D);%0A%20%20%20%20oneEighthButton.addEventListener('mouseleave',%20()%20=%3E%20trackLabel.innerText%20=%20'');%0A%20%20%20%20%0A%20%20%20%20trackContainer.append(oneEighthButton);%0A%20%20%20%20%0A%20%20%20%20if%20(trackData%5BoneEighthButton.timingIndex%5D.includes(oneEighthButton.soundIndex))%20%7B%0A%20%20%20%20%20%20%20%20oneEighthButton.classList.add('active');%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20if%20(trackContainer.children.length%20%3C%20fullLength)%20%7B%0A%20%20%20%20%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20updateTrackData(evt)%20%7B%0A%20%20%20%20var%20soundIndex%20=%20evt.target.soundIndex;%0A%20%20%20%20var%20timingIndex%20=%20evt.target.timingIndex;%0A%20%20%20%20var%20timing%20=%20trackData%5BtimingIndex%5D%20%7C%7C%20%5B%5D;%0A%0A%20%20%20%20if%20(timing.includes(soundIndex))%20%7B%0A%20%20%20%20%20%20%20%20timing.splice(timing.indexOf(soundIndex),%201);%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20timing.push(soundIndex);%0A%20%20%20%20%20%20%20%20drumKit%5BsoundIndex%5D.start();%0A%20%20%20%20%7D%0A%0A%20%20%20%20evt.target.classList.toggle('active');%0A%20%20%20%20trackData%5BtimingIndex%5D%20=%20timing;%0A%7D%0A%0Afunction%20getSeedSequence(seedPattern)%20%7B%0A%20%20%20%20var%20timeSignatures%20=%20%5B%7B%20time:%200,%20numerator:%204,%20denominator:%204%20%7D%5D;%0A%20%20%20%20var%20tempos%20=%20%5B%7B%20time:%200,%20qpm:%20tempo%20%7D%5D;%0A%20%20%20%20var%20midiDrums%20=%20%5B36,%2038,%2042,%2046,%2041,%2043,%2045,%2049,%2051%5D;%0A%20%20%20%20var%20notes%20=%20seedPattern.flatMap((step,%20index)%20=%3E%20step.map(d%20=%3E%20(%7B%0A%20%20%20%20%20%20%20%20pitch:%20midiDrums%5Bd%5D,%0A%20%20%20%20%20%20%20%20startTime:%20index%20*%200.5,%0A%20%20%20%20%20%20%20%20endTime:%20(index%20+%201)%20*%200.5,%0A%20%20%20%20%7D)));%0A%0A%20%20%20%20return%20mm.sequences.quantizeNoteSequence(%7B%0A%20%20%20%20%20%20%20%20ticksPerQuarter:%20220,%0A%20%20%20%20%20%20%20%20totalTime:%20seedPattern.length%20/%202,%0A%20%20%20%20%20%20%20%20timeSignatures,%0A%20%20%20%20%20%20%20%20tempos,%0A%20%20%20%20%20%20%20%20notes,%0A%20%20%20%20%7D,%201);%0A%7D%0A%0Afunction%20getAiPattern(aiSequence)%20%7B%0A%20%20%20%20var%20aiPattern%20=%20%5B%5D;%0A%20%20%20%20var%20reverseMidiMapping%20=%20new%20Map(%5B%0A%20%20%20%20%20%20%20%20%5B36,%200%5D,%20%5B35,%200%5D,%0A%20%20%20%20%20%20%20%20%5B38,%201%5D,%20%5B27,%201%5D,%20%5B28,%201%5D,%20%5B31,%201%5D,%20%5B32,%201%5D,%20%5B33,%201%5D,%20%5B34,%201%5D,%20%5B37,%201%5D,%20%5B39,%201%5D,%20%5B40,%201%5D,%20%5B56,%201%5D,%20%5B65,%201%5D,%20%5B66,%201%5D,%20%5B75,%201%5D,%20%5B85,%201%5D,%0A%20%20%20%20%20%20%20%20%5B42,%202%5D,%20%5B44,%202%5D,%20%5B54,%202%5D,%20%5B68,%202%5D,%20%5B69,%202%5D,%20%5B70,%202%5D,%20%5B71,%202%5D,%20%5B73,%202%5D,%20%5B78,%202%5D,%20%5B80,%202%5D,%0A%20%20%20%20%20%20%20%20%5B46,%203%5D,%20%5B67,%203%5D,%20%5B72,%203%5D,%20%5B74,%203%5D,%20%5B79,%203%5D,%20%5B81,%203%5D,%0A%20%20%20%20%20%20%20%20%5B45,%204%5D,%20%5B29,%204%5D,%20%5B41,%204%5D,%20%5B61,%204%5D,%20%5B64,%204%5D,%20%5B84,%204%5D,%0A%20%20%20%20%20%20%20%20%5B48,%205%5D,%20%5B47,%205%5D,%20%5B60,%205%5D,%20%5B63,%205%5D,%20%5B77,%205%5D,%20%5B86,%205%5D,%20%5B87,%205%5D,%0A%20%20%20%20%20%20%20%20%5B50,%206%5D,%20%5B30,%206%5D,%20%5B43,%206%5D,%20%5B62,%206%5D,%20%5B76,%206%5D,%20%5B83,%206%5D,%0A%20%20%20%20%20%20%20%20%5B49,%207%5D,%20%5B55,%207%5D,%20%5B57,%207%5D,%20%5B58,%207%5D,%0A%20%20%20%20%20%20%20%20%5B51,%208%5D,%20%5B52,%208%5D,%20%5B53,%208%5D,%20%5B59,%208%5D,%20%5B82,%208%5D,%0A%20%20%20%20%5D);%0A%0A%20%20%20%20aiSequence.notes.forEach(note%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20var%20stepIndex%20=%20note.quantizedStartStep;%0A%20%20%20%20%20%20%20%20var%20pitch%20=%20note.pitch;%0A%20%20%20%20%20%20%20%20var%20step%20=%20reverseMidiMapping.get(pitch);%0A%0A%20%20%20%20%20%20%20%20if%20(aiPattern%5BstepIndex%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20aiPattern%5BstepIndex%5D.push(step);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20aiPattern%5BstepIndex%5D%20=%20%5Bstep%5D;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D);%0A%0A%20%20%20%20return%20aiPattern;%0A%7D%0A##JS_E####CODE_25E####LOGIC_25####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20stepInterval%20=%20120;%60);%0Apass.if.js.editable(1).equivalent(%60drumKit%5BsoundIndex%5D.start();%60);%0Apass.if.js.editable(2).equivalent(%60setTimeout(playTrack,%20stepInterval);%60);##JS_E####LOGIC_25E####STEP_25E####STEP_26####INST_26##Summary%0A%0AGreat%20job!%20You%20have%20completed%20this%20project,%20test%20it%20out%20to%20see%20how%20easy%20it%20is%20to%20create%20a%20decent%20drum%20track%20with%20the%20help%20of%20the%20MagentaJS%20library.%0A%0AHere%20is%20a%20recap:%0A%0A%5B-%0A%09(*)we%20used%20%5Bheader#html#%3Ch1%3E%5D,%20%5B#html#%3Cdiv%3E%5D%20and%20%5B#html#%3Cbutton%3E%5D%20elements%20to%20create%20the%20various%20sections%20in%20our%20music%20app.%0A%09(*)we%20used%20%5B#css#background-color%5D,%20%5B#css#text-align%5D,%20%5B#css#padding%5D,%20%5B#css#place-content%5D,%20%5B#css#font-family%5D%20and%20%5B#css#opacity%5D%20to%20style%20our%20app.%0A%09(*)we%20used%20%5B#js#variable%5D,%20%5B#js#array%5D,%20%5B#js#function%5D,%20%5B#js#addEventListener%5D,%20%5B#js#forEach%5D%20and%20%5Bconditional%20statements#js#if%5D%20to%20create%20the%20logic%20of%20the%20app.%0A-%5D##INST_26E####CODE_26####HTML##%3C!DOCTYPE%20html%3E%0D%0A%3Chtml%3E%0D%0A%0D%0A%3Chead%3E%0D%0A%09%3Clink%20href=%22https://fonts.googleapis.com/css?family=Contrail+One%22%20rel=%22stylesheet%22%3E%0D%0A%09%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0D%0A%09%3Cscript%20src='https://cdn.jsdelivr.net/npm/@magenta/music@1.1.11/dist/magentamusic.min.js'%3E%3C/script%3E%0D%0A%3C/head%3E%0D%0A%0D%0A%3Cbody%3E%0D%0A%09%3Cdiv%20id=%22musicApp%22%3E%0D%0A%09%09%3Cdiv%20id=%22heading%22%3E%0D%0A%09%09%20%20%20%20%3Ch1%3EMagentaJS%20Musical%20AI%3C/h1%3E%0D%0A%09%09%09%3Ch4%20id=%22subtitle%22%3ECreate%20awesome%20drum%20beats!%3C/h4%3E%0D%0A%09%09%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22grid%22%3E%3C/div%3E%0D%0A%0D%0A%09%09%3Cdiv%20id=%22controls%22%3E%0D%0A%09%09%20%20%20%20%3Cbutton%20id=%22generateButton%22%20disabled%3ELoading%20MegentaJS...%3C/button%3E%0D%0A%09%09%09%3Ch2%20id=%22trackLabel%22%3E%3C/h2%3E%0D%0A%09%09%09%3Cbutton%20id=%22playButton%22%20disabled%3ELoading%20Sound%20Files...%3C/button%3E%0D%0A%09%09%3C/div%3E%0D%0A%09%3C/div%3E%0D%0A%0D%0A%09%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0D%0A%3C/body%3E%0D%0A%0D%0A%3C/html%3E%0D%0A%0D%0A##HTML_E####CSS##/*%20CSS%20*/%0D%0A%0D%0A*%20%7B%0D%0A%20%20%20%20margin:%200;%0D%0A%20%20%20%20user-select:%20none;%0D%0A%7D%0D%0A%0D%0Abody%20%7B%0D%0A%20%20%20%20height:%20100vh;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20background-color:%20mintcream;%0D%0A%7D%0D%0A%0D%0Ah1,%20h4%20%7B%0D%0A%20%20%20%20width:%20100%25;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%7D%0D%0A%0D%0Ah1%20%7B%0D%0A%20%20%20%20letter-spacing:%202px;%0D%0A%7D%0D%0A%0D%0Ah4%20%7B%0D%0A%20%20%20%20opacity:%200.4;%0D%0A%20%20%20%20padding-top:%2010px;%0D%0A%7D%0D%0A%0D%0Abutton%20%7B%0D%0A%20%20%20%20padding:%2010px%2020px;%0D%0A%20%20%20%20border:%20none;%0D%0A%20%20%20%20border-radius:%2010px;%0D%0A%20%20%20%20color:%20white;%0D%0A%20%20%20%20font-family:%20%22Contrail%20One%22;%0D%0A%20%20%20%20font-size:%2016px;%0D%0A%20%20%20%20background-color:%20dodgerblue;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20outline:%20none;%0D%0A%7D%0D%0A%0D%0A#musicApp,%20#heading,%20#grid,%20.trackContainers,%20#controls%20%7B%0D%0A%20%20%20%20display:%20grid;%0D%0A%7D%0D%0A%0D%0A#musicApp%20%7B%0D%0A%20%20%20%20height:%20100%25;%0D%0A%20%20%20%20place-items:%20stretch;%0D%0A%20%20%20%20grid-template-rows:%20auto%201fr%20auto;%0D%0A%7D%0D%0A%0D%0A#heading%20%7B%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20place-content:%20center;%0D%0A%20%20%20%20background-color:%20azure;%0D%0A%7D%0D%0A%0D%0A#controls%20%7B%0D%0A%20%20%20%20padding:%2010px;%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%20%20%20%20place-items:%20center;%0D%0A%20%20%20%20background-color:%20aliceblue;%0D%0A%7D%0D%0A%0D%0A#trackLabel%20%7B%0D%0A%20%20%20%20width:%20200px;%0D%0A%20%20%20%20text-align:%20center;%0D%0A%7D%0D%0A%0D%0A.trackContainers%20%7B%0D%0A%20%20%20%20grid-auto-flow:%20column;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons%20%7B%0D%0A%20%20%20%20border-radius:%204px;%0D%0A%20%20%20%20border:%201px%20solid%20white;%0D%0A%20%20%20%20background-color:%20gainsboro;%0D%0A%20%20%20%20cursor:%20pointer;%0D%0A%20%20%20%20opacity:%200.8;%0D%0A%20%20%20%20transition-property:%20opacity,%20background-color;%0D%0A%20%20%20%20transition-duration:%200.1s;%0D%0A%20%20%20%20transition-timing-function:%20ease-in-out;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons:hover%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20lightblue;%0D%0A%7D%0D%0A%0D%0A.oneEighthButtons.active.highlight%20%7B%0D%0A%20%20%20%20opacity:%201;%0D%0A%20%20%20%20background-color:%20crimson;%0D%0A%7D%0D%0A##CSS_E####JS##//%20%20JavaScript%0A%0Avar%20baseUrl%20=%20'https://s3-us-west-2.amazonaws.com/s.cdpn.io/969699/';%0Avar%20soundNames%20=%20%5B%0A%20%20%20%20'808-kick',%0A%20%20%20%20'flares-snare',%0A%20%20%20%20'808-hihat',%0A%20%20%20%20'808-hihat-open',%0A%20%20%20%20'slamdam-tom-low',%0A%20%20%20%20'slamdam-tom-mid',%0A%20%20%20%20'slamdam-tom-high',%0A%20%20%20%20'909-clap',%0A%20%20%20%20'909-rim',%0A%5D;%0Avar%20trackNames%20=%20%5B%0A%20%20%20%20'Kick%20Drum',%0A%20%20%20%20'Snare',%0A%20%20%20%20'Hi-Hat',%0A%20%20%20%20'Hi-Hat%20Open',%0A%20%20%20%20'Tom-Tom%20Low',%0A%20%20%20%20'Tom-Tom%20Mid',%0A%20%20%20%20'Tom-Tom%20High',%0A%20%20%20%20'Clap',%0A%20%20%20%20'Rim',%0A%5D;%0Avar%20trackData%20=%20%5B%0A%20%20%20%20%5B0,%207%5D,%0A%20%20%20%20%5B%5D,%0A%20%20%20%20%5B2,%205%5D,%0A%20%20%20%20%5B%5D,%0A%5D;%0Avar%20seedSteps%20=%20trackData.length;%0Avar%20aiSteps%20=%2012;%0Avar%20fullLength%20=%20seedSteps%20+%20aiSteps;%0Avar%20temperature%20=%201.1;%0Avar%20stepCounter%20=%200;%0Avar%20stepInterval%20=%20120;%0Avar%20trackIsPlaying%20=%20false;%0Avar%20stopPlaying%20=%20false;%0A%0Awhile%20(trackData.length%20%3C%20fullLength)%20%7B%0A%20%20%20%20trackData.push(%5B%5D);%0A%7D%0A%0Avar%20DrumAI%20=%20new%20mm.MusicRNN('https://storage.googleapis.com/download.magenta.tensorflow.org/tfjs_checkpoints/music_rnn/drum_kit_rnn');%0Avar%20Tone%20=%20mm.Player.tone;%0Avar%20drumKit%20=%20soundNames.map(eachName%20=%3E%20new%20Tone.Player(baseUrl%20+%20eachName%20+%20'-vh.mp3').toMaster());%0A%0ATone.Buffer.on('load',%20initializeApp);%0ADrumAI.initialize().then(enableAI);%0A%0Afunction%20initializeApp()%20%7B%0A%20%20%20%20playButton.innerText%20=%20'Play';%0A%20%20%20%20playButton.disabled%20=%20false;%0A%20%20%20%20playButton.addEventListener('click',%20playOrStop);%0A%20%20%20%20%0A%20%20%20%20soundNames.forEach(createTrack);%0A%7D%0A%0Afunction%20playOrStop()%20%7B%0A%20%20%20%20if%20(trackIsPlaying)%20%7B%0A%20%20%20%20%20%20%20%20trackIsPlaying%20=%20false;%0A%20%20%20%20%20%20%20%20stopPlaying%20=%20true;%0A%20%20%20%20%20%20%20%20playButton.innerText%20=%20'Play';%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20trackIsPlaying%20=%20true;%0A%20%20%20%20%20%20%20%20playButton.innerText%20=%20'Stop';%0A%20%20%20%20%20%20%20%20playTrack();%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20playTrack()%20%7B%0A%20%20%20%20if%20(stopPlaying)%20%7B%0A%20%20%20%20%20%20%20%20stepCounter%20=%200;%0A%20%20%20%20%20%20%20%20trackIsPlaying%20=%20false;%0A%20%20%20%20%20%20%20%20stopPlaying%20=%20false;%0A%20%20%20%20%20%20%20%20return;%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20step%20=%20trackData%5BstepCounter%5D;%0A%0A%20%20%20%20if%20(step)%20%7B%0A%20%20%20%20%20%20%20%20step.forEach(soundIndex%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20button%20=%20grid.children%5BsoundIndex%5D.children%5BstepCounter%5D;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20button.classList.add('highlight');%0A%20%20%20%20%20%20%20%20%20%20%20%20setTimeout(()%20=%3E%20button.classList.remove('highlight'),%20stepInterval%20/%201.5);%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20drumKit%5BsoundIndex%5D.start();%0A%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%7D%0A%0A%20%20%20%20stepCounter++;%0A%0A%20%20%20%20if%20(stepCounter%20==%20trackData.length)%20%7B%0A%20%20%20%20%20%20%20%20stepCounter%20=%200;%0A%20%20%20%20%7D%0A%0A%20%20%20%20setTimeout(playTrack,%20stepInterval);%0A%7D%0A%0Afunction%20enableAI()%20%7B%0A%20%20%20%20generateButton.innerText%20=%20'Create%20New%20Beats';%0A%20%20%20%20generateButton.disabled%20=%20false;%0A%20%20%20%20generateButton.addEventListener('click',%20generateTrack);%0A%7D%0A%0Afunction%20generateTrack()%20%7B%0A%20%20%20%20var%20seedPattern%20=%20trackData.slice(0,%20seedSteps);%0A%20%20%20%20var%20seedSequence%20=%20getSeedSequence(seedPattern);%0A%20%20%20%20var%20handleResult%20=%20function(aiSequence)%20%7B%0A%20%20%20%20%20%20%20%20var%20trackContainers%20=%20grid.querySelectorAll('.trackContainers');%0A%20%20%20%20%20%20%20%20var%20aiPattern%20=%20getAiPattern(aiSequence,%20aiSteps);%0A%0A%20%20%20%20%20%20%20%20trackContainers.forEach(trackContainer%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20oneEighthButtons%20=%20trackContainer.querySelectorAll('.oneEighthButtons');%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20oneEighthButtons.forEach((button,%20buttonIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(buttonIndex%20%3E=%20seedSteps)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20button.classList.remove('active');%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20aiPattern%5BbuttonIndex%20-%20seedSteps%5D%20=%20aiPattern%5BbuttonIndex%20-%20seedSteps%5D%20%7C%7C%20%5B%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%20%20%20%20%7D);%0A%0A%20%20%20%20%20%20%20%20aiPattern.forEach((stepData,%20stepIndex)%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20stepIndex%20+=%20seedSteps;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20stepData.forEach(soundIndex%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20trackContainer%20=%20grid.children%5BsoundIndex%5D;%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20button%20=%20trackContainer.children%5BstepIndex%5D;%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!button.classList.contains('active'))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20button.classList.add('active');%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D);%0A%20%20%20%20%20%20%20%20%7D);%0A%0A%20%20%20%20%20%20%20%20trackData%20=%20seedPattern.concat(aiPattern);%0A%20%20%20%20%7D;%0A%20%20%20%20%0A%20%20%20%20DrumAI.continueSequence(seedSequence,%20aiSteps,%20temperature).then(handleResult);%0A%7D%0A%0Afunction%20createTrack()%20%7B%0A%20%20%20%20var%20trackContainer%20=%20document.createElement('div');%0A%0A%20%20%20%20trackContainer.className%20=%20'trackContainers';%0A%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20grid.append(trackContainer);%0A%7D%0A%0Afunction%20fillTrack(trackContainer)%20%7B%0A%20%20%20%20var%20oneEighthButton%20=%20document.createElement('div');%0A%0A%20%20%20%20oneEighthButton.className%20=%20'oneEighthButtons';%0A%20%20%20%20oneEighthButton.soundIndex%20=%20grid.children.length;%0A%20%20%20%20oneEighthButton.timingIndex%20=%20trackContainer.children.length;%0A%20%20%20%20%0A%20%20%20%20oneEighthButton.addEventListener('click',%20updateTrackData);%0A%20%20%20%20oneEighthButton.addEventListener('mouseenter',%20evt%20=%3E%20trackLabel.innerText%20=%20trackNames%5Bevt.target.soundIndex%5D);%0A%20%20%20%20oneEighthButton.addEventListener('mouseleave',%20()%20=%3E%20trackLabel.innerText%20=%20'');%0A%20%20%20%20%0A%20%20%20%20trackContainer.append(oneEighthButton);%0A%20%20%20%20%0A%20%20%20%20if%20(trackData%5BoneEighthButton.timingIndex%5D.includes(oneEighthButton.soundIndex))%20%7B%0A%20%20%20%20%20%20%20%20oneEighthButton.classList.add('active');%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20if%20(trackContainer.children.length%20%3C%20fullLength)%20%7B%0A%20%20%20%20%20%20%20%20fillTrack(trackContainer);%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20updateTrackData(evt)%20%7B%0A%20%20%20%20var%20soundIndex%20=%20evt.target.soundIndex;%0A%20%20%20%20var%20timingIndex%20=%20evt.target.timingIndex;%0A%20%20%20%20var%20timing%20=%20trackData%5BtimingIndex%5D%20%7C%7C%20%5B%5D;%0A%0A%20%20%20%20if%20(timing.includes(soundIndex))%20%7B%0A%20%20%20%20%20%20%20%20timing.splice(timing.indexOf(soundIndex),%201);%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20timing.push(soundIndex);%0A%20%20%20%20%20%20%20%20drumKit%5BsoundIndex%5D.start();%0A%20%20%20%20%7D%0A%0A%20%20%20%20evt.target.classList.toggle('active');%0A%20%20%20%20trackData%5BtimingIndex%5D%20=%20timing;%0A%7D%0A%0Afunction%20getSeedSequence(seedPattern)%20%7B%0A%20%20%20%20var%20timeSignatures%20=%20%5B%7B%20time:%200,%20numerator:%204,%20denominator:%204%20%7D%5D;%0A%20%20%20%20var%20tempos%20=%20%5B%7B%20time:%200,%20qpm:%20120%20%7D%5D;%0A%20%20%20%20var%20midiDrums%20=%20%5B36,%2038,%2042,%2046,%2041,%2043,%2045,%2049,%2051%5D;%0A%20%20%20%20var%20notes%20=%20seedPattern.flatMap((step,%20index)%20=%3E%20step.map(d%20=%3E%20(%7B%0A%20%20%20%20%20%20%20%20pitch:%20midiDrums%5Bd%5D,%0A%20%20%20%20%20%20%20%20startTime:%20index%20*%200.5,%0A%20%20%20%20%20%20%20%20endTime:%20(index%20+%201)%20*%200.5,%0A%20%20%20%20%7D)));%0A%0A%20%20%20%20return%20mm.sequences.quantizeNoteSequence(%7B%0A%20%20%20%20%20%20%20%20ticksPerQuarter:%20220,%0A%20%20%20%20%20%20%20%20totalTime:%20seedPattern.length%20/%202,%0A%20%20%20%20%20%20%20%20timeSignatures,%0A%20%20%20%20%20%20%20%20tempos,%0A%20%20%20%20%20%20%20%20notes,%0A%20%20%20%20%7D,%201);%0A%7D%0A%0Afunction%20getAiPattern(aiSequence)%20%7B%0A%20%20%20%20var%20aiPattern%20=%20%5B%5D;%0A%20%20%20%20var%20reverseMidiMapping%20=%20new%20Map(%5B%0A%20%20%20%20%20%20%20%20%5B36,%200%5D,%20%5B35,%200%5D,%0A%20%20%20%20%20%20%20%20%5B38,%201%5D,%20%5B27,%201%5D,%20%5B28,%201%5D,%20%5B31,%201%5D,%20%5B32,%201%5D,%20%5B33,%201%5D,%20%5B34,%201%5D,%20%5B37,%201%5D,%20%5B39,%201%5D,%20%5B40,%201%5D,%20%5B56,%201%5D,%20%5B65,%201%5D,%20%5B66,%201%5D,%20%5B75,%201%5D,%20%5B85,%201%5D,%0A%20%20%20%20%20%20%20%20%5B42,%202%5D,%20%5B44,%202%5D,%20%5B54,%202%5D,%20%5B68,%202%5D,%20%5B69,%202%5D,%20%5B70,%202%5D,%20%5B71,%202%5D,%20%5B73,%202%5D,%20%5B78,%202%5D,%20%5B80,%202%5D,%0A%20%20%20%20%20%20%20%20%5B46,%203%5D,%20%5B67,%203%5D,%20%5B72,%203%5D,%20%5B74,%203%5D,%20%5B79,%203%5D,%20%5B81,%203%5D,%0A%20%20%20%20%20%20%20%20%5B45,%204%5D,%20%5B29,%204%5D,%20%5B41,%204%5D,%20%5B61,%204%5D,%20%5B64,%204%5D,%20%5B84,%204%5D,%0A%20%20%20%20%20%20%20%20%5B48,%205%5D,%20%5B47,%205%5D,%20%5B60,%205%5D,%20%5B63,%205%5D,%20%5B77,%205%5D,%20%5B86,%205%5D,%20%5B87,%205%5D,%0A%20%20%20%20%20%20%20%20%5B50,%206%5D,%20%5B30,%206%5D,%20%5B43,%206%5D,%20%5B62,%206%5D,%20%5B76,%206%5D,%20%5B83,%206%5D,%0A%20%20%20%20%20%20%20%20%5B49,%207%5D,%20%5B55,%207%5D,%20%5B57,%207%5D,%20%5B58,%207%5D,%0A%20%20%20%20%20%20%20%20%5B51,%208%5D,%20%5B52,%208%5D,%20%5B53,%208%5D,%20%5B59,%208%5D,%20%5B82,%208%5D,%0A%20%20%20%20%5D);%0A%0A%20%20%20%20aiSequence.notes.forEach(note%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20var%20stepIndex%20=%20note.quantizedStartStep;%0A%20%20%20%20%20%20%20%20var%20pitch%20=%20note.pitch;%0A%20%20%20%20%20%20%20%20var%20step%20=%20reverseMidiMapping.get(pitch);%0A%0A%20%20%20%20%20%20%20%20if%20(aiPattern%5BstepIndex%5D)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20aiPattern%5BstepIndex%5D.push(step);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20aiPattern%5BstepIndex%5D%20=%20%5Bstep%5D;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D);%0A%0A%20%20%20%20return%20aiPattern;%0A%7D%0A#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_26E####LOGIC_26####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_26E####STEP_26E##