19##STEP_1####INST_1##Introduction%0A%0A%5BScenario%5D%20Why%20is%20this%20useful?%0A%0A%5BLearning%20Outcome%5D%20Exactly%20what%20the%20learner%20will%20do.%0A%0A(***)%0A%0A(!)pass%20the%20step.##INST_1E####CODE_1####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22https://app.bsd.education/resources/css/chessboard-0.3.0.css%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/jquery-3.2.1.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chess.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chessboard.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch1%3EAI%20Chess%3C/h1%3E%0A%20%20%20%20%3Cdiv%20id=%22board%22%20class=%22board%22%3E%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0A%20%20%20%20background-color:%20white;%0A%7D%0A%0Ah1%20%7B%0A%20%20%20%20text-align:%20center;%0A%7D##CSS_E####JS##var%20board;%0Avar%20game%20=%20new%20Chess();%0Avar%20depth%20=%203;%0A%0A/*The%20%22AI%22%20part%20starts%20here%20*/%0A%0Avar%20minimaxRoot%20=%20function%20(depth,%20game,%20isMaximisingPlayer)%20%7B%0A%20%20%20%20var%20newGameMoves%20=%20game.ugly_moves();%0A%20%20%20%20var%20bestMove%20=%20-9999;%0A%20%20%20%20var%20bestMoveFound;%0A%0A%20%20%20%20for%20(var%20i%20=%200;%20i%20%3C%20newGameMoves.length;%20i++)%20%7B%0A%20%20%20%20%20%20%20%20var%20newGameMove%20=%20newGameMoves%5Bi%5D;%0A%20%20%20%20%20%20%20%20game.ugly_move(newGameMove);%0A%20%20%20%20%20%20%20%20var%20value%20=%20minimax(depth%20-%201,%20game,%20-10000,%2010000,%20!isMaximisingPlayer);%0A%20%20%20%20%20%20%20%20game.undo();%0A%20%20%20%20%20%20%20%20if%20(value%20%3E=%20bestMove)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20bestMove%20=%20value;%0A%20%20%20%20%20%20%20%20%20%20%20%20bestMoveFound%20=%20newGameMove;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20bestMoveFound;%0A%7D;%0A%0Avar%20minimax%20=%20function%20(depth,%20game,%20alpha,%20beta,%20isMaximisingPlayer)%20%7B%0A%20%20%20%20positionCount++;%0A%20%20%20%20if%20(depth%20===%200)%20%7B%0A%20%20%20%20%20%20%20%20return%20-evaluateBoard(game.board());%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20newGameMoves%20=%20game.ugly_moves();%0A%0A%20%20%20%20if%20(isMaximisingPlayer)%20%7B%0A%20%20%20%20%20%20%20%20var%20bestMove%20=%20-9999;%0A%20%20%20%20%20%20%20%20for%20(var%20i%20=%200;%20i%20%3C%20newGameMoves.length;%20i++)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20game.ugly_move(newGameMoves%5Bi%5D);%0A%20%20%20%20%20%20%20%20%20%20%20%20bestMove%20=%20Math.max(bestMove,%20minimax(depth%20-%201,%20game,%20alpha,%20beta,%20!isMaximisingPlayer));%0A%20%20%20%20%20%20%20%20%20%20%20%20game.undo();%0A%20%20%20%20%20%20%20%20%20%20%20%20alpha%20=%20Math.max(alpha,%20bestMove);%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(beta%20%3C=%20alpha)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20bestMove;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20bestMove;%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20var%20bestMove%20=%209999;%0A%20%20%20%20%20%20%20%20for%20(var%20i%20=%200;%20i%20%3C%20newGameMoves.length;%20i++)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20game.ugly_move(newGameMoves%5Bi%5D);%0A%20%20%20%20%20%20%20%20%20%20%20%20bestMove%20=%20Math.min(bestMove,%20minimax(depth%20-%201,%20game,%20alpha,%20beta,%20!isMaximisingPlayer));%0A%20%20%20%20%20%20%20%20%20%20%20%20game.undo();%0A%20%20%20%20%20%20%20%20%20%20%20%20beta%20=%20Math.min(beta,%20bestMove);%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(beta%20%3C=%20alpha)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20bestMove;%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20bestMove;%0A%20%20%20%20%7D%0A%7D;%0A%0Avar%20evaluateBoard%20=%20function%20(board)%20%7B%0A%20%20%20%20var%20totalEvaluation%20=%200;%0A%20%20%20%20for%20(var%20i%20=%200;%20i%20%3C%208;%20i++)%20%7B%0A%20%20%20%20%20%20%20%20for%20(var%20j%20=%200;%20j%20%3C%208;%20j++)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20totalEvaluation%20=%20totalEvaluation%20+%20getPieceValue(board%5Bi%5D%5Bj%5D,%20i,%20j);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20totalEvaluation;%0A%7D;%0A%0Avar%20reverseArray%20=%20function%20(array)%20%7B%0A%20%20%20%20return%20array.slice().reverse();%0A%7D;%0A%0Avar%20pawnEvalWhite%20=%20%5B%0A%20%20%20%20%5B0.0,%200.0,%200.0,%200.0,%200.0,%200.0,%200.0,%200.0%5D,%0A%20%20%20%20%5B5.0,%205.0,%205.0,%205.0,%205.0,%205.0,%205.0,%205.0%5D,%0A%20%20%20%20%5B1.0,%201.0,%202.0,%203.0,%203.0,%202.0,%201.0,%201.0%5D,%0A%20%20%20%20%5B0.5,%200.5,%201.0,%202.5,%202.5,%201.0,%200.5,%200.5%5D,%0A%20%20%20%20%5B0.0,%200.0,%200.0,%202.0,%202.0,%200.0,%200.0,%200.0%5D,%0A%20%20%20%20%5B0.5,%20-0.5,%20-1.0,%200.0,%200.0,%20-1.0,%20-0.5,%200.5%5D,%0A%20%20%20%20%5B0.5,%201.0,%201.0,%20-2.0,%20-2.0,%201.0,%201.0,%200.5%5D,%0A%20%20%20%20%5B0.0,%200.0,%200.0,%200.0,%200.0,%200.0,%200.0,%200.0%5D%0A%5D;%0A%0Avar%20pawnEvalBlack%20=%20reverseArray(pawnEvalWhite);%0A%0Avar%20knightEval%20=%20%5B%0A%20%20%20%20%5B-5.0,%20-4.0,%20-3.0,%20-3.0,%20-3.0,%20-3.0,%20-4.0,%20-5.0%5D,%0A%20%20%20%20%5B-4.0,%20-2.0,%200.0,%200.0,%200.0,%200.0,%20-2.0,%20-4.0%5D,%0A%20%20%20%20%5B-3.0,%200.0,%201.0,%201.5,%201.5,%201.0,%200.0,%20-3.0%5D,%0A%20%20%20%20%5B-3.0,%200.5,%201.5,%202.0,%202.0,%201.5,%200.5,%20-3.0%5D,%0A%20%20%20%20%5B-3.0,%200.0,%201.5,%202.0,%202.0,%201.5,%200.0,%20-3.0%5D,%0A%20%20%20%20%5B-3.0,%200.5,%201.0,%201.5,%201.5,%201.0,%200.5,%20-3.0%5D,%0A%20%20%20%20%5B-4.0,%20-2.0,%200.0,%200.5,%200.5,%200.0,%20-2.0,%20-4.0%5D,%0A%20%20%20%20%5B-5.0,%20-4.0,%20-3.0,%20-3.0,%20-3.0,%20-3.0,%20-4.0,%20-5.0%5D%0A%5D;%0A%0Avar%20bishopEvalWhite%20=%20%5B%0A%20%20%20%20%5B-2.0,%20-1.0,%20-1.0,%20-1.0,%20-1.0,%20-1.0,%20-1.0,%20-2.0%5D,%0A%20%20%20%20%5B-1.0,%200.0,%200.0,%200.0,%200.0,%200.0,%200.0,%20-1.0%5D,%0A%20%20%20%20%5B-1.0,%200.0,%200.5,%201.0,%201.0,%200.5,%200.0,%20-1.0%5D,%0A%20%20%20%20%5B-1.0,%200.5,%200.5,%201.0,%201.0,%200.5,%200.5,%20-1.0%5D,%0A%20%20%20%20%5B-1.0,%200.0,%201.0,%201.0,%201.0,%201.0,%200.0,%20-1.0%5D,%0A%20%20%20%20%5B-1.0,%201.0,%201.0,%201.0,%201.0,%201.0,%201.0,%20-1.0%5D,%0A%20%20%20%20%5B-1.0,%200.5,%200.0,%200.0,%200.0,%200.0,%200.5,%20-1.0%5D,%0A%20%20%20%20%5B-2.0,%20-1.0,%20-1.0,%20-1.0,%20-1.0,%20-1.0,%20-1.0,%20-2.0%5D%0A%5D;%0A%0Avar%20bishopEvalBlack%20=%20reverseArray(bishopEvalWhite);%0A%0Avar%20rookEvalWhite%20=%20%5B%0A%20%20%20%20%5B0.0,%200.0,%200.0,%200.0,%200.0,%200.0,%200.0,%200.0%5D,%0A%20%20%20%20%5B0.5,%201.0,%201.0,%201.0,%201.0,%201.0,%201.0,%200.5%5D,%0A%20%20%20%20%5B-0.5,%200.0,%200.0,%200.0,%200.0,%200.0,%200.0,%20-0.5%5D,%0A%20%20%20%20%5B-0.5,%200.0,%200.0,%200.0,%200.0,%200.0,%200.0,%20-0.5%5D,%0A%20%20%20%20%5B-0.5,%200.0,%200.0,%200.0,%200.0,%200.0,%200.0,%20-0.5%5D,%0A%20%20%20%20%5B-0.5,%200.0,%200.0,%200.0,%200.0,%200.0,%200.0,%20-0.5%5D,%0A%20%20%20%20%5B-0.5,%200.0,%200.0,%200.0,%200.0,%200.0,%200.0,%20-0.5%5D,%0A%20%20%20%20%5B0.0,%200.0,%200.0,%200.5,%200.5,%200.0,%200.0,%200.0%5D%0A%5D;%0A%0Avar%20rookEvalBlack%20=%20reverseArray(rookEvalWhite);%0A%0Avar%20evalQueen%20=%20%5B%0A%20%20%20%20%5B-2.0,%20-1.0,%20-1.0,%20-0.5,%20-0.5,%20-1.0,%20-1.0,%20-2.0%5D,%0A%20%20%20%20%5B-1.0,%200.0,%200.0,%200.0,%200.0,%200.0,%200.0,%20-1.0%5D,%0A%20%20%20%20%5B-1.0,%200.0,%200.5,%200.5,%200.5,%200.5,%200.0,%20-1.0%5D,%0A%20%20%20%20%5B-0.5,%200.0,%200.5,%200.5,%200.5,%200.5,%200.0,%20-0.5%5D,%0A%20%20%20%20%5B0.0,%200.0,%200.5,%200.5,%200.5,%200.5,%200.0,%20-0.5%5D,%0A%20%20%20%20%5B-1.0,%200.5,%200.5,%200.5,%200.5,%200.5,%200.0,%20-1.0%5D,%0A%20%20%20%20%5B-1.0,%200.0,%200.5,%200.0,%200.0,%200.0,%200.0,%20-1.0%5D,%0A%20%20%20%20%5B-2.0,%20-1.0,%20-1.0,%20-0.5,%20-0.5,%20-1.0,%20-1.0,%20-2.0%5D%0A%5D;%0A%0Avar%20kingEvalWhite%20=%20%5B%0A%0A%20%20%20%20%5B-3.0,%20-4.0,%20-4.0,%20-5.0,%20-5.0,%20-4.0,%20-4.0,%20-3.0%5D,%0A%20%20%20%20%5B-3.0,%20-4.0,%20-4.0,%20-5.0,%20-5.0,%20-4.0,%20-4.0,%20-3.0%5D,%0A%20%20%20%20%5B-3.0,%20-4.0,%20-4.0,%20-5.0,%20-5.0,%20-4.0,%20-4.0,%20-3.0%5D,%0A%20%20%20%20%5B-3.0,%20-4.0,%20-4.0,%20-5.0,%20-5.0,%20-4.0,%20-4.0,%20-3.0%5D,%0A%20%20%20%20%5B-2.0,%20-3.0,%20-3.0,%20-4.0,%20-4.0,%20-3.0,%20-3.0,%20-2.0%5D,%0A%20%20%20%20%5B-1.0,%20-2.0,%20-2.0,%20-2.0,%20-2.0,%20-2.0,%20-2.0,%20-1.0%5D,%0A%20%20%20%20%5B2.0,%202.0,%200.0,%200.0,%200.0,%200.0,%202.0,%202.0%5D,%0A%20%20%20%20%5B2.0,%203.0,%201.0,%200.0,%200.0,%201.0,%203.0,%202.0%5D%0A%5D;%0A%0Avar%20kingEvalBlack%20=%20reverseArray(kingEvalWhite);%0A%0Avar%20getPieceValue%20=%20function%20(piece,%20x,%20y)%20%7B%0A%20%20%20%20if%20(piece%20===%20null)%20%7B%0A%20%20%20%20%20%20%20%20return%200;%0A%20%20%20%20%7D%0A%20%20%20%20var%20getAbsoluteValue%20=%20function%20(piece,%20isWhite,%20x,%20y)%20%7B%0A%20%20%20%20%20%20%20%20if%20(piece.type%20===%20'p')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2010%20+%20(isWhite%20?%20pawnEvalWhite%5By%5D%5Bx%5D%20:%20pawnEvalBlack%5By%5D%5Bx%5D);%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'r')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2050%20+%20(isWhite%20?%20rookEvalWhite%5By%5D%5Bx%5D%20:%20rookEvalBlack%5By%5D%5Bx%5D);%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'n')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2030%20+%20knightEval%5By%5D%5Bx%5D;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'b')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2030%20+%20(isWhite%20?%20bishopEvalWhite%5By%5D%5Bx%5D%20:%20bishopEvalBlack%5By%5D%5Bx%5D);%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'q')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2090%20+%20evalQueen%5By%5D%5Bx%5D;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'k')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20900%20+%20(isWhite%20?%20kingEvalWhite%5By%5D%5Bx%5D%20:%20kingEvalBlack%5By%5D%5Bx%5D);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20throw%20'Unknown%20piece%20type:%20'%20+%20piece.type;%0A%20%20%20%20%7D;%0A%0A%20%20%20%20var%20absoluteValue%20=%20getAbsoluteValue(piece,%20piece.color%20===%20'w',%20x,%20y);%0A%20%20%20%20return%20piece.color%20===%20'w'%20?%20absoluteValue%20:%20-absoluteValue;%0A%7D;%0A%0A/*%20board%20visualization%20and%20games%20state%20handling%20*/%0A%0Avar%20onDragStart%20=%20function%20(source,%20piece,%20position,%20orientation)%20%7B%0A%20%20%20%20if%20(game.in_checkmate()%20===%20true%20%7C%7C%20game.in_draw()%20===%20true%20%7C%7C%0A%20%20%20%20%20%20%20%20piece.search(/%5Eb/)%20!==%20-1)%20%7B%0A%20%20%20%20%20%20%20%20return%20false;%0A%20%20%20%20%7D%0A%7D;%0A%0Avar%20makeBestMove%20=%20function%20()%20%7B%0A%20%20%20%20var%20bestMove%20=%20getBestMove(game);%0A%20%20%20%20game.ugly_move(bestMove);%0A%20%20%20%20board.position(game.fen());%0A%0A%20%20%20%20if%20(game.game_over())%20%7B%0A%20%20%20%20%20%20%20%20alert('Game%20over');%0A%20%20%20%20%7D%0A%7D;%0A%0Avar%20positionCount;%0Avar%20getBestMove%20=%20function%20(game)%20%7B%0A%20%20%20%20if%20(game.game_over())%20%7B%0A%20%20%20%20%20%20%20%20alert('Game%20over');%0A%20%20%20%20%7D%0A%0A%20%20%20%20positionCount%20=%200;%0A%0A%20%20%20%20var%20d%20=%20new%20Date().getTime();%0A%20%20%20%20var%20bestMove%20=%20minimaxRoot(depth,%20game,%20true);%0A%20%20%20%20var%20d2%20=%20new%20Date().getTime();%0A%20%20%20%20var%20moveTime%20=%20(d2%20-%20d);%0A%20%20%20%20var%20positionsPerS%20=%20(positionCount%20*%201000%20/%20moveTime);%0A%0A%20%20%20%20$('#position-count').text(positionCount);%0A%20%20%20%20$('#time').text(moveTime%20/%201000%20+%20's');%0A%20%20%20%20$('#positions-per-s').text(positionsPerS);%0A%20%20%20%20return%20bestMove;%0A%7D;%0A%0Avar%20onDrop%20=%20function%20(source,%20target)%20%7B%0A%20%20%20%20var%20move%20=%20game.move(%7B%0A%20%20%20%20%20%20%20%20from:%20source,%0A%20%20%20%20%20%20%20%20to:%20target,%0A%20%20%20%20%20%20%20%20promotion:%20'q'%0A%20%20%20%20%7D);%0A%0A%20%20%20%20removeGreySquares();%0A%20%20%20%20%0A%20%20%20%20if%20(move%20===%20null)%20%7B%0A%20%20%20%20%20%20%20%20return%20'snapback';%0A%20%20%20%20%7D%0A%0A%20%20%20%20window.setTimeout(makeBestMove,%20250);%0A%7D;%0A%0Avar%20onSnapEnd%20=%20function%20()%20%7B%0A%20%20%20%20board.position(game.fen());%0A%7D;%0A%0Avar%20onMouseoverSquare%20=%20function%20(square,%20piece)%20%7B%0A%20%20%20%20var%20moves%20=%20game.moves(%7B%0A%20%20%20%20%20%20%20%20square:%20square,%0A%20%20%20%20%20%20%20%20verbose:%20true%0A%20%20%20%20%7D);%0A%0A%20%20%20%20if%20(moves.length%20===%200)%20return;%0A%0A%20%20%20%20greySquare(square);%0A%0A%20%20%20%20for%20(var%20i%20=%200;%20i%20%3C%20moves.length;%20i++)%20%7B%0A%20%20%20%20%20%20%20%20greySquare(moves%5Bi%5D.to);%0A%20%20%20%20%7D%0A%7D;%0A%0Avar%20onMouseoutSquare%20=%20function%20(square,%20piece)%20%7B%0A%20%20%20%20removeGreySquares();%0A%7D;%0A%0Avar%20removeGreySquares%20=%20function%20()%20%7B%0A%20%20%20%20$('#board%20.square-55d63').css('background',%20'');%0A%7D;%0A%0Avar%20greySquare%20=%20function%20(square)%20%7B%0A%20%20%20%20var%20squareEl%20=%20$('#board%20.square-'%20+%20square);%0A%0A%20%20%20%20var%20background%20=%20'#a9a9a9';%0A%20%20%20%20if%20(squareEl.hasClass('black-3c85d')%20===%20true)%20%7B%0A%20%20%20%20%20%20%20%20background%20=%20'#696969';%0A%20%20%20%20%7D%0A%0A%20%20%20%20squareEl.css('background',%20background);%0A%7D;%0A%0Avar%20cfg%20=%20%7B%0A%20%20%20%20draggable:%20true,%0A%20%20%20%20position:%20'start',%0A%20%20%20%20onDragStart:%20onDragStart,%0A%20%20%20%20onDrop:%20onDrop,%0A%20%20%20%20onMouseoutSquare:%20onMouseoutSquare,%0A%20%20%20%20onMouseoverSquare:%20onMouseoverSquare,%0A%20%20%20%20onSnapEnd:%20onSnapEnd%0A%7D;%0Aboard%20=%20ChessBoard('board',%20cfg);%0A%0A//%20bsd-config(disable-instrumentation)##JS_E####CODE_1E####LOGIC_1####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_1E####STEP_1E####STEP_2####INST_2##Importing%20the%20chessboard%20library%0A%0A*Current%20Progress*%0A%0A*The%20Problem*%0A%0A*Solution*%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#html#%3Cdiv%3E%5D%0A%09(*)%5B#html#id%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+html#%3Cmeta#+4,%20create%20a%20%60%3Cscript%3E%60%20element%20and%20set%20the%20%60src%60%20attribute%20to%20*https://app.bsd.education/resources/js/chessboard.js*.%0A%0A(!)On%20+html#%3Ch1%3E#+1,%20create%20a%20%60%3Cdiv%3E%60%20element,%20set%20the%20%60id%60%20attribute%20to%20*board*%20and%20the%20%60class%60%20attribute%20to%20*board*.##INST_2E####CODE_2####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22https://app.bsd.education/resources/css/chessboard-0.3.0.css%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/jquery-3.2.1.js%22%3E%3C/script%3E%0A%20%20%20%20#BEGIN_EDITABLE#%3Cscript%20src=%22https://app.bsd.education/resources/js/chessboard.js%22%3E%3C/script%3E#END_EDITABLE#%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch1%3EAI%20Chess%3C/h1%3E%0A%20%20%20%20#BEGIN_EDITABLE#%3Cdiv%20id=%22board%22%20class=%22board%22%3E%3C/div%3E#END_EDITABLE#%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E##HTML_E####CSS##body%20%7B%0A%20%20%20%20background-color:%20white;%0A%7D%0A%0Ah1%20%7B%0A%20%20%20%20text-align:%20center;%0A%7D%0A#BEGIN_EDITABLE##END_EDITABLE###CSS_E####JS###BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_2E####LOGIC_2####HTML##//%20Expectation:%0Apass.if.html.editable(0).equivalent(%60%3Cscript%20src=%22https://app.bsd.education/resources/js/chessboard.js%22%3E%3C/script%3E%60);%0Apass.if.html.editable(1).equivalent(%60%3Cdiv%20id=%22board%22%20class=%22board%22%3E%3C/div%3E%60);##HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_2E####STEP_2E####STEP_3####INST_3##Setting%20up%20the%20chessboard%0A%0A*Current%20Progress*%0A%0A*The%20Problem*%0A%0A*Solution*%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#object%5D%0A%09(*)%5B#js#function%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#JavaScript#+1,%20create%20a%20variable%20called%20*cfg*%20to%20store%20the%20object%20%60%7B%20position:%20%22start%22%20%7D%60.%0A%0A(!)On%20+js#JavaScript#+3,%20type%20in%20%60var%20board%20=%20ChessBoard(%22board%22,%20cfg);%60%20to%20create%20a%20chassboard%20object%20using%20the%20chessboard.js%20library.##INST_3E####CODE_3####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22https://app.bsd.education/resources/css/chessboard-0.3.0.css%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/jquery-3.2.1.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chessboard.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch1%3EAI%20Chess%3C/h1%3E%0A%20%20%20%20%3Cdiv%20id=%22board%22%20class=%22board%22%3E%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##body%20%7B%0A%20%20%20%20background-color:%20white;%0A%7D%0A%0Ah1%20%7B%0A%20%20%20%20text-align:%20center;%0A%7D##CSS_E####JS##//%20%20JavaScript%0A#BEGIN_EDITABLE#var%20cfg%20=%20%7B%20position:%20'start'%20%7D;#END_EDITABLE#%0A%0A#BEGIN_EDITABLE#var%20board%20=%20ChessBoard('board',%20cfg);#END_EDITABLE###JS_E####CODE_3E####LOGIC_3####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20cfg%20=%20%7B%20position:%20'start'%20%7D;%60);%0Apass.if.js.editable(1).equivalent(%60var%20board%20=%20ChessBoard('board',%20cfg);%60);##JS_E####LOGIC_3E####STEP_3E####STEP_4####INST_4##Making%20chess%20pieces%20draggable%0A%0A*Current%20Progress*%0A%0A*The%20Problem*%0A%0A*Solution*%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#object%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20cfg#+2,%20type%20in%20%60cfg.draggable%20=%20true;%60%20to%20set%20the%20*draggable*%20property%20of%20*cfg*%20to%20*true*.##INST_4E####CODE_4####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22https://app.bsd.education/resources/css/chessboard-0.3.0.css%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/jquery-3.2.1.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chessboard.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch1%3EAI%20Chess%3C/h1%3E%0A%20%20%20%20%3Cdiv%20id=%22board%22%20class=%22board%22%3E%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A##HTML_E####CSS##body%20%7B%0A%20%20%20%20background-color:%20white;%0A%7D%0A%0Ah1%20%7B%0A%20%20%20%20text-align:%20center;%0A%7D##CSS_E####JS##//%20%20JavaScript%0Avar%20cfg%20=%20%7B%20position:%20'start'%20%7D;%0A%0A#BEGIN_EDITABLE#cfg.draggable%20=%20true;#END_EDITABLE#%0A%0Avar%20board%20=%20ChessBoard('board',%20cfg);##JS_E####CODE_4E####LOGIC_4####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60cfg.draggable%20=%20true;%60);##JS_E####LOGIC_4E####STEP_4E####STEP_5####INST_5##Importing%20the%20chess%20library%0A%0A*Current%20Progress*%0A%0A*The%20Problem*%0A%0A*Solution*%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#html#%3Cscript%3E%5D%0A-%5D%0A%0A(***)%0A%20%0A(!)On%20+html#%3Cmeta#+4,%20create%20a%20%60%3Cscript%3E%60%20element%20and%20set%20the%20%60src%60%20attribute%20to%20*https://app.bsd.education/resources/js/chess.js*.##INST_5E####CODE_5####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22https://app.bsd.education/resources/css/chessboard-0.3.0.css%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/jquery-3.2.1.js%22%3E%3C/script%3E%0A%20%20%20%20#BEGIN_EDITABLE#%3Cscript%20src=%22https://app.bsd.education/resources/js/chess.js%22%3E%3C/script%3E#END_EDITABLE#%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chessboard.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch1%3EAI%20Chess%3C/h1%3E%0A%20%20%20%20%3Cdiv%20id=%22board%22%20class=%22board%22%3E%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A##HTML_E####CSS##body%20%7B%0A%20%20%20%20background-color:%20white;%0A%7D%0A%0Ah1%20%7B%0A%20%20%20%20text-align:%20center;%0A%7D##CSS_E####JS##//%20%20JavaScript%0Avar%20cfg%20=%20%7B%20position:%20'start'%20%7D;%0A%0Acfg.draggable%20=%20true;%0A%0Avar%20board%20=%20ChessBoard('board',%20cfg);%0A#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_5E####LOGIC_5####HTML##//%20Expectation:%0Apass.if.html.editable(0).equivalent(%60%3Cscript%20src=%22https://app.bsd.education/resources/js/chess.js%22%3E%3C/script%3E%60);##HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_5E####STEP_5E####STEP_6####INST_6##Setting%20up%20the%20chess%20library%0A%0A*Current%20Progress*%0A%0A*The%20Problem*%0A%0A*Solution*%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#new%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20board#+1,%20type%20in%20%60var%20game%20=%20new%20Chess();%60%20to%20create%20a%20new%20game%20object%20using%20the%20chess.js%20library.##INST_6E####CODE_6####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22https://app.bsd.education/resources/css/chessboard-0.3.0.css%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/jquery-3.2.1.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chess.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chessboard.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch1%3EAI%20Chess%3C/h1%3E%0A%20%20%20%20%3Cdiv%20id=%22board%22%20class=%22board%22%3E%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A#BEGIN_EDITABLE##END_EDITABLE###HTML_E####CSS##body%20%7B%0A%20%20%20%20background-color:%20white;%0A%7D%0A%0Ah1%20%7B%0A%20%20%20%20text-align:%20center;%0A%7D##CSS_E####JS##//%20%20JavaScript%0Avar%20cfg%20=%20%7B%20position:%20'start'%20%7D;%0A%0Acfg.draggable%20=%20true;%0A%0Avar%20board%20=%20ChessBoard('board',%20cfg);%0A#BEGIN_EDITABLE#var%20game%20=%20new%20Chess();#END_EDITABLE#%0A##JS_E####CODE_6E####LOGIC_6####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20chess%20=%20new%20Chess();%60);##JS_E####LOGIC_6E####STEP_6E####STEP_7####INST_7##Handling%20mouse%20over%20a%20square%0A%0A*Current%20Progress*%0A%0A*The%20Problem*%0A%0A*Solution*%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#object%5D%0A%09(*)%5B#js#function%5D%0A%09(*)%5B#js#function%20arguments%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#draggable#+1,%20type%20in%20%60cfg.onMouseoverSquare%20=%20handleMouseoverSquare;%60%20to%20handle%20the%20mouse%20over%20event%20for%20each%20square.%0A%0A(!)On%20+js#var%20game#+2,%20type%20in%20%60function%20handleMouseoverSquare(square)%20%7B%7D%60%20to%20create%20a%20new%20function%20called%20*handleMouseoverSquare*%20with%20the%20argument%20*square*.##INST_7E####CODE_7####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22https://app.bsd.education/resources/css/chessboard-0.3.0.css%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/jquery-3.2.1.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chess.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chessboard.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch1%3EAI%20Chess%3C/h1%3E%0A%20%20%20%20%3Cdiv%20id=%22board%22%20class=%22board%22%3E%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A##HTML_E####CSS##body%20%7B%0A%20%20%20%20background-color:%20white;%0A%7D%0A%0Ah1%20%7B%0A%20%20%20%20text-align:%20center;%0A%7D##CSS_E####JS##//%20%20JavaScript%0Avar%20cfg%20=%20%7B%20position:%20'start'%20%7D;%0A%0Acfg.draggable%20=%20true;%0A#BEGIN_EDITABLE#cfg.onMouseoverSquare%20=%20handleMouseoverSquare;#END_EDITABLE#%0A%0Avar%20board%20=%20ChessBoard('board',%20cfg);%0Avar%20game%20=%20new%20Chess();%0A%0A#BEGIN_EDITABLE#function%20handleMouseoverSquare(square)%20%7B%7D#END_EDITABLE###JS_E####CODE_7E####LOGIC_7####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60cfg.onMouseoverSquare%20=%20handleMouseoverSquare;%60);%0Apass.if.js.editable(1).equivalent(%60function%20handleMouseoverSquare(square)%20%7B%7D%60);##JS_E####LOGIC_7E####STEP_7E####STEP_8####INST_8##Getting%20valid%20moves%20of%20the%20target%20piece%0A%0A*Current%20Progress*%0A%0A*The%20Problem*%0A%0A*Solution*%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#function%5D%0A%09(*)%5B#js#if%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20game#+3,%20type%20in%20%60var%20moves%20=%20game.moves(%7B%20square,%20verbose:%20true%20%7D);%60%20to%20store%20all%20the%20available%20moves%20of%20the%20chess%20piece%20under%20the%20mouse%20cursor.%0A%0A(!)On%20+js#var%20game#+5,%20create%20an%20%60if%60%20statement%20to%20check%20whether%20%60moves.length%60%20is%20greater%20than%20*0*.##INST_8E####CODE_8####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22https://app.bsd.education/resources/css/chessboard-0.3.0.css%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/jquery-3.2.1.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chess.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chessboard.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch1%3EAI%20Chess%3C/h1%3E%0A%20%20%20%20%3Cdiv%20id=%22board%22%20class=%22board%22%3E%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A##HTML_E####CSS##body%20%7B%0A%20%20%20%20background-color:%20white;%0A%7D%0A%0Ah1%20%7B%0A%20%20%20%20text-align:%20center;%0A%7D##CSS_E####JS##//%20%20JavaScript%0Avar%20cfg%20=%20%7B%20position:%20'start'%20%7D;%0A%0Acfg.draggable%20=%20true;%0Acfg.onMouseoverSquare%20=%20handleMouseoverSquare;%0A%0Avar%20board%20=%20ChessBoard('board',%20cfg);%0Avar%20game%20=%20new%20Chess();%0A%0Afunction%20handleMouseoverSquare(square)%20%7B%0A%20%20%20%20#BEGIN_EDITABLE#var%20moves%20=%20game.moves(%7B%20square,%20verbose:%20true%20%7D);#END_EDITABLE#%0A%0A%20%20%20%20#BEGIN_EDITABLE#if%20(moves.length%20%3E%200)%20%7B%7D#END_EDITABLE#%0A%7D%0A%0Afunction%20greySquare(square)%20%7B%0A%20%20%20%20var%20squareEl%20=%20$('#board%20.square-'%20+%20square);%0A%20%20%20%20var%20background%20=%20'#a9a9a9';%0A%20%20%20%20%0A%20%20%20%20if%20(squareEl.hasClass('black-3c85d')%20===%20true)%20%7B%0A%20%20%20%20%20%20%20%20background%20=%20'#696969';%0A%20%20%20%20%7D%0A%0A%20%20%20%20squareEl.css('background',%20background);%0A%7D##JS_E####CODE_8E####LOGIC_8####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20moves%20=%20game.moves(%7B%20square,%20verbose:%20true%20%7D);%60);%0Apass.if.js.editable(1).equivalent(%60if%20(moves.length%20%3E%200)%20%7B%7D%60);##JS_E####LOGIC_8E####STEP_8E####STEP_9####INST_9##Highlighting%20the%20valid%20moves%0A%0A*Current%20Progress*%0A%0A*The%20Problem*%0A%0A*Solution*%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#forEach%5D%0A%09(*)%5B#js#function%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#moves.length#+1,%20type%20in%20%60moves.forEach(move%20=%3E%20greySquare(move.to));%60%20to%20color%20the%20available%20moves%20grey.%0A%0A(!)On%20+js#moves.length#+2,%20type%20in%20%60greySquare(square);%60%20to%20color%20the%20chess%20piece%20under%20the%20cursor%20grey.##INST_9E####CODE_9####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22https://app.bsd.education/resources/css/chessboard-0.3.0.css%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/jquery-3.2.1.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chess.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chessboard.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch1%3EAI%20Chess%3C/h1%3E%0A%20%20%20%20%3Cdiv%20id=%22board%22%20class=%22board%22%3E%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A##HTML_E####CSS##body%20%7B%0A%20%20%20%20background-color:%20white;%0A%7D%0A%0Ah1%20%7B%0A%20%20%20%20text-align:%20center;%0A%7D##CSS_E####JS##//%20%20JavaScript%0Avar%20cfg%20=%20%7B%20position:%20'start'%20%7D;%0A%0Acfg.draggable%20=%20true;%0Acfg.onMouseoverSquare%20=%20handleMouseoverSquare;%0A%0Avar%20board%20=%20ChessBoard('board',%20cfg);%0Avar%20game%20=%20new%20Chess();%0A%0Afunction%20handleMouseoverSquare(square)%20%7B%0A%20%20%20%20var%20moves%20=%20game.moves(%7B%20square,%20verbose:%20true%20%7D);%0A%0A%20%20%20%20if%20(moves.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#moves.forEach(move%20=%3E%20greySquare(move.to));#END_EDITABLE#%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#greySquare(square);#END_EDITABLE#%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20greySquare(square)%20%7B%0A%20%20%20%20var%20squareEl%20=%20$('#board%20.square-'%20+%20square);%0A%20%20%20%20var%20background%20=%20'#a9a9a9';%0A%20%20%20%20%0A%20%20%20%20if%20(squareEl.hasClass('black-3c85d')%20===%20true)%20%7B%0A%20%20%20%20%20%20%20%20background%20=%20'#696969';%0A%20%20%20%20%7D%0A%0A%20%20%20%20squareEl.css('background',%20background);%0A%7D##JS_E####CODE_9E####LOGIC_9####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60moves.forEach(move%20=%3E%20greySquare(move.to));%60);%0Apass.if.js.editable(1).equivalent(%60greySquare(square);%60);##JS_E####LOGIC_9E####STEP_9E####STEP_10####INST_10##Removing%20highlight%0A%0A*Current%20Progress*%0A%0A*The%20Problem*%0A%0A*Solution*%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#object%5D%0A%09(*)%5B#js#function%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#draggable#+2,%20type%20in%20%60cfg.onMouseoutSquare%20=%20handleMouseoutSquare;%60%20to%20handle%20the%20mouse%20out%20event%20for%20each%20square.%0A%0A(!)On%20+js#on%20handleMouseout#+1,%20call%20the%20*removeGreySquares*%20function%20to%20remove%20the%20grey%20highlight%20from%20all%20squares.##INST_10E####CODE_10####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22https://app.bsd.education/resources/css/chessboard-0.3.0.css%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/jquery-3.2.1.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chess.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chessboard.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch1%3EAI%20Chess%3C/h1%3E%0A%20%20%20%20%3Cdiv%20id=%22board%22%20class=%22board%22%3E%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A##HTML_E####CSS##body%20%7B%0A%20%20%20%20background-color:%20white;%0A%7D%0A%0Ah1%20%7B%0A%20%20%20%20text-align:%20center;%0A%7D##CSS_E####JS##//%20%20JavaScript%0Avar%20cfg%20=%20%7B%20position:%20'start'%20%7D;%0A%0Acfg.draggable%20=%20true;%0Acfg.onMouseoverSquare%20=%20handleMouseoverSquare;%0A#BEGIN_EDITABLE#cfg.onMouseoutSquare%20=%20handleMouseoutSquare;#END_EDITABLE#%0A%0Avar%20board%20=%20ChessBoard('board',%20cfg);%0Avar%20game%20=%20new%20Chess();%0A%0Afunction%20handleMouseoverSquare(square)%20%7B%0A%20%20%20%20var%20moves%20=%20game.moves(%7B%20square,%20verbose:%20true%20%7D);%0A%0A%20%20%20%20if%20(moves.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20moves.forEach(move%20=%3E%20greySquare(move.to));%0A%20%20%20%20%20%20%20%20greySquare(square);%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20handleMouseoutSquare()%20%7B%0A%20%20%20%20#BEGIN_EDITABLE#removeGreySquares();#END_EDITABLE#%0A%7D%0A%0Afunction%20removeGreySquares()%20%7B%0A%20%20%20%20$('#board%20.square-55d63').css('background',%20'');%0A%7D%0A%0Afunction%20greySquare(square)%20%7B%0A%20%20%20%20var%20squareEl%20=%20$('#board%20.square-'%20+%20square);%0A%20%20%20%20var%20background%20=%20'#a9a9a9';%0A%20%20%20%20%0A%20%20%20%20if%20(squareEl.hasClass('black-3c85d')%20===%20true)%20%7B%0A%20%20%20%20%20%20%20%20background%20=%20'#696969';%0A%20%20%20%20%7D%0A%0A%20%20%20%20squareEl.css('background',%20background);%0A%7D##JS_E####CODE_10E####LOGIC_10####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60cfg.onMouseoutSquare%20=%20handleMouseoutSquare;%60);%0Apass.if.js.editable(1).equivalent(%60removeGreySquares();%60);##JS_E####LOGIC_10E####STEP_10E####STEP_11####INST_11##Validating%20a%20move%20-%201/2%0A%0A*Current%20Progress*%0A%0A*The%20Problem*%0A%0A*Solution*%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#object%5D%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#function%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#draggable#+3,%20type%20in%20%60cfg.onDrop%20=%20handleDrop;%60%20to%20handle%20the%20drop%20event%20of%20a%20chess%20piece.%0A%0A(!)On%20+js#on%20handleDrop#+1,%20type%20in%20%60var%20move%20=%20game.move(%7B%20from:%20source,%20to:%20target%20%7D);%60%20to%20move%20a%20chess%20piece%20to%20the%20square%20where%20the%20mouse%20button%20is%20released.##INST_11E####CODE_11####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22https://app.bsd.education/resources/css/chessboard-0.3.0.css%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/jquery-3.2.1.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chess.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chessboard.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch1%3EAI%20Chess%3C/h1%3E%0A%20%20%20%20%3Cdiv%20id=%22board%22%20class=%22board%22%3E%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A##HTML_E####CSS##body%20%7B%0A%20%20%20%20background-color:%20white;%0A%7D%0A%0Ah1%20%7B%0A%20%20%20%20text-align:%20center;%0A%7D##CSS_E####JS##//%20%20JavaScript%0Avar%20cfg%20=%20%7B%20position:%20'start'%20%7D;%0A%0Acfg.draggable%20=%20true;%0Acfg.onMouseoverSquare%20=%20handleMouseoverSquare;%0Acfg.onMouseoutSquare%20=%20handleMouseoutSquare;%0A#BEGIN_EDITABLE#cfg.onDrop%20=%20handleDrop;#END_EDITABLE#%0A%0Avar%20board%20=%20ChessBoard('board',%20cfg);%0Avar%20game%20=%20new%20Chess();%0A%0Afunction%20handleDrop(source,%20target)%20%7B%0A%20%20%20%20#BEGIN_EDITABLE#var%20move%20=%20game.move(%7B%20from:%20source,%20to:%20target%20%7D);#END_EDITABLE#%0A%7D%0A%0Afunction%20handleMouseoverSquare(square)%20%7B%0A%20%20%20%20var%20moves%20=%20game.moves(%7B%20square,%20verbose:%20true%20%7D);%0A%0A%20%20%20%20if%20(moves.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20moves.forEach(move%20=%3E%20greySquare(move.to));%0A%20%20%20%20%20%20%20%20greySquare(square);%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20handleMouseoutSquare()%20%7B%0A%20%20%20%20removeGreySquares();%0A%7D%0A%0Afunction%20removeGreySquares()%20%7B%0A%20%20%20%20$('#board%20.square-55d63').css('background',%20'');%0A%7D%0A%0Afunction%20greySquare(square)%20%7B%0A%20%20%20%20var%20squareEl%20=%20$('#board%20.square-'%20+%20square);%0A%20%20%20%20var%20background%20=%20'#a9a9a9';%0A%20%20%20%20%0A%20%20%20%20if%20(squareEl.hasClass('black-3c85d')%20===%20true)%20%7B%0A%20%20%20%20%20%20%20%20background%20=%20'#696969';%0A%20%20%20%20%7D%0A%0A%20%20%20%20squareEl.css('background',%20background);%0A%7D##JS_E####CODE_11E####LOGIC_11####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60cfg.onDrop%20=%20handleDrop;%60);%0Apass.if.js.editable(1).equivalent(%60var%20move%20=%20game.move(%7B%20from:%20source,%20to:%20target%20%7D);%60);##JS_E####LOGIC_11E####STEP_11E####STEP_12####INST_12##Validating%20a%20move%20-%202/2%0A%0A*Current%20Progress*%0A%0A*The%20Problem*%0A%0A*Solution*%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#function%5D%0A%09(*)%5B#js#if%5D%0A%09(*)%5B#js#return%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20handleDrop#+3,%20call%20the%20*removeGreySquare*%20function%20to%20remove%20highlighting%20from%20all%20squares.%0A%0A(!)On%20+js#on%20handleDrop#+5,%20type%20in%20%60if%20(move%20===%20null)%20%7B%20return%20%22snapback%22%20%7D%60%20to%20move%20a%20chess%20piece%20to%20its%20original%20position.##INST_12E####CODE_12####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22https://app.bsd.education/resources/css/chessboard-0.3.0.css%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/jquery-3.2.1.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chess.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chessboard.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch1%3EAI%20Chess%3C/h1%3E%0A%20%20%20%20%3Cdiv%20id=%22board%22%20class=%22board%22%3E%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A##HTML_E####CSS##body%20%7B%0A%20%20%20%20background-color:%20white;%0A%7D%0A%0Ah1%20%7B%0A%20%20%20%20text-align:%20center;%0A%7D##CSS_E####JS##//%20%20JavaScript%0Avar%20cfg%20=%20%7B%0A%20%20%20%20position:%20'start'%0A%7D;%0A%0Acfg.draggable%20=%20true;%0Acfg.onMouseoverSquare%20=%20handleMouseoverSquare;%0Acfg.onMouseoutSquare%20=%20handleMouseoutSquare;%0Acfg.onDrop%20=%20handleDrop;%0A%0Avar%20board%20=%20ChessBoard('board',%20cfg);%0Avar%20game%20=%20new%20Chess();%0A%0Afunction%20handleDrop(source,%20target)%20%7B%0A%20%20%20%20var%20move%20=%20game.move(%7B%0A%20%20%20%20%20%20%20%20from:%20source,%0A%20%20%20%20%20%20%20%20to:%20target%0A%20%20%20%20%7D);%0A%0A%20%20%20%20#%0A%20%20%20%20BEGIN_EDITABLE#%20removeGreySquares();#%0A%20%20%20%20END_EDITABLE#%0A%0A%20%20%20%20#%20BEGIN_EDITABLE#%0A%20%20%20%20if%20(move%20===%20null)%20%7B%0A%20%20%20%20%20%20%20%20return%20'snapback'%0A%20%20%20%20%7D#%0A%20%20%20%20END_EDITABLE#%0A%7D%0A%0Afunction%20handleMouseoverSquare(square)%20%7B%0A%20%20%20%20var%20moves%20=%20game.moves(%7B%0A%20%20%20%20%20%20%20%20square,%0A%20%20%20%20%20%20%20%20verbose:%20true%0A%20%20%20%20%7D);%0A%0A%20%20%20%20if%20(moves.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20moves.forEach(move%20=%3E%20greySquare(move.to));%0A%20%20%20%20%20%20%20%20greySquare(square);%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20handleMouseoutSquare()%20%7B%0A%20%20%20%20removeGreySquares();%0A%7D%0A%0Afunction%20removeGreySquares()%20%7B%0A%20%20%20%20$('#board%20.square-55d63').css('background',%20'');%0A%7D%0A%0Afunction%20greySquare(square)%20%7B%0A%20%20%20%20var%20squareEl%20=%20$('#board%20.square-'%20+%20square);%0A%20%20%20%20var%20background%20=%20'#a9a9a9';%0A%0A%20%20%20%20if%20(squareEl.hasClass('black-3c85d')%20===%20true)%20%7B%0A%20%20%20%20%20%20%20%20background%20=%20'#696969';%0A%20%20%20%20%7D%0A%0A%20%20%20%20squareEl.css('background',%20background);%0A%7D##JS_E####CODE_12E####LOGIC_12####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60removeGreySquares();%60);%0A//%20const%20input%20=%20code.js.editable%5B1%5D.trim();%0A//%20if%20(input.length)%20%7B%0A//%20%20%20if%20(/if%5Cs*%5C(%5Cs*move%5Cs*===?%5Cs*null%5Cs*%5C)%5Cs*%5C%7B%5Cs*return%5Cs+(%5B'%22%5D)snapback%5C1%5Cs*%5C%7D/.test(input))%20%7B%0A//%20%20%20%20%20return%20pass.if.js.editable(1).not.equivalent('');%0A//%20%20%20%7D%0A//%20%20%20else%20%7B%0A//%20%20%20%20%20return%20pass('type%20in%20if%20(move%20===%20null)%20%7B%20return%20%22snapback%22%20%7D%20to%20move%20a%20chess%20piece%20to%20its%20original%20position.').if.js.editable(1).equivalent('');%0A//%20%20%20%7D%0A//%20%7D%0A//%20else%20%7B%0A//%20%20%20return%20pass(%22Don't%20leave%20the%20editable%20region%20empty.%22).if.js.editable(1).not.equivalent('');%0A//%20%7D%0Apass.if.js.editable(1).equivalent(%60if%20(move%20===%20null)%20%7B%20return%20'snapback'%20%7D%60);##JS_E####LOGIC_12E####STEP_12E####STEP_13####INST_13##Making%20the%20AI%20move%0A%0A*Current%20Progress*%0A%0A*The%20Problem*%0A%0A*Solution*%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#Math.floor%5D%0A%09(*)%5B#js#Math.random%5D%0A%09(*)%5B#js#length%5D%0A%09(*)%5B#js#return%5D%0A%09(*)%5B#js#array%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20calc#+1,%20type%20in%20%60var%20moves%20=%20game.ugly_moves();%60%20to%20store%20all%20the%20valid%20moves%20of%20all%20chess%20pieces.%0A%0A(!)On%20+js#on%20calc#+2,%20type%20in%20%60var%20randomIndex%20=%20Math.floor(Math.random()%20*%20moves.length);%60%20to%20generate%20a%20random%20integer%20between%200%20and%20the%20number%20of%20valid%20moves.%0A%0A(!)On%20+js#on%20calc#+3,%20type%20in%20%60return%20moves%5BrandomIndex%5D;%60%20to%20determine%20a%20random%20chess%20move.##INST_13E####CODE_13####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22https://app.bsd.education/resources/css/chessboard-0.3.0.css%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/jquery-3.2.1.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chess.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chessboard.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch1%3EAI%20Chess%3C/h1%3E%0A%20%20%20%20%3Cdiv%20id=%22board%22%20class=%22board%22%3E%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A##HTML_E####CSS##body%20%7B%0A%20%20%20%20background-color:%20white;%0A%7D%0A%0Ah1%20%7B%0A%20%20%20%20text-align:%20center;%0A%7D##CSS_E####JS##//%20%20JavaScript%0Avar%20cfg%20=%20%7B%20position:%20'start'%20%7D;%0A%0Acfg.draggable%20=%20true;%0Acfg.onMouseoverSquare%20=%20handleMouseoverSquare;%0Acfg.onMouseoutSquare%20=%20handleMouseoutSquare;%0Acfg.onDragStart%20=%20handleDragStart;%0Acfg.onDrop%20=%20handleDrop;%0Acfg.onSnapEnd%20=%20handleSnapEnd;%0A%0Avar%20board%20=%20ChessBoard('board',%20cfg);%0Avar%20game%20=%20new%20Chess();%0A%0Afunction%20calculateBestMove()%20%7B%0A%20%20%20%20#BEGIN_EDITABLE#var%20moves%20=%20game.ugly_moves();#END_EDITABLE#%0A%20%20%20%20#BEGIN_EDITABLE#var%20randomIndex%20=%20Math.floor(Math.random()%20*%20moves.length);#END_EDITABLE#%0A%20%20%20%20#BEGIN_EDITABLE#return%20moves%5BrandomIndex%5D;#END_EDITABLE#%0A%7D%0A%0Afunction%20handleDragStart(source,%20piece)%20%7B%0A%20%20%20%20if%20(game.in_checkmate()%20===%20true%20%7C%7C%20game.in_draw()%20===%20true%20%7C%7C%20piece.search(/%5Eb/)%20!==%20-1)%20%7B%0A%20%20%20%20%20%20%20%20return%20false;%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20handleDrop(source,%20target)%20%7B%0A%20%20%20%20var%20move%20=%20game.move(%7B%20from:%20source,%20to:%20target%20%7D);%0A%0A%20%20%20%20removeGreySquares();%0A%20%20%20%20%0A%20%20%20%20if%20(move%20===%20null)%20%7B%20return%20'snapback'%20%7D%0A%20%20%20%20%0A%20%20%20%20setTimeout(makeBestMove,%20250);%0A%7D%0A%0Afunction%20makeBestMove()%20%7B%0A%20%20%20%20var%20bestMove%20=%20getBestMove(game);%0A%0A%20%20%20%20game.ugly_move(bestMove);%0A%20%20%20%20board.position(game.fen());%0A%0A%20%20%20%20if%20(game.game_over())%20%7B%0A%20%20%20%20%20%20%20%20alert('Game%20over');%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20getBestMove(game)%20%7B%0A%20%20%20%20if%20(game.game_over())%20%7B%0A%20%20%20%20%20%20%20%20alert('Game%20over');%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20bestMove%20=%20calculateBestMove(game);%0A%0A%20%20%20%20return%20bestMove;%0A%7D%0A%0Afunction%20handleMouseoverSquare(square)%20%7B%0A%20%20%20%20var%20moves%20=%20game.moves(%7B%20square,%20verbose:%20true%20%7D);%0A%0A%20%20%20%20if%20(moves.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20moves.forEach(move%20=%3E%20greySquare(move.to));%0A%20%20%20%20%20%20%20%20greySquare(square);%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20handleMouseoutSquare()%20%7B%0A%20%20%20%20removeGreySquares();%0A%7D%0A%0Afunction%20handleSnapEnd()%20%7B%0A%20%20%20%20board.position(game.fen());%0A%7D%0A%0Afunction%20removeGreySquares()%20%7B%0A%20%20%20%20$('#board%20.square-55d63').css('background',%20'');%0A%7D%0A%0Afunction%20greySquare(square)%20%7B%0A%20%20%20%20var%20squareEl%20=%20$('#board%20.square-'%20+%20square);%0A%20%20%20%20var%20background%20=%20'#a9a9a9';%0A%20%20%20%20%0A%20%20%20%20if%20(squareEl.hasClass('black-3c85d')%20===%20true)%20%7B%0A%20%20%20%20%20%20%20%20background%20=%20'#696969';%0A%20%20%20%20%7D%0A%0A%20%20%20%20squareEl.css('background',%20background);%0A%7D##JS_E####CODE_13E####LOGIC_13####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20moves%20=%20game.ugly_moves();%60);%0Apass.if.js.editable(1).equivalent(%60var%20randomIndex%20=%20Math.floor(Math.random()%20*%20moves.length);%60);%0Apass.if.js.editable(2).equivalent(%60return%20moves%5BrandomIndex%5D;%60);##JS_E####LOGIC_13E####STEP_13E####STEP_14####INST_14##Making%20the%20AI%20evaluate%20a%20move%0A%0A*Current%20Progress*%0A%0A*The%20Problem*%0A%0A*Solution*%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#forEach%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20calc#+2,%20create%20a%20variable%20called%20*bestMove*.%0A%0A(!)On%20+js#on%20calc#+3,%20create%20a%20variable%20called%20*bestValue*%20to%20store%20the%20number%20*9999*.%0A%0A(!)On%20+js#on%20cal#+5,%20type%20in%20%60moves.forEach(move%20=%3E%20%7B%7D);%60%20to%20create%20a%20function%20call%20for%20each%20move%20in%20the%20*moves*%20array.##INST_14E####CODE_14####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22https://app.bsd.education/resources/css/chessboard-0.3.0.css%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/jquery-3.2.1.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chess.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chessboard.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch1%3EAI%20Chess%3C/h1%3E%0A%20%20%20%20%3Cdiv%20id=%22board%22%20class=%22board%22%3E%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A##HTML_E####CSS##body%20%7B%0A%20%20%20%20background-color:%20white;%0A%7D%0A%0Ah1%20%7B%0A%20%20%20%20text-align:%20center;%0A%7D##CSS_E####JS##//%20%20JavaScript%0Avar%20cfg%20=%20%7B%20position:%20'start'%20%7D;%0A%0Acfg.draggable%20=%20true;%0Acfg.onMouseoverSquare%20=%20handleMouseoverSquare;%0Acfg.onMouseoutSquare%20=%20handleMouseoutSquare;%0Acfg.onDragStart%20=%20handleDragStart;%0Acfg.onDrop%20=%20handleDrop;%0Acfg.onSnapEnd%20=%20handleSnapEnd;%0A%0Avar%20board%20=%20ChessBoard('board',%20cfg);%0Avar%20game%20=%20new%20Chess();%0A%0Afunction%20calculateBestMove()%20%7B%0A%20%20%20%20var%20moves%20=%20game.ugly_moves();%0A%20%20%20%20#BEGIN_EDITABLE#var%20bestMove;#END_EDITABLE#%0A%20%20%20%20#BEGIN_EDITABLE#var%20bestValue%20=%209999;#END_EDITABLE#%0A%20%20%20%20%0A%20%20%20%20#BEGIN_EDITABLE#moves.forEach(move%20=%3E%20%7B%7D);#END_EDITABLE#%0A%7D%0A%0Afunction%20handleDragStart(source,%20piece)%20%7B%0A%20%20%20%20if%20(game.in_checkmate()%20===%20true%20%7C%7C%20game.in_draw()%20===%20true%20%7C%7C%20piece.search(/%5Eb/)%20!==%20-1)%20%7B%0A%20%20%20%20%20%20%20%20return%20false;%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20handleDrop(source,%20target)%20%7B%0A%20%20%20%20var%20move%20=%20game.move(%7B%20from:%20source,%20to:%20target%20%7D);%0A%0A%20%20%20%20removeGreySquares();%0A%20%20%20%20%0A%20%20%20%20if%20(move%20===%20null)%20%7B%20return%20'snapback'%20%7D%0A%20%20%20%20%0A%20%20%20%20setTimeout(makeBestMove,%20250);%0A%7D%0A%0Afunction%20makeBestMove()%20%7B%0A%20%20%20%20var%20bestMove%20=%20getBestMove(game);%0A%0A%20%20%20%20game.ugly_move(bestMove);%0A%20%20%20%20board.position(game.fen());%0A%0A%20%20%20%20if%20(game.game_over())%20%7B%0A%20%20%20%20%20%20%20%20alert('Game%20over');%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20getBestMove(game)%20%7B%0A%20%20%20%20if%20(game.game_over())%20%7B%0A%20%20%20%20%20%20%20%20alert('Game%20over');%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20bestMove%20=%20calculateBestMove(game);%0A%0A%20%20%20%20return%20bestMove;%0A%7D%0A%0Afunction%20handleMouseoverSquare(square)%20%7B%0A%20%20%20%20var%20moves%20=%20game.moves(%7B%20square,%20verbose:%20true%20%7D);%0A%0A%20%20%20%20if%20(moves.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20moves.forEach(move%20=%3E%20greySquare(move.to));%0A%20%20%20%20%20%20%20%20greySquare(square);%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20handleMouseoutSquare()%20%7B%0A%20%20%20%20removeGreySquares();%0A%7D%0A%0Afunction%20handleSnapEnd()%20%7B%0A%20%20%20%20board.position(game.fen());%0A%7D%0A%0Afunction%20removeGreySquares()%20%7B%0A%20%20%20%20$('#board%20.square-55d63').css('background',%20'');%0A%7D%0A%0Afunction%20greySquare(square)%20%7B%0A%20%20%20%20var%20squareEl%20=%20$('#board%20.square-'%20+%20square);%0A%20%20%20%20var%20background%20=%20'#a9a9a9';%0A%20%20%20%20%0A%20%20%20%20if%20(squareEl.hasClass('black-3c85d')%20===%20true)%20%7B%0A%20%20%20%20%20%20%20%20background%20=%20'#696969';%0A%20%20%20%20%7D%0A%0A%20%20%20%20squareEl.css('background',%20background);%0A%7D##JS_E####CODE_14E####LOGIC_14####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20bestMove;%60);%0Apass.if.js.editable(1).equivalent(%60var%20bestValue%20=%209999;%60);%0Apass.if.js.editable(2).equivalent(%60moves.forEach(move%20=%3E%20%7B%7D);%60);##JS_E####LOGIC_14E####STEP_14E####STEP_15####INST_15##Trying%20each%20move%20and%20storing%20the%20board%20value%0A%0AImagine%20this%20scenario:%20there%20are%203%20possible%20moves%20for%20the%20AI,%20the%20first%20move%20takes%20out%20our%20pawn,%20leaves%20the%20total%20board%20points%20at%2090,%2090%20is%20smaller%20than%209999,%20so%20we%20store%20it%20and%2090%20is%20our%20new%20best%20value%20move.%20The%20second%20move%20takes%20out%20our%20knight,%20total%20board%20points%20is%20now%2070,%2070%20is%20smaller%20than%2090,%20we%20store%20it%20and%2070%20is%20now%20our%20best%20value%20move.%20The%20third%20move%20doesn't%20take%20out%20any%20of%20our%20pieces,%20board%20points%20is%20100,%20100%20is%20not%20smaller%20than%2070,%20our%20best%20value%20move%20is%20still%2070%20(one%20that%20took%20out%20our%20knight).%0A%0AThe%20above%20chain%20of%20logic%20is%20what%20we're%20trying%20to%20create%20inside%20the%20*forEach*%20function.%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#object%5D%0A%09(*)%5B#js#function%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#on%20calc#+6,%20type%20in%20%60game.ugly_move(move);%60%20to%20carry%20out%20every%20valid%20move%20on%20all%20chess%20pieces.%0A%0A(!)On%20+js#on%20calc#+8,%20type%20in%20%60var%20value%20=%20evaluateBoard(game.board());%60%20to%20store%20the%20total%20board%20value%20after%20the%20move.%0A%0A(!)On%20+js#on%20calc#+10,%20create%20an%20%60if%60%20statement%20to%20check%20whether%20*value*%20is%20less%20than%20*bestValue*.##INST_15E####CODE_15####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22https://app.bsd.education/resources/css/chessboard-0.3.0.css%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/jquery-3.2.1.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chess.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chessboard.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch1%3EAI%20Chess%3C/h1%3E%0A%20%20%20%20%3Cdiv%20id=%22board%22%20class=%22board%22%3E%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A##HTML_E####CSS##body%20%7B%0A%20%20%20%20background-color:%20white;%0A%7D%0A%0Ah1%20%7B%0A%20%20%20%20text-align:%20center;%0A%7D##CSS_E####JS##//%20%20JavaScript%0Avar%20cfg%20=%20%7B%20position:%20'start'%20%7D;%0A%0Acfg.draggable%20=%20true;%0Acfg.onMouseoverSquare%20=%20handleMouseoverSquare;%0Acfg.onMouseoutSquare%20=%20handleMouseoutSquare;%0Acfg.onDragStart%20=%20handleDragStart;%0Acfg.onDrop%20=%20handleDrop;%0Acfg.onSnapEnd%20=%20handleSnapEnd;%0A%0Avar%20board%20=%20ChessBoard('board',%20cfg);%0Avar%20game%20=%20new%20Chess();%0A%0Afunction%20calculateBestMove()%20%7B%0A%20%20%20%20var%20moves%20=%20game.ugly_moves();%0A%20%20%20%20var%20bestMove%20=%20null;%0A%20%20%20%20var%20bestValue%20=%209999;%0A%20%20%20%20%0A%20%20%20%20moves.forEach(move%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#game.ugly_move(move);#END_EDITABLE#%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#var%20value%20=%20evaluateBoard(game.board());#END_EDITABLE#%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#if%20(value%20%3C%20bestValue)%20%7B%7D#END_EDITABLE#%0A%20%20%20%20%7D);%0A%7D%0A%0Afunction%20evaluateBoard(board)%20%7B%0A%20%20%20%20var%20totalEvaluation%20=%200;%0A%20%20%20%20%0A%20%20%20%20for%20(var%20i%20=%200;%20i%20%3C%208;%20i++)%20%7B%0A%20%20%20%20%20%20%20%20for%20(var%20j%20=%200;%20j%20%3C%208;%20j++)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20totalEvaluation%20=%20totalEvaluation%20+%20getPieceValue(board%5Bi%5D%5Bj%5D);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20return%20totalEvaluation;%0A%7D%0A%0Afunction%20getPieceValue(piece)%20%7B%0A%20%20%20%20if%20(piece%20===%20null)%20return%200;%0A%0A%20%20%20%20var%20getAbsoluteValue%20=%20piece%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(piece.type%20===%20'p')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2010;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'r')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2050;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'n')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2030;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'b')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2030;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'q')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2090;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'k')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20900;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20throw%20%22Unknown%20piece%20type:%20%22%20+%20piece.type;%0A%20%20%20%20%7D;%0A%20%20%20%20var%20absoluteValue%20=%20getAbsoluteValue(piece,%20piece.color%20===%20'w');%0A%20%20%20%20%0A%20%20%20%20return%20piece.color%20===%20'w'%20?%20absoluteValue%20:%20-absoluteValue;%0A%7D%0A%0Afunction%20handleDragStart(source,%20piece)%20%7B%0A%20%20%20%20if%20(game.in_checkmate()%20===%20true%20%7C%7C%20game.in_draw()%20===%20true%20%7C%7C%20piece.search(/%5Eb/)%20!==%20-1)%20%7B%0A%20%20%20%20%20%20%20%20return%20false;%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20handleDrop(source,%20target)%20%7B%0A%20%20%20%20var%20move%20=%20game.move(%7B%20from:%20source,%20to:%20target%20%7D);%0A%0A%20%20%20%20removeGreySquares();%0A%20%20%20%20%0A%20%20%20%20if%20(move%20===%20null)%20%7B%20return%20'snapback'%20%7D%0A%20%20%20%20%0A%20%20%20%20setTimeout(makeBestMove,%20250);%0A%7D%0A%0Afunction%20makeBestMove()%20%7B%0A%20%20%20%20var%20bestMove%20=%20getBestMove(game);%0A%0A%20%20%20%20game.ugly_move(bestMove);%0A%20%20%20%20board.position(game.fen());%0A%0A%20%20%20%20if%20(game.game_over())%20%7B%0A%20%20%20%20%20%20%20%20alert('Game%20over');%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20getBestMove(game)%20%7B%0A%20%20%20%20if%20(game.game_over())%20%7B%0A%20%20%20%20%20%20%20%20alert('Game%20over');%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20bestMove%20=%20calculateBestMove(game);%0A%0A%20%20%20%20return%20bestMove;%0A%7D%0A%0Afunction%20handleMouseoverSquare(square)%20%7B%0A%20%20%20%20var%20moves%20=%20game.moves(%7B%20square,%20verbose:%20true%20%7D);%0A%0A%20%20%20%20if%20(moves.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20moves.forEach(move%20=%3E%20greySquare(move.to));%0A%20%20%20%20%20%20%20%20greySquare(square);%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20handleMouseoutSquare()%20%7B%0A%20%20%20%20removeGreySquares();%0A%7D%0A%0Afunction%20handleSnapEnd()%20%7B%0A%20%20%20%20board.position(game.fen());%0A%7D%0A%0Afunction%20removeGreySquares()%20%7B%0A%20%20%20%20$('#board%20.square-55d63').css('background',%20'');%0A%7D%0A%0Afunction%20greySquare(square)%20%7B%0A%20%20%20%20var%20squareEl%20=%20$('#board%20.square-'%20+%20square);%0A%20%20%20%20var%20background%20=%20'#a9a9a9';%0A%20%20%20%20%0A%20%20%20%20if%20(squareEl.hasClass('black-3c85d')%20===%20true)%20%7B%0A%20%20%20%20%20%20%20%20background%20=%20'#696969';%0A%20%20%20%20%7D%0A%0A%20%20%20%20squareEl.css('background',%20background);%0A%7D##JS_E####CODE_15E####LOGIC_15####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60game.ugly_move(move);%60);%0Apass.if.js.editable(1).equivalent(%60var%20value%20=%20evaluateBoard(game.board());%60);%0Apass.if.js.editable(2).equivalent(%60if%20(value%20%3C%20bestValue)%20%7B%7D%60);##JS_E####LOGIC_15E####STEP_15E####STEP_16####INST_16##Returning%20the%20best%20move%0A%0A*Current%20Progress*%0A%0A*The%20Problem*%0A%0A*Solution*%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20value#+3,%20type%20in%20%60bestValue%20=%20value;%60%20to%20update%20the%20highest%20value%20of%20any%20move.%0A%0A(!)On%20+js#var%20value#+4,%20type%20in%20%60bestMove%20=%20move;%60%20to%20update%20the%20best%20move.%0A%0A(!)On%20+type#key#,%20##INST_16E####CODE_16####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22https://app.bsd.education/resources/css/chessboard-0.3.0.css%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/jquery-3.2.1.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chess.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chessboard.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch1%3EAI%20Chess%3C/h1%3E%0A%20%20%20%20%3Cdiv%20id=%22board%22%20class=%22board%22%3E%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A##HTML_E####CSS##body%20%7B%0A%20%20%20%20background-color:%20white;%0A%7D%0A%0Ah1%20%7B%0A%20%20%20%20text-align:%20center;%0A%7D##CSS_E####JS##//%20%20JavaScript%0Avar%20cfg%20=%20%7B%20position:%20'start'%20%7D;%0A%0Acfg.draggable%20=%20true;%0Acfg.onMouseoverSquare%20=%20handleMouseoverSquare;%0Acfg.onMouseoutSquare%20=%20handleMouseoutSquare;%0Acfg.onDragStart%20=%20handleDragStart;%0Acfg.onDrop%20=%20handleDrop;%0Acfg.onSnapEnd%20=%20handleSnapEnd;%0A%0Avar%20board%20=%20ChessBoard('board',%20cfg);%0Avar%20game%20=%20new%20Chess();%0A%0Afunction%20calculateBestMove()%20%7B%0A%20%20%20%20var%20moves%20=%20game.ugly_moves();%0A%20%20%20%20var%20bestMove%20=%20null;%0A%20%20%20%20var%20bestValue%20=%209999;%0A%20%20%20%20%0A%20%20%20%20moves.forEach(move%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20game.ugly_move(move);%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20var%20value%20=%20evaluateBoard(game.board());%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20(value%20%3C%20bestValue)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#bestValue%20=%20value;#END_EDITABLE#%0A%20%20%20%20%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#bestMove%20=%20move;#END_EDITABLE#%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D);%0A%7D%0A%0Afunction%20evaluateBoard(board)%20%7B%0A%20%20%20%20var%20totalEvaluation%20=%200;%0A%20%20%20%20%0A%20%20%20%20for%20(var%20i%20=%200;%20i%20%3C%208;%20i++)%20%7B%0A%20%20%20%20%20%20%20%20for%20(var%20j%20=%200;%20j%20%3C%208;%20j++)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20totalEvaluation%20=%20totalEvaluation%20+%20getPieceValue(board%5Bi%5D%5Bj%5D);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20return%20totalEvaluation;%0A%7D%0A%0Afunction%20getPieceValue(piece)%20%7B%0A%20%20%20%20if%20(piece%20===%20null)%20return%200;%0A%0A%20%20%20%20var%20getAbsoluteValue%20=%20piece%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(piece.type%20===%20'p')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2010;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'r')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2050;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'n')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2030;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'b')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2030;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'q')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2090;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'k')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20900;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20throw%20%22Unknown%20piece%20type:%20%22%20+%20piece.type;%0A%20%20%20%20%7D;%0A%20%20%20%20var%20absoluteValue%20=%20getAbsoluteValue(piece,%20piece.color%20===%20'w');%0A%20%20%20%20%0A%20%20%20%20return%20piece.color%20===%20'w'%20?%20absoluteValue%20:%20-absoluteValue;%0A%7D%0A%0Afunction%20handleDragStart(source,%20piece)%20%7B%0A%20%20%20%20if%20(game.in_checkmate()%20===%20true%20%7C%7C%20game.in_draw()%20===%20true%20%7C%7C%20piece.search(/%5Eb/)%20!==%20-1)%20%7B%0A%20%20%20%20%20%20%20%20return%20false;%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20handleDrop(source,%20target)%20%7B%0A%20%20%20%20var%20move%20=%20game.move(%7B%20from:%20source,%20to:%20target%20%7D);%0A%0A%20%20%20%20removeGreySquares();%0A%20%20%20%20%0A%20%20%20%20if%20(move%20===%20null)%20%7B%20return%20'snapback'%20%7D%0A%20%20%20%20%0A%20%20%20%20setTimeout(makeBestMove,%20250);%0A%7D%0A%0Afunction%20makeBestMove()%20%7B%0A%20%20%20%20var%20bestMove%20=%20getBestMove(game);%0A%0A%20%20%20%20game.ugly_move(bestMove);%0A%20%20%20%20board.position(game.fen());%0A%0A%20%20%20%20if%20(game.game_over())%20%7B%0A%20%20%20%20%20%20%20%20alert('Game%20over');%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20getBestMove(game)%20%7B%0A%20%20%20%20if%20(game.game_over())%20%7B%0A%20%20%20%20%20%20%20%20alert('Game%20over');%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20bestMove%20=%20calculateBestMove(game);%0A%0A%20%20%20%20return%20bestMove;%0A%7D%0A%0Afunction%20handleMouseoverSquare(square)%20%7B%0A%20%20%20%20var%20moves%20=%20game.moves(%7B%20square,%20verbose:%20true%20%7D);%0A%0A%20%20%20%20if%20(moves.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20moves.forEach(move%20=%3E%20greySquare(move.to));%0A%20%20%20%20%20%20%20%20greySquare(square);%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20handleMouseoutSquare()%20%7B%0A%20%20%20%20removeGreySquares();%0A%7D%0A%0Afunction%20handleSnapEnd()%20%7B%0A%20%20%20%20board.position(game.fen());%0A%7D%0A%0Afunction%20removeGreySquares()%20%7B%0A%20%20%20%20$('#board%20.square-55d63').css('background',%20'');%0A%7D%0A%0Afunction%20greySquare(square)%20%7B%0A%20%20%20%20var%20squareEl%20=%20$('#board%20.square-'%20+%20square);%0A%20%20%20%20var%20background%20=%20'#a9a9a9';%0A%20%20%20%20%0A%20%20%20%20if%20(squareEl.hasClass('black-3c85d')%20===%20true)%20%7B%0A%20%20%20%20%20%20%20%20background%20=%20'#696969';%0A%20%20%20%20%7D%0A%0A%20%20%20%20squareEl.css('background',%20background);%0A%7D##JS_E####CODE_16E####LOGIC_16####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60bestValue%20=%20value;%60);%0Apass.if.js.editable(1).equivalent(%60bestMove%20=%20move;%60);##JS_E####LOGIC_16E####STEP_16E####STEP_17####INST_17##Undoing%20the%20move%0A%0A*Current%20Progress*%0A%0A*The%20Problem*%0A%0A*Solution*%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#object%5D%0A%09(*)%5B#js#function%5D%0A%09(*)%5B#js#return%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20value#+7,%20type%20in%20%60game.undo()%60%20to%20reverse%20the%20move.%0A%0A(!)On%20+js#var%20value#+10,%20type%20in%20%60return%20bestMove;%60%20to%20determine%20the%20best%20move.##INST_17E####CODE_17####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22https://app.bsd.education/resources/css/chessboard-0.3.0.css%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/jquery-3.2.1.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chess.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chessboard.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch1%3EAI%20Chess%3C/h1%3E%0A%20%20%20%20%3Cdiv%20id=%22board%22%20class=%22board%22%3E%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A##HTML_E####CSS##body%20%7B%0A%20%20%20%20background-color:%20white;%0A%7D%0A%0Ah1%20%7B%0A%20%20%20%20text-align:%20center;%0A%7D##CSS_E####JS##//%20%20JavaScript%0Avar%20cfg%20=%20%7B%20position:%20'start'%20%7D;%0A%0Acfg.draggable%20=%20true;%0Acfg.onMouseoverSquare%20=%20handleMouseoverSquare;%0Acfg.onMouseoutSquare%20=%20handleMouseoutSquare;%0Acfg.onDragStart%20=%20handleDragStart;%0Acfg.onDrop%20=%20handleDrop;%0Acfg.onSnapEnd%20=%20handleSnapEnd;%0A%0Avar%20board%20=%20ChessBoard('board',%20cfg);%0Avar%20game%20=%20new%20Chess();%0A%0Afunction%20calculateBestMove()%20%7B%0A%20%20%20%20var%20moves%20=%20game.ugly_moves();%0A%20%20%20%20var%20bestMove%20=%20null;%0A%20%20%20%20var%20bestValue%20=%209999;%0A%20%20%20%20%0A%20%20%20%20moves.forEach(move%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20game.ugly_move(move);%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20var%20value%20=%20evaluateBoard(game.board());%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20(value%20%3C%20bestValue)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20bestValue%20=%20value;%0A%20%20%20%20%20%20%20%20%20%20%20%20bestMove%20=%20move;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20#BEGIN_EDITABLE#game.undo();#END_EDITABLE#%0A%20%20%20%20%7D);%0A%20%20%20%20%0A%20%20%20%20#BEGIN_EDITABLE#return%20bestMove;#END_EDITABLE#%0A%7D%0A%0Afunction%20evaluateBoard(board)%20%7B%0A%20%20%20%20var%20totalEvaluation%20=%200;%0A%20%20%20%20%0A%20%20%20%20for%20(var%20i%20=%200;%20i%20%3C%208;%20i++)%20%7B%0A%20%20%20%20%20%20%20%20for%20(var%20j%20=%200;%20j%20%3C%208;%20j++)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20totalEvaluation%20=%20totalEvaluation%20+%20getPieceValue(board%5Bi%5D%5Bj%5D);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20return%20totalEvaluation;%0A%7D%0A%0Afunction%20getPieceValue(piece)%20%7B%0A%20%20%20%20if%20(piece%20===%20null)%20return%200;%0A%0A%20%20%20%20var%20getAbsoluteValue%20=%20piece%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(piece.type%20===%20'p')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2010;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'r')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2050;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'n')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2030;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'b')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2030;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'q')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2090;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'k')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20900;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20throw%20%22Unknown%20piece%20type:%20%22%20+%20piece.type;%0A%20%20%20%20%7D;%0A%20%20%20%20var%20absoluteValue%20=%20getAbsoluteValue(piece,%20piece.color%20===%20'w');%0A%20%20%20%20%0A%20%20%20%20return%20piece.color%20===%20'w'%20?%20absoluteValue%20:%20-absoluteValue;%0A%7D%0A%0Afunction%20handleDragStart(source,%20piece)%20%7B%0A%20%20%20%20if%20(game.in_checkmate()%20===%20true%20%7C%7C%20game.in_draw()%20===%20true%20%7C%7C%20piece.search(/%5Eb/)%20!==%20-1)%20%7B%0A%20%20%20%20%20%20%20%20return%20false;%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20handleDrop(source,%20target)%20%7B%0A%20%20%20%20var%20move%20=%20game.move(%7B%20from:%20source,%20to:%20target%20%7D);%0A%0A%20%20%20%20removeGreySquares();%0A%20%20%20%20%0A%20%20%20%20if%20(move%20===%20null)%20%7B%20return%20'snapback'%20%7D%0A%20%20%20%20%0A%20%20%20%20setTimeout(makeBestMove,%20250);%0A%7D%0A%0Afunction%20makeBestMove()%20%7B%0A%20%20%20%20var%20bestMove%20=%20getBestMove(game);%0A%0A%20%20%20%20game.ugly_move(bestMove);%0A%20%20%20%20board.position(game.fen());%0A%0A%20%20%20%20if%20(game.game_over())%20%7B%0A%20%20%20%20%20%20%20%20alert('Game%20over');%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20getBestMove(game)%20%7B%0A%20%20%20%20if%20(game.game_over())%20%7B%0A%20%20%20%20%20%20%20%20alert('Game%20over');%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20bestMove%20=%20calculateBestMove(game);%0A%0A%20%20%20%20return%20bestMove;%0A%7D%0A%0Afunction%20handleMouseoverSquare(square)%20%7B%0A%20%20%20%20var%20moves%20=%20game.moves(%7B%20square,%20verbose:%20true%20%7D);%0A%0A%20%20%20%20if%20(moves.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20moves.forEach(move%20=%3E%20greySquare(move.to));%0A%20%20%20%20%20%20%20%20greySquare(square);%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20handleMouseoutSquare()%20%7B%0A%20%20%20%20removeGreySquares();%0A%7D%0A%0Afunction%20handleSnapEnd()%20%7B%0A%20%20%20%20board.position(game.fen());%0A%7D%0A%0Afunction%20removeGreySquares()%20%7B%0A%20%20%20%20$('#board%20.square-55d63').css('background',%20'');%0A%7D%0A%0Afunction%20greySquare(square)%20%7B%0A%20%20%20%20var%20squareEl%20=%20$('#board%20.square-'%20+%20square);%0A%20%20%20%20var%20background%20=%20'#a9a9a9';%0A%20%20%20%20%0A%20%20%20%20if%20(squareEl.hasClass('black-3c85d')%20===%20true)%20%7B%0A%20%20%20%20%20%20%20%20background%20=%20'#696969';%0A%20%20%20%20%7D%0A%0A%20%20%20%20squareEl.css('background',%20background);%0A%7D##JS_E####CODE_17E####LOGIC_17####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60game.undo();%60);%0Apass.if.js.editable(1).equivalent(%60return%20bestMove;%60);##JS_E####LOGIC_17E####STEP_17E####STEP_18####INST_18##Making%20the%20AI%20pick%20the%20best%20move%0A%0A*Current%20Progress*%0A%0A*The%20Problem*%0A%0A*Solution*%0A%0A(---)%0A%0A%5B-%0A%09(*)%5B#js#variable%5D%0A%09(*)%5B#js#function%5D%0A-%5D%0A%0A(***)%0A%0A(!)On%20+js#var%20position#+1,%20create%20a%20variable%20called%20*depth*%20to%20store%20the%20number%20*3*.%0A%0A(!)On%20+js#on%20getBest#+7,%20replace%20the%20*calculateBestMove(game)*%20function%20call%20with%20*minimaxRoot(depth,%20game)*%20to%20apply%20the%20minimax%20algorithm.##INST_18E####CODE_18####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22https://app.bsd.education/resources/css/chessboard-0.3.0.css%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/jquery-3.2.1.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chess.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chessboard.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch1%3EAI%20Chess%3C/h1%3E%0A%20%20%20%20%3Cdiv%20id=%22board%22%20class=%22board%22%3E%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A##HTML_E####CSS##body%20%7B%0A%20%20%20%20background-color:%20white;%0A%7D%0A%0Ah1%20%7B%0A%20%20%20%20text-align:%20center;%0A%7D##CSS_E####JS##//%20%20JavaScript%0Avar%20cfg%20=%20%7B%20position:%20'start'%20%7D;%0A%0Acfg.draggable%20=%20true;%0Acfg.onMouseoverSquare%20=%20handleMouseoverSquare;%0Acfg.onMouseoutSquare%20=%20handleMouseoutSquare;%0Acfg.onDragStart%20=%20handleDragStart;%0Acfg.onDrop%20=%20handleDrop;%0Acfg.onSnapEnd%20=%20handleSnapEnd;%0A%0Avar%20board%20=%20ChessBoard('board',%20cfg);%0Avar%20game%20=%20new%20Chess();%0Avar%20positionCount;%0A#BEGIN_EDITABLE#var%20depth%20=%203;#END_EDITABLE#%0A%0Afunction%20minimaxRoot(depth,%20game)%20%7B%0A%20%20%20%20var%20moves%20=%20game.ugly_moves();%0A%20%20%20%20var%20bestMove%20=%20-9999;%0A%20%20%20%20var%20bestMoveFound;%0A%20%20%20%20%0A%20%20%20%20moves.forEach(move%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20game.ugly_move(move);%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20var%20value%20=%20minimax(depth%20-%201,%20game,%20false);%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20(value%20%3E=%20bestMove)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20bestMove%20=%20value;%0A%20%20%20%20%20%20%20%20%20%20%20%20bestMoveFound%20=%20move;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20game.undo();%0A%20%20%20%20%7D);%0A%20%20%20%20%0A%20%20%20%20return%20bestMoveFound;%0A%7D%0A%0Afunction%20minimax(depth,%20game,%20isMaximisingPlayer)%20%7B%0A%20%20%20%20positionCount++;%0A%20%20%20%20%0A%20%20%20%20if%20(depth%20===%200)%20%7B%0A%20%20%20%20%20%20%20%20return%20-evaluateBoard(game.board());%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20moves%20=%20game.ugly_moves();%0A%20%20%20%20var%20bestMove%20=%20isMaximisingPlayer%20?%20-9999%20:%209999;%0A%20%20%20%20%0A%20%20%20%20moves.forEach(move%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20game.ugly_move(move);%0A%20%20%20%20%20%20%20%20bestMove%20=%20Math%5BisMaximisingPlayer%20?%20'max'%20:%20'min'%5D(bestMove,%20minimax(depth%20-%201,%20game,%20!isMaximisingPlayer));%0A%20%20%20%20%20%20%20%20game.undo();%0A%20%20%20%20%7D);%0A%20%20%20%20%0A%20%20%20%20return%20bestMove;%0A%7D%0A%0Afunction%20evaluateBoard(board)%20%7B%0A%20%20%20%20var%20totalEvaluation%20=%200;%0A%20%20%20%20%0A%20%20%20%20for%20(var%20i%20=%200;%20i%20%3C%208;%20i++)%20%7B%0A%20%20%20%20%20%20%20%20for%20(var%20j%20=%200;%20j%20%3C%208;%20j++)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20totalEvaluation%20=%20totalEvaluation%20+%20getPieceValue(board%5Bi%5D%5Bj%5D);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20return%20totalEvaluation;%0A%7D%0A%0Afunction%20getPieceValue(piece)%20%7B%0A%20%20%20%20if%20(piece%20===%20null)%20return%200;%0A%0A%20%20%20%20var%20getAbsoluteValue%20=%20piece%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(piece.type%20===%20'p')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2010;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'r')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2050;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'n')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2030;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'b')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2030;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'q')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2090;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'k')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20900;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20throw%20%22Unknown%20piece%20type:%20%22%20+%20piece.type;%0A%20%20%20%20%7D;%0A%20%20%20%20var%20absoluteValue%20=%20getAbsoluteValue(piece,%20piece.color%20===%20'w');%0A%20%20%20%20%0A%20%20%20%20return%20piece.color%20===%20'w'%20?%20absoluteValue%20:%20-absoluteValue;%0A%7D%0A%0Afunction%20handleDragStart(source,%20piece)%20%7B%0A%20%20%20%20if%20(game.in_checkmate()%20===%20true%20%7C%7C%20game.in_draw()%20===%20true%20%7C%7C%20piece.search(/%5Eb/)%20!==%20-1)%20%7B%0A%20%20%20%20%20%20%20%20return%20false;%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20handleDrop(source,%20target)%20%7B%0A%20%20%20%20var%20move%20=%20game.move(%7B%20from:%20source,%20to:%20target%20%7D);%0A%0A%20%20%20%20removeGreySquares();%0A%20%20%20%20%0A%20%20%20%20if%20(move%20===%20null)%20%7B%20return%20'snapback'%20%7D%0A%20%20%20%20%0A%20%20%20%20setTimeout(makeBestMove,%20250);%0A%7D%0A%0Afunction%20makeBestMove()%20%7B%0A%20%20%20%20var%20bestMove%20=%20getBestMove(game);%0A%0A%20%20%20%20game.ugly_move(bestMove);%0A%20%20%20%20board.position(game.fen());%0A%0A%20%20%20%20if%20(game.game_over())%20%7B%0A%20%20%20%20%20%20%20%20alert('Game%20over');%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20getBestMove(game)%20%7B%0A%20%20%20%20if%20(game.game_over())%20%7B%0A%20%20%20%20%20%20%20%20alert('Game%20over');%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20positionCount%20=%200;%0A%0A%20%20%20%20var%20bestMove%20=%20#BEGIN_EDITABLE#calculateBestMove(game)#END_EDITABLE#;%0A%20%20%20%20//%20var%20bestMove%20=%20minimaxRoot(depth,%20game);%0A%0A%20%20%20%20return%20bestMove;%0A%7D%0A%0Afunction%20handleMouseoverSquare(square)%20%7B%0A%20%20%20%20var%20moves%20=%20game.moves(%7B%20square,%20verbose:%20true%20%7D);%0A%0A%20%20%20%20if%20(moves.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20moves.forEach(move%20=%3E%20greySquare(move.to));%0A%20%20%20%20%20%20%20%20greySquare(square);%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20handleMouseoutSquare()%20%7B%0A%20%20%20%20removeGreySquares();%0A%7D%0A%0Afunction%20handleSnapEnd()%20%7B%0A%20%20%20%20board.position(game.fen());%0A%7D%0A%0Afunction%20removeGreySquares()%20%7B%0A%20%20%20%20$('#board%20.square-55d63').css('background',%20'');%0A%7D%0A%0Afunction%20greySquare(square)%20%7B%0A%20%20%20%20var%20squareEl%20=%20$('#board%20.square-'%20+%20square);%0A%20%20%20%20var%20background%20=%20'#a9a9a9';%0A%20%20%20%20%0A%20%20%20%20if%20(squareEl.hasClass('black-3c85d')%20===%20true)%20%7B%0A%20%20%20%20%20%20%20%20background%20=%20'#696969';%0A%20%20%20%20%7D%0A%0A%20%20%20%20squareEl.css('background',%20background);%0A%7D##JS_E####CODE_18E####LOGIC_18####HTML####HTML_E####CSS####CSS_E####JS##//%20Expectation:%0Apass.if.js.editable(0).equivalent(%60var%20depth%20=%203;%60);%0Apass.if.js.editable(1).equivalent(%60minimaxRoot(depth,%20game)%60);##JS_E####LOGIC_18E####STEP_18E####STEP_19####INST_19##Summary%0A%0AGreat%20job!%0A%0AYou%20have%20completed%20this%20project,%20here%20is%20a%20recap:%0A%0A%5B-%0A%09(*)We%20used%20the%20%5B#html#%3Cscript%3E%5D%20element%20to%20import%20the%20chess%20and%20chessboard%20libraries.%0A%09(*)We%20used%20%5B#js#variables%5D%20to%20create%20the%20chess%20and%20chessboard%20objects%20in%20JavaScript.%0A%09(*)We%20created%20multiple%20%5B#js#functions%5D%20to%20gradually%20increase%20the%20strength%20of%20our%20chess%20playing%20AI.%0A-%5D##INST_19E####CODE_19####HTML##%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang=%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset=%22UTF-8%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22https://app.bsd.education/resources/css/chessboard-0.3.0.css%22%3E%0A%20%20%20%20%3Clink%20rel=%22stylesheet%22%20href=%22style.css%22%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/jquery-3.2.1.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chess.js%22%3E%3C/script%3E%0A%20%20%20%20%3Cscript%20src=%22https://app.bsd.education/resources/js/chessboard.js%22%3E%3C/script%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Ch1%3EAI%20Chess%3C/h1%3E%0A%20%20%20%20%3Cdiv%20id=%22board%22%20class=%22board%22%3E%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cscript%20src=%22script.js%22%3E%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E%0A##HTML_E####CSS##body%20%7B%0A%20%20%20%20background-color:%20white;%0A%7D%0A%0Ah1%20%7B%0A%20%20%20%20text-align:%20center;%0A%7D##CSS_E####JS##//%20%20JavaScript%0Avar%20cfg%20=%20%7B%20position:%20'start'%20%7D;%0A%0Acfg.draggable%20=%20true;%0Acfg.onMouseoverSquare%20=%20handleMouseoverSquare;%0Acfg.onMouseoutSquare%20=%20handleMouseoutSquare;%0Acfg.onDragStart%20=%20handleDragStart;%0Acfg.onDrop%20=%20handleDrop;%0Acfg.onSnapEnd%20=%20handleSnapEnd;%0A%0Avar%20board%20=%20ChessBoard('board',%20cfg);%0Avar%20game%20=%20new%20Chess();%0Avar%20positionCount;%0Avar%20depth%20=%203;%0A%0Afunction%20minimaxRoot(depth,%20game)%20%7B%0A%20%20%20%20var%20moves%20=%20game.ugly_moves();%0A%20%20%20%20var%20bestMove%20=%20-9999;%0A%20%20%20%20var%20bestMoveFound;%0A%20%20%20%20%0A%20%20%20%20moves.forEach(move%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20game.ugly_move(move);%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20var%20value%20=%20minimax(depth%20-%201,%20game,%20false);%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20if%20(value%20%3E=%20bestMove)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20bestMove%20=%20value;%0A%20%20%20%20%20%20%20%20%20%20%20%20bestMoveFound%20=%20move;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20game.undo();%0A%20%20%20%20%7D);%0A%20%20%20%20%0A%20%20%20%20return%20bestMoveFound;%0A%7D%0A%0Afunction%20minimax(depth,%20game,%20isMaximisingPlayer)%20%7B%0A%20%20%20%20positionCount++;%0A%20%20%20%20%0A%20%20%20%20if%20(depth%20===%200)%20%7B%0A%20%20%20%20%20%20%20%20return%20-evaluateBoard(game.board());%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20moves%20=%20game.ugly_moves();%0A%20%20%20%20var%20bestMove%20=%20isMaximisingPlayer%20?%20-9999%20:%209999;%0A%20%20%20%20%0A%20%20%20%20moves.forEach(move%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20game.ugly_move(move);%0A%20%20%20%20%20%20%20%20bestMove%20=%20Math%5BisMaximisingPlayer%20?%20'max'%20:%20'min'%5D(bestMove,%20minimax(depth%20-%201,%20game,%20!isMaximisingPlayer));%0A%20%20%20%20%20%20%20%20game.undo();%0A%20%20%20%20%7D);%0A%20%20%20%20%0A%20%20%20%20return%20bestMove;%0A%7D%0A%0Afunction%20evaluateBoard(board)%20%7B%0A%20%20%20%20var%20totalEvaluation%20=%200;%0A%20%20%20%20%0A%20%20%20%20for%20(var%20i%20=%200;%20i%20%3C%208;%20i++)%20%7B%0A%20%20%20%20%20%20%20%20for%20(var%20j%20=%200;%20j%20%3C%208;%20j++)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20totalEvaluation%20=%20totalEvaluation%20+%20getPieceValue(board%5Bi%5D%5Bj%5D);%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20return%20totalEvaluation;%0A%7D%0A%0Afunction%20getPieceValue(piece)%20%7B%0A%20%20%20%20if%20(piece%20===%20null)%20return%200;%0A%0A%20%20%20%20var%20getAbsoluteValue%20=%20piece%20=%3E%20%7B%0A%20%20%20%20%20%20%20%20if%20(piece.type%20===%20'p')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2010;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'r')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2050;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'n')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2030;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'b')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2030;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'q')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%2090;%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20(piece.type%20===%20'k')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20900;%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20throw%20%22Unknown%20piece%20type:%20%22%20+%20piece.type;%0A%20%20%20%20%7D;%0A%20%20%20%20var%20absoluteValue%20=%20getAbsoluteValue(piece,%20piece.color%20===%20'w');%0A%20%20%20%20%0A%20%20%20%20return%20piece.color%20===%20'w'%20?%20absoluteValue%20:%20-absoluteValue;%0A%7D%0A%0Afunction%20handleDragStart(source,%20piece)%20%7B%0A%20%20%20%20if%20(game.in_checkmate()%20===%20true%20%7C%7C%20game.in_draw()%20===%20true%20%7C%7C%20piece.search(/%5Eb/)%20!==%20-1)%20%7B%0A%20%20%20%20%20%20%20%20return%20false;%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20handleDrop(source,%20target)%20%7B%0A%20%20%20%20var%20move%20=%20game.move(%7B%20from:%20source,%20to:%20target%20%7D);%0A%0A%20%20%20%20removeGreySquares();%0A%20%20%20%20%0A%20%20%20%20if%20(move%20===%20null)%20%7B%20return%20'snapback'%20%7D%0A%20%20%20%20%0A%20%20%20%20setTimeout(makeBestMove,%20250);%0A%7D%0A%0Afunction%20makeBestMove()%20%7B%0A%20%20%20%20var%20bestMove%20=%20getBestMove(game);%0A%0A%20%20%20%20game.ugly_move(bestMove);%0A%20%20%20%20board.position(game.fen());%0A%0A%20%20%20%20if%20(game.game_over())%20%7B%0A%20%20%20%20%20%20%20%20alert('Game%20over');%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20getBestMove(game)%20%7B%0A%20%20%20%20if%20(game.game_over())%20%7B%0A%20%20%20%20%20%20%20%20alert('Game%20over');%0A%20%20%20%20%7D%0A%20%20%20%20%0A%20%20%20%20positionCount%20=%200;%0A%0A%20%20%20%20var%20bestMove%20=%20minimaxRoot(depth,%20game);%0A%0A%20%20%20%20return%20bestMove;%0A%7D%0A%0Afunction%20handleMouseoverSquare(square)%20%7B%0A%20%20%20%20var%20moves%20=%20game.moves(%7B%20square,%20verbose:%20true%20%7D);%0A%0A%20%20%20%20if%20(moves.length%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20moves.forEach(move%20=%3E%20greySquare(move.to));%0A%20%20%20%20%20%20%20%20greySquare(square);%0A%20%20%20%20%7D%0A%7D%0A%0Afunction%20handleMouseoutSquare()%20%7B%0A%20%20%20%20removeGreySquares();%0A%7D%0A%0Afunction%20handleSnapEnd()%20%7B%0A%20%20%20%20board.position(game.fen());%0A%7D%0A%0Afunction%20removeGreySquares()%20%7B%0A%20%20%20%20$('#board%20.square-55d63').css('background',%20'');%0A%7D%0A%0Afunction%20greySquare(square)%20%7B%0A%20%20%20%20var%20squareEl%20=%20$('#board%20.square-'%20+%20square);%0A%20%20%20%20var%20background%20=%20'#a9a9a9';%0A%20%20%20%20%0A%20%20%20%20if%20(squareEl.hasClass('black-3c85d')%20===%20true)%20%7B%0A%20%20%20%20%20%20%20%20background%20=%20'#696969';%0A%20%20%20%20%7D%0A%0A%20%20%20%20squareEl.css('background',%20background);%0A%7D%0A#BEGIN_EDITABLE##END_EDITABLE###JS_E####CODE_19E####LOGIC_19####HTML####HTML_E####CSS####CSS_E####JS####JS_E####LOGIC_19E####STEP_19E##