(this["webpackJsonpreact-typescript"]=this["webpackJsonpreact-typescript"]||[]).push([[0],{419:function(t,e,n){t.exports=n.p+"static/media/user.2a44faa7.svg"},432:function(t,e,n){t.exports=n(781)},649:function(t,e){},777:function(t,e,n){},779:function(t,e,n){},781:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"OutputComponent",(function(){return Xt})),n.d(r,"ElementComponent",(function(){return Qt}));var o=n(13),a=n.n(o),c=n(185),i=n.n(c),u=n(101),s=n(279),l=n.n(s);n(337),n(443);l.a.initializeApp({apiKey:"AIzaSyC9vwEzF5VUY3-O_z2uQMcZx-YPPBW8b3Q",authDomain:"optimal-card-275517.firebaseapp.com",databaseURL:"https://optimal-card-275517.firebaseio.com",projectId:"optimal-card-275517",storageBucket:"optimal-card-275517.appspot.com",messagingSenderId:"104004214282",appId:"1:104004214282:web:6c96da7ffd57723733c9f3",measurementId:"G-FN630FPVZ4"}),l.a.firestore();var d=l.a,p=n(157),f=n(415),h=n(431),m=n(173),g=n(200),b=n(417),v=n.n(b),O=n(418),E=n.n(O),j=n(59),y=n(24),x=n(280);function w(){var t=Object(j.a)(["\n\t\t\tcolor: gray;\n\t\t\tmargin: 0;\n\t\t\tpadding-left: 5px;\n\t\t\tdisplay: inline-block;\n\t\t"]);return w=function(){return t},t}function T(){var t=Object(j.a)(["\n\t\t\twidth: 20px;\n\t\t\theight: 20px;\n\t\t\tvertical-align: middle;\n\t\t"]);return T=function(){return t},t}function k(){var t=Object(j.a)(["\n\t\t\tpadding: 5px 12px 5px 10px;\n\t\t\tbackground-color: ghostwhite;\n\t\t\tcursor: pointer;\n\t\t"]);return k=function(){return t},t}function N(){var t=Object(j.a)(["\n\t\t\tcolor: #444;\n\t\t\tmargin: 0;\n\t\t\tpadding: 8px 16px;\n\t\t\tbackground-color: silver;\n\t\t\ttext-align: center;\n\t\t"]);return N=function(){return t},t}function A(){var t=Object(j.a)(["\n\t\t\tborder: 1px solid #aaa;\n\t\t\tborder-radius: 5px;\n\t\t\tbackground-color: whitesmoke;\n\t\t\tposition: absolute;\n\t\t\ttop: ","px;\n\t\t\ttext-align: left;\n\t\t\toverflow: hidden;\n\t\t\ttransform: translateX(calc(-50% + ","px));\n\t\t\twhite-space: nowrap;\n\t\t\tz-index: 99;\n\t\t"]);return A=function(){return t},t}function R(){var t=Object(j.a)(["position: relative;"]);return R=function(){return t},t}function C(){var t=Object(j.a)(["\n\t\t\twidth: 100%;\n\t\t\tborder-radius: 50%;\n\t\t"]);return C=function(){return t},t}function L(){var t=Object(j.a)(["\n\t\t\twidth: ","px;\n\t\t\theight: ","px;\n\t\t\tcursor: pointer;\n\t\t"]);return L=function(){return t},t}function M(){var t=Object(j.a)(["\n\t\t\tdisplay: inline-block;\n\t\t\tvertical-align: middle;\n\t\t"]);return M=function(){return t},t}var I=new Map([["google",x.b],["anonymous",x.c],["logout",x.a]]),G=Object(u.b)((function(t){return{showLogin:t.authReducer.showLogin}}),(function(t){return{toggleLoginView:function(e){return t(function(t){return{type:"auth/TOGGLE_LOGIN_VIEW",payload:t}}(e))}}}))((function(t){var e=t.trigger,n=t.header,r=t.options,o={root:Object(y.css)(M()),triggerWrapper:Object(y.css)(L(),e.size,e.size),triggerImage:Object(y.css)(C()),menuWrapper:Object(y.css)(R()),menu:Object(y.css)(A(),e.margin,e.size/2),header:Object(y.css)(N()),options:Object(y.css)(k()),optionIcons:Object(y.css)(T()),optionText:Object(y.css)(w())},a=Object(y.jsx)("div",{css:o.menu},Object(y.jsx)("h4",{css:o.header},n),r.map((function(e){var n=I.get(e.icon);return Object(y.jsx)("div",{key:e.icon,css:o.options,onClick:function(){t.toggleLoginView(!t.showLogin),e.handler()}},Object(y.jsx)(n,{css:o.optionIcons}),Object(y.jsx)("h5",{css:o.optionText},e.text))})));return console.log("render: <Dropdown>",!!t.showLogin),Object(y.jsx)("div",{css:o.root},Object(y.jsx)("div",{onClick:function(){return t.toggleLoginView(!t.showLogin)},css:o.triggerWrapper},"image"===e.type?Object(y.jsx)("img",{alt:"trigger",src:e.src,css:o.triggerImage}):Object(y.jsx)("p",null,"unknown trigger type")),t.showLogin&&Object(y.jsx)("div",{css:o.menuWrapper},a))})),B=n(419),D=n.n(B),S=Object(u.b)((function(t){var e=t.firebaseReducer.auth;return{uid:e.uid,displayName:e.displayName,email:e.email,photoURL:e.photoURL,isLoaded:e.isLoaded,isEmpty:e.isEmpty}}))((function(t){var e=Object(p.useFirebase)(),n=Object(p.useFirestore)(),r={type:"image",src:t.isEmpty&&D.a||t.photoURL||new v.a(E.a,{base64:!0,colorful:!0}).create(t.uid),size:40,margin:15},o=t.isEmpty?"Log In":t.displayName||"Anonymous",c=t.isEmpty?[{icon:"google",text:"Google",handler:function(){return e.login({provider:"google",type:"popup"}).then((function(e){var r=e.additionalUserInfo,o=r.isNewUser,a=r.profile,c=a.given_name,i=a.family_name;o&&n.collection("user").doc(t.uid).set({givenName:c,familyName:i,email:t.email,content:{}})}))}},{icon:"anonymous",text:"Anonymous",handler:function(){return e.auth().signInAnonymously()}}]:[{icon:"logout",text:"Log out",handler:function(){return e.logout()}}];return console.log("render: <FirebaseAuth>",t.isLoaded),t.isLoaded?a.a.createElement(G,{trigger:r,header:o,options:c}):a.a.createElement(g.MoonLoader,{size:.6*r.size,color:"white"})})),U=n(143),P=n(135),H=n(420),F=n.n(H),z=n(110),Y=n(421),W=n.n(Y),_=n(201),V=n.n(_),K=function(t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()};function q(t){var e=Object.assign({},t);return{clone:function(){return e},delete:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){return delete e[t]})),e},filter:function(t,n){return Object[t](e).filter(n)},forEachEntry:function(e){Object.entries(t).forEach((function(t,n){return e(t[0],t[1],n)}))},forEachKey:function(e){Object.keys(t).forEach((function(t,n){return e(t,n)}))},hasKey:function(t){return{}.hasOwnProperty.call(e,t)},mutate:function(n){return Object.entries(n).forEach((function(n){var r=Object(P.a)(n,2),o=r[0],a=r[1];t.hasOwnProperty(o)&&("object"===typeof a&&null!==a?delete e[o]:a=Object(U.a)({},o,a),Object.assign(e,a))})),e},sort:function(t,n){return Object.fromEntries(Object.entries(e).sort((function(e,r){var o=Object(P.a)(e,2),a=o[0],c=o[1],i=Object(P.a)(r,2),u=i[0],s=i[1];return n?n(e,r):"keys"===t?a<u?-1:a>u?1:0:"values"===t?c-s:0})))},keyGroups:function(t){var n=q(Object.entries(e).reduce((function(e,n){var r=Object(P.a)(n,2),o=r[0],a=r[1],c=t(o);return e.hasOwnProperty(c)?e[c].push(a):e[c]=[a],e}),{})).sort("keys");return Object.values(n)}}}function J(){var t=Object(j.a)(["\n\t\t\tcolor: gold;\n\t\t\tfont-style: italic;\n\t\t\tpadding: 4px 8px;\n\t\t\tborder-radius: 5px;\n\t\t\toutline: none;\n\t\t\twhite-space: nowrap;\n\t\t\tcursor: ","; \n\t\t\ttransition: background-color 0.1s ease-in-out;\n\t\t\t&:hover {\n\t\t\t\tbackground-color: ",";\n\t\t\t}\n\t\t\t&:focus {\n\t\t\t\tbackground-color: rgba(0, 0, 0, 0.4);\n\t\t\t\tcursor: text;\n\t\t\t}\n\t\t"]);return J=function(){return t},t}function X(){var t=Object(j.a)(["\n\t\t\tdisplay: grid;\n\t\t\tgrid-auto-flow: column;\n\t\t\tgrid-gap: 2px;\n\t\t\tplace-items: center;\n\t\t"]);return X=function(){return t},t}var Q=a.a.memo((function(t){var e=t.text,n=t.editable,r=t.graphTitle,a=t.sync,c=Object(o.useRef)(r||e),i={titleWrapper:Object(y.css)(X()),title:Object(y.css)(J(),n?"pointer":"auto",n?"rgba(0, 0, 0, 0.2)":"unset")};return console.log("render: <Title>",!!c.current),c.current?Object(y.jsx)("div",{css:i.titleWrapper},n&&Object(y.jsx)(z.b,{color:"gray"}),Object(y.jsx)(V.a,{className:"editable",tagName:"h4",html:c.current,disabled:!n,onKeyDown:function(t){"Enter"===t.key&&(t.preventDefault(),t.stopPropagation())},onPaste:function(t){var e=t.nativeEvent.clipboardData.getData("Text");t.preventDefault(),t.stopPropagation(),function(t){if(window.getSelection){var e=window.getSelection();if(e.getRangeAt&&e.rangeCount){var n=e.getRangeAt(0);n.deleteContents(),n.insertNode(document.createTextNode(t))}}}(e)},onChange:function(t){0===t.target.value.trim().length?t.target.value=c.current:c.current=t.target.value.trim(),a&&a(c.current)},onBlur:function(t){var e,n=null===(e=t.target.textContent)||void 0===e?void 0:e.trim();n!==c.current&&(t.target.innerText=n.length&&n||c.current,c.current=t.target.innerText)},css:i.title})):Object(y.jsx)(g.PulseLoader,{size:6,color:"gold"})}));function Z(){var t=Object(j.a)(["\n\t\t\twidth: ","px;\n\t\t\theight: ","px;\n\t\t\tpadding: 4px;\n\t\t\tbackground-color: transparent;\n\t\t\tborder-radius: 5px;\n\t\t\tcolor: ",";\n\t\t\tcursor: pointer; \n\t\t\ttransition: all 0.1s ease-in-out;\n\t\t\t&:hover {\n\t\t\t\tcolor: ",";\n\t\t\t\tbackground-color: rgba(0, 0, 0, 0.3);\n\t\t\t}\n\t\t\t&:active {\n\t\t\t\tcolor: ",";\n\t\t\t\topacity: 0.8;\n\t\t\t}\n\t\t"]);return Z=function(){return t},t}var $=function(t){var e=t.icon,n=t.toggle,r=t.title,a=t.size,c=t.color,i=t.hoverColor,u=t.activeColor,s=t.handler,l=(a||30)-10,d={css:Object(y.css)(Z(),l,l,c||"inherit",i||"inherit",u||"inherit"),title:r,onClick:s};if(console.log("render: <Button>",e.name),!n)return Object(y.jsx)(e,d);return Object(y.jsx)((function(t){var r=Object(o.useState)(!1),a=Object(P.a)(r,2),c=a[0],i=a[1],u=c?n:e;return d.onClick=function(){i(!c),console.log("isToggled:",c),s&&s(c)},Object(y.jsx)(u,d)}),null)};function tt(){var t=Object(j.a)(["\n\t\t\tposition: relative;\n\t\t\tmin-width: 300px;\n\t\t\theight: calc(100% - ","px);\n\t\t\tborder: 1px solid silver;\n\t\t\tborder-radius: 0 0 6px 6px;\n\t\t"]);return tt=function(){return t},t}function et(){var t=Object(j.a)(["\n\t\t\tdisplay: grid;\n\t\t\tgrid-auto-flow: column;\n\t\t\tgrid-gap: 7px;\n\t\t"]);return et=function(){return t},t}function nt(){var t=Object(j.a)(["\n\t\t\topacity: 0.6;\n\t\t\tcursor: default;\n\t\t\tuser-select: none;\n\t\t"]);return nt=function(){return t},t}function rt(){var t=Object(j.a)(["\n\t\t\theight: ","px;\n\t\t\tpadding: 0 10px;\n\t\t\tborder-radius: 6px 6px 0 0;\n\t\t\tdisplay: grid;\n\t\t\tgrid-auto-flow: column;\n\t\t\tplace-items: center;\n\t\t\tjustify-content: space-between;\n\t\t\tbackground-color: #444;\n\t\t\tcolor: ghostwhite;\n\t\t"]);return rt=function(){return t},t}function ot(){var t=Object(j.a)(["\n\t\t\twidth: calc(100% - 10px);\n\t\t\theight: calc(100% - 10px);\n\t\t\tposition: relative;\n\t\t\tleft: 5px;\n\t\t\ttop: 5px;\n\t\t\toverflow: hidden;\n\t\t"]);return ot=function(){return t},t}var at=a.a.memo((function(t){var e=t.header.height||42,n={panel:Object(y.css)(ot()),header:Object(y.css)(rt(),e),name:Object(y.css)(nt()),options:Object(y.css)(et()),content:Object(y.css)(tt(),e)};return console.log("render: <Panel>"),Object(y.jsx)("div",{css:t.style},Object(y.jsx)("div",{css:n.panel},Object(y.jsx)("div",{css:n.header},Object(y.jsx)("h5",{css:n.name},t.name),Object(y.jsx)(Q,t.title),Object(y.jsx)((function(){return Object(y.jsx)("div",{css:n.options},(t.options||[]).map((function(e){var n={size:t.header.height,key:"".concat(e.icon.name,"-").concat(W.a.slug())};return Object(y.jsx)($,Object.assign(e,n))})))}),null)),Object(y.jsx)("div",{css:n.content},t.children)))}));function ct(){var t=Object(j.a)(["\n\t\t\tpadding: 8px 12px;\n\t\t\tborder: solid rgba(0, 0, 0, 0.4);\n\t\t\tborder-width: 0 0 1px 0;\n\t\t\tbackground-color: #444;\n\t\t"]);return ct=function(){return t},t}function it(){var t=Object(j.a)(["\n\t\t\tposition: absolute;\n\t\t\tright: 5px;\n\t\t\ttop: 5px;\n\t\t\tborder-radius: 5px;\n\t\t\tcolor: ghostwhite;\n\t\t\tbackground-color: dimgray;\n\t\t\toverflow: hidden;\n\t\t"]);return it=function(){return t},t}var ut,st=Object(u.b)((function(t){return{graphs:t.flowReducer.graphs}}))(a.a.memo((function(t){var e={card:Object(y.css)(it()),header:Object(y.css)(ct())};return t.graphs?Object(y.jsx)("div",{css:e.card},Object(y.jsx)("h5",{css:e.header},"hello"),t.graphs.map((function(t){return Object(y.jsx)("div",{key:t.key},Object(y.jsx)("p",null,t.title))}))):Object(y.jsx)("div",null)}))),lt=n(36),dt=n.n(lt),pt=n(202),ft=n(66),ht=n(126),mt=n(422),gt=n(429),bt=n(425),vt=n(430),Ot=n(100),Et=n(116),jt=n(102),yt=n(103);!function(t){t.HEAD="HEAD",t.BODY="BODY",t.ELEMENT="ELEMENT",t.ATTRIBUTE="ATTRIBUTE",t.CONTENT="CONTENT",t.TEXT="TEXT"}(ut||(ut={}));var xt=function(t){return function(e){return"".concat(t).concat(e?"".concat("::").concat(e):"")}},wt=function(t){return t.split("::").shift()},Tt={head:xt(ut.HEAD),body:xt(ut.BODY),elm:xt(ut.ELEMENT),attr:xt(ut.ATTRIBUTE),content:xt(ut.CONTENT),text:xt(ut.TEXT),io:function(t){return"".concat(t.toLowerCase(),"s")}},kt=(new ft.c.Socket("Number"),new ft.c.Socket("Element")),Nt=new ft.c.Socket("Attribute"),At=function(t){return Object.assign({border:"none",backgroundColor:"gray"},t||{})},Rt=function(t){return Object.assign({display:"inline-block",whiteSpace:"pre-wrap",minWidth:"150px",maxWidth:"250px",minHeight:"24px",padding:"4px 6px",fontFamily:"Monospace",color:"ghostwhite",backgroundColor:"rgba(0, 0, 0, 0.4)",borderRadius:"3px",cursor:"text",border:"none",outline:"none",resize:"none"},t||{})},Ct="lightskyblue",Lt="lightcoral",Mt="No Connection",It=/^([a-z-]+)\s*=\s*(['"])(.*)\2$/,Gt={all:["p","b","u","i","a","br","h1","h2","h3","h4","h5","h6","ul","ol","li","em","hr","tt","dl","dt","dd","tr","th","td","col","div","img","nav","sup","sub","pre","wbr","area","base","code","html","meta","head","link","body","span","nobr","form","embed","label","input","param","small","style","table","title","frame","track","button","canvas","footer","header","keygen","iframe","strong","select","option","script","source","strike","command","article","section","noscript","textarea","frameset","noframes","progress","blockquote"],void:["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],allowedInHead:["title","base","link","style","meta","script","noscript","template"]},Bt=JSON.parse('{\n\t"id": "flow@0.1.0",\n\t"nodes": {\n\t\t"1": {\n\t\t\t"id": 1,\n\t\t\t"data": {\n\t\t\t\t"HEAD::MANAGER": [\n\t\t\t\t\t"HEAD::1"\n\t\t\t\t],\n\t\t\t\t"BODY::MANAGER": [\n\t\t\t\t\t"BODY::1",\n\t\t\t\t\t"BODY::2",\n\t\t\t\t\t"BODY::3"\n\t\t\t\t],\n\t\t\t\t"HEAD::1": "",\n\t\t\t\t"BODY::1": "",\n\t\t\t\t"BODY::2": "",\n\t\t\t\t"html": {},\n\t\t\t\t"BODY::3": ""\n\t\t\t},\n\t\t\t"inputs": {\n\t\t\t\t"HEAD::1": {\n\t\t\t\t\t"connections": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t"node": 6,\n\t\t\t\t\t\t\t"output": "ELEMENT",\n\t\t\t\t\t\t\t"data": {}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t"BODY::1": {\n\t\t\t\t\t"connections": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t"node": 3,\n\t\t\t\t\t\t\t"output": "ELEMENT",\n\t\t\t\t\t\t\t"data": {}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t"BODY::2": {\n\t\t\t\t\t"connections": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t"node": 8,\n\t\t\t\t\t\t\t"output": "ELEMENT",\n\t\t\t\t\t\t\t"data": {}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t"BODY::3": {\n\t\t\t\t\t"connections": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t"node": 9,\n\t\t\t\t\t\t\t"output": "ELEMENT",\n\t\t\t\t\t\t\t"data": {}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t"outputs": {},\n\t\t\t"position": [\n\t\t\t\t326.8198575836843,\n\t\t\t\t-253.57021272790124\n\t\t\t],\n\t\t\t"name": "HTML Output"\n\t\t},\n\t\t"3": {\n\t\t\t"id": 3,\n\t\t\t"data": {\n\t\t\t\t"ELEMENT": "h1",\n\t\t\t\t"ATTRIBUTE::MANAGER": [\n\t\t\t\t\t"ATTRIBUTE::1"\n\t\t\t\t],\n\t\t\t\t"CONTENT::MANAGER": [\n\t\t\t\t\t"CONTENT::1"\n\t\t\t\t],\n\t\t\t\t"ATTRIBUTE::1": {\n\t\t\t\t\t"name": "id",\n\t\t\t\t\t"quote": "\'",\n\t\t\t\t\t"value": "title"\n\t\t\t\t},\n\t\t\t\t"CONTENT::1": "Flow Coding"\n\t\t\t},\n\t\t\t"inputs": {\n\t\t\t\t"ATTRIBUTE::1": {\n\t\t\t\t\t"connections": []\n\t\t\t\t},\n\t\t\t\t"CONTENT::1": {\n\t\t\t\t\t"connections": []\n\t\t\t\t}\n\t\t\t},\n\t\t\t"outputs": {\n\t\t\t\t"ELEMENT": {\n\t\t\t\t\t"connections": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t"node": 1,\n\t\t\t\t\t\t\t"input": "BODY::1",\n\t\t\t\t\t\t\t"data": {}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t"position": [\n\t\t\t\t-98.94763055382651,\n\t\t\t\t-126.70301828346801\n\t\t\t],\n\t\t\t"name": "Element"\n\t\t},\n\t\t"6": {\n\t\t\t"id": 6,\n\t\t\t"data": {\n\t\t\t\t"ELEMENT": "style",\n\t\t\t\t"ATTRIBUTE::MANAGER": [],\n\t\t\t\t"CONTENT::MANAGER": [\n\t\t\t\t\t"CONTENT::1"\n\t\t\t\t],\n\t\t\t\t"CONTENT::1": "body {\\n  background-color: khaki;\\n}\\n\\n#title {\\n  text-align: center;\\n}\\n"\n\t\t\t},\n\t\t\t"inputs": {\n\t\t\t\t"CONTENT::1": {\n\t\t\t\t\t"connections": []\n\t\t\t\t}\n\t\t\t},\n\t\t\t"outputs": {\n\t\t\t\t"ELEMENT": {\n\t\t\t\t\t"connections": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t"node": 1,\n\t\t\t\t\t\t\t"input": "HEAD::1",\n\t\t\t\t\t\t\t"data": {}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t"position": [\n\t\t\t\t-409.9344543917789,\n\t\t\t\t-230.75957197685952\n\t\t\t],\n\t\t\t"name": "Element"\n\t\t},\n\t\t"8": {\n\t\t\t"id": 8,\n\t\t\t"data": {\n\t\t\t\t"ELEMENT": "h2",\n\t\t\t\t"ATTRIBUTE::MANAGER": [],\n\t\t\t\t"CONTENT::MANAGER": [\n\t\t\t\t\t"CONTENT::1"\n\t\t\t\t],\n\t\t\t\t"CONTENT::1": "Create HTML pages without having to worry about syntax."\n\t\t\t},\n\t\t\t"inputs": {\n\t\t\t\t"CONTENT::1": {\n\t\t\t\t\t"connections": []\n\t\t\t\t}\n\t\t\t},\n\t\t\t"outputs": {\n\t\t\t\t"ELEMENT": {\n\t\t\t\t\t"connections": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t"node": 1,\n\t\t\t\t\t\t\t"input": "BODY::2",\n\t\t\t\t\t\t\t"data": {}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t"position": [\n\t\t\t\t-164.13953966187998,\n\t\t\t\t96.58648906386625\n\t\t\t],\n\t\t\t"name": "Element"\n\t\t},\n\t\t"9": {\n\t\t\t"id": 9,\n\t\t\t"data": {\n\t\t\t\t"ELEMENT": "img",\n\t\t\t\t"ATTRIBUTE::MANAGER": [\n\t\t\t\t\t"ATTRIBUTE::1"\n\t\t\t\t],\n\t\t\t\t"CONTENT::MANAGER": [],\n\t\t\t\t"ATTRIBUTE::1": {\n\t\t\t\t\t"name": "src",\n\t\t\t\t\t"quote": "\'",\n\t\t\t\t\t"value": "https://app.bsd.education/resources/mole.png"\n\t\t\t\t}\n\t\t\t},\n\t\t\t"inputs": {\n\t\t\t\t"ATTRIBUTE::1": {\n\t\t\t\t\t"connections": []\n\t\t\t\t}\n\t\t\t},\n\t\t\t"outputs": {\n\t\t\t\t"ELEMENT": {\n\t\t\t\t\t"connections": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t"node": 1,\n\t\t\t\t\t\t\t"input": "BODY::3",\n\t\t\t\t\t\t\t"data": {}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t"position": [\n\t\t\t\t-165.57480153423893,\n\t\t\t\t288.87417084221113\n\t\t\t],\n\t\t\t"name": "Element"\n\t\t}\n\t}\n}');function Dt(){var t=Object(j.a)(["\n\t\tborder-bottom: 1px solid rgba(0, 0, 0, 0.4);\n\t\tbackground-color: rgba(0, 0, 0, 0.2);\n\t\tborder-radius: 10px 10px 0 0;\n\t"]);return Dt=function(){return t},t}var St={output:Object(y.css)(Dt())},Ut=function(t){Object(yt.a)(n,t);var e=Object(jt.a)(n);function n(){return Object(Ot.a)(this,n),e.apply(this,arguments)}return Object(Et.a)(n,[{key:"render",value:function(){var t=this.props,e=t.node,n=t.bindSocket,r=t.bindControl,o=this.state,a=o.outputs,c=o.controls,i=o.inputs;if(1!==a.length)throw Error('The "Element" node should have only 1 output socket.');var u=a[0],s=c.find((function(t){return t.key===ut.ELEMENT})),l=c.find((function(t){return t.key===Tt.attr("MANAGER")})),d=c.find((function(t){return t.key===Tt.content("MANAGER")})),p=function(t,n){return i.filter((function(r){var o=r.key.startsWith(t),a=!e.data[n].includes(r.key);return!!o&&(!a||e.data[n].push(r.key))}))},f=p(ut.ATTRIBUTE,Tt.attr("MANAGER")),h=p(ut.CONTENT,Tt.content("MANAGER")),m=function(t){return t.control.data.isConnected=!t.showControl(),Object(y.jsx)("div",{className:"input",key:t.key},Object(y.jsx)(ht.c,{type:"input",socket:t.socket,io:t,innerRef:n}),Object(y.jsx)("div",{className:"input-control",title:t.control.key,style:{width:"auto",margin:"6px 0"},ref:function(e){return e&&r(e,t.control)}}))};return Object(y.jsx)("div",{className:"node",style:At({backgroundColor:"gray"})},Object(y.jsx)("div",{className:"output",key:u.key,css:St.output},Object(y.jsx)("div",{className:"input-control",title:s.key,style:{width:"auto",margin:"10px 0"},ref:function(t){return t&&r(t,s)}}),Object(y.jsx)(ht.c,{type:"output",socket:u.socket,io:u,innerRef:n})),Object(y.jsx)(ht.a,{className:"control",key:l.key,control:l,innerRef:r}),f.map(m),Object(y.jsx)(ht.a,{className:"control",key:d.key,control:d,innerRef:r}),h.map(m))}}]),n}(ht.b);function Pt(){var t=Object(j.a)(["\n\t\tborder-bottom: 1px solid rgba(0, 0, 0, 0.4);\n\t\tbackground-color: rgba(0, 0, 0, 0.2);\n\t\tborder-radius: 10px 10px 0 0;\n\t"]);return Pt=function(){return t},t}var Ht={title:Object(y.css)(Pt())},Ft=function(t){Object(yt.a)(n,t);var e=Object(jt.a)(n);function n(){return Object(Ot.a)(this,n),e.apply(this,arguments)}return Object(Et.a)(n,[{key:"render",value:function(){var t=this.props,e=t.node,n=t.bindControl,r=t.bindSocket,o=this.state,a=o.controls,c=o.inputs,i=Tt.head("MANAGER"),u=Tt.body("MANAGER"),s=a.find((function(t){return t.key===i})),l=a.find((function(t){return t.key===u})),d=function(t,n){return c.filter((function(r){var o=r.key.startsWith(t),a=!e.data[n].includes(r.key);return!!o&&(!a||e.data[n].push(r.key))}))},p=d(ut.HEAD,i),f=d(ut.BODY,u),h=function(t){return t.control.data.isConnected=!t.showControl(),Object(y.jsx)("div",{className:"input",key:t.key,style:{display:"flex"}},Object(y.jsx)(ht.c,{type:"input",socket:t.socket,io:t,innerRef:r}),Object(y.jsx)("div",{className:"input-control",title:t.control.key,style:{width:"auto",display:"flex",alignItems:"center"},ref:function(e){return e&&n(e,t.control)}}))};return Object(y.jsx)("div",{className:"node",style:At({textAlign:"center",backgroundColor:"gray"})},Object(y.jsx)("div",{className:"title",css:Ht.title},"HTML Output"),Object(y.jsx)(ht.a,{className:"control",key:s.key,control:s,innerRef:n}),p.map(h),Object(y.jsx)(ht.a,{className:"control",key:l.key,control:l,innerRef:n}),f.map(h))}}]),n}(ht.b),zt=function(t){Object(yt.a)(n,t);var e=Object(jt.a)(n);function n(t,r,o){var c;Object(Ot.a)(this,n),(c=e.call(this,r)).emitter=void 0,c.key=void 0,c.node=void 0,c.component=void 0,c.props=void 0,c.update=void 0,c.emitter=t,c.key=r,c.component=function(t){var e=t.addSocket,n=K(wt(r));return a.a.createElement("div",{style:{color:"white",display:"flex",flexDirection:"row"}},a.a.createElement("h5",{style:{margin:"0",padding:"5px 0"}},n),a.a.createElement("span",{title:"Add ".concat(n),onClick:e,ref:function(t){t&&t.addEventListener("pointerdown",(function(t){return t.stopPropagation()}))}},a.a.createElement(z.a,{style:{margin:"6px 0 0 4px",color:Ct}})))};var i=o.data[r]||[];o.data[r]=i;var u=wt(r);return c.props={addSocket:function(){var t=c.getData(r),e=t.reduce((function(t,e){var n=Number(e.split("::").pop());return n>=t?t=n+1:t}),1);t.push("".concat(u).concat("::").concat(e)),c.putData(r,t),c.emitter.trigger("process")}},c}return n}(ft.c.Control),Yt={marginRight:"2px",verticalAlign:"middle"},Wt={backgroundColor:"transparent",color:"gainsboro",fontStyle:"italic",cursor:"pointer"},_t=function(t){Object(yt.a)(n,t);var e=Object(jt.a)(n);function n(t,r,o){var c,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(Ot.a)(this,n),(c=e.call(this,r)).emitter=void 0,c.key=void 0,c.node=void 0,c.component=void 0,c.props=void 0,c.update=void 0,c.emitter=t,c.key=r,c.component=function(t){var e=t.value,n=t.onChange,o=t.onRemove,u=c.data.isConnected,s=u?r:i?Mt:e,l=i||u;return a.a.createElement(a.a.Fragment,null,a.a.createElement(V.a,{className:"editable",tagName:"pre",spellCheck:"false",disabled:l,html:s,onChange:function(t){return n(t.target)},ref:function(t){return t&&(t.getEl().onpointerdown=function(t){return!l&&t.stopPropagation()})},style:Rt(l?Wt:Yt)}),a.a.createElement(z.g,{style:{verticalAlign:"middle",color:Lt},onClick:o}))};var u=o.data[r]||"";return o.data[r]=u,c.props={readonly:i,value:u,onChange:function(t){c.setValue(t.value),c.emitter.trigger("process")},onRemove:function(){c.removeInput(),c.emitter.trigger("process")}},c}return Object(Et.a)(n,[{key:"removeInput",value:function(){this.putData(this.key,null),this.update()}},{key:"getRows",value:function(t){var e=t.value.split(/\n/).reduce((function(e,n){return e+(n.length>t.cols?2:1)}),0);return Math.max(e,1).toString()}},{key:"setValue",value:function(t){this.props.value=t,this.putData(this.key,t),this.update()}}]),n}(ft.c.Control),Vt=function(t){Object(yt.a)(n,t);var e=Object(jt.a)(n);function n(t,r,o){var c,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(Ot.a)(this,n),(c=e.call(this,r)).emitter=void 0,c.key=void 0,c.node=void 0,c.component=void 0,c.props=void 0,c.update=void 0,c.emitter=t,c.key=r,c.node=o,c.component=function(t){var e=t.value,n=t.onChange;return a.a.createElement(a.a.Fragment,null,a.a.createElement("datalist",{id:"tag-list"},Gt.all.map((function(t){return a.a.createElement("option",{key:t},"<".concat(t,">"))}))),a.a.createElement("input",{type:"text",list:"tag-list",value:e,placeholder:"element name",style:{width:"100px",minWidth:"100px",padding:"4px 6px",color:"rgba(255, 255, 255, 0.8)",fontFamily:"Monospace",textAlign:"center",outline:"none",border:"none",borderRadius:"4px",backgroundColor:"rgba(0, 0, 0, 0.4)"},ref:function(t){t&&t.addEventListener("pointerdown",(function(t){return t.stopPropagation()}))},onChange:function(t){return n(t.target)}}),a.a.createElement("h5",{style:{display:"inline-block",verticalAlign:"middle",color:"white",marginLeft:"5px"}},"Element"))};var u=o.data[r],s=u&&"<".concat(u,">")||"";return o.data[r]=c.stripBracket(s),c.props={readonly:i,value:s,onChange:function(t){t.style.width="".concat(8*t.value.length+12,"px"),c.setValue(t.value),c.emitter.trigger("process")}},c}return Object(Et.a)(n,[{key:"setValue",value:function(t){var e=this.stripBracket(t);this.putData(this.key,e.trim().length?e:""),this.props.value=t,this.update()}},{key:"stripBracket",value:function(t){return t.replace(/[<>]/g,"")}}]),n}(ft.c.Control),Kt={marginRight:"2px",verticalAlign:"middle"},qt={backgroundColor:"transparent",color:"gainsboro",fontStyle:"italic",cursor:"pointer"},Jt=function(t){Object(yt.a)(n,t);var e=Object(jt.a)(n);function n(t,r,o){var c,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(Ot.a)(this,n),(c=e.call(this,r)).emitter=void 0,c.key=void 0,c.node=void 0,c.component=void 0,c.props=void 0,c.update=void 0,c.parseAttr=function(t){var e={name:"",quote:"",value:""};if(0===(t=t.trim()).length)return e;if(null===t.match(It))return e;var n=t.match(It),r=Object(P.a)(n,4),o=r[0],a=r[1],c=r[2],i=r[3],u=new RegExp("\\\\".concat(c),"g");return i.replace(u,"").includes(c)?(console.warn("Incorrect quote usage in: ".concat(o)),e):{name:a,quote:c,value:i}},c.attrToString=function(t){var e=t.name,n=t.quote,r=t.value;return e.length&&n.length&&r.length?"".concat(e,"=").concat(n).concat(r).concat(n):""},c.emitter=t,c.key=r,c.component=function(t){var e=t.value,n=t.onChange,o=t.onRemove,i=c.data.isConnected,u=i?r:e;return a.a.createElement(a.a.Fragment,null,a.a.createElement(V.a,{className:"editable",tagName:"pre",spellCheck:"false",disabled:i,html:u,onChange:function(t){return n(t.target)},ref:function(t){return t&&(t.getEl().onpointerdown=function(t){return!i&&t.stopPropagation()})},style:Rt(i?qt:Kt)}),a.a.createElement(z.g,{style:{verticalAlign:"middle",color:Lt},onClick:o}))};var u=o.data[r]||{name:"",quote:"",value:""};return o.data[r]=u,c.props={readonly:i,value:c.attrToString(u),onChange:function(t){c.setValue(t.value),c.emitter.trigger("process")},onRemove:function(){c.removeInput(),c.emitter.trigger("process")}},c}return Object(Et.a)(n,[{key:"removeInput",value:function(){this.putData(this.key,null),this.update()}},{key:"setValue",value:function(t){this.props.value=t,this.putData(this.key,this.parseAttr(t)),this.update()}}]),n}(ft.c.Control),Xt=function(t){Object(yt.a)(n,t);var e=Object(jt.a)(n);function n(){var t;return Object(Ot.a)(this,n),(t=e.call(this,"HTML Output")).data.component=Ft,t}return Object(Et.a)(n,[{key:"builder",value:function(t){var e=this,n=Tt.head("MANAGER"),r=Tt.body("MANAGER"),o=new zt(this.editor,n,t),a=new zt(this.editor,r,t),c=function(n,r,o){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.data[n].forEach((function(n){var c=new ft.c.Input(n,r,o);c.addControl(new _t(e.editor,n,t,a)),t.addInput(c)}))};return t.addControl(o),t.addControl(a),c(n,"Element",kt,!0),c(r,"Element",kt),t}},{key:"worker",value:function(){var t=Object(pt.a)(dt.a.mark((function t(e,n){var r,o,a,c,i,u,s,l,d=this;return dt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=document.createElement("html"),a=document.createElement("head"),c=document.createElement("body"),i=null===(r=this.editor)||void 0===r?void 0:r.nodes.find((function(t){return t.id===e.id})),u=function(t,e){e.forEach((function(e){return e.name.length&&t.setAttribute(e.name,e.value)}))},s=function t(e){if("string"===typeof e)return document.createTextNode(e);var n=document.createElement(e.name);return u(n,e[Tt.io(ut.ATTRIBUTE)]),e[Tt.io(ut.CONTENT)].forEach((function(e){return n.append(t(e))})),n},function(t){},(l=function(t){var n=t.managerKey,r=t.readonly,o=t.afterSync,a=function(t){return o&&o(t)||!0};e.data[n]=e.data[n].filter((function(t){if(q(e.data).hasKey(t)){if(null===e.data[t]){var n=i.inputs.get(t);return n?(n.connections.forEach((function(t){var e;return null===(e=d.editor)||void 0===e?void 0:e.removeConnection(t)})),i.removeInput(n),i.update(),delete e.data[t]):console.warn("Input was deleted from manager but was not found on ".concat(e.name,"(id: ").concat(e.id,").")),!1}return a(t)}var o=wt(t),c=K(o),u=new ft.c.Input(t,c,kt),s=new _t(d.editor,t,e,!!r);return u.addControl(s),i.addInput(u),i.update(),a(t)}))})({managerKey:Tt.head("MANAGER"),readonly:!0,afterSync:function(t){var e=n[t]&&n[t][0];if(!e)return console.warn("The <head> element receives empty input.");var r=e.name;if(!Gt.allowedInHead.includes(r))return console.warn("<".concat(r,"> element is not allowed inside the <head> element."));var o=e[Tt.io(ut.CONTENT)];if(o.some((function(t){return"string"!==typeof t})))return console.warn("Elements inside the <head> element can not have nested elements.");var c=document.createElement(r),i=e[Tt.io(ut.ATTRIBUTE)],s=o.map((function(t){return document.createTextNode(t)}));u(c,i),c.append.apply(c,Object(vt.a)(s)),a.append(c)}}),l({managerKey:Tt.body("MANAGER"),afterSync:function(t){var r=n[t],o=r&&r[0]||e.data[t];try{c.append(s(o))}catch(a){}}}),o.append(a,c),e.data.html=o;case 12:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()}]),n}(ft.c.Component),Qt=function(t){Object(yt.a)(n,t);var e=Object(jt.a)(n);function n(){var t;return Object(Ot.a)(this,n),(t=e.call(this,"Element")).data.component=Ut,t}return Object(Et.a)(n,[{key:"builder",value:function(t){var e=this,n=Tt.attr("MANAGER"),r=Tt.content("MANAGER"),o=new Vt(this.editor,ut.ELEMENT,t),a=new zt(this.editor,n,t),c=new zt(this.editor,r,t),i=function(n,r,o,a){t.data[n].forEach((function(n){var c=new ft.c.Input(n,r,o);a&&c.addControl(new a(e.editor,n,t)),t.addInput(c)}))};t.addControl(o).addControl(a).addControl(c),i(n,"Attribute",Nt,Jt),i(r,"Element",kt,_t);var u=new ft.c.Output(ut.ELEMENT,"Element",kt);return t.addOutput(u)}},{key:"worker",value:function(){var t=Object(pt.a)(dt.a.mark((function t(e,n,r){var o,a,c,i,u=this;return dt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.data[ut.ELEMENT]){t.next=3;break}return t.abrupt("return",console.warn("Missing element name."));case 3:a=null===(o=this.editor)||void 0===o?void 0:o.nodes.find((function(t){return t.id===e.id})),c=function(t){var n=t.managerKey,r=t.control,o=t.readonly,c=t.afterSync,i=function(t){return c&&c(t)||!0};e.data[n]=e.data[n].filter((function(t){if(q(e.data).hasKey(t)){if(null===e.data[t]){var n=a.inputs.get(t);return n?(n.connections.forEach((function(t){var e;return null===(e=u.editor)||void 0===e?void 0:e.removeConnection(t)})),a.removeInput(n),a.update(),delete e.data[t]):console.warn("Input was deleted from manager but was not found on ".concat(e.name,"(id: ").concat(e.id,").")),!1}return i(t)}var c=wt(t),s=K(c),l=new ft.c.Input(t,s,kt);return l.addControl(new(r||_t)(u.editor,t,e,!!o)),a.addInput(l),a.update(),i(t)}))},i=function(t){var o=n[t]&&n[t][0],a=Tt.io(wt(t)),c=o||e.data[t];r[ut.ELEMENT][a].push(c)},r[ut.ELEMENT]={name:e.data[ut.ELEMENT],attributes:[],contents:[]},c({managerKey:Tt.attr("MANAGER"),control:Jt,afterSync:i}),c({managerKey:Tt.content("MANAGER"),afterSync:i});case 9:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),n}(ft.c.Component),Zt=Object(u.b)(null,(function(t){return{updateOutput:function(e){return t(function(t){return{type:"flow/UPDATE_OUTPUT",payload:t}}(e))}}}))(a.a.memo((function(t){return a.a.createElement("div",{ref:function(e){return e&&function(e){var n=new ft.c.NodeEditor("flow@0.1.0",e),o=new ft.c.Engine("flow@0.1.0");Object.values(r).map((function(t){return new t})).forEach((function(t){n.register(t),o.register(t)})),n.use(mt.a),n.use(ht.d),n.use(gt.a),n.on(["process","nodecreated","noderemoved","connectioncreated","connectionremoved"],Object(pt.a)(dt.a.mark((function e(){var r,a;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.abort();case 2:return r=n.toJSON(),a=Object.values(r.nodes).find((function(t){return"HTML Output"===t.name})),e.next=6,o.process(r).then((function(e){"success"===e&&a&&(t.sync&&t.sync(JSON.parse(JSON.stringify(r))),t.updateOutput(a.data.html.outerHTML))}));case 6:case"end":return e.stop()}}),e)})))),n.fromJSON(Bt),n.trigger("process"),n.view.resize(),bt.a.zoomAt(n)}(e)}})})));function $t(){var t=Object(j.a)(["\n\t\t\twidth: calc(100% - 640px);\n\t\t\theight: 100%;\n\t\t"]);return $t=function(){return t},t}var te=Object(u.b)((function(t){var e=t.firebaseReducer.auth;return{uid:e.uid,isEmpty:e.isEmpty}}),(function(t){return{toggleGraphBrowser:function(e){return t(function(t){return{type:"flow/TOGGLE_GRAPH_BROWSER",payload:t}}(e))}}}))(a.a.memo((function(t){var e=Object(p.useFirestore)(),n=Object(o.useRef)(null),r=Object(o.useRef)("Untitled Graph"),a=Object(o.useRef)(),c={style:Object(y.css)($t()),header:{height:38},name:"Graph Editor",title:{text:r.current,editable:!0,sync:function(t){return r.current=t}},options:[{icon:z.c,toggle:z.d,title:"Open a previously saved graph",handler:function(n){if(t.isEmpty)return alert("Log in first");n?t.toggleGraphBrowser(null):e.collection("user").doc(t.uid).get().then((function(e){var n=e.data().content||[],r=Object.entries(n).filter((function(t){var e=Object(P.a)(t,2);e[0];return"flowGraph"===e[1].type})).map((function(t){var e=Object(P.a)(t,2),n=e[0],r=e[1];return delete r.type,Object.assign(r,{key:n})}));t.toggleGraphBrowser(r)}))}},{icon:z.e,toggle:z.f,title:"Toggle editor background grid"},{icon:z.i,title:"Reset graph view"},{icon:z.h,title:"Save the graph",handler:function(){if(t.isEmpty)return alert("Log in first");var o=F()().toDate(),c=e.collection("userContent");n.current?c.doc(n.current).set({lastEdited:o,title:r.current,json:a.current},{merge:!0}):c.add({authorId:t.uid,created:o,title:r.current,json:a.current}).then((function(a){n.current=a.id,e.collection("user").doc(t.uid).update(Object(U.a)({},"content.".concat(a.id),{type:"flowGraph",title:r.current,created:o}))}))}}]};return console.log("render: <GraphEditor>"),Object(y.jsx)(at,c,Object(y.jsx)(Zt,{sync:function(t){return a.current=t}}),Object(y.jsx)(st,null))}))),ee=n(426),ne=n.n(ee),re=n(427),oe=n.n(re),ae=function(t){var e;return a.a.createElement("div",{style:(e={position:"absolute"},Object(U.a)(e,t.vRef,"".concat(t.vPos,"px")),Object(U.a)(e,"width","100%"),Object(U.a)(e,"height","".concat(30,"px")),Object(U.a)(e,"backgroundColor","#1a1a1a"),e)},a.a.createElement("h5",{style:{color:"white",paddingTop:"5px",textAlign:"center"}},t.text))},ce=function(){var t,e,n=Object(u.c)((function(t){return t.flowReducer})).htmlString;return console.log("render: <GraphOutput>"),a.a.createElement("div",{id:"graph-output",style:{width:"".concat(640,"px"),height:"100%",position:"absolute",right:"0",top:"0"}},a.a.createElement(ae,{text:"Output Viewer",vRef:"top",vPos:0}),a.a.createElement("iframe",{id:"output-viewer",title:"HTML Output",style:{position:"absolute",top:"".concat(30,"px"),width:"100%",height:"calc(100% - ".concat(360,"px - ").concat(60,"px)"),border:"none"},srcDoc:n||(t="",e="<h1>Flow</h1>","<html><head>".concat(t,"</head><body>").concat(e,"</body></html>"))}),a.a.createElement(ae,{text:"Code Viewer",vRef:"bottom",vPos:360}),a.a.createElement("div",{style:{position:"absolute",bottom:"0"}},a.a.createElement(ne.a,{width:640,height:360,theme:"vs-dark",value:oe.a.html(n,{indent_size:2,inline:[]}),language:"html",options:{readOnly:!0,wordWrap:"on",scrollBeyondLastLine:!1,scrollBeyondLastColumn:10},editorDidMount:function(t){var e=t.getModel();e&&e.updateOptions({tabSize:2})}})))};function ie(){var t=Object(j.a)(["\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tdisplay: grid;\n\t\t\tplace-items: center;\n\t\t"]);return ie=function(){return t},t}function ue(){var t=Object(j.a)(["\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tposition: relative;\n\t\t"]);return ue=function(){return t},t}var se=Object(u.b)((function(t){return{isLoaded:t.firebaseReducer.auth.isLoaded}}))((function(t){var e={view:Object(y.css)(ue()),loader:Object(y.css)(ie())};return console.log("render: <FlowView>",t.isLoaded),t.isLoaded?Object(y.jsx)("div",{css:e.view},Object(y.jsx)(te,null),Object(y.jsx)(ce,null)):Object(y.jsx)("div",{css:e.loader},Object(y.jsx)(g.FadeLoader,{color:"dimgray"}))})),le=(n(777),function(){return console.log("render: <App>"),a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("span",null),a.a.createElement(S,null)),a.a.createElement("main",null,a.a.createElement(h.a,null,a.a.createElement(m.d,null,a.a.createElement(m.b,{exact:!0,path:"/"},a.a.createElement(m.a,{to:"/flow"})),a.a.createElement(m.b,{exact:!0,path:"/flow"},a.a.createElement(se,null)),a.a.createElement(m.a,{to:"/"})))))}),de=n(186),pe=n(177),fe={},he={},me=Object(de.b)({authReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"auth/TOGGLE_LOGIN_VIEW":return Object(pe.a)({},t,{showLogin:e.payload});default:return t}},flowReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"flow/TOGGLE_GRAPH_BROWSER":return Object(pe.a)({},t,{graphs:e.payload});case"flow/SET_GRAPH_KEY":return Object(pe.a)({},t,{graphKey:e.payload});case"flow/SET_GRAPH_TITLE":return Object(pe.a)({},t,{graphTitle:e.payload});case"flow/RESOLVE_GRAPH":return Object(pe.a)({},t,{graphJson:e.payload});case"flow/UPDATE_OUTPUT":return Object(pe.a)({},t,{htmlString:e.payload.trim()});default:return t}},firebaseReducer:p.firebaseReducer}),ge=de.c,be=Object(de.d)(me,ge());Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(779);var ve={firebase:d,config:{useFirestoreForProfile:!0},dispatch:be.dispatch,createFirestoreInstance:f.createFirestoreInstance};i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(u.a,{store:be},a.a.createElement(p.ReactReduxFirebaseProvider,ve,a.a.createElement(le,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[432,1,2]]]);
//# sourceMappingURL=main.9b5c01e1.chunk.js.map